!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="b3870d60-4732-4e66-9720-1880ac126ddc",e._sentryDebugIdIdentifier="sentry-dbid-b3870d60-4732-4e66-9720-1880ac126ddc")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[29023,59716],{49:(e,t,s)=>{"use strict";s.d(t,{d:()=>n});let a=0,n={acquire:()=>{a+=1;let e=!1;return()=>{e||(a-=1,e=!0)}},isLocked:()=>!!a}},56:(e,t,s)=>{"use strict";s.d(t,{q:()=>eh,C:()=>ek});var a=s(79342),n=s(38614),r=s(20301),o=s(1826),i=s(97225),c=s(80354),l=s(84969),d=s(23054),g=s(88382);let m=(0,g.createContext)({collapsed:!1,setCollapsed:e=>{}}),p=()=>(0,g.useContext)(m);function u(e){let{trigger:t,content:s,hasContent:n,onClick:r}=e,{open:p}=(0,i.cL)(),[u,h]=(0,g.useState)(!1);(0,g.useEffect)(()=>{h(!1)},[n]);let f=g.cloneElement(t,{onClick:e=>{r&&r(),e.stopPropagation()}}),k=(0,g.useCallback)(()=>{h(!0)},[]);return(0,a.jsxs)(m.Provider,{value:{collapsed:u,setCollapsed:h},children:[!p&&(0,a.jsxs)(o.AM,{children:[f,(0,a.jsx)(o.hl,{className:"p-1.5 rounded-2xl flex flex-col gap-0.5 w-60",side:"right",align:"start",hoverOpen:!0,sideOffset:3,closeOnClick:!0,onClick:c.Y,children:s})]}),p&&f,(0,a.jsx)(l.N,{children:p&&!u&&n&&(0,a.jsx)(d.P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.1,ease:"easeInOut"},style:{overflow:"hidden"},children:(0,a.jsx)(i.G,{onClickIndent:k,children:s})},"drawer-content")})]})}var h=s(11750),f=s(56691),k=s(4295),b=s(61312);function x(e){let{Icon:t}=e,{open:s}=(0,i.cL)(),{collapsed:n,setCollapsed:r}=p(),o=(0,k.c)(),c=(0,g.useCallback)(e=>{e.stopPropagation(),e.preventDefault(),s?r(!n):r(!1)},[s,n,r]);return s?(0,a.jsxs)(f.$n,{variant:"ghost",size:"iconXs",onClick:c,"aria-label":"Toggle Menu",className:"rounded-lg",children:[(0,a.jsx)(t,{className:(0,b.cn)("group-hover/menu-item:hidden",o&&"hidden"),size:18}),(0,a.jsx)(h.vKP,{className:(0,b.cn)("hidden group-hover/menu-item:block transition-[transform] duration-100",o&&"block",!n&&"rotate-90"),size:14})]}):(0,a.jsx)(t,{size:18})}var w=s(41320),v=s(84499);function y(e){let{icon:t,text:s,tooltip:n,route:r,onClick:c,children:l,action:m,canPopover:p,highlighted:u,className:h}=e,{open:f,setOpen:k}=(0,i.cL)(),x=(0,w.Di)(),y=(0,g.useCallback)(e=>{e.stopPropagation(),null==c||c(e),r&&x&&k(!1)},[c,x,k,r]),j=r?(0,a.jsxs)(v.N_,{className:(0,b.cn)("w-full flex flex-row gap-1 group/sidebar-item transition-colors",i.jy,"text-sm text-primary",u?"bg-button-ghost-hover":"border-transparent",h),route:r,onClick:y,children:[(0,a.jsx)(i.CP,{className:(0,b.cn)("transition-transform",!f&&"group-hover/sidebar-item:scale-[1.15]"),children:t}),f&&(0,a.jsx)(d.P.span,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.1,ease:"easeInOut"},children:s}),l]}):(0,a.jsxs)("div",{role:"button",tabIndex:0,"aria-label":s,className:(0,b.cn)("w-full flex flex-row justify-start gap-1 bg-background text-primary text-sm rounded-xl group/sidebar-item transition-colors",i.jy,u?"bg-button-ghost-hover":"border-transparent",h),onClick:c,children:[(0,a.jsx)(i.CP,{className:(0,b.cn)("transition-transform",!f&&"group-hover/sidebar-item:scale-[1.15]"),children:t}),f&&(0,a.jsx)(d.P.span,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.1,ease:"easeInOut"},children:s}),l]}),N=!f&&p?(0,a.jsx)(o.Wv,{asChild:!0,hoverOpen:!0,tabIndex:-1,children:j}):j;return(0,a.jsxs)(i.FX,{className:"relative",children:[(0,a.jsx)(i.Uj,{tooltip:n,safeArea:!0,asChild:!0,children:N}),f&&m&&(0,a.jsx)("span",{className:"absolute top-1/2 end-1.5 -translate-y-1/2",children:m})]})}var j=s(92207),N=s(42557),C=s(35692),S=s(61079),I=s(75500),T=s(91102),E=s(35181),R=s(2280),A=s(17703),_=s(40873),O=s(26983),P=s(49972),M=s(87891),L=s(73304),D=s(35848),B=s(23232),z=s(44552),F=s(67169),U=s(44347),V=s(3683),H=s(28205),W=s(80864),G=s(51234),K=s(21185),q=s(84810),X=s(38541),Y=s.n(X),Q=s(74995),$=s(65146),Z=s(51182),J=s(48795),ee=s(12065),et=s(24734),es=s(73772);function ea(e){let{menuOpen:t,onMenuOpenChange:s,onRename:n,onDelete:r,onTogglePin:o,pinned:i,onEditClick:l}=e,{t:d}=(0,$.Bd)("base");return(0,a.jsxs)(es.rI,{open:t,onOpenChange:s,children:[(0,a.jsx)(es.ty,{asChild:!0,children:(0,a.jsx)(f.gx,{variant:"ghost",size:"iconXs",className:(0,b.cn)("hidden group-hover/sidebar-menu-item:flex aria-expanded:bg-button-ghost-hover rounded-lg",t&&"flex"),tooltipContent:"Options",tooltipContentProps:{hideWhenDetached:!0},children:(0,a.jsx)(h.YbC,{size:14})})}),(0,a.jsxs)(es.SQ,{side:"right",align:"start",sideOffset:6,alignOffset:-8,className:"min-w-36 space-y-0.5",onClick:c.Y,children:[n&&(0,a.jsxs)(es._2,{onSelect:l,children:[(0,a.jsx)(h.rZj,{size:16,className:"me-2"}),d("Rename","Rename")]}),o&&(0,a.jsxs)(es._2,{onSelect:()=>{null==o||o()},children:[i?(0,a.jsx)(h.loS,{size:16,className:"me-2"}):(0,a.jsx)(h.tsw,{size:16,className:"me-2"}),i?d("Unpin","Unpin"):d("Pin","Pin")]}),r&&(0,a.jsxs)(es._2,{onSelect:()=>{null==r||r()},children:[(0,a.jsx)(h.ucK,{size:16,className:"me-2"}),d("Delete","Delete")]})]})]})}function en(e){let{onCancel:t,onSave:s}=e,{t:n}=(0,$.Bd)("base");return(0,a.jsxs)("div",{className:"flex items-center justify-end gap-0.5",children:[(0,a.jsx)(f.gx,{className:"rounded-lg",variant:"ghost",size:"iconXs",onClick:t,tooltipContent:n("Cancel","Cancel"),tooltipContentProps:{hideWhenDetached:!0},children:(0,a.jsx)(h.uv5,{size:14})}),(0,a.jsx)(f.gx,{className:"rounded-lg",variant:"ghost",size:"iconXs",onClick:s,tooltipContent:n("Save","Save"),tooltipContentProps:{hideWhenDetached:!0},children:(0,a.jsx)(h.Srz,{size:14})})]})}function er(e){let{title:t,editing:s,inputProps:n}=e;return s?(0,a.jsx)("input",{className:(0,b.cn)("bg-transparent focus-visible:outline-none w-full"),...n,autoFocus:!0}):(0,a.jsx)("span",{className:"flex-1 select-none text-nowrap max-w-full overflow-hidden inline-block",style:{maskImage:R.uU,WebkitMaskImage:R.uU},children:t})}function eo(e){let{editing:t,menuOpen:s,onMenuOpenChange:n,onRename:r,onDelete:o,onTogglePin:i,pinned:c,onEditClick:l,onCancelEdit:d,onSaveEdit:g}=e;return t?(0,a.jsx)(en,{onCancel:d,onSave:g}):(0,a.jsx)(ea,{menuOpen:s,onMenuOpenChange:n,onRename:r,onDelete:o,onTogglePin:i,pinned:c,onEditClick:l})}function ei(e){let{route:t,onClick:s,onDragStart:n,className:r,children:o}=e;return t?(0,a.jsx)(v.N_,{className:r,route:t,onClick:s,onDragStart:n,children:o}):(0,a.jsx)("div",{role:"button",tabIndex:0,className:r,onClick:s,onDragStart:n,children:o})}function ec(e){let{id:t,title:s,icon:n,route:r,highlighted:o,showActions:m,pinned:p,extraRight:u,tooltip:h,onClick:f,onRename:k,onDelete:x,onTogglePin:v,disabled:y}=e,[j,N]=(0,g.useState)(!1),C=(0,w.Di)(),{setOpen:S}=(0,i.cL)(),{editing:I,startEditing:T,cancelEditing:E,saveEditing:R,inputProps:A}=function(e){let{initialValue:t,onSave:s=()=>{},onCancel:a}=e,[n,r]=(0,g.useState)(!1),[o,i]=(0,g.useState)(t),c=(0,g.useCallback)(()=>{i(t),r(!0)},[t]),l=(0,g.useCallback)(()=>{i(t),r(!1),null==a||a()},[t,a]),d=(0,g.useCallback)(async e=>{null==e||e.stopPropagation(),null==e||e.preventDefault();let t=o.trim();""!==t&&s&&await s(t),r(!1)},[o,s]),m=(0,g.useCallback)(e=>{e.stopPropagation(),e.preventDefault(),i(e.target.value)},[]),p=(0,g.useCallback)(e=>{"Enter"===e.key?d():"Escape"===e.key&&l()},[d,l]),u=(0,g.useCallback)(e=>{e.stopPropagation(),e.preventDefault()},[]),h=(0,g.useCallback)(e=>{e.stopPropagation(),e.preventDefault(),l()},[l]);return{editing:n,value:o,startEditing:c,cancelEditing:l,saveEditing:d,inputProps:{value:o,onChange:m,onKeyDown:p,onClick:u,onBlur:h}}}({initialValue:s,onSave:k}),_=(0,g.useCallback)(e=>{C&&S(!1),(0,c.Y)(e),null==f||f()},[C,S,f]),O=(0,g.useCallback)(e=>{I&&(e.stopPropagation(),e.preventDefault())},[I]),P=(0,g.useCallback)(()=>{T(),N(!1)},[T]),M=(0,g.useCallback)(e=>{e.stopPropagation(),e.preventDefault(),E()},[E]);return(0,a.jsx)(l.N,{children:(0,a.jsx)(d.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:(0,a.jsx)(i.Uj,{asChild:!0,highlighted:o,allowActive:!I,heightClassName:i.Zr,tooltip:I||j?void 0:h||s,children:(0,a.jsxs)(ei,{route:r,onClick:_,onDragStart:O,className:(0,b.cn)(i.mI,r&&"!gap-1",{"opacity-50 pointer-events-none":y}),children:[n,(0,a.jsx)(er,{title:s,editing:I,inputProps:A}),u,m&&(0,a.jsx)(eo,{editing:I,menuOpen:j,onMenuOpenChange:N,onRename:k,onDelete:x,onTogglePin:v,pinned:p,onEditClick:P,onCancelEdit:M,onSaveEdit:R})]})})},t)})}function el(e){let{conversation:t,showActions:s=!0}=e,r=function(e){var t,s;let a=!(arguments.length>1)||void 0===arguments[1]||arguments[1],{t:r}=(0,$.Bd)("base"),o=(0,B._)(),{handlePinConversation:i}=(0,ee.c)(),c=(0,et.K)(),{route:l,push:d}=(0,v.wK)(),m=(0,n.aP)(e=>e.conversationId),p=(0,g.useMemo)(()=>e.title?e.title:e.createTime?r("Chat on date","Chat on {{date}}",{date:new Date(e.createTime).toLocaleDateString()}):r("Untitled Chat","Untitled Chat"),[e.createTime,e.title,r]),u="chat"===l.page&&m===e.conversationId,h=(0,g.useCallback)(async t=>{let{fetchUpdateConversation:s}=P.w1.getState();try{await s(e.conversationId,{title:t,starred:e.starred}),o("update_conversation_name",e.conversationId,{location:"app-sidebar"})}catch(e){c("app-sidebar:handleUpdateConversation",e)}},[e.conversationId,e.starred,c,o]),f=(0,g.useCallback)(()=>{let{fetchSoftDeleteConversation:t}=P.w1.getState();t(e.conversationId).catch(e=>{c("app-sidebar:handleDeleteConversation",e)}),u&&d({page:"main"})},[e.conversationId,c,u,d]),k=(0,g.useCallback)(()=>{i(e.conversationId,!e.starred,"app-sidebar")},[e.conversationId,e.starred,i]);return{id:e.conversationId,title:p,route:{page:"chat",conversationId:e.conversationId,temporary:e.temporary},highlighted:u,showActions:a,pinned:e.starred,onRename:h,onDelete:f,onTogglePin:k,disabled:null==(s=null==(t=e.conversationId)?void 0:t.startsWith("optimistic_"))||s}}(t,s);return(0,a.jsx)(ec,{...r})}function ed(e){let{taskResult:t}=e,s=function(e){var t;let{t:s}=(0,$.Bd)("base"),n=(0,B._)(),r=(0,w.Di)(),{setOpen:o}=(0,i.cL)(),c=(0,g.useMemo)(()=>e.title?e.title:e.createTime?s("Task result on date","Task result on {{date}}",{date:new Date(e.createTime).toLocaleDateString()}):s("New task result","New task result"),[e.createTime,e.title,s]),l=(0,g.useCallback)(()=>{n("clicked_task_result",void 0,{location:"tasks-nav-button"}),r&&o(!1)},[n,r,o]);return{id:e.taskResultId||"unknown",title:c,route:{page:"tasks",taskId:null!=(t=e.taskId)?t:null,tab:null},highlighted:!1,showActions:!1,pinned:!1,extraRight:(0,a.jsx)("div",{className:"size-6 flex items-center justify-center",children:(0,a.jsx)(C.x,{variant:"sm"})}),onClick:l}}(t);return(0,a.jsx)(ec,{...s})}var eg=s(26676);function em(e){let{workspaceId:t,showActions:s=!0}=e,n=(0,V.M)(e=>{var s;return null==(s=e.byId[t])?void 0:s.data}),r=function(e,t){let s=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=(0,B._)(),{route:r,push:o}=(0,v.wK)(),i="workspace"===r.page&&r.workspaceId===t,c=(0,g.useCallback)(e=>{let{updateWorkspace:s}=V.M.getState();s(t,{name:e}),n("update_workspace_name",t,{location:"app-sidebar"})},[t,n]),l=(0,g.useCallback)(()=>{let{deleteWorkspace:e}=V.M.getState();e(t),"workspace"===r.page&&r.workspaceId===t&&o({page:"workspaces"})},[t,r,o]),d=(0,g.useCallback)(e=>{let{updateWorkspace:s}=V.M.getState();s(t,{icon:e})},[t]);return{id:t,title:(null==e?void 0:e.name)||"",icon:(0,a.jsx)("div",{className:"-ms-1",onClick:e=>{e.preventDefault(),e.stopPropagation()},children:(0,a.jsx)(eg.n,{icon:null==e?void 0:e.icon,sizeClass:"size-4",onChange:d,rounded:!0,buttonSize:"iconXs",disabled:!s})}),route:{page:"workspace",workspaceId:t,conversationId:null},highlighted:i,showActions:s,pinned:!1,onRename:c,onDelete:l}}(n,t,s);return n?(0,a.jsx)(ec,{...r}):null}var ep=s(71865),eu=s(69643);function eh(){let{t:e}=(0,$.Bd)("base"),t=t=>{switch(t){case"Pinned":return e("sidebar-bucket-pinned","Pinned");case"Today":return e("sidebar-bucket-today","Today");case"Yesterday":return e("sidebar-bucket-yesterday","Yesterday");case"This Week":return e("sidebar-bucket-this-week","This Week");default:return t}},{open:s,setOpen:o,toggleSidebar:c}=(0,i.cL)(),m=(0,I.h)(),p=(0,ep.n)(),k=(0,B._)(),O=!!(0,N.wV)().user,{handleNavigateToVoiceMode:L}=(0,J.F)({location:"app-sidebar"}),[F]=(0,eu.M)("visited-imagine",!1),{commandPrefix:X}=(0,T.c)(),ee=X?"".concat(X,"K"):"",et=X?"".concat(X,"J"):"",es=(0,w.Di)();(0,g.useEffect)(()=>{es&&o(!1)},[es]);let ea=(0,U.C$)(Q.A("isIncognito")),en=(0,n.aP)(e=>e.conversationMode),er=(0,P.w1)(e=>e.fetchListConversations);(0,E.v)(er()),(0,E.v)(er({filterIsStarred:!0}));let eo=(0,P.w1)(e=>e.byId),ei=(0,g.useMemo)(()=>Object.values(eo).map(e=>e.conversationId),[eo]),ec=(0,P.w1)(e=>e.fetchGetManyConversations),ed=(0,g.useMemo)(()=>ec(ei),[ei]),{data:eg}=(0,E.v)(ed,{preserveValue:!0}),eh=(0,g.useMemo)(()=>{if(!eg)return[];let e=eg.filter(e=>!e.temporary).filter(e=>!e.workspaces||0===e.workspaces.length).filter(e=>!e.taskResultId);return Y().sortBy(e,e=>-new Date(e.modifyTime).getTime())},[eg]),{sortedBuckets:eb,bucketedConversations:ex,pinnedConversations:ew}=(0,g.useMemo)(()=>{let e=eh.filter(e=>e.starred),t=Y().groupBy(eh,e=>{let t=e.modifyTime;if(e.starred)return"Pinned";if((0,H.c)(t))return"Today";if((0,W.P)(t))return"Yesterday";if((0,G.x)(t))return"This Week";if((0,K.e)(t))return(0,q.GP)(t,"MMMM");try{return(0,q.GP)(t,"yyyy")}catch(e){return(0,A.vV)("app-sidebar:format-date-error",e),"Today"}}),s={Pinned:0,Today:1,Yesterday:2,"This Week":3,"This Month":4},a=Object.keys(t),n=a.filter(e=>e in s);n.sort((e,t)=>s[e]-s[t]);let r=a.filter(e=>!(e in s)),o=[...n,...Y().sortBy(r,e=>{var s,a;let n=null==(a=t[e])||null==(s=a[0])?void 0:s.modifyTime;if(n)return-new Date(n).getTime()})],i=10,c=o.reduce((e,s)=>{var a,n,r;if(i<=0||!t[s])return e;let o=null!=(n=null==(a=t[s])?void 0:a.length)?n:0;return o&&("Pinned"!==s&&(i-=o),i<=0?e[s]=null==(r=t[s])?void 0:r.slice(0,o+i):e[s]=t[s]),e},{}),l={};return Object.keys(c).forEach(e=>{let t=c[e],s=Y().orderBy(t,[e=>new Date(e.modifyTime).getTime()],["desc"]);l[e]=s}),{sortedBuckets:o,bucketedConversations:l,pinnedConversations:e}},[eh]),{push:ev}=(0,v.wK)(),ey=(0,V.M)(e=>e.loadFirstPage);(0,g.useEffect)(()=>{ey().catch((0,A.HX)("app-sidebar:load-workspaces"))},[ey]);let ej=(0,V.M)((0,Z.k)(e=>e.list.map(t=>{var s;return null==(s=e.byId[t])?void 0:s.data}).filter(_.O))),{route:eN}=(0,v.wK)(),eC=(0,g.useCallback)(async e=>{e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||(("chat"!==eN.page||eN.conversationId)&&"main"!==eN.page||"voice"!==en)&&(es&&o(!1),L(),e.preventDefault())},[eN,L,es,o,en]),eS=(0,n.aP)(e=>e.conversationId),eI=(0,P.w1)(e=>{var t;return!!eS&&(null==(t=e.byId[eS])?void 0:t.temporary)}),eT=(0,g.useMemo)(()=>"chat"===eN.page||"files"===eN.page?{page:"main"}:{page:"chat",conversationId:null!=eS?eS:null,temporary:null!=eI&&eI},[eS,eI,eN.page]),eE=(0,g.useCallback)(()=>{let{setSidePanelContent:e}=n.aP.getState();e(void 0)},[]),eR=(0,g.useRef)(null),eA=(0,R.tg)({ref:eR}),e_=(0,V.M)(Q.A("setCreateDialogIsOpen")),{add:eO}=(0,S.O)(),eP=(0,g.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),m.ENABLE_PROJECT_CREATOR?e_(!0):eO().catch((0,A.HX)("app-sidebar:create-workspace"))},[m.ENABLE_PROJECT_CREATOR,e_,eO]),{pivotNewChat:eM}=(0,z.u)(),eL=(0,g.useCallback)(()=>{es&&o(!1),eM().catch((0,A.HX)("Failed to pivot to new chat"))},[es,eM,o]),eD=(0,g.useCallback)(e=>{e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||eL()},[eL]),[eB,ez]=(0,g.useState)(null);(0,g.useEffect)(()=>{if("files"===eN.page){var e;ez(null!=(e=eN.fileId)?e:null)}},[eN]);let eF=(0,M.R)(e=>{var t,s,a;if(!eB||"files"===eN.page&&eN.fileId)return null;let n=e.currentVersion[eB];return n&&null!=(a=null==(s=e.assetsById[n])||null==(t=s.data)?void 0:t.assetId)?a:null});return(0,a.jsxs)(i.Bx,{className:(0,b.cn)("z-20 bg-surface-base border-r border-border-l1",s?"cursor-w-resize":"cursor-e-resize"),collapsible:es?"offcanvas":"icon",variant:es?"floating":"sidebar",onClick:c,children:[(0,a.jsx)(i.Gh,{className:(0,b.cn)("h-header-height flex flex-row justify-between items-center gap-0 shrink-0",i.y$),children:(0,a.jsx)(r.C9,{alwaysSmall:!0,className:"relative z-10 block w-fit p-1 mx-0.5 shrink-0 hover:bg-button-ghost-hover rounded-xl",onClick:eD})}),(0,a.jsxs)(i.Yv,{ref:eR,className:(0,b.cn)("relative overflow-x-hidden",s&&"scrollbar-gutter-stable-single"),style:{...eA},children:[(0,a.jsx)(i.Cn,{className:"h-subheader-height flex justify-center py-1",children:(0,a.jsxs)(i.Uj,{"aria-label":e("sidebar-search","Search"),className:(0,b.cn)(s&&"flex-1","px-[7px]","rounded-full border border-border-l1","bg-surface-l1 justify-start","text-primary",i.b,i.hV),onClick:e=>{e.preventDefault(),e.stopPropagation(),j.H0.getState().openMenu(),k("opened_command_menu",void 0,{location:"app-sidebar:search"})},children:[(0,a.jsx)("div",{className:"flex items-center justify-center size-6 shrink-0",children:(0,a.jsx)(h.WIv,{size:18})}),(0,a.jsx)(l.N,{children:s&&(0,a.jsxs)(d.P.span,{className:"space-x-1 align-baseline",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.1,easing:"easeInOut"},children:[(0,a.jsx)("span",{children:e("sidebar-search","Search")}),!es&&(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:ee})]})})]})}),(0,a.jsx)(i.Cn,{children:(0,a.jsx)(i.wZ,{children:(0,a.jsx)(y,{icon:(0,a.jsx)(h.cJ,{size:18}),text:e("sidebar-chat-nav","Chat"),route:eT,onClick:eD,tooltip:e("sidebar-chat-nav","Chat"),action:(0,a.jsx)("span",{className:"text-xs text-secondary ms-auto me-2 opacity-0 group-hover/menu-item:opacity-100 transition-opacity duration-100",children:et}),highlighted:("chat"===eN.page&&!eN.conversationId||"main"===eN.page)&&"chat"===en})})}),m.ENABLE_VOICE_MODE&&!ea&&(0,a.jsx)(i.Cn,{children:(0,a.jsx)(i.wZ,{children:(0,a.jsx)(y,{icon:(0,a.jsx)(h.b7X,{size:18}),text:e("sidebar-voice-nav","Voice"),onClick:eC,route:{page:"main",voice:!0},tooltip:e("sidebar-voice-nav","Voice"),highlighted:("chat"===eN.page&&!eN.conversationId||"main"===eN.page)&&"voice"===en,className:"cursor-pointer hover:text-primary hover:!bg-button-ghost-hover"})})}),m.SHOW_IMAGINE&&(0,a.jsx)(i.Cn,{children:(0,a.jsxs)(i.wZ,{children:[(0,a.jsx)(y,{icon:(0,a.jsx)(h.xfq,{size:18}),text:e("sidebar-imagine-nav","Imagine"),route:{page:"imagine"},tooltip:e("sidebar-imagine-nav","Imagine"),highlighted:"imagine"===eN.page}),!F&&(0,a.jsx)(d.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4,duration:.2},className:(0,b.cn)("absolute",s?"top-[50%] -translate-y-1/2 right-[25px]":"right-[15px] top-[8px]"),children:(0,a.jsx)(C.x,{variant:"sm"})})]})}),(0,a.jsx)(i.Cn,{children:(0,a.jsx)(i.wZ,{children:(0,a.jsx)(y,{icon:(0,a.jsx)(h.pyG,{size:18}),text:e("sidebar-files-nav","Files"),route:{page:"files",fileId:eF},onClick:eE,tooltip:e("sidebar-files-nav","Files"),highlighted:"files"===eN.page})})}),m.ENABLE_GROK_TASKS&&O&&(0,a.jsx)(i.Cn,{className:(0,b.cn)(""),children:(0,a.jsx)(i.wZ,{children:(0,a.jsx)(ef,{open:s,highlighted:"tasks"===eN.page})})}),(0,a.jsx)(i.Cn,{className:(0,b.cn)(""),children:(0,a.jsx)(i.wZ,{children:(0,a.jsx)(u,{trigger:(0,a.jsx)(y,{icon:(null==ej?void 0:ej.length)?(0,a.jsx)(x,{Icon:h.XRf}):(0,a.jsx)(h.XRf,{size:18}),action:(0,a.jsx)(f.$n,{className:"ms-auto opacity-0 group-hover/menu-item:opacity-100 transition-opacity duration-100 rounded-lg",variant:"ghostSecondary",size:"iconXs",onClick:eP,"aria-label":e("sidebar-create-workspace-button.label","Create new project"),children:(0,a.jsx)(h.FWt,{size:14})}),text:e("sidebar-workspaces-nav","Projects"),route:{page:"workspaces"},canPopover:!0,highlighted:"workspaces"===eN.page}),hasContent:!!(null==ej?void 0:ej.length),content:(0,a.jsxs)(a.Fragment,{children:[!s&&(0,a.jsxs)("div",{className:"w-full flex justify-between items-center gap-1 pl-3 pr-1.5 py-1 text-sm text-primary font-semibold sticky top-0",children:[(0,a.jsx)("div",{className:(0,b.cn)(""),children:e("sidebar-workspaces-nav","Projects")}),(0,a.jsx)(f.$n,{className:"rounded-lg",variant:"ghostSecondary",size:"iconXs",onClick:eP,"aria-label":e("Create Project","Create Project"),children:(0,a.jsx)(h.FWt,{size:14})})]}),!s&&!(null==ej?void 0:ej.length)&&(0,a.jsx)(ek,{content:e("No projects yet","No projects yet"),ctaText:e("Create Project","Create Project"),onClickCta:eP},"no-workspaces"),!!(null==ej?void 0:ej.length)&&ej.slice(0,5).map(e=>(0,a.jsx)(em,{workspaceId:e.workspaceId,showActions:s},e.workspaceId)),ej.length>0&&(0,a.jsx)(f.$n,{tabIndex:-1,variant:"textSecondary",size:"none",className:"w-full justify-start px-3 text-xs font-semibold no-wrap pb-2 mt-1",onClick:()=>{ev({page:"workspaces"}),k("opened_command_menu",void 0,{location:"app-sidebar:recent-chats"})},children:e("See all","See all")})]}),collapsible:!0})})}),m.USE_SEPARATE_PINNED_SECTION_IN_SIDEBAR&&ew.length>0&&(0,a.jsx)(i.Cn,{children:(0,a.jsx)(i.wZ,{children:(0,a.jsx)(u,{hasContent:!!ew.length,trigger:(0,a.jsx)(y,{icon:ew.length?(0,a.jsx)(x,{Icon:h.tsw}):(0,a.jsx)(h.tsw,{size:18}),text:e("sidebar-bucket-pinned","Pinned"),canPopover:!0}),content:(0,a.jsxs)(a.Fragment,{children:[!s&&(0,a.jsx)("div",{className:(0,b.cn)("py-1 pl-3 text-sm text-primary font-semibold sticky top-0"),children:e("sidebar-bucket-pinned","Pinned")}),!s&&0===ew.length&&(0,a.jsx)(ek,{content:e("No pinned chats","No pinned chats")},"no-recent-chats"),ew.length>0&&ew.map(e=>(0,a.jsx)(el,{conversation:e,showActions:s},e.conversationId))]}),onClick:()=>{j.H0.getState().openMenu(),k("opened_command_menu",void 0,{location:"app-sidebar:recent-chats"})},collapsible:!0})})}),(0,a.jsx)(i.Cn,{className:(0,b.cn)(""),children:(0,a.jsx)(i.wZ,{children:(0,a.jsx)(u,{hasContent:!!eb.length,trigger:(0,a.jsx)(y,{icon:(null==eb?void 0:eb.length)?(0,a.jsx)(x,{Icon:h.HGu}):(0,a.jsx)(h.HGu,{size:18}),text:e("sidebar-history","History"),route:p?{page:"history",tab:"conversations"}:void 0,highlighted:"history"===eN.page,canPopover:!0}),content:(0,a.jsxs)(a.Fragment,{children:[!s&&(0,a.jsx)("div",{className:(0,b.cn)("py-1 pl-3 text-sm text-primary font-semibold sticky top-0"),children:e("sidebar-history","History")}),!s&&0===eb.length&&(0,a.jsx)(ek,{content:e("No chats","No chats")},"no-recent-chats"),eb.length>0&&eb.map(e=>{if(m.USE_SEPARATE_PINNED_SECTION_IN_SIDEBAR&&"Pinned"===e)return null;let n=ex[e]||[];return 0===n.length?null:(0,a.jsxs)(g.Fragment,{children:[(0,a.jsx)("div",{className:(0,b.cn)("py-1 pl-3 text-xs text-primary sticky top-0 z-20 text-nowrap font-semibold"),children:t(e)}),n.map(e=>(0,a.jsx)(el,{conversation:e,showActions:s},e.conversationId))]},e)}),eb.length>0&&(0,a.jsx)(f.$n,{tabIndex:-1,variant:"textSecondary",size:"none",className:"w-full justify-start px-3 text-xs font-semibold no-wrap pb-2 mt-1",onClick:()=>{j.H0.getState().openMenu(),k("opened_command_menu",void 0,{location:"app-sidebar:recent-chats"})},children:e("See all","See all")})]}),collapsible:!0,onClick:p?void 0:()=>{j.H0.getState().openMenu(),k("opened_command_menu",void 0,{location:"app-sidebar:recent-chats"})}})})})]}),(0,a.jsxs)(i.CG,{className:(0,b.cn)("relative shrink-0",s?"h-[56px]":"h-[96px]"),children:[(0,a.jsx)("div",{className:(0,b.cn)("absolute bottom-3",i.vd),style:{transform:s?"translateY(0)":"translateY(-44px)",transitionProperty:"transform",transitionDuration:"300ms"},children:(0,a.jsx)(D.I,{})}),(0,a.jsx)(i.x2,{className:(0,b.cn)("absolute end-2 bottom-3"),iconSize:18})]})]})}function ef(e){var t;let{open:s,highlighted:n}=e,{t:r}=(0,$.Bd)("base"),o=(0,I.h)(),i=(0,L.d)(Q.A("setCreateDialogIsOpen")),c=(0,B._)(),{push:l}=(0,v.wK)(),m=(0,L.d)(Q.A("setSelectedTaskIdForSidePanel")),p=(0,L.d)(Q.A("unreadResults")),k=(0,L.d)(Q.A("userActiveTasks")),w=(0,g.useMemo)(()=>{var e;return null!=(e=p.filter(e=>!e.isRead&&e.status===O.cn.TaskResultSuccess).slice(0,3))?e:[]},[p]),j=(null==w||null==(t=w.at(0))?void 0:t.isRead)===!1&&w.length>0,N=(0,g.useCallback)(()=>{c("clicked_add_new_task",void 0,{location:"tasks-nav-button"}),i(!0)},[i,c]),S=(0,g.useCallback)(()=>{m(void 0)},[m]);return(0,a.jsx)(u,{onClick:S,collapsible:!0,trigger:(0,a.jsx)(y,{icon:w.length&&o.SHOW_SIDEBAR_TASK_CHATS?(0,a.jsx)(x,{Icon:h.HEW}):(0,a.jsx)(h.HEW,{size:18}),text:r("sidebar-tasks-label","Tasks"),route:{page:"tasks",taskId:null,tab:null},action:(0,a.jsx)(f.$n,{className:"ms-auto opacity-0 group-hover/menu-item:opacity-100 transition-opacity duration-100 rounded-lg",variant:"ghostSecondary",size:"iconXs",onClick:N,"aria-label":r("create-task","Create task"),children:(0,a.jsx)(h.FWt,{size:14})}),canPopover:!0,highlighted:n,children:j&&(0,a.jsx)(d.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4,duration:.2},children:(0,a.jsx)(C.x,{variant:"sm",className:(0,b.cn)("absolute",s?"top-[50%] -translate-y-1/2":"right-[6px] top-[6px]")})})}),hasContent:w.length>0&&o.SHOW_SIDEBAR_TASK_CHATS,content:(0,a.jsxs)(a.Fragment,{children:[!s&&(0,a.jsxs)("div",{className:"w-full flex justify-between items-center gap-1 pl-3 pr-1.5 py-1 text-sm text-primary font-semibold sticky top-0",children:[(0,a.jsx)("div",{className:(0,b.cn)(""),children:r("sidebar-tasks-nav","Tasks")}),(0,a.jsx)(f.$n,{variant:"ghostSecondary",size:"iconXs",className:"rounded-lg",onClick:N,"aria-label":r("create-task","Create task"),children:(0,a.jsx)(h.FWt,{size:14})})]}),!s&&!(null==w?void 0:w.length)&&(0,a.jsx)(ek,{content:r("No unread task results","No unread task results")},"no-workspaces"),(0,a.jsx)("div",{className:"w-full flex flex-col gap-px",children:(null==w?void 0:w.length)>0&&w.map(e=>(0,a.jsx)(ed,{taskResult:e},e.taskResultId))}),s&&k.length>0&&(0,a.jsx)(f.$n,{tabIndex:-1,variant:"textSecondary",size:"none",className:"w-full justify-start px-3 text-xs font-semibold no-wrap pb-2 mt-1",onClick:()=>{S(),l({page:"tasks",taskId:null,tab:null})},children:r("See all","See all")})]})})}function ek(e){let{content:t,ctaText:s,onClickCta:n}=e;return(0,a.jsxs)("div",{className:(0,b.cn)("h-[140px] flex flex-col gap-2 items-center justify-center","-mt-8"),children:[(0,a.jsx)("span",{className:"text-xs text-primary",children:t}),s&&n&&(0,a.jsx)(f.$n,{variant:"outline",size:"sm",className:"rounded-xl",onClick:n,children:s})]})}F.B},625:(e,t,s)=>{"use strict";s.d(t,{EnterpriseStoreProvider:()=>U,hd:()=>V});var a=s(79342),n=s(88382),r=s(21874),o=s(82509),i=s(42557),c=s(95158),l=s(17703),d=s(56521);async function g(e,t){if(!(await (0,d.h)("".concat(e,"/api/update-team-cookie"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({teamId:t})})).ok)throw Error("Failed to update team cookie")}var m=s(19093),p=s(56907),u=s(61349),h=s(49972),f=s(97960),k=s(86822),b=s(70888),x=s(87891),w=s(3683),v=s(29938),y=s(65258);let j={isOpen:!1,initialImage:null,uploadedImage:null};class N{constructor(e,t){this.set=e,this.get=t,this.isOpen=j.isOpen,this.initialImage=j.initialImage,this.uploadedImage=j.uploadedImage,this.open=e=>{let{initialImage:t,uploadedImage:s}=e;this.set({initialImage:t||null,uploadedImage:s||null,isOpen:!0})},this.close=()=>{this.set({initialImage:null,uploadedImage:null,isOpen:!1})},this.setUploadedImage=e=>{this.set({uploadedImage:e})}}}let C=(0,y.y$)(N,"useImageEditorStore");var S=s(38614),I=s(73304);async function T(e){if(!(await (0,d.h)("".concat(e,"/api/clear-team-cookie"),{method:"POST",headers:{"Content-Type":"application/json"}})).ok)throw Error("Failed to clear team cookie")}var E=s(6132);E.z.object({teamId:E.z.string(),name:E.z.string().optional()});let R=["teams"];var A=s(14908),_=s(65146),O=s(43086),P=s(47127),M=s(11750),L=s(61312);let D=e=>{let{teamName:t,switchPromise:s,dismissDuration:r=3e3,onComplete:o}=e,{t:i}=(0,_.Bd)("base"),[c,l]=(0,n.useState)("loading");return(0,n.useEffect)(()=>{s.then(()=>{l("success"),setTimeout(()=>{null==o||o()},r)}).catch(()=>{l("error"),setTimeout(()=>{null==o||o()},r)})},[s,o,r]),(0,a.jsxs)("div",{className:"flex items-center gap-2.5 w-full pr-1",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-5 h-5",children:(0,a.jsx)(P.p,{children:"loading"===c?(0,a.jsx)(O.y,{size:"xs"}):"success"===c?(0,a.jsx)(M.C1y,{className:"w-4 h-4"}):(0,a.jsx)(M.eqn,{className:"w-4 h-4"})},"icon-".concat(c))}),(0,a.jsx)("div",{className:(0,L.cn)("overflow-hidden max-w-[420px]","loading"===c&&"animate-pulse"),children:(0,a.jsx)("span",{className:"truncate font-semibold text-sm",children:"error"===c?i("enterprise.team-switch.error","Failed to switch team"):"success"===c?i("enterprise.team-switch.success","Switched to {{teamName}}",{teamName:t||i("enterprise.personal-team","Personal")}):i("enterprise.team-switch.loading","Switching to {{teamName}}",{teamName:t||i("enterprise.personal-team","Personal")})})})]})};var B=s(12110);let z=(0,n.createContext)(void 0),F=e=>(0,r.y)()((t,s)=>({acls:e.acls,isLoadingAcls:e.isLoadingAcls,aclsError:e.aclsError,teams:e.teams,isLoadingTeams:e.isLoadingTeams,teamsError:e.teamsError,isSwitchingTeam:e.isSwitchingTeam,currentTeam:e.currentTeam,setAcls:e=>{t(t=>({...t,acls:e,aclsError:void 0}))},setAclsLoading:e=>{t(t=>({...t,isLoadingAcls:e}))},setAclsError:e=>{t(t=>({...t,aclsError:e,isLoadingAcls:!1}))},refreshAcls:async()=>{let{currentTeam:e,setAclsLoading:t,setAcls:a,setAclsError:n}=s();if(!(null==e?void 0:e.teamId))return void a([]);try{t(!0);let s=await W(e.teamId);a(s)}catch(e){n(e instanceof Error?e.message:"Failed to fetch ACLs")}finally{t(!1)}},checkPermission:e=>{let{acls:t}=s();return(Array.isArray(e)?e:[e]).every(e=>H(t,e))},setTeams:e=>{t(t=>({...t,teams:e,teamsError:void 0}))},setTeamsLoading:e=>{t(t=>({...t,isLoadingTeams:e}))},setTeamsError:e=>{t(t=>({...t,teamsError:e,isLoadingTeams:!1}))},setIsSwitchingTeam:e=>{t(t=>({...t,isSwitchingTeam:e}))},switchTeam:async e=>{let{teamId:t,baseUrl:n,router:r}=e,{isSwitchingTeam:o,setIsSwitchingTeam:i,currentTeam:c,teams:d}=s();if(t===((null==c?void 0:c.teamId)||null)||o)return;let p=d.find(e=>e.teamId===t);i(!0);let h=(async()=>{try{if(t?await g(n,t):await T(n),new B.w("/share/:id").test(window.location.pathname))return window.location.reload();let{route:e}=r;"chat"===e.page&&e.conversationId&&r.push({page:"main"}),"files"===e.page&&e.fileId&&r.push({...e,page:"files",fileId:null}),"workspace"===e.page&&e.workspaceId&&r.push({...e,page:"workspaces"}),"tasks"===e.page&&e.taskId&&r.push({...e,page:"tasks",taskId:null}),(0,u.SX)().invalidateQueries(),G(),await (null===m.sessionStoreState||void 0===m.sessionStoreState?void 0:m.sessionStoreState.getState().refreshSession()),"unknown"===e.page&&window.location.reload()}catch(e){throw(0,l.vV)("enterprise-store:switchTeam","Failed to switch team"),e}finally{i(!1)}})();A.oR.custom(e=>(0,a.jsx)(D,{teamName:null==p?void 0:p.name,switchPromise:h,onComplete:()=>A.oR.dismiss(e)}),{duration:1/0}),await h}})),U=e=>{let{children:t}=e,{user:s,team:r}=(0,i.wV)(),o=(0,n.useRef)(null),{data:l,isLoading:d,error:g}=(0,p.IT)({queryKey:R,queryFn:async()=>await c.$W.subscriptionsGetTeamsWhereUserHasActiveSub(),staleTime:6e5,enabled:!!s});if(!o.current){var m;o.current=F({acls:[],isLoadingAcls:!1,aclsError:void 0,teams:l&&(null==(m=l.publicTeams)?void 0:m.length)?K(l.publicTeams):[],isLoadingTeams:d,teamsError:g instanceof Error?g.message:"Failed to fetch teams",isSwitchingTeam:!1,currentTeam:r})}return(0,n.useEffect)(()=>{var e,t;l&&(null==(e=l.publicTeams)?void 0:e.length)&&(null==(t=o.current)||t.getState().setTeams(K(l.publicTeams)))},[l]),(0,n.useEffect)(()=>{var e;null==(e=o.current)||e.getState().setTeamsLoading(d)},[d]),(0,n.useEffect)(()=>{if(g){var e;let t=g instanceof Error?g.message:"Failed to fetch teams";null==(e=o.current)||e.getState().setTeamsError(t)}},[g]),(0,n.useEffect)(()=>{var e;null==(e=o.current)||e.setState({currentTeam:r||void 0})},[r]),(0,n.useEffect)(()=>{var e;null==(e=o.current)||e.getState().refreshAcls()},[null==r?void 0:r.teamId]),(0,a.jsx)(z.Provider,{value:o.current,children:t})},V=()=>{let e=(0,n.useContext)(z);if(!e)throw Error("useEnterpriseStore must be used within EnterpriseStoreProvider");return(0,o.P)(e)},H=(e,t)=>!!e.find(e=>e===t),W=async e=>{if(!e)return[];try{var t,s;return(null==(s=(await c.wM.authManagementGetTeamAndRole({teamId:e})).acls)||null==(t=s.map(e=>e.acl))?void 0:t.filter(Boolean))||[]}catch(e){throw(0,l.vV)("enterprise-store:fetchUserAcls","Failed to fetch user ACLs"),e}},G=()=>{h.w1.getState().clear(),f.A3.getState().clear(),k.d.getState().clear(),w.M.getState().clear(),v.jN.getState().clear(),C.getState().close(),S.aP.getState().setSidePanelContent(void 0),I.d.getState().setSelectedTaskIdForSidePanel(void 0),b.x.getState().clear(),x.R.getState().clear(),x.R.getState().loadFirstPage()},K=e=>[...e.filter(e=>!!e.teamId).sort((e,t)=>(e.name||e.teamId).localeCompare(t.name||t.teamId))]},1451:(e,t,s)=>{"use strict";s.d(t,{y:()=>i});var a=s(79342),n=s(88382),r=s(36889),o=s(23332);function i(e){let{readOnly:t=!1,editable:s=!t,autoFocus:i=!1,onContentUpdate:c,className:l}=e,d=(0,r.wk)().calcEngine,g=n.useCallback(async e=>{s&&c&&d&&c(await d.exportToBuffer())},[s,c,d]);return(0,a.jsx)(o.X,{editable:s,readOnly:t,autoFocus:i,onCellsChange:g,className:l})}},1729:(e,t,s)=>{"use strict";s.d(t,{C:()=>ea,ND:()=>er,I5:()=>eo});var a=s(79342),n=s(82591),r=s(4357),o=s(57137),i=s(43086),c=s(8800),l=s(75500),d=s(23232),g=s(86565),m=s(61312),p=s(83612),u=s(23054),h=s(74995),f=s(88382),k=s(65146),b=s(18782),x=s(93192),w=s(38614),v=s(6980),y=s(69458),j=s(69580),N=s(56691),C=s(11750);function S(e){let{resetErrorBoundary:t}=e,{t:s}=(0,k.Bd)("chat");return(0,a.jsxs)("div",{className:(0,m.cn)("flex flex-col items-center justify-center h-full w-full p-4"),children:[(0,a.jsx)(C.hcu,{className:"mb-4",size:24}),(0,a.jsx)("h2",{className:"text-md font-semibold mb-2",children:s("artifact-error.title","Could not display artifact")}),(0,a.jsx)("p",{className:"text-sm text-fg-secondary mb-4 text-center max-w-sm",children:s("artifact-error.message","Something went wrong while trying to display this artifact. Please try again.")}),(0,a.jsxs)(N.$n,{variant:"outline",size:"md",onClick:t,className:"flex items-center gap-2",children:[(0,a.jsx)(C.e9t,{size:16,className:"text-fg-secondary"}),(0,a.jsx)("span",{className:"text-fg-primary font-semibold",children:s("artifact-error.retry","Try again")})]})]})}var I=s(16538),T=s(34323),E=s(16506),R=s(19330),A=s(17703);async function _(e,t,s,a){let n=w.aP.getState();if(!n.conversationId)return!1;try{await n.sendResponse({message:t,parentResponseId:n.lastMessageId,conversationId:n.conversationId,fileAttachmentIds:[],webpageUrls:[],setOpimisticUserResponse:!0,setUserResponse:!0,metadata:{selectedText:s,artifactAction:e},ff:a})}catch(e){(0,A.vV)("artifact:ask",e)}}var O=s(84969),P=s(63174);let M={resize:"none"};function L(e){let{onSubmit:t}=e,[s,n]=(0,f.useState)(""),{t:r}=(0,k.Bd)("chat");return(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(s),n("")},className:"flex gap-1 items-center",role:"form",children:[(0,a.jsx)(P.A,{value:s,style:M,onChange:e=>{n(e.target.value)},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||e.ctrlKey||(e.preventDefault(),t(s),n(""))},minRows:1,maxRows:4,autoFocus:!0,dir:"auto",className:"rounded-xl px-2 border-none shadow-none text-primary focus-visible:ring-0 min-h-[20px] min-w-[220px] resize-none focus:outline-none font-sm bg-popover",placeholder:r("Edit or explain…","Edit or explain…")}),(0,a.jsx)(N.$n,{type:"submit",size:"icon",className:"bg-primary h-8 self-end","aria-label":r("Submit","Submit"),children:(0,a.jsx)(C.Kpk,{size:20})})]})}let D={size:20,className:"text-secondary"};function B(e){let{onAskGrok:t,onExplain:s}=e,[n,r]=(0,f.useState)(!1),{t:o}=(0,k.Bd)("chat");return t&&n?(0,a.jsx)("div",{className:"bg-popover border p-1 rounded-2xl flex",children:(0,a.jsx)(L,{onSubmit:t})}):t||s?(0,a.jsx)(O.N,{children:(0,a.jsxs)(u.P.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},className:"bg-popover border p-1 rounded-2xl flex shadow-lg",children:[t?(0,a.jsxs)(N.$n,{variant:"ghost",className:"rounded-xl focus-visible:ring-0 text-primary",onClick:()=>r(!0),children:[(0,a.jsx)(C.Sbc,{...D}),o("Ask Grok","Ask Grok")]}):null,s?(0,a.jsxs)(N.$n,{variant:"ghost",className:"rounded-xl focus-visible:ring-0 text-primary",onClick:s,children:[(0,a.jsx)(C.Gyj,{...D}),o("explain-button.label","Explain")]}):null]},"selection_menu")}):null}let z=e=>{let{syntax:t,value:s,isStreaming:n,editable:r,autofocus:o,onContentUpdate:i}=e,c=(0,f.useRef)(void 0),[d,g]=(0,f.useState)(!1),m=(0,l.h)(),p=(0,f.useRef)(null),u=m.SHOW_ARTIFACTS_ASK_GROK_BUTTON,h=m.SHOW_ARTIFACTS_EXPLAIN_BUTTON,{resolvedTheme:k}=(0,E.D)();(0,f.useEffect)(()=>{(0,I.q)()},[]);let b=(0,f.useCallback)((e,t)=>{t.isFlush||i(e)},[i]),x=(0,f.useCallback)(e=>{p.current=e,g(!0)},[]);(0,f.useEffect)(()=>{let e=p.current;if(d&&e&&r&&o){var t,s;let a={lineNumber:1,column:(null!=(s=null==(t=e.getModel())?void 0:t.getLineLength(1))?s:0)+1};e.setPosition(a),e.focus()}},[d,o]),(0,f.useEffect)(()=>{let e=p.current;if(!e||!I.x||!n)return;let t=e.getValue(),a=e.getModel();if(!a)return;if(!s.includes(t))return void e.setValue(s);let r=s.substring(t.length),o=a.getPositionAt(t.length);e.executeEdits("stream-update",[{range:new I.x.Range(o.lineNumber,o.column,o.lineNumber,o.column),forceMoveMarkers:!0,text:r}])},[d,s,n]);let w=(0,f.useCallback)(()=>{c.current&&c.current();let e=null===I.x||void 0===I.x?void 0:I.x.editor.getEditors()[0];if(e){var t;let s=e.getSelection();if(!s)return;let n=null==(t=e.getModel())?void 0:t.getValueInRange(s);if(n){let t=document.createElement("div"),r=(0,R.createRoot)(t),o={getId:()=>"selected-text.widget",getDomNode:()=>t,getPosition:()=>I.x?{position:{lineNumber:s.endLineNumber,column:s.startColumn},preference:[I.x.editor.ContentWidgetPositionPreference.BELOW,I.x.editor.ContentWidgetPositionPreference.ABOVE]}:{position:{lineNumber:s.endLineNumber,column:s.startColumn},preference:[]}};r.render((0,a.jsx)("div",{onMouseUp:e=>e.stopPropagation(),children:(0,a.jsx)(B,{onAskGrok:u?t=>(e.removeContentWidget(o),_("ask",t,n,m)):void 0,onExplain:h?()=>(e.removeContentWidget(o),_("explain","Explain",n,m)):void 0})})),e.addContentWidget(o),c.current=()=>e.removeContentWidget(o)}}},[m,u,h]),v=(0,f.useMemo)(()=>({contextmenu:!1,suggestOnTriggerCharacters:!1,acceptSuggestionOnEnter:"off",lineNumbers:"off",quickSuggestions:!1,fontFamily:"var(--font-ibm-plex-mono)",fontSize:14,stickyScroll:{enabled:!1},wordBasedSuggestions:"off",wordWrap:"on",automaticLayout:!0,parameterHints:{enabled:!1},hover:{enabled:!1},minimap:{enabled:!1},scrollbar:{useShadows:!1},scrollBeyondLastLine:!1,padding:{bottom:30}}),[]),y=(0,f.useCallback)(e=>{e.languages.register({id:"latex"}),e.languages.setMonarchTokensProvider("latex",{tokenizer:{root:[[/[\\][a-zA-Z]+/,"keyword"],[/\$[^$]*\$/,"string"],[/\\[\(\[][^{}]*\\[\)\]]/,"string"],[/%.*$/,"comment"],[/[{}]/,"delimiter"],[/\\(begin|end)\{[a-zA-Z]*\}/,"keyword"],[/[\[\]()]/,"delimiter"]]}})},[]);return(0,a.jsx)("div",{className:"w-full h-full max-h-full",onMouseUp:w,children:(0,a.jsx)(T.Ay,{height:"100%",width:"100%",onMount:x,value:n?void 0:s,language:t,onChange:b,beforeMount:y,theme:"dark"===k?"dark":"light",options:v})})};var F=s(5703),U=s(82646);let V=(0,f.memo)(e=>{let{summary:t,isLast:s}=e;return(0,a.jsx)(u.P.div,{className:"duration-500 ease-out",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-6 h-6",children:s?(0,a.jsx)(i.y,{className:"w-6 h-6"}):(0,a.jsx)(U.pry,{className:"w-6 h-6"})}),(0,a.jsx)("h2",{className:"text-primary font-semibold",children:t})]})},t)});function H(e){let{statusItems:t}=e;return(0,a.jsx)("div",{className:" inset-0 bg-surface-base/50 backdrop-blur-md flex justify-center ",children:(0,a.jsx)("div",{className:"rounded-lg bg-surface-base px-12 py-8 mx-8 w-full max-w-[650px] my-4 border border-border-l1 shadow-lg",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute px-[11px] py-[20px] h-full",children:(0,a.jsx)("div",{className:"w-0.5 bg-border-l2 h-full"})}),(0,a.jsx)("div",{className:"flex flex-col gap-4",children:(0,a.jsx)(O.N,{children:t.map((e,s)=>(0,a.jsx)(V,{summary:e,isLast:s===t.length-1},s))})})]})})})}function W(e){let{content:t,isRunningCode:s}=e,{t:n}=(0,k.Bd)("chat"),r=null==t?void 0:t.split("\n").slice(0,-1).join("\n"),o=(0,f.useMemo)(()=>{let e=[{type:"comment",name:n("artifact.document.loading","Starting document")},...function(e){let t,s=[],a=["textbf","textit","underline","emph","textsc","texttt","textsf","textmd","textup","textnormal"],n=/^(\s*)%(.*)$/gm;for(;null!==(t=n.exec(e));){var r;let e=null==(r=t[2])?void 0:r.trim();e&&s.push({pos:t.index,item:{type:"comment",name:e}})}let o=/\\(subsection|subsubsection)(\*)?\s*\{/g;for(;null!==(t=o.exec(e));){let n=t[1];if(!n)continue;let r=t.index+t[0].length;try{let o=function(e,t){let s=1,a=t;for(;a<e.length;)if("%"===e[a])break;else if("{"===e[a])s++,a++;else if("}"===e[a]){if(0==--s)break;a++}else a++;return e.substring(t,a)}(e,r),i=function e(t){let s="",n=0;for(;n<t.length;)if("\\"===t[n]){let r=n;for(n++;n<t.length&&/[a-zA-Z]/.test(t[n]);)n++;let o=t.substring(r+1,n);for(;n<t.length&&" "===t[n];)n++;if(n<t.length&&"{"===t[n]){n++;let r="",i=1;for(;n<t.length&&i>0;)"{"===t[n]?i++:"}"===t[n]&&i--,i>0&&(r+=t[n]),n++;a.includes(o)&&(s+=r=e(r))}}else if("$"===t[n]){for(n++;n<t.length&&"$"!==t[n];)n++;n<t.length&&n++}else if("{"===t[n]){n++;let a="",r=1;for(;n<t.length&&r>0;)"{"===t[n]?r++:"}"===t[n]&&r--,r>0&&(a+=t[n]),n++;s+=a=e(a)}else s+=t[n],n++;return s.trim()}(o);s.push({pos:t.index,item:{type:n,name:i}})}catch(e){console.error("Error extracting title:",e)}}return s.sort((e,t)=>e.pos-t.pos),s.map(e=>e.item)}(r)];return s&&e.push({type:"comment",name:n("artifact.document.rendering","Rendering PDF")+" (Beta)"}),e.map(e=>e.name)},[r,n,s]);return(0,a.jsx)(H,{statusItems:o})}function G(e){let{content:t}=e,{t:s}=(0,k.Bd)("chat"),n=null==t?void 0:t.split("\n").slice(0,-1).join("\n"),r=(0,f.useMemo)(()=>(function(e){let t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=/^(?:\s*\/\/([^\n]*))|(?:\/\*([\s\S]*?)\*\/)|(?:<!--([\s\S]*?)-->)/gm;for(;null!==(t=a.exec(e));){let e=t[1]||t[2]||t[3],a=null==e?void 0:e.replace(/React/gi,"report");a&&s.push(a)}return s})(null!=n?n:"",[s("artifact.report.loading","Analyzing data")]),[n,s]);return(0,a.jsx)(H,{statusItems:r})}var K=s(80640),q=s(5663),X=s(33231),Y=s(24734),Q=s(46741),$=s(14908);let Z=(e,t)=>{let{t:s}=(0,k.Bd)("chat"),a=(0,Y.K)();(0,X.v)(q.dd,async n=>{var r;if(n.preventDefault(),!e||!e.id||!e.title||!e.versionId||e.incomplete||void 0===t)return!1;let o=(0,K.p)({id:e.id,versionId:e.versionId,text:t,contentType:null!=(r=e.contentType)?r:"text/plain",title:e.title});try{if(await (0,Q.gI)(e.id,e.versionId,o))$.oR.success(s("artifact.save.success","The changes have been saved"));else throw Error("Failed to save artifacts")}catch(e){(0,A.vV)("artifact-useArtifactHotkeys",e),a("artifact-useArtifactHotkeys",e,s("artifact.save.fail","Failed to save changes"))}},[t])};var J=s(21492),ee=s(55765);let et=e=>{let{children:t,onAskGrok:s,onExplain:n,disabled:r}=e,o=(0,f.useRef)(null),i=(0,l.h)(),c=i.SHOW_ARTIFACTS_ASK_GROK_BUTTON,d=i.SHOW_ARTIFACTS_EXPLAIN_BUTTON,[g,m]=f.useState(""),[p,u]=f.useState({left:0,top:0}),h=f.useCallback(()=>{r||setTimeout(()=>{let e=window.getSelection();if(e){let t=e.toString().trim();if(t.length>0){let s=e.getRangeAt(0).getBoundingClientRect(),a=0,n=0;if(o.current){let e=o.current.getBoundingClientRect();a=e.left,n=e.top}u({left:s.left-a,top:s.bottom-n}),m(t)}else m("")}},0)},[r]),k=f.useCallback(e=>(m(""),s(g,e)),[g,s]),b=f.useCallback(()=>(m(""),n(g)),[g,n]),x=f.useCallback(()=>{let e=()=>{h(),window.removeEventListener("mouseup",e)};window.addEventListener("mouseup",e)},[h]);return(0,f.useEffect)(()=>{let e=()=>{m(""),window.removeEventListener("mousedown",e)};return""!==g&&window.addEventListener("mousedown",e),()=>window.removeEventListener("mousedown",e)},[g]),(0,a.jsxs)("div",{onMouseDown:x,onMouseUp:h,ref:o,className:"relative",children:[t,""!==g?(0,a.jsx)("div",{className:"absolute",style:{top:p.top+10,left:p.left},onMouseDown:e=>e.stopPropagation(),onMouseUp:e=>e.stopPropagation(),children:(0,a.jsx)(B,{onAskGrok:c?k:void 0,onExplain:d?b:void 0})}):null]})},es="\n<script>\nconst topWindowOrigin = '".concat(window.location.origin,"';\n\nfunction logErrorMessage(message) {\n  const messageStr = JSON.stringify({type: 'console_message', level: 'error', message});\n  window.top.postMessage(messageStr, topWindowOrigin);\n};\n\nfunction logWarning(message) {\n  const messageStr = JSON.stringify({type: 'console_message', level: 'warn', message});\n  window.top.postMessage(messageStr, topWindowOrigin);\n}\n\nfunction logMessage(message) {\n  const messageStr = JSON.stringify({type: 'console_message', level: 'log', message});\n  window.top.postMessage(messageStr, topWindowOrigin);\n}\n\nconst _windowOnerror = window.onerror;\nwindow.onerror = (...args) => {\n  logErrorMessage(args[0]);\n  return _windowOnerror ? _windowOnerror(...args) : undefined;\n};\n\nconst _windowOnunhandledrejection = window.onunhandledrejection;\nwindow.onunhandledrejection = function(event) {\n  let message = 'Error: onunhandledrejection';\n  if (event && event.reason && event.reason.message) {\n    message = event.reason.message;\n  }\n\n  logErrorMessage(message);\n  return _windowOnunhandledrejection ? _windowOnunhandledrejection(...args) : undefined;\n};\n\nconst _consoleError = console.error;\nconsole.error = function(...args) {\n  if (args[0] instanceof Error) {\n    logErrorMessage(args[0].message);\n  } else {\n    logErrorMessage(...args);\n  }\n  return _consoleError(...args);\n};\n\nconst _consoleLog = console.log;\nconsole.log = function(...args) {\n  logMessage(...args);\n  return _consoleLog(...args);\n};\n\nconst _consoleWarning = console.warn;\nconsole.warn = function(...args) {\n  logWarning(...args);\n  return _consoleWarning(...args);\n};\n\n<\/script>");function ea(e){var t,s;let{artifact:r,onSetMenu:o,readOnly:N}=e,{mode:C,setMode:I,isRefreshing:T}=(0,p.D4)(),E=(0,d._)(),R=(0,b.A)(),A=(0,f.useRef)(R.pathname),O=(0,f.useRef)(null),P=(0,l.h)(),M=(0,w.aP)(h.A("setSidePanelContent")),{t:L}=(0,k.Bd)("chat"),D=["text/plain","text/markdown"],B=(0,g.qW)({name:r.title,mimeType:null!=(t=r.contentType)?t:""}),{isDiff:U,content:V,onContentUpdate:H,isLoading:q}=(0,K.S)({artifact:r,refetchOnComplete:!0}),X=(0,f.useRef)(r);X.current=r;let Y=(0,f.useCallback)(e=>{X.current.incomplete||H(X.current,e)},[H]);(0,f.useEffect)(()=>{if(r.id){var e;E("artifact_shown",void 0,{location:"artifact-content:useEffect",contentType:null!=(e=r.contentType)?e:"undefined"})}},[r.id]),(0,f.useEffect)(()=>{A.current!==R.pathname&&M(void 0)},[R.pathname]);let Q=eo(r.contentType),{runCode:$,result:ee,loading:ea,codeExecutionAvailable:er}=(0,c.P)(V,Q),ei=(0,y.B4)(r)&&er(),ec=r.contentType&&!D.includes(r.contentType),el=(0,y.s3)(r)&&P.ENABLE_REPORT_LOADING_SCREEN,ed=(0,y.rv)(r)&&P.ENABLE_LATEX_PREVIEW&&er(),eg=ec?C:"preview",em=el||ed,ep=(0,y.j$)(r,P,er());(0,f.useEffect)(()=>{I(!r.incomplete&&ep||em?"preview":"code")},[r.id,r.incomplete]);let eu=(0,f.useCallback)((e,t)=>{var s;return E("artifact_ask_grok_clicked",void 0,{location:"artifact-content:onAskGrok",contentType:null!=(s=r.contentType)?s:"undefined"}),_("ask",t,e,P)},[r.contentType,P,E]),eh=(0,f.useCallback)(e=>{var t;return E("artifact_explain_clicked",void 0,{location:"artifact-content:onExplain",contentType:null!=(t=r.contentType)?t:"undefined"}),_("explain","Explain",e,P)},[r.contentType,P,E]);Z(r,V),(0,f.useEffect)(()=>{ei&&"preview"===eg&&!r.incomplete&&$()},[ei,V,eg,r.incomplete]);let ef=(0,J.v)(r,null!=V?V:""),ek=(0,f.useMemo)(()=>(function(e,t,s){if((0,y.fH)(e)){let e=getComputedStyle(document.documentElement).getPropertyValue("--background").trim(),s=getComputedStyle(document.documentElement).getPropertyValue("color").trim();return'\n<html>\n  <head>\n    <script src="https://cdn.jsdelivr.net/pyodide/v0.27.3/full/pyodide.js"><\/script>\n    <script id="python-script" type="text/python">\n'.concat(t,"\ndef task_done_callback(task):\n  exc = task.exception()\n  if exc:\n    import traceback\n    traceback.print_exception(exc)\n\nimport asyncio\nfor task in asyncio.all_tasks():\n  task.add_done_callback(task_done_callback)\n    <\/script>\n    <style>\n      * {\n        font-family: Menlo, monospace;\n      }\n      #repl-container {\n        background-color: #111111;\n        color: white;\n        padding-left: 16px;\n        padding-right: 10px;\n        padding-bottom: 5px;\n        margin: 0px;\n      }\n      #input {\n        background-color: transparent;\n        border: none;\n        color: white;\n        width: 100%;\n        resize: none;\n        min-height: 1em;\n        overflow: hidden;\n        font-size: 16px;\n        outline: none; /* Added to remove active border */\n      }\n      #output {\n        margin: 0px;\n        padding-top: 1em;\n        padding-bottom: 0px;\n        background-color: transparent;\n        border: none;\n        color: white;\n        width: 100%;\n        resize: none;\n        min-height: 1em;\n        max-height: 80vh;\n        overflow: auto;\n        white-space: pre-wrap;\n        overflow-wrap: break-word;\n        font-size: 16px;\n      }\n      #doc-container {\n        color: ").concat(s,';\n        font-size: 12px;\n        padding-left: 16px;\n        padding-right: 10px;\n        padding-bottom: 5px;\n      }\n      #canvas {\n        max-width: 100%;\n        max-height: 100%;\n        object-fit: contain;\n      }\n      .center-canvas {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        height: 100vh;\n      }\n    </style>\n  </head>\n  <body style="background-color: ').concat(e,';">\n    <div id="repl-container">\n      <pre id="output">Loading...\n</pre>\n      <div style="display: flex; align-items: center">\n        <span style="padding-right: 5px">>>></span>\n        <textarea id="input" rows="1" style="flex: 1" placeholder=""></textarea>\n      </div>\n    </div>\n    <div id="canvas-container">\n      <canvas id="canvas" width="1" height="1" onresize="onCanvasResize()"></canvas>\n    </div>\n    <div id="chart-container">\n    </div>\n    <script>\n      let pyodide;\n      let commandHistoryIdx = 0;\n      let commandHistory = [];\n      let outputDiv;\n      let inputArea;\n      let chartContainer;\n      let replContainer;\n      let canvasContainer;\n      function generateCommandHistory() {\n        const regex = />>> (.+?)$/gm;\n        const matches = outputDiv.innerText.matchAll(regex);\n        const capturedGroups = Array.from(matches).map((match) => match[1]);\n        return capturedGroups;\n      }\n\n      function onCanvasResize() {\n        outputDiv.style.maxHeight = "10em";\n      }\n\n      var seenCanvas = new Set();\n      function redirectCanvas() {\n        const observer = new MutationObserver((mutations) => {\n          mutations.forEach((mutation) => {\n            mutation.addedNodes.forEach((node) => {\n              // Check if the node is a DIV that might contain a canvas\n              if (node.tagName === "DIV") {\n                const matplotlibCanvas = node.querySelector("canvas");\n                if (matplotlibCanvas) {\n                  if (seenCanvas.has(matplotlibCanvas.id)) {\n                    return;\n                  }\n                  seenCanvas.add(matplotlibCanvas.id);\n                  node.remove()\n                  matplotlibCanvas.remove();\n                  if (matplotlibCanvas.id.includes("rubberband")) {\n                    return;\n                  }\n\n                  const imageData = matplotlibCanvas.toDataURL(\'image/png\');\n                  const img = document.createElement(\'img\');\n                  img.src = imageData;\n                  img.style.maxWidth = "100%";\n                  img.style.maxHeight = "100%";\n                  img.style.objectFit = "contain";\n                  chartContainer.appendChild(img);\n\n                  outputDiv.style.maxHeight = "10em";\n\n                  const originalCanvas = document.getElementById("canvas");\n                  if (originalCanvas) {\n                    originalCanvas.remove();\n                  }\n                }\n              }\n            });\n          });\n        });\n\n        observer.observe(document.body, { childList: true, subtree: true });\n      }\n\n      function streamOutput(text) {\n        if (outputDiv.textContent)\n        {\n          outputDiv.textContent += "\\n" + text;\n        }\n        else\n        {\n          outputDiv.textContent = text;\n        }\n        outputDiv.scrollTop = outputDiv.scrollHeight; // Auto-scroll\n        commandHistory = generateCommandHistory().reverse();\n      }\n\n      let stderrOutput = "";\n      function createStderrHandler() {\n        return {\n          write(text) {\n            replContainer.style.display = "block";\n\n            if (typeof text === \'object\') {\n              text = new TextDecoder().decode(text);\n            }\n\n            if (!stderrOutput)\n            {\n              outputDiv.textContent += "\\n";\n            }\n            stderrOutput += text;\n            console.error(\'STDERR:\', text);\n            outputDiv.textContent += text;\n            outputDiv.scrollTop = outputDiv.scrollHeight; // Auto-scroll\n            return text.length;\n          },\n          flush() {\n            outputDiv.textContent += "\\n";\n            stderrOutput = "";\n          }\n        };\n      }\n\n      async function main() {\n        redirectCanvas();\n\n        outputDiv = document.getElementById("output");\n        inputArea = document.getElementById("input");\n        chartContainer = document.getElementById("chart-container");\n        replContainer = document.getElementById("repl-container");\n        canvasContainer = document.getElementById("canvas-container");\n\n        pyodide = await loadPyodide();\n        pyodide._api._skip_unwind_fatal_error = true;\n        pyodide.setStdout({ batched: streamOutput });\n        pyodide.setStderr(createStderrHandler());\n\n        const sdl2Canvas = document.getElementById("canvas");\n        pyodide.canvas.setCanvas2D(sdl2Canvas);\n\n        await pyodide.loadPackage("micropip");\n        const micropip = pyodide.pyimport("micropip");\n        await micropip.install("pygame-ce");\n        await micropip.install("matplotlib");\n        outputDiv.textContent = "";\n\n        const pythonCode = document.getElementById("python-script");\n        await pyodide.loadPackagesFromImports(pythonCode?.textContent);\n\n        pyodide.runPythonAsync(pythonCode?.textContent).then(function(msg) {\n          if (pythonCode?.textContent.includes("import pygame")) {\n            replContainer.style.display = "none";\n            canvasContainer.classList.add("center-canvas");\n          }\n          if (pythonCode?.textContent.includes("import matplotlib")) {\n            replContainer.style.display = "none";\n          }\n        }).catch(function(msg) {\n          outputDiv.textContent = msg;\n        });\n\n        inputArea.focus();\n        inputArea.addEventListener("keydown", handleInput);\n\n      }\n\n      async function handleInput(event) {\n        if (\n          event.key === "ArrowUp" &&\n          commandHistoryIdx + 1 < commandHistory.length\n        ) {\n          commandHistoryIdx++;\n          inputArea.value = commandHistory[commandHistoryIdx];\n          setTimeout(() => {\n            inputArea.selectionStart = inputArea.value.length;\n            inputArea.selectionEnd = inputArea.value.length;\n          }, 0);\n        } else if (event.key === "ArrowDown" && commandHistoryIdx >= 0) {\n          commandHistoryIdx--;\n          inputArea.value = commandHistory[commandHistoryIdx] || "";\n          setTimeout(() => {\n            inputArea.selectionStart = inputArea.value.length;\n            inputArea.selectionEnd = inputArea.value.length;\n          }, 0);\n        } else if (event.key === "Enter" && !event.shiftKey) {\n          event.preventDefault();\n          const code = inputArea.value.trim();\n\n          if (code) {\n            outputDiv.textContent += "\\n>>> " + code;\n            inputArea.disabled = true;\n\n            try {\n              const result = await pyodide.runPythonAsync(code);\n              if (result !== undefined) {\n                outputDiv.textContent += "\\n" + result;\n              }\n            } catch (error) {\n              if (error.message)\n                outputDiv.textContent += "\\nError: " + error.message;\n            }\n            outputDiv.scrollTop = outputDiv.scrollHeight; // Auto-scroll\n            inputArea.disabled = false;\n            inputArea.value = "";\n            inputArea.focus();\n            commandHistory = generateCommandHistory().reverse();\n            commandHistoryIdx = -1;\n          }\n        }\n      }\n      main();\n    <\/script>\n  </body>\n</html>')}return(0,y.o0)(e)?es+"\n<script>\n  document.addEventListener('click', function(event) {\n    const anchor = event.target.closest('a');\n    if (anchor && anchor.getAttribute('href').startsWith('#')) {\n      event.preventDefault();\n      const targetId = anchor.getAttribute('href').substring(1);\n      const targetElement = document.getElementById(targetId);\n      if (targetElement) {\n        targetElement.scrollIntoView({ behavior: 'smooth' });\n      }\n    }\n  });\n<\/script>"+(s+t):t})(r,null!=V?V:"",ef.script),[r,V,ef.script]),eb=!N&&P.ENABLE_ARTIFACTS_EDITING&&!r.incomplete&&!q,ex=D.includes(null!=(s=r.contentType)?s:""),ew=el&&(!ef.loaded||r.incomplete),ev=ed&&(r.incomplete||!(null==ee?void 0:ee.stdout)||ea),ey=!T&&!r.incomplete&&!ei;return"csv"===B&&P.ENABLE_CSV_RENDERING?(0,a.jsx)(n.t,{fallbackRender:e=>{let{error:t,resetErrorBoundary:s}=e;return(0,a.jsx)(S,{error:t,resetErrorBoundary:s,artifact:r})},children:V&&(0,a.jsx)("div",{className:"flex flex-col items-center justify-center w-full mx-auto px-8",children:(0,a.jsx)(x.t2,{editable:eb,onContentUpdate:Y,content:V})})}):"spreadsheet"===B&&P.ENABLE_XLSX_RENDERING?(0,a.jsx)(n.t,{fallbackRender:e=>{let{error:t,resetErrorBoundary:s}=e;return(0,a.jsx)(S,{error:t,resetErrorBoundary:s,artifact:r})},children:V&&(0,a.jsx)("div",{className:"flex flex-col items-center justify-center w-full h-full mx-auto",children:(0,a.jsx)(v.r,{id:r.id,readOnly:r.incomplete,editable:!r.incomplete&&eb,content:V})})}):(0,a.jsx)(n.t,{fallbackRender:e=>{let{error:t,resetErrorBoundary:s}=e;return(0,a.jsx)(S,{error:t,resetErrorBoundary:s,artifact:r})},children:(0,a.jsxs)("div",{className:"bg-surface-l1 dark:bg-surface-inset h-full w-full overflow-y-auto",ref:O,children:[(0,a.jsx)("div",{className:"h-full w-full flex flex-col",children:(0,a.jsxs)("div",{className:"bg-surface-l1 dark:bg-surface-inset flex-1 flex relative flex-col max-h-full",children:["preview"===eg&&(0,a.jsx)("div",{className:(0,m.cn)("flex-1 bg-surface-l1 dark:bg-surface-inset",ex?void 0:"absolute w-full h-full left-0 z-10"),children:ex?(0,a.jsx)("div",{className:"prose w-full h-full max-w-full",children:(0,a.jsx)(et,{onAskGrok:eu,onExplain:eh,disabled:r.incomplete,children:(0,a.jsx)(en,{content:null!=V?V:"",isEditable:eb,onSetMenu:o,onUpdate:Y})})}):(0,a.jsx)(a.Fragment,{children:ev?(0,a.jsx)(W,{content:null!=V?V:"",isRunningCode:ea}):ew?(0,a.jsx)(G,{content:null!=V?V:""}):ey?(0,a.jsx)(j.Z,{srcDoc:ek,autofocus:!0}):(0,a.jsx)(F.g,{className:"pt-2 px-5",runCodeResult:ee,isRunningCode:ea})})}),ex?null:(0,a.jsx)(z,{syntax:Q,editable:eb,isStreaming:r.incomplete,value:null!=V?V:"",onContentUpdate:Y,autofocus:!0})]})}),U?(0,a.jsx)("div",{className:"absolute w-full z-50 right-0 pb-4 top-4 items-center gap-2 text-primary flex flex-row justify-center",children:(0,a.jsx)(u.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3,ease:"easeOut"},children:(0,a.jsxs)("div",{className:"flex justify-center items-center gap-2 bg-surface-l2 border border-border px-4 py-1 rounded-xl",children:[(0,a.jsx)(i.y,{size:"xs"}),L("file.editing","Editing")]})})}):null]})})}let en=e=>{let{content:t,isEditable:s,onUpdate:n,onSetMenu:i}=e;(0,f.useEffect)(()=>{void 0===window.isSpace&&(window.isSpace=function(e){return 32===e||9===e||10===e||11===e||12===e||13===e})},[]);let c=(0,o.l)({content:t,isEditable:s,onUpdate:n});return c?(0,a.jsx)(r.n,{content:null!=t?t:"",editor:c,editable:s,onSetMenu:i,autofocus:!0,className:"max-w-4xl"}):null};function er(e){if(e){if(e.includes("html"))return"html";if(e.includes("/")){var t;let s=e.split("/")[1].toLowerCase();return null!=(t=ee.$[s])?t:s}return e.startsWith("x-")?ee.$[e]||e.slice(2).toLowerCase():e.toLowerCase()}}function eo(e){return(0,f.useMemo)(()=>er(e),[e])}},1826:(e,t,s)=>{"use strict";s.d(t,{AM:()=>d,Wv:()=>g,hl:()=>m});var a=s(79342),n=s(7150),r=s(88382),o=s(61312),i=s(38541),c=s.n(i);let l=r.createContext({open:!0,setOpen:()=>{}}),d=e=>{let{...t}=e,[s,o]=r.useState(!1);return(0,a.jsx)(l.Provider,{value:{open:s,setOpen:o},children:(0,a.jsx)(n.bL,{open:s,...t})})},g=r.forwardRef((e,t)=>{let{hoverOpen:s,...o}=e,{open:i,setOpen:c}=r.useContext(l);return(0,a.jsx)(n.l9,{ref:t,...o,tabIndex:-1,onClick:()=>c(!i),onMouseEnter:s?()=>{s&&c(!0)}:void 0,onMouseLeave:s?()=>{s&&c(!1)}:void 0,style:{outline:"none"}})});n.Mz,n.i3;let m=r.forwardRef((e,t)=>{let{className:s,align:i="center",sideOffset:d=4,hoverOpen:g,closeOnClick:m,...p}=e,{setOpen:u}=r.useContext(l);return(0,r.useMemo)(()=>!!(!p.children||Array.isArray(p.children)&&0===c().filter(p.children,e=>!1!=e).length),[p.children])?null:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.ZL,{children:(0,a.jsx)(n.UC,{ref:t,align:i,sideOffset:d,className:(0,o.cn)("bg-surface-l4 dark:bg-surface-l4 text-fg-primary shadow-sm shadow-black/5 border border-border-l1","outline-none data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2","data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","rounded-xl",s),...p,onMouseEnter:g?()=>{g&&u(!0)}:void 0,onMouseLeave:g?()=>{g&&u(!1)}:void 0,onClick:m?e=>{var t;m&&u(!1),null==(t=p.onClick)||t.call(p,e)}:p.onClick,children:p.children})})})});m.displayName=n.UC.displayName},2074:(e,t,s)=>{"use strict";s.d(t,{_:()=>a});let a={base:"vs",inherit:!0,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{"editor.background":"#FDFDFC"}}},2262:(e,t,s)=>{"use strict";s.d(t,{ic:()=>c,mF:()=>i,mL:()=>o});var a=s(79342),n=s(61312),r=s(88382);function o(e){let{children:t,className:s}=e,r=(0,n.cn)("text-sm font-medium",s);return(0,a.jsx)("div",{className:r,children:t})}function i(e){let{children:t}=e;return(0,a.jsx)("div",{className:"text-xs text-secondary text-pretty",children:t})}function c(e){let{children:t,action:s,hidden:o,className:i}=e,c=(0,r.useId)();if(o)return null;let l=(0,r.isValidElement)(s)?(0,r.cloneElement)(s,{"aria-labelledby":c}):s;return(0,a.jsxs)("div",{className:"flex flex-row items-center justify-between w-full gap-4 px-3",children:[(0,a.jsx)("div",{className:(0,n.cn)("max-w-sm min-w-0",i),id:c,children:t}),(0,a.jsx)("div",{className:"text-right min-w-24 flex items-center justify-end",children:l})]})}},2280:(e,t,s)=>{"use strict";s.d(t,{l1:()=>l,pA:()=>d,tg:()=>c,uU:()=>g});var a=s(17703),n=s(38541),r=s.n(n),o=s(88382);function i(e){let{top:t,bottom:s,left:a,right:n}=e,r=document.createElement("div");return r.style.height="1px",r.style.width="100%",r.style.top=null!=t?t:"",r.style.bottom=null!=s?s:"",r.style.left=null!=a?a:"",r.style.right=null!=n?n:"",r.style.flexShrink="0",r.className="scroll-gradient-sentinel",r}function c(e){let{ref:t,direction:s="vertical"}=e,[n,c]=(0,o.useState)(!1),[p,u]=(0,o.useState)(!1),[h,f]=(0,o.useState)(!1),[k,b]=(0,o.useState)(!1),x=(0,o.useRef)(null),w=(0,o.useRef)(null),v=(0,o.useRef)(null),y=(0,o.useRef)(null),[j,N]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{if(!t.current)return;let e=t.current,n=[],r=null,o=null,c=null,l=null;"vertical"===s&&(o=i({top:"0"}),r=i({bottom:"0"}),e.prepend(o),e.append(r),x.current=o,w.current=r,n.push(o,r)),"bottom"===s&&(r=i({bottom:"0"}),e.append(r),w.current=r,n.push(r)),"horizontal"===s&&(c=i({left:"0"}),l=i({right:"0"}),c.style.height="100%",c.style.width="1px",l.style.height="100%",l.style.width="1px",e.prepend(c),e.append(l),v.current=c,y.current=l,n.push(c,l)),N(!0);let d=new MutationObserver(t=>{let s=!1;t.forEach(e=>{"childList"===e.type&&e.addedNodes.length>0&&e.addedNodes.forEach(e=>{e instanceof HTMLElement&&e.classList.contains("scroll-gradient-sentinel")||e.nodeType===Node.ELEMENT_NODE&&(s=!0)})}),s&&(r&&e.appendChild(r),o&&e.prepend(o),c&&e.prepend(c),l&&e.append(l))});return d.observe(e,{childList:!0,subtree:!1}),()=>{d.disconnect();try{n.forEach(e=>e.remove())}catch(e){(0,a.vV)("use-scroll-gradient:sentinel-clean-up",e)}N(!1)}},[t,s]),(0,o.useEffect)(()=>{if(!t.current)return;let e=new IntersectionObserver(e=>{let t=r().last(e);t&&c(t.isIntersecting)},{root:t.current,threshold:1}),a=new IntersectionObserver(e=>{let t=r().first(e);t&&u(t.isIntersecting)},{root:t.current,threshold:1}),n=new IntersectionObserver(e=>{let t=r().last(e);t&&f(t.isIntersecting)},{root:t.current,threshold:1}),o=new IntersectionObserver(e=>{let t=r().first(e);t&&b(t.isIntersecting)},{root:t.current,threshold:1});return x.current&&"vertical"===s&&e.observe(x.current),w.current&&("vertical"===s||"bottom"===s)&&a.observe(w.current),v.current&&"horizontal"===s&&n.observe(v.current),y.current&&"horizontal"===s&&o.observe(y.current),()=>{e.disconnect(),a.disconnect(),n.disconnect(),o.disconnect()}},[t,s]),(0,o.useMemo)(()=>{if(!j)return{};let e=[];if("vertical"!==s||n||e.push(l),"vertical"!==s&&"bottom"!==s||p||e.push(d),"horizontal"!==s||h||e.push(m),"horizontal"!==s||k||e.push(g),0===e.length)return{};let t=e.join(", ");return{maskImage:t,WebkitMaskImage:t,maskComposite:e.length>1?"intersect":"add"}},[n,p,h,k,j,s])}let l="linear-gradient(to top, black 85%, transparent 100%)",d="linear-gradient(to bottom, black 85%, transparent 100%)",g="linear-gradient(to right, black 85%, transparent 100%)",m="linear-gradient(to left, black 85%, transparent 100%)"},3218:(e,t,s)=>{"use strict";s.d(t,{d:()=>L});var a=s(79342),n=s(23232),r=s(34605),o=s(61312),i=s(88382),c=s(65146),l=s(38614),d=s(56691),g=s(11750),m=s(74995),p=s(57448),u=s(82767),h=s(44347);let f=(0,i.forwardRef)((e,t)=>{let{children:s}=e,n=(0,i.useRef)(null),[r,c]=(0,i.useState)(!0),[l,m]=(0,i.useState)(!1),[p,f]=(0,i.useState)(!0),b=(0,i.useRef)(()=>{}),x=(0,h.C$)(e=>e.userSettings.preferences.disableAutoScroll),w=(0,i.useCallback)(e=>{n.current&&(m(!1),n.current.scrollTo({top:n.current.scrollHeight,behavior:e}))},[]),v=(0,i.useCallback)(e=>{if(!e)return;let t=document.querySelector('div[data-scrollid="'.concat(e,'"]'));if(!t||!n.current)return;let{top:s}=k(t,n.current);n.current.scrollTo({top:s,behavior:"smooth"}),c(!1)},[]),y=(0,i.useCallback)(e=>{b.current=e},[]);(0,i.useEffect)(()=>{w("instant")},[]),(0,i.useImperativeHandle)(t,()=>{var e,t,s;return{scrollToId:v,setScrollToIdHandler:y,el:n.current,scrollHeight:null==(e=n.current)?void 0:e.scrollHeight,scrollTop:null==(t=n.current)?void 0:t.scrollTop,clientHeight:null==(s=n.current)?void 0:s.clientHeight}}),(0,i.useEffect)(()=>{if(!n.current)return;let e=new MutationObserver(()=>{if(!n.current)return void m(!1);let e=n.current.scrollHeight-n.current.scrollTop-n.current.clientHeight,t=e<5;if(t!==p&&f(t),m(!r&&e>15),r&&!t&&!x){w("smooth");let e=n.current.querySelectorAll("div[data-scrollid]"),t=e[e.length-1];if(t){var s;let e=null!=(s=t.getAttribute("data-scrollid"))?s:void 0;e&&b.current(e)}}});return e.observe(n.current,{childList:!0,subtree:!0}),()=>{e.disconnect()}},[p,r,x]);let j=(0,i.useCallback)(()=>{c(!1)},[]),N=(0,i.useCallback)(()=>{if(n.current){let e=function(e){return e.scrollHeight<e.scrollTop+e.clientHeight+5}(n.current);e!==p&&f(e),m(!e)}},[p]),C=(0,i.useCallback)(e=>{if(e.deltaY>0&&n.current&&!r){let e=n.current.scrollTop;e+n.current.clientHeight+50>=n.current.scrollHeight&&!x&&c(!0)}if(e.deltaY<0&&r&&j(),!n.current)return;let t=n.current.querySelectorAll("div[data-scrollid]");if(t.length>0){let e,a=n.current.scrollTop,r=n.current.clientHeight,o=n.current.scrollHeight,i=1/0;if(a<20)e=t[0];else if(a+r>=o-20)e=t[t.length-1];else{let s=a+r/2;for(let a of t){let{top:t}=k(a,n.current);if(s>t&&s<t+a.clientHeight){e=a;break}let r=Math.abs(s-(t+a.clientHeight/2));r<i&&(e=a,i=r)}}if(e){var s;let t=null!=(s=e.getAttribute("data-scrollid"))?s:void 0;b.current(t)}else b.current(void 0)}},[r,x]);return(0,a.jsxs)("div",{ref:n,className:(0,o.cn)("w-full h-full overflow-y-auto overflow-x-hidden scrollbar-gutter-stable no-scrollbar"),onScroll:N,onTouchStart:j,onWheel:C,onDragStart:j,onPointerDown:j,onResize:j,children:[s,l?(0,a.jsx)("div",{className:"absolute flex justify-center w-full h-0 pr-4 mx-auto -top-3",children:(0,a.jsx)("div",{className:(0,o.cn)("h-0 flex items-end justify-end w-full",u.Q,"px-2 z-40"),children:(0,a.jsx)(d.$n,{onClick:()=>c(!0),variant:"outline",size:"icon",className:"rounded-full bg-input backdrop-blur-sm size-8",children:(0,a.jsx)(g.yQN,{size:20,className:"-mb-0.5"})})})}):null]})});function k(e,t){let s=e.getBoundingClientRect(),a=t.getBoundingClientRect();return{top:s.top-a.top+t.scrollTop,left:s.left-a.left+t.scrollLeft}}var b=s(43086),x=s(84969),w=s(23054),v=s(82646);let y=e=>{let{header:t,isActive:s,isComplete:n,onClick:r}=e;return(0,a.jsxs)("div",{className:(0,o.cn)("flex items-start gap-2 group/header",s?void 0:"cursor-pointer"),onClick:r,children:[(0,a.jsx)(x.N,{children:n?(0,a.jsx)(w.P.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},className:"flex items-center bg-surface-base",children:(0,a.jsx)(v.pry,{className:(0,o.cn)("text-primary size-[22px] flex-shrink-0",s?void 0:"opacity-60 group-hover/header:opacity-100")})},"check"):(0,a.jsx)(w.P.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},className:"flex-shrink-0 flex items-center bg-background relative z-30",children:(0,a.jsx)(b.y,{size:"sm"})},"spinner")}),(0,a.jsx)("div",{className:"flex items-center text-white",children:(0,a.jsx)("div",{className:(0,o.cn)("text-sm text-primary font-medium max-w-full leading-6",s?void 0:"opacity-60 group-hover/header:opacity-100"),children:n?t:(0,a.jsx)(w.P.div,{style:{backgroundSize:"200% 100%"},animate:{backgroundPosition:["100% 0%","-100% 0%"]},transition:{duration:1,ease:"linear",repeat:Number.POSITIVE_INFINITY},children:t})})})]})};var j=s(30388);let N=e=>{let{isThinking:t,startTime:s,endTime:n,sourcesCount:r,deepsearchPreset:o}=e,{t:l}=(0,c.Bd)("chat"),[d,m]=(0,i.useState)(void 0),p=s&&n;return(0,i.useEffect)(()=>{if(!s)return;if(!t){s&&n&&m((n-s)/1e3);return}if(n)return void m((n-s)/1e3);let e=setInterval(()=>{m(((n||Date.now())-s)/1e3)},1e3);return()=>clearInterval(e)},[s,n,t]),(0,a.jsxs)("div",{className:"flex flex-col items-start gap-0 text-base space-x-1 transition-padding z-30 duration-200 focus:outline-none focus-within:outline-none transition-none",children:[(0,a.jsx)("div",{className:"flex h-full gap-1 w-full items-center justify-start text-primary px-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-1 overflow-hidden",children:[(0,a.jsx)("div",{className:"w-6 flex items-center justify-center",children:t?(0,a.jsx)(j.d,{}):(0,a.jsx)(g.WIv,{size:18,className:"text-primary text-nowrap shrink-0"})}),(0,a.jsx)("span",{className:"text-lg text-nowrap font-medium whitespace-nowrap",children:p?l("Completed","Completed"):"deeper"===o?l("DeeperSearch","DeeperSearch"):l("DeepSearch","DeepSearch")})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-center text-nowrap my-0 pl-10 leading-4 text-xs",children:[d&&(0,a.jsx)("span",{className:"text-secondary font-medium",children:function(e){let t=Math.floor(e/60),s=Math.floor(e%60);return 0===t?"".concat(s,"s"):"".concat(t,"m ").concat(s,"s")}(d)}),!!r&&!t&&(0,a.jsxs)(a.Fragment,{children:[d&&(0,a.jsx)("span",{className:"text-secondary font-medium mx-1",children:"\xb7"}),(0,a.jsx)("span",{className:"text-secondary font-medium",children:l("deepsearch-source-count-label",{count:r,defaultValue_one:"{{count}} source",defaultValue_other:"{{count}} sources"})})]})]})]})},C=e=>{var t,s,r;let{response:u,groups:h,visibleLastStep:k,isStreaming:b,isWide:x,toggleWide:w,scrollToSection:v}=e,{t:j}=(0,c.Bd)("chat"),C=(0,l.aP)(m.A("setSidePanelContent")),S=null==(t=u.steps)?void 0:t.some(e=>{var t;return null==(t=e.tags)?void 0:t.includes("assistant")}),I=(0,n._)(),T=(0,i.useCallback)(()=>(I("deep_search_trace_click",u.responseId,{location:"super-search-box"}),u.responseId&&C({type:"thinkingTrace",data:{responseId:u.responseId}}),null),[u.responseId,C,I]),E=e=>{var t;return e!==(null==(t=h[h.length-1])?void 0:t.id)||!!u.searchingEndTime||!b},{uniqueXPosts:R,uniqueWebSearchResults:A,uniqueBrowsedUrls:_}=(0,p.W)(u),O=A.length+R.length+_.length,P=(0,i.useMemo)(()=>h.slice(void 0,-1),[h]),M=(0,i.useMemo)(()=>h[h.length-1],[h]),L=u.thinkingStartTime?new Date(u.thinkingStartTime).getTime():void 0,D=u.thinkingEndTime?new Date(u.thinkingEndTime).getTime():void 0;return(0,a.jsxs)("div",{className:"relative flex flex-col w-2/5 h-full overflow-auto",children:[(0,a.jsxs)("div",{className:"pt-4 pb-2 relative overflow-visible",children:[(0,a.jsx)(N,{isThinking:!!(u.searchingStartTime&&!u.searchingEndTime)&&b,startTime:null!=(s=u.searchingStartTime)?s:L,endTime:null!=(r=u.searchingEndTime)?r:D,sourcesCount:O,hasError:"error"===u.state,deepsearchPreset:u.deepsearchPreset}),(0,a.jsx)("div",{className:"absolute left-0 top-[100%] w-full h-5 bg-gradient-to-b z-40 from-surface-base"})]}),(0,a.jsxs)(f,{children:[P.length>0?(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"relative z-20 flex flex-col px-4 w-full",children:P.map((e,t)=>(0,a.jsx)("div",{"data-scrollid":"menuitem_".concat(e.id),className:(0,o.cn)("w-full pt-3",t===P.length-1?"pb-6":"pb-3"),children:(0,a.jsx)(y,{isActive:k===e.id,onClick:()=>v(e.id),header:e.header,isComplete:E(e.id)})},e.id))}),(0,a.jsx)("div",{className:"absolute left-[26px] flex items-center justify-center top-0 pt-6 z-10 h-full",children:(0,a.jsx)("div",{className:"w-0.5 bg-border-l2 h-full"})})]}):null,M?(0,a.jsx)("div",{"data-scrollid":"menuitem_".concat(M.id),className:"w-full px-4 pb-6 relative z-40",children:(0,a.jsx)(y,{isActive:k===M.id,onClick:()=>v(M.id),header:M.header,isComplete:E(M.id)})},M.id):null]}),(0,a.jsxs)("div",{className:"pt-1 pb-3 px-3 relative overflow-visible",children:[(0,a.jsxs)("div",{className:"flex items-center justify-start",children:[(0,a.jsx)(d.gx,{tooltipContent:(0,a.jsx)("span",{children:j("Expand","Expand")}),tooltipContentProps:{side:"bottom"},tooltipProps:{delayDuration:500},variant:"ghostSecondary",size:"iconSm",onClick:w,children:x?(0,a.jsx)(g.Oy_,{size:18}):(0,a.jsx)(g.MQ_,{size:18})}),S?(0,a.jsx)(d.gx,{tooltipContent:(0,a.jsx)("span",{children:j("Show thinking","Show thinking")}),tooltipContentProps:{side:"bottom"},tooltipProps:{delayDuration:500},variant:"ghostSecondary",size:"iconSm",onClick:T,children:(0,a.jsx)(g.vMz,{size:20})}):null]}),(0,a.jsx)("div",{className:"absolute left-0 bottom-[100%] w-full h-5 bg-gradient-to-t z-40 from-surface-base"})]})]})};var S=s(69630),I=s(64838),T=s(67548),E=s(20873),R=s(57896);let A=e=>{var t;let{decision:s,webSearchResults:r}=e,o=(0,l.aP)(m.A("setSidePanelContent")),{t:p}=(0,c.Bd)(["base","chat"]),u=(0,n._)(),h=(0,i.useCallback)(()=>{u("show_all_research_box_search_results",void 0,{location:"searching-step"}),o({type:"webSearchResults",data:{webSearchResults:r}})},[u,o,r]),f=(0,i.useMemo)(()=>r.slice(0,5),[r]);return(0,a.jsxs)("div",{className:"w-full flex flex-col",children:[(0,a.jsx)(w.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeIn"},className:"flex items-center gap-3 px-5",children:(0,a.jsxs)("div",{className:"text-primary flex justify-start items-start",children:[(0,a.jsx)("div",{className:"min-w-[26px] mt-2",children:(0,a.jsx)(g.WIv,{size:12,className:"text-secondary"})}),(0,a.jsx)("span",{children:(0,a.jsx)(c.x6,{ns:"chat",i18nKey:"super-search-searching-for",defaults:'Searching for <bold>"{{query}}"</bold>',values:{query:null==s||null==(t=s.action_input)?void 0:t.query},components:{bold:(0,a.jsx)("strong",{})}})})]})}),(0,a.jsx)(w.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeIn"},className:"flex items-center gap-3 px-5",children:(0,a.jsxs)("div",{className:"text-primary flex justify-start items-start",children:[(0,a.jsx)("div",{className:"min-w-[26px] mt-2",children:(0,a.jsx)(g.kpM,{size:12,className:"text-secondary"})}),(0,a.jsx)("span",{children:p("webResultsFound",{count:r.length,ns:"base",defaultValue_one:"one result found",defaultValue_other:"{{count}} results found"})})]})}),(0,a.jsx)("div",{className:"relative w-full h-full pl-12 pr-4 mb-2 mt-3",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("div",{className:"flex flex-col gap-3",children:f.map((e,t)=>(0,a.jsx)("div",{className:"w-full max-w-full overflow-hidden relative",children:(0,a.jsxs)("div",{className:"flex max-w-full items-start",children:[e.favicon?(0,a.jsx)("img",{src:e.favicon,alt:"favicon",className:"m-0 me-3 w-3 h-3"}):null,(0,a.jsx)("div",{className:"max-w-full text-primary text-sm h-4 leading-3 whitespace-nowrap overflow-hidden text-ellipsis",children:(0,a.jsx)("a",{href:e.url,target:"_blank",className:"max-w-full !decoration-transparent hover:!decoration-secondary",children:e.title})}),(0,a.jsx)("div",{className:"ms-1 text-secondary text-xs leading-4 text-nowrap",children:e.url?(0,R.TG)(e.url):void 0})]})},t+":"+e.url))}),(0,a.jsx)("div",{className:"w-full relative flex justify-start items-start mt-2",children:(0,a.jsx)("div",{className:"text-secondary text-sm ",children:(0,a.jsx)(d.$n,{onClick:h,variant:"ghost",className:"text-secondary hover:text-primary p-0 h-auto hover:bg-transparent",children:r.length<=f.length?p("See all","See all",{ns:"chat"}):p("See more","See more",{ns:"chat"})+" (".concat(r.length-f.length,")")})})})]})}),(0,a.jsx)(w.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeIn"},className:"flex items-center gap-3 px-5",children:(0,a.jsxs)("div",{className:"text-primary flex justify-start items-start",children:[(0,a.jsx)("div",{className:"min-w-[26px] mt-2",children:(0,a.jsx)(g.fCU,{size:12,className:"text-secondary"})}),(0,a.jsx)(c.x6,{ns:"base",i18nKey:"Browsing results",children:"Browsing results"})]})})]})},_=[],O=e=>{var t,s,n,r;let{isStreaming:p,step:u,stepId:h}=e,{t:f}=(0,c.Bd)("chat"),k=(0,l.aP)(m.A("setSidePanelContent")),b=(0,i.useRef)(!1),v=p?S.Cn:S.Ad,y=(()=>{if(!u.tags||!u.text)return null;let e=u.tags.indexOf("decision");if(-1===e)return null;let t=u.text[e];if(!t)return null;try{return JSON.parse(t)}catch(e){return null}})(),j=(0,i.useRef)(null),N=(()=>{if(!u.tags||!u.text)return null;let e=u.tags.indexOf("summary");return -1===e?null:u.text[e]})();b.current||(j.current=null!=N?N:null);let C=(0,i.useCallback)(()=>{var e;u.xposts&&(null==(e=u.xposts)?void 0:e.length)>0&&k({type:"xPosts",data:u.xposts})},[u.xposts,k]);(u.webSearchResults&&u.webSearchResults.length>0||(null==y?void 0:y.action)==="browse_page"||u.xposts&&u.xposts.length>0)&&(b.current=!0);let R=p?{delay:.2,duration:.2,ease:"easeIn"}:{},O=null!=(r=null==(t=j.current)?void 0:t.split("\n").filter(Boolean))?r:[];return(0,a.jsx)(x.N,{children:(0,a.jsxs)("div",{className:(0,o.cn)("flex flex-col gap-1 mt-1","[&_ul]:m-0 marker:text-secondary","[&_a]:text-primary [&_a]:decoration-solid [&_a]:decoration-secondary [&_a]:underline","[&_a:hover]:text-secondary [&_a]:underline-offset-2 [&_a]:font-medium"),children:[O.map((e,t)=>(0,a.jsx)(w.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:R,children:(0,a.jsx)("div",{className:"overflow-x-auto px-5 leading-6",children:(0,a.jsx)(v,{sender:"assistant",webSearchResults:u.webSearchResults||_,xposts:u.xposts||_,isNested:!0,shouldRenderHtml:!0,children:e})})},"summary-".concat(h,"-").concat(t))),u.webSearchResults&&u.webSearchResults.length>0&&(0,a.jsx)(w.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:R,children:(0,a.jsx)(A,{decision:y,webSearchResults:u.webSearchResults})},"webresults-".concat(h)),(null==y?void 0:y.action)==="browse_page"&&y.action_input.url&&(0,a.jsx)(w.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:R,children:(0,a.jsx)("div",{className:"flex items-center gap-3 px-5",children:(0,a.jsxs)("div",{className:"text-primary flex justify-start items-start",children:[(0,a.jsx)("div",{className:"min-w-[26px] mt-2",children:(0,a.jsx)(g.fCU,{size:12,className:"text-secondary"})}),(0,a.jsx)("span",{children:(0,a.jsx)(T.o,{url:y.action_input.url,query:y.action_input.query})})]})})},"browse_page-".concat(h)),(null==y?void 0:y.action)==="finance_data_code_executor"&&y.action_input.code&&(0,a.jsx)(w.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:R,children:(0,a.jsx)(E.z,{code:y.action_input.code,className:"px-5"})},"finance_data_code_executor-".concat(h)),u.xposts&&u.xposts.length>0?(0,a.jsx)(w.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:R,children:(0,a.jsxs)("div",{className:"w-full flex flex-col gap-2 pb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 px-5",children:[(0,a.jsxs)("div",{className:"text-primary flex justify-start items-start",children:[(0,a.jsx)("div",{className:"min-w-[26px] text-sm mt-0.5 text-secondary font-bold",children:"\uD835\uDD4F"}),(0,a.jsx)("span",{children:(null==y||null==(s=y.action_input)?void 0:s.query)?(0,a.jsx)(c.x6,{ns:"chat",i18nKey:"super-search-box-step.xposts-with-query",defaults:'Searching on X for <bold>"{{query}}"</bold>',values:{query:null==y||null==(n=y.action_input)?void 0:n.query},components:{bold:(0,a.jsx)("strong",{})}}):f("super-search-box-step.xposts-without-query","Searching on X for")})]}),(0,a.jsx)(d.$n,{variant:"ghostSecondary",size:"sm",className:"rounded-full transition-all me-0.5",onClick:C,children:f("See all","See all")})]}),(0,a.jsx)("div",{className:"relative w-full h-full",children:(0,a.jsx)("div",{className:"flex gap-3 w-full h-full items-stretch overflow-x-auto pr-4 pb-2 pl-11",children:u.xposts.map((e,t)=>(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(I.N,{post:e})},t))})})]})},"xposts-".concat(h)):null]})})},P=(0,i.forwardRef)((e,t)=>{let{responseId:s,className:n,groups:r,isStreaming:i=!1}=e;return(0,a.jsx)("div",{className:(0,o.cn)("w-full h-full overflow-hidden relative flex flex-col items-start border-l border-border-l1 bg-surface-l1",n),children:(0,a.jsx)(f,{ref:t,children:(0,a.jsx)("div",{className:"flex flex-col pb-5 pt-2",children:r.map(e=>(0,a.jsx)(M,{group:e,responseId:s,isStreaming:i},e.id))})})})}),M=e=>{let{responseId:t,group:s,isStreaming:n}=e;return(0,a.jsx)(x.N,{children:(0,a.jsxs)("div",{"data-scrollid":s.id,children:[(0,a.jsx)(w.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:n?{delay:.2,duration:.2,ease:"easeIn"}:{},children:(0,a.jsx)("div",{className:"text-md text-primary font-medium px-6 pt-5",children:s.header})},"title-".concat(s.id)),s.steps.map((e,r)=>(0,a.jsx)("div",{id:"".concat(t,"_section_").concat(r),children:(0,a.jsx)(O,{stepId:"step_".concat(s.id,"_").concat(r),step:e,isStreaming:n},"step_".concat(r))},"".concat(t,"_section_").concat(r)))]})})};function L(e){var t;let{response:s,isStreaming:l}=e,{t:d}=(0,c.Bd)("chat"),g=(0,n._)(),[m,p]=(0,i.useState)(!1),u=(0,i.useRef)(null),[h,f]=(0,i.useState)(),k=(()=>{if(!s.steps)return[];let e=[];return s.steps.forEach((t,a)=>{var n,o,i,c;let l=t.tags.indexOf("header")>-1;if(!l&&0===a)return void e.push({id:(0,r.P)({header:d("deepsearch-thinking","Thinking"),responseId:null!=(n=s.responseId)?n:"",index:a}),header:d("deepsearch-thinking","Thinking"),steps:[t]});if(l){let n=(null==(i=t.text)?void 0:i[(null==(o=t.tags)?void 0:o.indexOf("header"))||0])||"";e.push({id:(0,r.P)({header:n,responseId:null!=(c=s.responseId)?c:"",index:a}),header:n,steps:[t]});return}e[e.length-1].steps.push(t)}),e})(),b=(0,i.useCallback)(e=>{var t,a;u.current&&(g("scroll_to_research_box_section",e,{location:"research-box",responseId:null!=(t=s.responseId)?t:"",conversationId:null!=(a=s.conversationId)?a:""}),u.current.scrollToId(e),f(e))},[g,s.responseId,s.conversationId]),x=(0,i.useCallback)(()=>{var e,t;let a=!m;g("toggle_research_box_wide",a?"wide":"narrow",{location:"research-box",responseId:null!=(e=s.responseId)?e:"",conversationId:null!=(t=s.conversationId)?t:""}),p(a)},[g,m,s.responseId,s.conversationId]),w=(0,i.useMemo)(()=>k[k.length-1],[k]),v=null!=h?h:null==w?void 0:w.id;return((0,i.useLayoutEffect)(()=>{u.current&&u.current.setScrollToIdHandler(e=>{f(e)})},[null==w?void 0:w.id]),(0,i.useLayoutEffect)(()=>{let e=document.querySelector("div[data-scrollid=menuitem_".concat(h,"]"));e&&e.scrollIntoView({block:"nearest",behavior:"smooth"})},[h]),s.hasImages||(!s.searchingStartTime||["closed","error"].includes(null!=(t=s.state)?t:""))&&(!s.steps||0===s.steps.length)||!v)?null:(0,a.jsx)("div",{className:(0,o.cn)("super-search-box","relative border border-border-l1 bg-surface-base rounded-2xl overflow-clip h-[500px] transition-[height,width] duration-1000 mb-4",m?"@[1600px]/mainview:-mx-32 @6xl/mainview:-mx-12 @lg/mainview:-mx-32 @md/mainview:-mx-4 h-[70vh]":"@md/mainview:-mx-4  h-[500px]"),children:(0,a.jsxs)("div",{className:"absolute text-secondary w-full h-full overflow-y-clip flex",children:[(0,a.jsx)(C,{groups:k,isStreaming:l,isWide:m,visibleLastStep:v,response:s,scrollToSection:b,toggleWide:x}),(0,a.jsx)("div",{className:"gap-3 relative min-h-full w-full h-full",children:(0,a.jsx)("div",{className:"absolute w-full transition-colors overflow-hidden group/trace h-full",children:(0,a.jsx)(P,{ref:u,responseId:s.responseId,groups:k,showMask:!1,className:"",isStreaming:l,linesCount:20})})})]})})}},3353:(e,t,s)=>{"use strict";s.d(t,{Q:()=>r});var a=s(65258);class n{constructor(e,t){this.set=e,this.get=t,this.shareDialogIsOpen=!1,this.dialogProps=null,this.setShareDialogIsOpen=(0,a.kp)(this.set,"shareDialogIsOpen"),this.setDialogProps=(0,a.kp)(this.set,"dialogProps"),this.openShareDialog=e=>{this.setShareDialogIsOpen(!0),this.setDialogProps(e)},this.closeShareDialog=()=>{this.setShareDialogIsOpen(!1),this.setDialogProps(null)}}}let r=(0,a.y$)(n,"useShareStore")},3547:(e,t,s)=>{"use strict";s.d(t,{ar:()=>w,Ln:()=>b,Tj:()=>i,Pt:()=>o});var a=s(79342),n=s(11750),r=s(65146);let o={flag:n.lNU,home:n.ww0,star:n.FEq,heart:n.B1N,globe:n.qzq,unlock:n.$VH,smile:n.pnY,shield:n.ekZ,bell:n.IrQ,mail:n.gE4,phone:n.bcf,user:n.KJW,stethoscope:n.oYO,calendar:n.VvS,clock:n.zD7,hourglass:n.DxU,sun:n.bd5,moon:n.AX$,monitor:n.VAG,umbrella:n.Xnh,leaf:n.hK,utensils:n.QSp,bug:n.zPv,fish:n.Tk3,bird:n.Qkj,cat:n.Frs,"flask-conical":n.dWV,rocket:n.f36,plane:n.Zcv,car:n.THT,truck:n.eMd,train:n.XFe,camera:n.i7d,video:n.CeX,music:n.MjG,headphones:n.oUU,microscope:n.LLK,archive:n.Tde,"book-open":n.Gyj,zap:n.KqI,wrench:n.IFY,"sticky-note":n.GJ1,"cup-soda":n.Mef,scale:n.FE9,film:n.Lc_,palette:n.esB,cpu:n.fX,calculator:n.tEU,laptop:n.VuX,briefcase:n.ZHz,highlighter:n.MDJ,"clipboard-list":n.ZMX,component:n.uAl,building:n.t6i,flame:n.Q5j,play:n.jGG,diamond:n.JBx,database:n.WmV,aperture:n.FAZ,glasses:n.ljW,shirt:n.djD,banana:n.URn,beer:n.b2H,apple:n.ZFO,carrot:n.ECU,cherry:n.GeJ,gem:n.gDK,gamepad:n.Ucg,"chef-hat":n.sEC,music2:n.edz,"dollar-sign":n.G9t,coffee:n.vLn,tag:n.vwO,sailboat:n.cUX,"graduation-cap":n.XIJ,anchor:n.MzZ,pin:n.yUp,compass:n.FLn,code:n.gGA,droplet:n.RSl,box:n.azJ},i=["gray","red","orange","yellow","lime","teal","green","blue","purple","pink"],c={flag:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.flag.name",defaults:"Flag"}),home:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.home.name",defaults:"Home"}),star:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.star.name",defaults:"Star"}),heart:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.heart.name",defaults:"Heart"}),globe:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.globe.name",defaults:"Globe"}),unlock:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.unlock.name",defaults:"Unlock"}),smile:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.smile.name",defaults:"Smile"}),shield:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.shield.name",defaults:"Shield"}),bell:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.bell.name",defaults:"Bell"}),mail:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.mail.name",defaults:"Mail"}),phone:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.phone.name",defaults:"Phone"}),user:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.user.name",defaults:"User"}),stethoscope:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.stethoscope.name",defaults:"Stethoscope"}),calendar:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.calendar.name",defaults:"Calendar"}),clock:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.clock.name",defaults:"Clock"}),hourglass:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.hourglass.name",defaults:"Hourglass"}),sun:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.sun.name",defaults:"Sun"}),moon:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.moon.name",defaults:"Moon"}),monitor:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.monitor.name",defaults:"Monitor"}),umbrella:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.umbrella.name",defaults:"Umbrella"}),leaf:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.leaf.name",defaults:"Leaf"}),utensils:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.utensils.name",defaults:"Utensils"}),bug:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.bug.name",defaults:"Bug"}),fish:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.fish.name",defaults:"Fish"}),bird:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.bird.name",defaults:"Bird"}),cat:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.cat.name",defaults:"Cat"}),"flask-conical":(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.flask-conical.name",defaults:"Flask Conical"}),rocket:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.rocket.name",defaults:"Rocket"}),plane:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.plane.name",defaults:"Plane"}),car:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.car.name",defaults:"Car"}),truck:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.truck.name",defaults:"Truck"}),train:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.train.name",defaults:"Train"}),camera:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.camera.name",defaults:"Camera"}),video:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.video.name",defaults:"Video"}),music:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.music.name",defaults:"Music"}),headphones:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.headphones.name",defaults:"Headphones"}),microscope:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.microscope.name",defaults:"Microscope"}),archive:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.archive.name",defaults:"Archive"}),"book-open":(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.book-open.name",defaults:"Book Open"}),zap:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.zap.name",defaults:"Zap"}),wrench:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.wrench.name",defaults:"Wrench"}),"sticky-note":(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.sticky-note.name",defaults:"Sticky Note"}),"cup-soda":(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.cup-soda.name",defaults:"Cup Soda"}),scale:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.scale.name",defaults:"Scale"}),film:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.film.name",defaults:"Film"}),palette:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.palette.name",defaults:"Palette"}),cpu:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.cpu.name",defaults:"CPU"}),calculator:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.calculator.name",defaults:"Calculator"}),laptop:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.laptop-2.name",defaults:"Laptop"}),briefcase:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.briefcase.name",defaults:"Briefcase"}),highlighter:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.highlighter.name",defaults:"Highlighter"}),"clipboard-list":(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.clipboard-list.name",defaults:"Clipboard List"}),component:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.component.name",defaults:"Component"}),building:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.building-2.name",defaults:"Building"}),flame:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.flame.name",defaults:"Flame"}),play:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.play.name",defaults:"Play"}),diamond:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.diamond.name",defaults:"Diamond"}),database:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.database.name",defaults:"Database"}),aperture:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.aperture.name",defaults:"Aperture"}),glasses:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.glasses.name",defaults:"Glasses"}),shirt:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.shirt.name",defaults:"Shirt"}),banana:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.banana.name",defaults:"Banana"}),beer:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.beer.name",defaults:"Beer"}),apple:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.apple.name",defaults:"Apple"}),carrot:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.carrot.name",defaults:"Carrot"}),cherry:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.cherry.name",defaults:"Cherry"}),gem:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.gem.name",defaults:"Gem"}),gamepad:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.gamepad-2.name",defaults:"Gamepad"}),"chef-hat":(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.chef-hat.name",defaults:"Chef Hat"}),music2:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.music-2.name",defaults:"Music Note"}),"dollar-sign":(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.dollar-sign.name",defaults:"Dollar Sign"}),coffee:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.coffee.name",defaults:"Coffee"}),tag:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.tag.name",defaults:"Tag"}),sailboat:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.sailboat.name",defaults:"Sailboat"}),"graduation-cap":(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.graduation-cap.name",defaults:"Graduation Cap"}),anchor:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.anchor.name",defaults:"Anchor"}),pin:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.pin.name",defaults:"Pin"}),compass:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.compass.name",defaults:"Compass"}),code:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.code-2.name",defaults:"Code"}),droplet:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.droplet.name",defaults:"Droplet"}),box:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"icon.box.name",defaults:"Box"})},l={gray:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"color.gray.name",defaults:"Gray"}),red:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"color.red.name",defaults:"Red"}),orange:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"color.orange.name",defaults:"Orange"}),yellow:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"color.yellow.name",defaults:"Yellow"}),lime:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"color.lime.name",defaults:"Lime"}),teal:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"color.teal.name",defaults:"Teal"}),green:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"color.green.name",defaults:"Green"}),blue:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"color.blue.name",defaults:"Blue"}),purple:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"color.purple.name",defaults:"Purple"}),pink:(0,a.jsx)(r.x6,{ns:"base",i18nKey:"color.pink.name",defaults:"Pink"})};var d=s(61312),g=s(88382),m=s(56691),p=s(1826),u=s(41320),h=s(16506);let f={gray:"text-gray-400",red:"text-red-400",orange:"text-orange-400",yellow:"text-yellow-400",lime:"text-lime-400",teal:"text-teal-400",green:"text-green-400",blue:"text-blue-400",purple:"text-purple-400",pink:"text-pink-400"},k={gray:"text-gray-300",red:"text-red-300",orange:"text-orange-300",yellow:"text-yellow-300",lime:"text-lime-300",teal:"text-teal-300",green:"text-green-300",blue:"text-blue-300",purple:"text-purple-300",pink:"text-pink-300"},b=(0,g.memo)(e=>{let{value:t,className:s,size:n}=e,{resolvedTheme:r}=(0,h.D)(),i="dark"===r,c=o[t.icon],l=(0,d.cn)("size-4",i&&k[t.color],i||f[t.color],s);return(0,a.jsx)(c,{className:l,size:n})}),x=(0,g.memo)(e=>{let{icon:t,onSelect:s}=e,n=(0,u.Di)(),[r,d]=(0,g.useState)(!1),h=o[t],f=n?"iconMd":"iconSm",k=e=>{d(!1),s({icon:t,color:e})};return(0,a.jsxs)(p.AM,{modal:!0,open:r,onOpenChange:d,children:[(0,a.jsx)(p.Wv,{asChild:!0,children:(0,a.jsxs)(m.$n,{variant:"ghost",size:"iconSm",children:[(0,a.jsx)("label",{className:"sr-only",children:c[t]}),(0,a.jsx)(h,{className:"size-4"})]})}),(0,a.jsx)(p.hl,{className:"grid grid-cols-5 p-2",align:"start",alignOffset:-9,children:i.map(e=>(0,a.jsxs)(m.$n,{size:f,variant:"ghost",overideIconStyle:!0,onClick:()=>k(e),children:[(0,a.jsx)("label",{className:"sr-only",children:l[e]}),(0,a.jsx)(b,{value:{icon:t,color:e}})]},e))})]},t)}),w=(0,g.memo)(e=>{let{onSelect:t,className:s}=e,n=(0,g.useMemo)(()=>Object.keys(o).sort(),[]),r=(0,d.cn)("grid grid-cols-9 items-center justify-items-stretch p-2 ",s);return(0,a.jsx)("div",{className:r,children:n.map(e=>(0,a.jsx)("div",{className:"aspect-square flex items-center justify-center",children:(0,a.jsx)(x,{icon:e,onSelect:t})},e))})})},3665:(e,t,s)=>{"use strict";s.d(t,{J1:()=>d,Ll:()=>m,fZ:()=>g,x9:()=>i});var a=s(80119),n=s(30853),r=s(16535),o=s(49159);function i(e){if("element"!==e.type||"table"!==e.tagName)throw Error("Expected a <table> element");let t=(0,a.Lt)("thead tr",e);return{headers:t?(0,a.Ub)("th,td",t).map(r.d).map(e=>e.trim()):[],rows:((0,a.Ub)("tbody tr",e).length?(0,a.Ub)("tbody tr",e):(0,a.Ub)("tr",e).filter(e=>e!==t)).map(e=>(0,a.Ub)("th,td",e).map(r.d).map(e=>e.trim()))}}let c={csv:",",tsv:"	"};function l(e,t){let s=e.includes(t)||e.includes("\n")||e.includes('"'),a=e.replace(/"/g,'""');return s?'"'.concat(a,'"'):a}function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"csv",{headers:s,rows:a}=i(e),n=c[t],r=[];for(let e of(s.length&&r.push(s.map(e=>l(e.trim(),n)).join(n)),a))r.push(e.map(e=>l(e.trim(),n)).join(n));return r.join("\n")}function g(e,t){let s=d(e,"csv"),a='<style type="text/css">\x3c!--br {mso-data-placement:same-cell;}--\x3e</style>'+(0,n.V)(e),r=e=>{var t;null==(t=window.navigator.clipboard)||t.writeText(e)};if((null==(o=window.navigator.clipboard)?void 0:o.write)!==void 0||(null==t?void 0:t.clipboardData)!==void 0){var o,i,c,l,g,m;try{if(void 0===t||null===t.clipboardData)throw Error("No clipboard data");null==t||null==(i=t.clipboardData)||i.setData("text/plain",s),null==t||null==(c=t.clipboardData)||c.setData("text/html",a)}catch(e){l=s,g=a,(null==(m=window.navigator.clipboard)?void 0:m.write)!==void 0&&(window.navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([l],{type:"text/plain"}),"text/html":new Blob([g],{type:"text/html"})})]),1)||r(s)}}else r(s);null==t||t.preventDefault()}function m(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.length)return(0,o.h)("table");let[s,...a]=e,n=e=>t=>(0,o.h)("tr",t.map(t=>(0,o.h)(e,t))),r=t&&s?(0,o.h)("thead",n("th")(s)):null,i=(0,o.h)("tbody",(t?a:e).map(n("td")));return(0,o.h)("table",[r,i].filter(Boolean))}},3683:(e,t,s)=>{"use strict";s.d(t,{M:()=>h,_:()=>f});var a=s(79342),n=s(19093),r=s(17703),o=s(40873),i=s(65258),c=s(95158),l=s(81858),d=s(85423),g=s(65146),m=s(14908),p=s(51182);class u{constructor(e,t){this.set=e,this.get=t,this.byId={},this.permissionsById={},this.list=[],this.listStatus="initial",this.listPageToken="",this.createDialogIsOpen=!1,this.sidePanelExpanded=!0,this.clear=()=>{this.set(this.initialState)},this.loadFirstPage=async()=>{let e=null===n.sessionStoreState||void 0===n.sessionStoreState?void 0:n.sessionStoreState.getState();if((null==e?void 0:e.user)&&"loading"!==this.get().listStatus){this.set(e=>{e.list=[],e.listStatus="loading",e.listPageToken=""});try{var t;let e=await c.Em.workspaceRepositoryListWorkspaces({pageSize:50,orderBy:"ORDER_BY_LAST_USE_TIME"}),s=null!=(t=e.workspaces)?t:[],a=e.nextPageToken||"";this.set(e=>{e.listStatus="ready",e.listPageToken=a,e.list=s.map(t=>{let s=k(t);return e.byId[s.workspaceId]=(0,i.ok)(s),s.workspaceId})})}catch(e){(0,r.vV)("workspace-store.loadFirstPage",e),this.set(e=>{e.listStatus="error"})}}},this.loadNextPage=async()=>{let{listStatus:e,listPageToken:t}=this.get();if("loading"!==e&&t){this.set(e=>{e.listStatus="loading"});try{var s;let e=await c.Em.workspaceRepositoryListWorkspaces({pageSize:50,orderBy:"ORDER_BY_LAST_USE_TIME",pageToken:t}),a=null!=(s=e.workspaces)?s:[],n=e.nextPageToken||"";this.set(e=>{for(let t of(e.listStatus="ready",e.listPageToken=n,a)){let s=k(t);e.byId[s.workspaceId]=(0,i.ok)(s),e.list.includes(s.workspaceId)||e.list.push(s.workspaceId)}})}catch(e){(0,r.vV)("workspace-store.loadNextPage",e),this.set(e=>{e.listStatus="error"})}}},this.loadWorkspace=async e=>{this.set(t=>{t.byId[e]?t.byId[e].status:t.byId[e]={status:"loading",data:null,error:null}});try{let t=await c.Em.workspaceRepositoryGetWorkspace({workspaceId:e}),s=k(t);this.set(t=>{t.byId[e]=(0,i.ok)(s)})}catch(t){(0,r.vV)("workspace-store.loadWorkspace",t),this.set(s=>{s.byId[e]=(0,i._q)(t)})}},this.deleteWorkspace=async e=>{let{list:t}=this.get(),s=t.indexOf(e);this.set(t=>{t.list=l.A([e],t.list)});try{await c.Em.workspaceRepositoryDeleteWorkspace({workspaceId:e}),this.set(t=>{delete t.byId[e]})}catch(t){(0,r.vV)("workspace-store.deleteWorkspace",t),this.set(t=>({list:d.A(s,e,t.list)})),m.oR.error((0,a.jsx)(g.x6,{ns:"workspace",i18nKey:"workspace-store-delete.error",defaults:"Error when deleting workspace"}))}},this.createWorkspace=async e=>{try{let t=await c.Em.workspaceRepositoryCreateWorkspace({body:{name:e.name,icon:e.icon,customPersonality:e.customPersonality}}),s=k(t);return this.set(e=>{e.byId[s.workspaceId]=(0,i.ok)(s),e.list.unshift(s.workspaceId)}),s}catch(e){throw(0,r.vV)("workspace-store.createWorkspace",e),m.oR.error((0,a.jsx)(g.x6,{ns:"workspace",i18nKey:"workspace-store-delete.error",defaults:"Error when creating workspace"})),e}},this.updateWorkspace=async(e,t)=>{var s;let n=null==(s=this.get().byId[e])?void 0:s.data;this.set(s=>{var a;(null==(a=s.byId[e])?void 0:a.data)&&n&&(s.byId[e].data={...n,...t})});try{let s=await c.Em.workspaceRepositoryUpdateWorkspace({workspaceId:e,body:t}),a=k(s);this.set(t=>{t.byId[e]=(0,i.ok)(a)})}catch(t){(0,r.vV)("workspace-store.updateWorkspace",t),n&&this.set(t=>{t.byId[e]=(0,i.ok)(n)}),m.oR.error((0,a.jsx)(g.x6,{ns:"workspace",i18nKey:"workspace-store-delete.error",defaults:"Error when updating project"}))}},this.cloneWorkspace=async(e,t)=>{try{let s=await c.Em.workspaceRepositoryCloneWorkspace({workspaceId:e,body:null!=t?t:{}}),a=k(s);return this.set(e=>{e.byId[a.workspaceId]=(0,i.ok)(a),e.list.unshift(a.workspaceId)}),a}catch(e){throw(0,r.vV)("workspace-store.cloneWorkspace",e),m.oR.error((0,a.jsx)(g.x6,{ns:"workspace",i18nKey:"workspace-store-clone.error",defaults:"Error when cloning project"})),e}},this.loadWorkspacePermissions=async e=>{this.set(t=>{t.permissionsById[e]?t.permissionsById[e].status:t.permissionsById[e]={status:"loading",data:null,error:null}});try{let t=await c.Em.workspaceRepositoryGetWorkspacePermissions({workspaceId:e}),s=t.permissions?b(t.permissions):null;this.set(t=>{t.permissionsById[e]=(0,i.ok)(s)})}catch(t){(0,r.vV)("workspace-store.loadWorkspacePermissions",t),this.set(s=>{s.permissionsById[e]=(0,i._q)(t)})}},this.setProjectPublicAccess=async(e,t)=>{var s,a;let n=null==(a=this.get().permissionsById[e])||null==(s=a.data)?void 0:s.publicAccess,o=t?"ACCESS_LEVEL_READ":"ACCESS_LEVEL_NONE";this.set(t=>{var s;(null==(s=t.permissionsById[e])?void 0:s.data)&&(t.permissionsById[e].data.publicAccess=o)});try{let s=await c.Em.workspaceRepositorySetProjectPublicAccess({workspaceId:e,body:{accessLevel:t?"ACCESS_LEVEL_READ":"ACCESS_LEVEL_NONE"}}),a=s.permissions?b(s.permissions):null;this.set(t=>{t.permissionsById[e]=(0,i.ok)(a)})}catch(t){(0,r.vV)("workspace-store.setProjectPublicAccess",t),this.set(t=>{var s;(null==(s=t.permissionsById[e])?void 0:s.data)&&n&&(t.permissionsById[e].data.publicAccess=n)})}},this.setProjectEmailAccess=async(e,t,s)=>{var n;let o=s?"ACCESS_LEVEL_READ":"ACCESS_LEVEL_NONE",l=null==(n=this.get().permissionsById[e])?void 0:n.data;l&&this.set(s=>{var a,n;if(null==(n=s.permissionsById[e])||null==(a=n.data)?void 0:a.users){let a=s.permissionsById[e].data.users,n=a.find(e=>e.email===t);n?n.access=o:a.push({email:t,access:o})}});try{let s=await c.Em.workspaceRepositorySetProjectEmailAccess({workspaceId:e,body:{email:t,accessLevel:o}}),a=s.permissions?b(s.permissions):null;this.set(t=>{t.permissionsById[e]=(0,i.ok)(a)})}catch(t){(0,r.vV)("workspace-store.setProjectEmailAccess",t),l&&this.set(t=>{t.permissionsById[e]=(0,i.ok)(l)}),m.oR.error((0,a.jsx)(g.x6,{ns:"workspace",i18nKey:"workspace-store-set-email-access.error",defaults:"Error when setting email access"}))}},this.toggleSidePanel=e=>{this.set({sidePanelExpanded:e})},this.setCreateDialogIsOpen=e=>{this.set({createDialogIsOpen:e})},this.initialState={...this}}}let h=(0,i.MQ)(u,"useWorkspaceStore");(0,i.CP)(h,"sidePanelExpanded","project-side-expaned",!0);let f=()=>h((0,p.k)(e=>e.list.map(t=>{var s;return null==(s=e.byId[t])?void 0:s.data}).filter(o.O)));function k(e){if(!e.workspaceId)throw Error("Workspace ID is required but was not provided");return e}function b(e){if(!e.publicAccess||!e.teamAccess||!Array.isArray(e.users))throw Error("Missing workspace permissions fields");return e}},4169:(e,t,s)=>{"use strict";s.d(t,{u:()=>r});var a=s(79342),n=s(72712);let r=e=>(0,a.jsx)(n.I,{viewBox:"0 0 14 14",...e,children:(0,a.jsx)("path",{d:"M7 0.501953C7.2252 0.501953 7.44769 0.513774 7.66699 0.536133V1.87598C7.44859 1.84783 7.22607 1.83203 7 1.83203C4.2347 1.83203 1.97711 4.00345 1.83887 6.73438L1.83203 7C1.83203 8.45819 2.43546 9.77408 3.4082 10.7148L3.78613 11.0791L3.51855 11.5303L3.1416 12.168H6.98438L7.27734 12.1611C9.91708 12.0218 12.0323 9.90065 12.1621 7.25781L12.168 7C12.168 6.77393 12.1522 6.55141 12.124 6.33301H13.4648C13.4872 6.55228 13.498 6.77483 13.498 7L13.4902 7.32422C13.3268 10.652 10.66 13.3218 7.33301 13.4902L7.32422 13.4912H7.31543L7.01562 13.498H0.810547L1.4043 12.4951L2.12012 11.2852C1.18522 10.2216 0.5891 8.85081 0.510742 7.3418L0.501953 7C0.501953 3.41107 3.41107 0.501953 7 0.501953ZM11.999 0.976562L11.998 2L13.0234 2.00098L13.6885 2.00195V3.33203H13.0234L11.998 3.33008V5.02246H10.668V3.33008L9.64355 3.33203H8.97754V2.00195L9.64258 2.00098L10.668 2V0.311523H11.998L11.999 0.976562Z",fill:"currentColor"})})},4357:(e,t,s)=>{"use strict";s.d(t,{n:()=>m});var a=s(79342),n=s(75500),r=s(17703),o=s(61312),i=s(92644),c=s(16506),l=s(88382),d=s(48085),g=s(34865);let m=e=>{let{content:t,editor:s,editable:m,onSetMenu:u,autofocus:h,className:f}=e,{theme:k}=(0,c.D)(),b=(0,n.h)();(0,l.useEffect)(()=>{s&&s.commands.command(()=>!0)},[k]),(0,l.useEffect)(()=>{if(null==t||!s||m&&s.view.hasFocus())return;let{from:e,to:a}=s.state.selection;try{s.commands.setContent(t)}catch(e){(0,r.vV)("artifact-markdownEditor",e)}s.commands.setTextSelection({from:e,to:a})},[!!s,t]),(0,l.useEffect)(()=>{s&&s.setEditable(m)},[s,m]),(0,l.useEffect)(()=>{var e;s&&m&&h&&(null==(e=document.activeElement)?void 0:e.localName)==="body"&&s.commands.focus("end",{scrollIntoView:!1})},[s,m,h]),(0,l.useEffect)(()=>{if(s&&u)return u((0,a.jsx)(d.n,{editor:s,editable:m})),()=>u(void 0)},[s,u,m]);let x=(0,l.useCallback)(()=>{s&&s.commands.focus("end",{scrollIntoView:!1})},[s]),w=(0,g.Z)(s);return(0,a.jsx)("div",{className:"w-full max-w-full flex justify-center p-6 pt-2 pb-8 md:px-8 md:pt-[5%] md:pb-[5%] [&_.ProseMirror]:!outline-0 [&_.ProseMirror]:!h-full leading-relaxed [&_h1]:leading-10 [&_h2]:leading-8 [&_h2]:mb-2 [&_p_strong]:font-bold min-h-full h-max",onMouseDown:x,onDrop:b.ENABLE_FILE_UPLOAD_IN_MARKDOWN_EDITOR?w:void 0,children:(0,a.jsx)("div",{onMouseDown:p,className:(0,o.cn)("w-full",f),children:(0,a.jsx)(i.$Z,{editor:s,className:"h-full"})})})},p=e=>e.stopPropagation()},4408:(e,t,s)=>{"use strict";function a(e){if(0===e.length)throw Error("List is empty");return e[Math.floor(Math.random()*e.length)]}function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return Math.random().toString(36).substring(2,2+e)}s.d(t,{$:()=>n,z:()=>a})},5663:(e,t,s)=>{"use strict";s.d(t,{Bq:()=>i,He:()=>g,Ib:()=>n,VP:()=>o,Xo:()=>r,_1:()=>l,cZ:()=>c,dd:()=>d}),s(79342);var a=s(65146);let n="cmd+j, ctrl+j",r="cmd+shift+j, ctrl+shift+j",o="cmd+k, ctrl+shift+k",i="cmd+enter, ctrl+enter",c="cmd+,, ctrl+,",l="cmd+shift+p, ctrl+shift+p",d="cmd+s, ctrl+s",g="cmd+shift+m, ctrl+shift+m";a.x6,a.x6,a.x6,a.x6,a.x6,a.x6},5703:(e,t,s)=>{"use strict";s.d(t,{g:()=>h,w:()=>p});var a=s(79342),n=s(30388),r=s(42557),o=s(56691),i=s(75500),c=s(23232),l=s(88382),d=s(65146),g=s(98046),m=s(86979);function p(e){return e.endsWith(".png")||e.endsWith(".jpg")||e.endsWith(".jpeg")||e.endsWith(".gif")||e.endsWith(".webp")}function u(e){return e.endsWith(".pdf")}function h(e){var t;let{runCodeResult:s,isRunningCode:h,className:f}=e,k=(0,i.h)(),{t:b}=(0,d.Bd)("base"),{user:x}=(0,r.wV)(),w=(0,c._)(),v=b("code-execution.run-error","Unable to run code at the moment"),y=(0,l.useMemo)(()=>{var e;return(null!=(e=null==s?void 0:s.stdout)?e:"").toLowerCase().includes("latexmk")},[null==s?void 0:s.stdout]),j=(0,l.useMemo)(()=>{var e;return Object.keys(null!=(e=null==s?void 0:s.outputFiles)?e:{}).some(e=>u(e))},[null==s?void 0:s.outputFiles]),N=y&&j,C=(0,l.useCallback)(()=>{var e,t;let a=y?function(e,t){let s=e.split("\n"),a=-1,n=-1;for(let e=0;e<s.length;e++){var r,o;(null==(r=s[e])?void 0:r.startsWith("!"))&&-1===a&&(a=e),(null==(o=s[e])?void 0:o.startsWith("l."))&&(n=e)}return -1!==a&&-1!==n&&n>=a?s.slice(a,n+1).filter(e=>{let t=e.toLowerCase();return!t.includes("/usr/share/")&&!t.includes("pdftex")&&!t.includes("pdflatex")&&!t.includes("latexmk")&&!t.includes("latex2e")}).join("\n"):t}(null!=(e=null==s?void 0:s.stdout)?e:"",null!=(t=null==s?void 0:s.stderr)?t:""):null==s?void 0:s.stderr,n=b("code-execution.fix-error-prompt-no-elaborating","Fix the runtime error without elaborating: ")+"\n"+a;(0,m.M)(n,k)},[s,y,k,b]),S=(0,l.useMemo)(()=>{var e;return Object.entries(null!=(e=null==s?void 0:s.outputFiles)?e:{}).filter(e=>{let[t]=e;return p(t)}).map(e=>{let[t,s]=e;return{imageKey:t,url:s}})},[null==s?void 0:s.outputFiles]);return(0,a.jsxs)("div",{className:"".concat((s||h)&&f," flex flex-col gap-2 h-full"),children:[((null==s?void 0:s.stdout)&&!y||h)&&(0,a.jsx)("div",{className:"text-sm rounded-xl !font-mono bg-orange-300/10 text-orange-400 dark:bg-orange-300/10 dark:text-orange-300 p-[16px] py-[8px] min-h-[44px] flex flex-col justify-center",children:h?(0,a.jsx)(n.d,{state:"RUNNING"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("pre",{className:"whitespace-pre-wrap",children:null==s?void 0:s.stdout}),S.length>0&&(0,a.jsx)(g.a,{images:S,ariaLabel:b("code-execution.images","Code Execution Images"),statsigLocation:"code-execution-result",align:"CENTER",size:"LARGE"})]})}),N&&!h&&(0,a.jsx)("div",{className:"h-full w-full rounded-xl ",children:Object.entries(null!=(t=null==s?void 0:s.outputFiles)?t:{}).map(e=>{let[t,s]=e;return u(t)?(0,a.jsx)("iframe",{allowFullScreen:!0,src:s,className:"h-full w-full rounded-xl min-h-[800px] max-h-svh",onError:()=>{var e;w("code-execution-result-pdf-error","load_failure",{key:t,user_id:null!=(e=null==x?void 0:x.userId)?e:"unknown",location:"code-execution-result"})},onLoad:e=>{let s=e.target;try{let e=s.contentDocument;if(e){let t=e.body.textContent||"";if(t.includes("Failed to load PDF document")||t.includes("Error loading PDF"))throw Error("PDF render failure detected");if(e.querySelector("#errorWrapper")||e.querySelector(".error"))throw Error("PDF error wrapper detected");if(!e.querySelector('embed[type="application/x-google-chrome-pdf"]'))throw Error("PDF embed element missing")}}catch(e){var a;w("code-execution-result-pdf-error",e instanceof Error?e.name:"UnknownError",{key:t,user_id:null!=(a=null==x?void 0:x.userId)?a:"unknown",location:"code-execution-result",details:e instanceof Error?e.message:"Unknown error"})}}},t):null})}),((null==s?void 0:s.stderr)&&!N||s&&!s.success)&&(0,a.jsxs)("div",{className:"text-sm rounded-xl !font-mono bg-red-300/10 dark:bg-red-300/10 p-[16px] py-[8px] min-h-[44px]",children:[(null==s?void 0:s.stderr)?(0,a.jsx)(o.$n,{variant:"filledSecondary",size:"sm",onClick:C,className:"flex mt-1 mb-2 -ms-1 flex-shrink",children:b("code-execution.fix-error","Ask Grok to fix")}):null,(0,a.jsx)("pre",{className:"whitespace-pre-wrap text-red-600 dark:text-red-300",children:(null==s?void 0:s.stderr)||v})]})]})}},5828:(e,t,s)=>{"use strict";s.d(t,{e:()=>d});var a=s(79342),n=s(11750),r=s(25859),o=s(87891),i=s(65146),c=s(84969),l=s(23054);function d(e){let{t}=(0,i.Bd)("files"),s=(0,o.R)(e=>e.isFileExplorerCollapsed);return(0,a.jsx)(c.N,{children:s&&(0,a.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeInOut"},children:(0,a.jsx)(r.$n,{"aria-label":t("side-panel-expand-button.label","Expand side panel"),onClick:()=>o.R.getState().setIsFileExplorerCollapsed(!1),...e,children:(0,a.jsx)(n.KD8,{className:"",size:18})})})})}},6063:(e,t,s)=>{"use strict";s.d(t,{Ig:()=>n,f9:()=>r,rU:()=>o});var a=s(4878);let n=["text/csv","application/csv"],r=[a.$H,a.lF],o=["text/plain",...n]},6224:(e,t,s)=>{"use strict";s.d(t,{M:()=>A});var a=s(58561),n=s(2074),r=s(20547),o=s(78884),i=s(69041),c=s(92644),l=s(79342),d=s(11750),g=s(56691),m=s(17703),p=s(61312),u=s(16506),h=s(88382),f=s(65146),k=s(74366),b=s(1826);let x=["plain","bash","c","cpp","csharp","css","diff","go","html","ini","java","javascript","json","kotlin","less","lua","makefile","markdown","objectivec","perl","pgsql","php","python","r","ruby","rust","scss","sql","swift","toml","typescript","xml","yaml"],w=e=>{let{language:t,onLanguageChange:s}=e,{t:a}=(0,f.Bd)(),[n,r]=(0,h.useState)(!1),[o,i]=(0,h.useState)(""),c=(0,h.useMemo)(()=>x.filter(e=>e.toLowerCase().includes(o.toLowerCase())),[o]);return(0,l.jsxs)(b.AM,{open:n,onOpenChange:r,children:[(0,l.jsx)(b.Wv,{asChild:!0,children:(0,l.jsx)(g.$n,{variant:"ghost",size:"sm",rounded:!0,className:"font-mono",children:t})}),(0,l.jsx)(b.hl,{className:"w-[200px] p-0 ",children:(0,l.jsxs)(k.uB,{shouldFilter:!1,children:[(0,l.jsx)(k.G7,{placeholder:a("language-selector.search-placeholder","Search language..."),value:o,onValueChange:i}),(0,l.jsxs)(k.oI,{className:"max-h-[300px] overflow-y-auto",children:[(0,l.jsx)(k.L$,{className:"p-0 m-0",children:c.map(e=>(0,l.jsx)(k.h_,{value:e,onSelect:e=>{s(e.toLowerCase()),r(!1)},className:"py-2",children:e},e))}),o&&0===c.length&&(0,l.jsx)(k.h_,{value:o,onSelect:e=>{s(e.toLowerCase()),r(!1)},className:"py-2",children:a("language-selector.use-search",'Use "{{search}}"',{search:o})})]})]})})]})},v=e=>{var t;let{node:s,updateAttributes:a}=e,[n,r]=(0,h.useState)(!1),{t:o}=(0,f.Bd)("base"),{resolvedTheme:i}=(0,u.D)(),[k,b]=(0,h.useState)(!1),x=s.attrs.language||"plain",v=null!=(t=s.attrs.useCompactLayout)&&t,y=(0,h.useCallback)(()=>b(!k),[k]),j=(0,h.useCallback)(()=>{if(""===s.textContent.trim())return;let e=s.textContent;e=e.replace(/(\n)$/,""),navigator.clipboard.writeText(e).then(()=>{r(!0),setTimeout(()=>r(!1),2e3)}).catch(e=>{(0,m.vV)("artifact-markdown",e)})},[s.textContent]),N=(0,h.useMemo)(()=>s.textContent.split("\n").length-1,[s.textContent]),C=(0,h.useCallback)(e=>{a({language:e.toLowerCase()})},[a]);return(0,l.jsx)(c.VR,{className:"codeblock",children:(0,l.jsxs)("div",{className:(0,p.cn)("relative my-3 -mr-2 right-1 rounded-xl",v?"":"md:-mr-8 md:right-4"),children:[(0,l.jsx)("div",{contentEditable:!1,className:"flex flex-row px-4 py-2 h-10 items-center rounded-t-xl bg-surface-l2 border border-border-l1",onClick:e=>e.stopPropagation(),children:(0,l.jsx)(w,{language:x,onLanguageChange:C})}),(0,l.jsx)("div",{className:(0,p.cn)("sticky right-2 z-10 @[1280px]/mainview:z-40 ",v?"top-5":"@[1280px]/mainview:top-10 top-28 @[0px]/preview:top-5"),children:(0,l.jsxs)("div",{contentEditable:!1,className:"absolute bottom-1 right-1 flex flex-row gap-0.5 select-none",children:[(0,l.jsx)(g.$n,{variant:"sticky",size:"sm",onClick:y,children:k?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.Mls,{className:"size-4"}),(0,l.jsx)("span",{className:"hidden @sm:block",children:o("Expand","Expand")})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.WE9,{className:"size-4"}),(0,l.jsx)("span",{className:"hidden @sm:block",children:o("Collapse","Collapse")})]})}),(0,l.jsx)(g.$n,{onClick:j,variant:"sticky",size:"sm",disabled:n,children:n?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.Srz,{className:"size-4"}),(0,l.jsx)("span",{className:"hidden @sm:block",children:o("Copied","Copied")})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.TdU,{className:"size-4"}),(0,l.jsx)("span",{className:"hidden @sm:block",children:o("Copy","Copy")})]})})]})}),k?(0,l.jsx)("div",{contentEditable:!1,className:(0,p.cn)("dark"===i?"bg-surface-inset":"bg-surface-l1","text-fg-secondary select-none","border border-border-l1 border-t-0","text-[.9em] leading-[1.5em]","rounded-b-[12px] p-[16px]","italic"),children:o("lines",{count:N,defaultValue_one:"{{count}} hidden line",defaultValue_other:"{{count}} hidden lines"})}):(0,l.jsx)("pre",{className:(0,p.cn)("whitespace-pre-wrap break-all overflow-x-auto text-primary bg-surface-l1 dark:bg-surface-inset m-0 rounded-t-none rounded-b-2xl","border border-border-l1 border-t-0"),children:(0,l.jsx)(c.$p,{as:"code",spellCheck:"false",className:s.attrs.language?"language-".concat(s.attrs.language):""})})]})})},y=/^```([a-z]+)?[\s\n]$/,j=/^~~~([a-z]+)?[\s\n]$/,N=r.bP.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,useCompactLayout:!0,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;let{languageClassPrefix:s}=this.options,a=[...(null==(t=e.firstElementChild)?void 0:t.classList)||[]].filter(e=>e.startsWith(s)).map(e=>e.replace(s,""))[0];return a||null},rendered:!1},useCompactLayout:{default:this.options.useCompactLayout,parseHTML:e=>"true"===e.getAttribute("data-compact-layout"),renderHTML:e=>({"data-compact-layout":e.useCompactLayout})}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML(e){let{node:t,HTMLAttributes:s}=e;return["pre",(0,r.KV)(this.options.HTMLAttributes,s),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>t=>{let{commands:s}=t;return s.setNode(this.name,e)},toggleCodeBlock:e=>t=>{let{commands:s}=t;return s.toggleNode(this.name,"paragraph",e)}}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{let{empty:e,$anchor:t}=this.editor.state.selection,s=1===t.pos;return!!e&&t.parent.type.name===this.name&&(!!s||!t.parent.textContent.length)&&this.editor.commands.clearNodes()},Enter:e=>{let{editor:t}=e;if(!this.options.exitOnTripleEnter)return!1;let{state:s}=t,{selection:a}=s,{$from:n,empty:r}=a;if(!r||n.parent.type!==this.type)return!1;let o=n.parentOffset===n.parent.nodeSize-2,i=n.parent.textContent.endsWith("\n\n");return!!o&&!!i&&t.chain().command(e=>{let{tr:t}=e;return t.delete(n.pos-2,n.pos),!0}).exitCode().run()},ArrowDown:e=>{let{editor:t}=e;if(!this.options.exitOnArrowDown)return!1;let{state:s}=t,{selection:a,doc:n}=s,{$from:r,empty:i}=a;if(!i||r.parent.type!==this.type||r.parentOffset!==r.parent.nodeSize-2)return!1;let c=r.after();return void 0!==c&&(n.nodeAt(c)?t.commands.command(e=>{let{tr:t}=e;return t.setSelection(o.LN.near(n.resolve(c))),!0}):t.commands.exitCode())}}},addInputRules(){return[(0,r.JJ)({find:y,type:this.type,getAttributes:e=>({language:e[1]})}),(0,r.JJ)({find:j,type:this.type,getAttributes:e=>({language:e[1]})})]},addNodeView:()=>(0,c.gu)(v,{stopEvent:e=>"copy"!==e.event.type&&"cut"!==e.event.type&&"paste"!==e.event.type})});var C=s(16538);let S=[];async function I(e){if(S.includes(e)||!C.x)return!1;try{return await C.x.editor.colorize("",e,{}),S.push(e),!0}catch(e){return(0,m.vV)("artifact-loadLanguage",e),!1}}async function T(e){let{}=e;C.x||await (0,C.q)()}let E="light";function R(e){let{doc:t,name:s}=e,o=[];for(let e of(0,r.xe)(t,e=>e.type.name===s)){var c,l,d,g,m;let t=e.pos+1,s=e.node.attrs.language,r=null!=(c=null===C.x||void 0===C.x?void 0:C.x.editor.tokenize(e.node.textContent,s))?c:[[]],p=e.node.textContent.split("\n");for(let e=0;e<r.length;e++){let s=null!=(d=null==(l=p[e])?void 0:l.length)?d:0,c=r[e];if(c)for(let e=0;e<c.length;e++){let r=c[e];if(!r)continue;let l=t+r.offset,d=t+(null!=(m=null==(g=c[e+1])?void 0:g.offset)?m:s),p=function(e,t){var s;let a=e.rules.filter(e=>t.startsWith(e.token)).reduce((e,t)=>t.token.length>e.token.length?t:e,{token:""});return{color:(null==a?void 0:a.foreground)?"#".concat(a.foreground):void 0,fontStyle:null!=(s=null==a?void 0:a.fontStyle)?s:"normal"}}("dark"===_()?a.a:n._,r.type),u=i.NZ.inline(l,d,{style:p.color?"color: ".concat(p.color):void 0});o.push(u)}t+=s+1}}return i.zF.create(t,o)}let A=N.extend({name:"codeBlock",addKeyboardShortcuts(){var e;return{...null==(e=this.parent)?void 0:e.call(this),ArrowUp:e=>{let{editor:t}=e;if(!this.options.exitOnArrowUp)return!1;let{state:s}=t,{selection:a}=s,{$from:n,empty:r}=a;if(!r||n.parent.type!==this.type||0!==n.parentOffset)return!1;let o=n.before();return void 0!==o&&0===o&&t.commands.insertContentAt({from:0,to:0},{type:"paragraph"})},"Shift-Enter":e=>{let{editor:t}=e;if(!this.options.exitOnTripleEnter)return!1;let{state:s}=t,{selection:a}=s,{$from:n,empty:r}=a;if(!r||n.parent.type!==this.type)return!1;let o=n.parentOffset===n.parent.nodeSize-2,i=n.parent.textContent.endsWith("\n\n");return!!o&&!!i&&t.chain().command(e=>{let{tr:t}=e;return t.delete(n.pos-2,n.pos),!0}).exitCode().run()}}},addOptions(){var e;return{...null==(e=this.parent)?void 0:e.call(this),theme:_(),exitOnArrowUp:!0,useCompactLayout:!1}},addProseMirrorPlugins(){var e;return[...(null==(e=this.parent)?void 0:e.call(this))||[],new o.k_({key:new o.hs("monaco"),view(e){let t=this.name;class s{update(e,t){this.checkUndecoratedBlocks()}destroy(){}async initDecorations(){let s=e.state.doc;await T({doc:s,name:t});let a=e.state.tr.setMeta("monacoPluginForceDecoration",!0);e.dispatch(a)}async checkUndecoratedBlocks(){var t;let s=(0,r.xe)(e.state.doc,e=>"codeBlock"===e.type.name);if((await Promise.all(s.map(e=>I(e.node.attrs.language)))).includes(!0)){let t=e.state.tr.setMeta("monacoPluginForceDecoration",!0);e.dispatch(t)}let a=null!=(t=document.documentElement.style.getPropertyValue("color-scheme"))?t:"light";if(a!==E){E=a;let t=e.state.tr.setMeta("monacoPluginForceDecoration",!0);e.dispatch(t)}}constructor(){this.initDecorations()}}return new s},state:{init:(e,t)=>{let{doc:s}=t;return R({doc:s,name:this.name,theme:this.options.theme})},apply:(e,t,s,a)=>{let n=s.selection.$head.parent.type.name,o=a.selection.$head.parent.type.name,i=(0,r.xe)(s.doc,e=>e.type.name===this.name),c=(0,r.xe)(a.doc,e=>e.type.name===this.name),l=e.docChanged&&([n,o].includes(this.name)||c.length!==i.length||e.steps.some(e=>void 0!==e.from&&void 0!==e.to&&i.some(t=>t.pos>=e.from&&t.pos+t.node.nodeSize<=e.to))),d=e.getMeta("themeChange");return e.getMeta("monacoPluginForceDecoration")||d||l?(d&&(this.options.theme=d),R({doc:e.doc,name:this.name,theme:this.options.theme})):t.map(e.mapping,e.doc)}},props:{decorations(e){return this.getState(e)}}}),new o.k_({key:new o.hs("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;let s=t.clipboardData.getData("text/plain"),a=t.clipboardData.getData("vscode-editor-data"),n=a?JSON.parse(a):void 0,r=null==n?void 0:n.mode;if(!s||!r)return!1;let i=s.split("\n");if(1===i.length||2===i.length&&""===i[1])return!1;let{tr:c,schema:l}=e.state,d=l.text(s.replace(/\r\n?/g,"\n"));return c.replaceSelectionWith(this.type.create({language:r},d)),c.selection.$from.parent.type!==this.type&&c.setSelection(o.U3.near(c.doc.resolve(Math.max(0,c.selection.from-2)))),c.setMeta("paste",!0),e.dispatch(c),!0}}})]}});function _(){var e;return null!=(e=document.documentElement.style.getPropertyValue("color-scheme"))?e:"light"}},6753:(e,t,s)=>{"use strict";function a(e){return 1===e.length?e.toUpperCase().charCodeAt(0)-65:e.split("").reduce((e,t)=>26*e+(t.toUpperCase().charCodeAt(0)-64),0)-1}function n(e){return Number(e)-1}function r(e){return String(e+1)}function o(e){let t="";for(;e>=0;)t=String.fromCharCode(e%26+97)+t,e=Math.floor(e/26)-1;return t.toUpperCase()}s.d(t,{c5:()=>o,g_:()=>r,tf:()=>h});let i="(".concat("[".concat("A-Za-z\xc0-ʯ","0-9_]+"),"|").concat("'(((?!').|'')*)'",")!"),c="'((?:(?!').|'')*)'",l="(".concat("[A-Za-z0-9_\xc0-ʯ]+","|").concat(c,")"),d="(?![A-Za-z0-9_\xc0-ʯ])";"(".concat(i,")?\\").concat("$","?[A-Za-z]+\\").concat("$","?[0-9]+"),new RegExp("".concat(c));let g=new RegExp("(".concat(l,"!)?((\\").concat("$",")?([A-Za-z]+)(\\").concat("$",")?([0-9]+))").concat(d)),m=new RegExp("(".concat(l,"!)?((\\").concat("$",")?([A-Za-z]+)(\\").concat("$",")?([0-9]+))").concat(":","((\\").concat("$",")?([A-Za-z]+)(\\").concat("$",")?([0-9]+))").concat(d)),p=new RegExp("(".concat(l,"!)?((\\").concat("$",")?([A-Za-z]+)").concat(":","(\\").concat("$",")?([A-Za-z]+))").concat(d)),u=new RegExp("(".concat(l,"!)?((\\").concat("$",")?([0-9]+)").concat(":","(\\").concat("$",")?([0-9]+))").concat(d)),h=e=>{let t;if(t=p.exec(e)){let[e,s,n,r=n,o,i,c,l,d]=t;if(void 0===c||void 0===d)return;let g=a(c),m=a(d);return{type:"col",anchor:[Math.min(g,m),Number.MAX_SAFE_INTEGER],head:[Math.max(g,m),Number.MAX_SAFE_INTEGER],absolute:"$"==i&&"$"==l,sheetName:r}}if(t=u.exec(e)){let[e,s,a,r=a,o,i,c,l,d]=t;if(void 0===c||void 0===d)return;let g=n(c),m=n(d);return{type:"row",anchor:[Number.MAX_SAFE_INTEGER,Math.min(g,m)],head:[Number.MAX_SAFE_INTEGER,Math.max(g,m)],absolute:"$"==i&&"$"==l,sheetName:r}}if(t=m.exec(e)){let[e,s,r,o=r,i,c,l,d,g,m,p,u,h,f]=t;if(void 0===l||void 0===u||void 0===g||void 0===f)return;let k=a(l),b=n(g),x=a(u),w=n(f);return{type:"range",anchor:[Math.min(k,x),Math.min(b,w)],head:[Math.max(k,x),Math.max(b,w)],absoluteColA:"$"==c,absoluteRowA:"$"==d,absoluteColB:"$"==p,absoluteRowB:"$"==h,sheetName:o}}if(t=g.exec(e)){let[e,s,r,o=r,i,c,l,d,g]=t;if(void 0===l||void 0===g)return;let m=a(l),p=n(g);return{type:"cell",anchor:[m,p],head:[m,p],absoluteCol:"$"==c,absoluteRow:"$"==d,sheetName:o}}}},6942:(e,t,s)=>{"use strict";let a;s.d(t,{S:()=>o});var n=s(56907);let r=()=>new n.E1({defaultOptions:{queries:{staleTime:3e5,gcTime:3e5}}}),o=()=>n.S$?r():(a||(a=r()),a)},6980:(e,t,s)=>{"use strict";s.d(t,{r:()=>w,f:()=>x});var a=s(79342),n=s(56521),r=s(56907),o=s(1451);let i=e=>/[dmy]/i.test(e)&&!/\[h\]/i.test(e),c={dense:!0,cellFormula:!0,cellHTML:!0,cellNF:!0,cellStyles:!0,cellText:!0,cellDates:!1,UTC:!1};s(71716);var l=s(75500),d=s(28513),g=s(61312),m=s(15665),p=s(36889),u=s(38541),h=s.n(u),f=s(88382),k=s(65146),b=s(27853);function x(e){let{assetUrl:t,fileMetadata:s,editable:i=!1,className:c}=e,d=(0,l.h)(),{t:u}=(0,k.Bd)("chat"),{isLoading:h,error:b,data:x}=(0,r.IT)({queryKey:["asset",t],queryFn:async()=>{if(!t)throw Error("Asset URL is required");let e=await (0,n.h)(t,{method:"GET",credentials:"include"});if(!e.ok)throw Error("Failed to fetch: ".concat(e.statusText));return e.arrayBuffer()},enabled:!!t}),w=(0,m.F$)(),v=s.fileMetadataId;if((0,f.useEffect)(function(){return w.updateState(e=>({...e,activeId:v})),()=>{w.updateState(e=>({...e,activeId:null}))}},[v,w]),h)return(0,a.jsx)("div",{className:"p-4",children:u("Loading text…","Loading text…")});if(b)return(0,a.jsx)("div",{className:"p-4",children:u("errorMessage","Error: {{error}}",{error:b.message})});if(!x)return(0,a.jsx)("div",{className:"p-4",children:u("No content available.","No content available.")});let y=!d.ENABLE_XLSX_EDITING||!i;return(0,a.jsx)(p.bs,{id:s.fileMetadataId,initialState:{name:s.fileName||"Workbook"},content:x,readOnly:y,children:(0,a.jsx)(o.y,{readOnly:y,className:(0,g.cn)("not-prose","border border-border-l2 overflow-hidden h-full",c)})},t)}function w(e){let{id:t,content:s="",readOnly:n=!1,editable:r=!1,className:i}=e,u=(0,l.h)(),[k]=(0,f.useState)(null!=t?t:(0,b.A)()),[x]=(0,d._)("xlsx"),[w,v]=(0,f.useState)(void 0),y=(0,f.useMemo)(()=>h().throttle(function(e){try{let t=x.read(e,{type:"string",FS:"	",...c}),s=x.write(t,{bookType:"xlsx",type:"array"});v(s)}catch(e){console.warn("Failed to convert partial TSV into workbook")}},100),[x]);f.useEffect(()=>y(s),[s,y]);let j=(0,m.F$)();(0,f.useEffect)(function(){return j.updateState(e=>({...e,activeId:k})),()=>{j.updateState(e=>({...e,activeId:null}))}},[k,j]),(0,f.useEffect)(function(){let e=j.findById(p.gU,k);null==e||e.initCalcEngine({content:null!=w?w:null,readOnly:n,force:!0})},[w,n,j,k]);let N=n||!u.ENABLE_XLSX_EDITING||!r;return(0,a.jsx)(p.bs,{id:k,initialState:{name:"Workbook"},content:w,readOnly:N,children:(0,a.jsx)(o.y,{readOnly:N,className:(0,g.cn)("not-prose","border border-border-l2 overflow-hidden h-full",i)})})}},7130:(e,t,s)=>{"use strict";s.d(t,{H:()=>l});var a=s(79342);s(66667);var n=s(28513),r=s(88382);let o='<svg width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg">',i={className:"data-grid",fixedShadowX:!1,fixedShadowY:!1,smoothScrollY:!0,smoothScrollX:!0,minColumnWidth:64,maxColumnWidth:512,preventDiagonalScrolling:!1,rangeSelect:"multi-rect",headerHeight:32,rowHeight:32,columnSelect:"multi",rowSelect:"multi",spanRangeBehavior:"default",headerIcons:{headerArrowUp:e=>{let t=e.bgColor;return"\n    ".concat(o,'\n    <path d="M10 16V6m-4 4l4-4 4 4" stroke="').concat(t,'" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n  </svg>')},headerArrowDown:e=>{let t=e.bgColor;return"\n    ".concat(o,'\n    <path d="M10 4v10m4-4l-4 4-4-4" stroke="').concat(t,'" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n  </svg>')}},drawFocusRing:!0,onPaste:!0,trapFocus:!0,keybindings:{delete:"Backspace|Delete"},editorBloom:[0,0],experimental:{kineticScrollPerfHack:!0,scrollbarWidthOverride:1,strict:!0}};function c(e){let[{DataEditor:t}]=(0,n._)("@glideapps/glide-data-grid");return(0,a.jsx)(t,{...i,...e})}function l(e){let{fallback:t,...s}=e;return(0,a.jsx)(r.Suspense,{fallback:null!=t?t:(0,a.jsx)("div",{}),children:(0,a.jsx)(c,{...s})})}},7658:(e,t,s)=>{"use strict";s.d(t,{$1:()=>w,Ch:()=>u,Ep:()=>l,Fx:()=>x,Iv:()=>d,P9:()=>h,PQ:()=>m,UL:()=>o,fY:()=>f,jT:()=>b,mT:()=>c,qN:()=>i,tX:()=>k});var a=s(95158),n=s(56907),r=s(86530).hp;function o(e){return(0,n.IT)({enabled:!!e,queryKey:["workspace-assets",e],queryFn:()=>a.l_.assetRepositoryListAssetMetadata({workspaceId:e,pageSize:100,orderBy:"ORDER_BY_LAST_USE_TIME"})})}function i(){return(0,n.IT)({queryKey:["assets","recent"],queryFn:()=>a.l_.assetRepositoryListAssetMetadata({pageSize:9,orderBy:"ORDER_BY_LAST_USE_TIME"})})}function c(e){let t=(0,n.jE)();return(0,n.n_)({mutationFn:t=>a.Em.workspaceRepositoryAddAsset({workspaceId:e,body:{assetId:t.assetId}}),onMutate:async s=>{let a=["workspace-assets",e];await t.cancelQueries({queryKey:a});let n=t.getQueryData(a);return t.setQueryData(a,e=>{var t;return{...e,assets:[s,...null!=(t=e.assets)?t:[]]}}),n},onError:(s,a,n)=>{let r=["workspace-assets",e];t.setQueryData(r,n)}})}function l(e){let t=(0,n.jE)();return(0,n.n_)({mutationFn:t=>a.Em.workspaceRepositoryRemoveAsset({workspaceId:e,assetId:t}),onMutate:async s=>{let a=["workspace-assets",e];await t.cancelQueries({queryKey:a});let n=t.getQueryData(a);return t.setQueryData(a,e=>{var t;return{...e,assets:null==(t=e.assets)?void 0:t.filter(e=>e.assetId!==s)}}),n},onError:(s,a,n)=>{let r=["workspace-assets",e];t.setQueryData(r,n)}})}function d(e){let t=(0,n.jE)();return(0,n.n_)({mutationFn:t=>g(t,e),mutationKey:["upload-workspace-file",e],onSuccess(){t.invalidateQueries({queryKey:["workspace-assets",e]})}})}async function g(e,t){let s=await e.arrayBuffer(),n=await a.chatApi.chatUploadFile({body:{fileName:e.name,fileMimeType:e.type,content:r.from(s).toString("base64")}});return a.Em.workspaceRepositoryAddAsset({workspaceId:t,body:{assetId:n.fileMetadataId}})}function m(e){let t=(0,n.jE)();return(0,n.n_)({mutationFn:t=>p(t.name,t.mimeType,t.fileSource,t.thirdPartyFileId,e),mutationKey:["upload-3rd-party-file",e],onSuccess(){t.invalidateQueries({queryKey:["workspace-assets",e]})}})}async function p(e,t,s,n,r){let o=await a.chatApi.chatUploadFile({body:{fileName:e,fileMimeType:t,fileSource:s,thirdPartyFileId:n}});return a.Em.workspaceRepositoryAddAsset({workspaceId:r,body:{assetId:o.fileMetadataId}})}function u(e){return(0,n.zv)({filters:{mutationKey:["upload-workspace-file",e]}}).filter(e=>"success"!==e.status).map(e=>e.variables)}function h(e){return(0,n.zv)({filters:{mutationKey:["upload-3rd-party-file",e]}}).filter(e=>"success"!==e.status).map(e=>e.variables)}function f(e){return(0,n.qu)({queryKey:["workspace-conversations",e],queryFn:t=>{let{pageParam:s}=t;return a.chatApi.chatListConversations({workspaceId:e,pageSize:"100",pageToken:s||void 0})},initialPageParam:"",getNextPageParam:e=>e.nextPageToken})}function k(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,n.jE)();return(0,n.n_)({mutationFn:e=>{let{workspaceId:t,conversationId:s}=e;return a.Em.workspaceRepositoryAddConversation({workspaceId:t,body:{conversationId:s}})},mutationKey:["add-workspace-conversation"],onSuccess:(s,a)=>{var n;let{workspaceId:r,conversationId:o}=a;t.invalidateQueries({queryKey:["workspace-conversations",r]}),t.invalidateQueries({queryKey:["conversation-workspaces",o]}),null==(n=e.onSuccess)||n.call(e,o)}})}function b(e){let t=(0,n.jE)();return(0,n.n_)({mutationFn:t=>a.chatApi.chatUpdateConversation({conversationId:e,body:t}),mutationKey:["update-conversation",e],onSuccess:()=>{t.invalidateQueries({queryKey:["workspace-conversations"]})}})}function x(e){let t=(0,n.jE)();return(0,n.n_)({mutationFn:()=>a.chatApi.chatDeleteConversation({conversationId:e}),mutationKey:["delete-conversation",e],onSuccess:()=>{t.invalidateQueries({queryKey:["workspace-conversations"]})}})}function w(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return(0,n.IT)({queryKey:["conversation-workspaces",e],queryFn:async()=>{var t;let s=await a.chatApi.chatGetConversation({conversationId:e,includeWorkspaces:!0});return null!=(t=null==s?void 0:s.workspaces)?t:[]},enabled:t&&!!e})}},8142:(e,t,s)=>{"use strict";s.d(t,{i:()=>l});var a=s(79342),n=s(11750),r=s(88382),o=s(65146),i=s(30532),c=s(97141);let l=(0,r.forwardRef)((e,t)=>{let{response:s}=e,n=s.message;if(s.metadata&&"artifactAction"in s.metadata){let e=s.metadata.artifactAction;"ask"===e?n=(0,a.jsx)(d,{message:s.message}):"explain"===e&&(n=(0,a.jsx)(g,{}))}return(0,a.jsx)(c.i,{isUser:!0,ref:t,children:(0,a.jsx)(i.s,{isUser:!0,children:n})})});function d(e){let{message:t}=e,{t:s}=(0,o.Bd)("chat");return(0,a.jsxs)("div",{children:[(0,a.jsxs)(m,{children:[(0,a.jsx)(n.Sbc,{size:12}),s("artifact-action.ask","Ask Grok")]}),(0,a.jsx)("div",{children:t})]})}function g(){let{t:e}=(0,o.Bd)("chat");return(0,a.jsxs)(m,{children:[(0,a.jsx)(n.Gyj,{size:12}),e("artifact-action.explain","Explain")]})}function m(e){let{children:t}=e;return(0,a.jsx)("header",{className:"text-secondary text-sm flex items-center gap-1 pt-1",children:t})}},8143:(e,t,s)=>{"use strict";s.d(t,{$h:()=>g,C$:()=>u,bj:()=>p});var a=s(79342),n=s(38614),r=s(70697),o=s(11750),i=s(56691),c=s(23232),l=s(61312),d=s(65146);let g=e=>{let{verifiedType:t}=e;if(!t)return null;switch(t){case"blue":return(0,a.jsx)(o.Esf,{size:18});case"gold":case"business":return(0,a.jsx)(o._K6,{size:18});case"gray":case"grey":return(0,a.jsx)(o.pEj,{size:18});default:return null}};function m(e){var t,s,n,o;let{xUser:i}=e,{t:m}=(0,d.Bd)("chat"),p="https://x.com/".concat(i.username),u=(0,c._)();return(0,a.jsxs)("button",{className:(0,l.cn)("not-prose group/xuser-card","flex flex-col relative","bg-surface-l1 hover:bg-surface-l4-hover dark:hover:bg-surface-l2","border border-border-l1","rounded-3xl overflow-hidden","w-[250px] h-[180px]","text-start","select-text"),onClick:()=>{let e=window.getSelection();e&&e.toString()||(u("xuser_card_click",p,{location:"x-users-card:XUserCard:click",href:p||""}),window.open(p,"_blank"))},children:[(0,a.jsxs)("div",{className:"relative h-[45%]",children:[(0,a.jsxs)("div",{className:"h-full opacity-20 group-hover/xuser-card:opacity-80",children:[i.profile_banner_url?(0,a.jsx)("img",{src:i.profile_banner_url,alt:"Profile banner",className:"w-full h-full object-cover"}):(0,a.jsx)("div",{className:"w-full h-full bg-surface-l1"}),(0,a.jsx)("div",{className:(0,l.cn)("absolute inset-0","bg-gradient-to-t from-surface-l1","group-hover/xuser-card:from-surface-l4-hover dark:group-hover/xuser-card:from-surface-l2","via-transparent to-transparent")})]}),(0,a.jsx)("div",{className:"absolute top-3 left-3 z-10",children:(0,a.jsx)(r.KH,{profileImageUrl:null!=(s=i.profile_image_url)?s:void 0,name:null!=(n=i.name)?n:void 0,medium:!0})})]}),(0,a.jsx)("div",{className:"flex flex-col justify-between flex-1 px-3 pb-3",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center",children:[(0,a.jsx)("span",{className:"font-bold truncate text-primary text-sm me-1",children:i.name}),i.verified&&(0,a.jsx)("span",{className:"me-1",children:(0,a.jsx)(g,{verifiedType:i.verified_type})}),(null==(t=i.affiliation)?void 0:t.badge_url)&&(0,a.jsx)("img",{src:i.affiliation.badge_url,alt:null!=(o=i.affiliation.description)?o:"Affiliation",className:"size-3 rounded-sm ring-1 ring-border-l1 me-1"}),(0,a.jsxs)("span",{className:"text-xs text-secondary",children:["@",i.username]})]}),(0,a.jsx)("span",{className:"text-xs text-secondary",children:m("xusercard.followers",{defaultValue_one:"{{count}} follower",defaultValue_other:"{{prettyCount}} followers",count:2,prettyCount:"4.6M"})}),(0,a.jsx)("span",{className:"text-sm text-secondary leading-snug line-clamp-2",children:i.description})]})})]})}function p(e){var t,s,n,o;let{xUser:i}=e,d="https://x.com/".concat(i.username),m=(0,c._)();return(0,a.jsxs)("button",{className:(0,l.cn)("not-prose group/xuser-card","flex flex-row","bg-surface-l1 hover:bg-surface-l4-hover dark:hover:bg-surface-l2","border border-border-l1","rounded-3xl overflow-hidden","w-full h-[96px]","text-start","select-text"),onClick:()=>{let e=window.getSelection();e&&e.toString()||(m("xuser_card_click",d,{location:"x-users-card:XUserWideCard:click",href:d||""}),window.open(d,"_blank"))},children:[(0,a.jsxs)("div",{className:"flex flex-row items-center gap-3 px-5",children:[(0,a.jsx)(r.KH,{profileImageUrl:null!=(s=i.profile_image_url)?s:void 0,name:null!=(n=i.name)?n:void 0,large:!0}),(0,a.jsxs)("div",{className:"flex flex-col gap-0.5 h-full py-3 flex-wrap",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center gap-1 text-secondary text-sm flex-wrap",children:[(0,a.jsx)("span",{className:"font-bold truncate text-primary",children:i.name}),i.verified&&(0,a.jsx)(g,{verifiedType:i.verified_type}),(null==(t=i.affiliation)?void 0:t.badge_url)&&(0,a.jsx)("img",{src:i.affiliation.badge_url,alt:null!=(o=i.affiliation.description)?o:"Affiliation",className:"size-4 rounded-sm ring-1 ring-border-l1"}),(0,a.jsxs)("span",{children:["@",i.username]})]}),(0,a.jsx)("span",{className:"text-sm text-secondary leading-snug line-clamp-2",children:i.description})]})]}),(0,a.jsxs)("div",{className:"flex-1 relative opacity-20 group-hover/xuser-card:opacity-80 min-w-[30%]",children:[i.profile_banner_url?(0,a.jsx)("img",{src:i.profile_banner_url,alt:"Profile banner",className:"w-full h-full object-cover"}):(0,a.jsx)("div",{className:"w-full h-full bg-surface-l1"}),(0,a.jsx)("div",{className:(0,l.cn)("absolute inset-0","bg-gradient-to-r from-surface-l1","group-hover/xuser-card:from-surface-l4-hover dark:group-hover/xuser-card:from-surface-l2","via-transparent to-transparent")})]})]})}function u(e){let{xUsers:t}=e,{t:s}=(0,d.Bd)("chat");return 0===t.length?null:1===t.length&&t[0]?(0,a.jsx)(p,{xUser:t[0]}):2===t.length&&t[0]&&t[1]?(0,a.jsxs)("div",{className:(0,l.cn)("flex flex-row gap-2"),children:[(0,a.jsx)(m,{xUser:t[0]}),(0,a.jsx)(m,{xUser:t[1]})]}):3===t.length&&t[0]&&t[1]&&t[2]?(0,a.jsxs)("div",{className:(0,l.cn)("flex flex-row gap-2"),children:[(0,a.jsx)(m,{xUser:t[0]}),(0,a.jsx)(m,{xUser:t[1]}),(0,a.jsx)(m,{xUser:t[2]})]}):t[0]&&t[1]&&t[2]?(0,a.jsxs)("div",{className:(0,l.cn)("flex flex-col gap-2"),children:[(0,a.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,a.jsx)(m,{xUser:t[0]}),(0,a.jsx)(m,{xUser:t[1]}),(0,a.jsx)(m,{xUser:t[2]})]}),t.length>3&&(0,a.jsx)("span",{className:"self-end",children:(0,a.jsx)(i.$n,{variant:"outline",size:"sm",onClick:()=>{n.aP.getState().toggleSidePanelContent({type:"xUsers",data:t})},children:s("xusercard.see-all",{defaultValue_one:"See all ({{count}})",defaultValue_other:"See all ({{count}})",count:t.length})})})]}):null}},8800:(e,t,s)=>{"use strict";s.d(t,{P:()=>m});var a=s(42557),n=s(95158);let r=(0,s(82509).v)(e=>({codeExecutionResultsByCodeSource:{},getCodeExecutionResult:e=>r.getState().codeExecutionResultsByCodeSource[e],setCodeExecutionResult:(t,s)=>{e(e=>({codeExecutionResultsByCodeSource:{...e.codeExecutionResultsByCodeSource,[t]:s}}))}}));var o=s(88382),i=s(75500);RegExp("\\bfopen\\s*\\(\\s*[^)]+\\)|\\bopen\\s*\\(\\s*[^)]+\\)|\\bstd::ifstream\\s*\\(\\s*[^)]+\\)|\\bifstream\\s*\\(\\s*[^)]+\\)|\\bstd::ofstream\\s*\\(\\s*[^)]+\\)|\\bofstream\\s*\\(\\s*[^)]+\\)|\\bstd::fstream\\s*\\(\\s*[^)]+\\)|\\bfstream\\s*\\(\\s*[^)]+\\)|\\w+\\s*\\.\\s*open\\s*\\(\\s*[^)]+\\)"),RegExp("\\bgetchar\\s*\\(\\s*\\)|\\bfgetc\\s*\\(\\s*stdin\\s*\\)|\\bgetc\\s*\\(\\s*stdin\\s*\\)|\\bfgets\\s*\\(\\s*[^,]+,\\s*[^,]+,\\s*stdin\\s*\\)|\\bscanf\\s*\\(|\\bfscanf\\s*\\(\\s*stdin\\s*,|\\bfread\\s*\\(\\s*[^,]+,\\s*[^,]+,\\s*[^,]+,\\s*stdin\\s*\\)|\\bstd::cin\\s*>>|\\bcin\\s*>>|\\bstd::cin\\s*\\.\\s*get\\s*\\(|\\bcin\\s*\\.\\s*get\\s*\\(|\\bstd::cin\\s*\\.\\s*getline\\s*\\(|\\bcin\\s*\\.\\s*getline\\s*\\(|\\bstd::getline\\s*\\(\\s*std::cin\\s*,|\\bgetline\\s*\\(\\s*cin\\s*,|\\bstd::cin\\s*\\.\\s*read\\s*\\(|\\bcin\\s*\\.\\s*read\\s*\\(");let c=new Set(["latex","x"]),l=new Set(["cpp","c"]),d=new Set(["python3","bash","cpp","javascript","typescript","latex","nodejs","x","python","c"]),g={};function m(e,t){let s=(0,i.h)(),{user:m}=(0,a.wV)(),p=s.ENABLE_CODE_EXECUTION&&!!m,u=r(t=>t.codeExecutionResultsByCodeSource[null!=e?e:""]),[h,f]=(0,o.useState)(!1),k=(0,o.useRef)(null),b=(0,o.useRef)(null);return{runCode:(0,o.useCallback)(()=>{var s,a;e&&t&&p&&k.current!==e&&(null==(s=b.current)||s.abort(),b.current=new AbortController,f(!0),k.current=e,n.chatApi.chatRunCode({body:{code:e,language:t}},{signal:null==(a=b.current)?void 0:a.signal}).then(t=>{let{setCodeExecutionResult:s}=r.getState();s(e,{stdout:t.stdout||"",stderr:t.stderr||"",outputFiles:t.outputFiles||g,timestamp:Date.now(),success:!!t.success}),f(!1)}).catch(()=>{f(!1)}).finally(()=>{b.current=null,k.current=null}))},[e,t,p]),result:u,loading:h,codeExecutionAvailable:(0,o.useCallback)(()=>!!e&&!!t&&p&&function(e,t,s){let a=e.toLowerCase();if(l.has(a))return!!t.includes("int main(")&&!0;return!!(s.ENABLE_LATEX_PREVIEW&&c.has(a))||d.has(a)}(t,e,s),[p,t,e,s])}}},9037:(e,t,s)=>{"use strict";s.d(t,{y0:()=>E,nD:()=>O,_d:()=>_,dg:()=>R,lZ:()=>T});var a=s(79342),n=s(38614),r=s(69630),o=s(11750),i=s(30388),c=s(56691),l=s(88382),d=s(17703),g=s(75500),m=s(23232),p=s(2280),u=s(5862),h=s(61312),f=s(56937),k=s.n(f),b=s(76679),x=s.n(b),w=s(84969),v=s(23054),y=s(65146),j=s(82767),N=s(44347);let C=(0,l.forwardRef)((e,t)=>{let{children:s,onAutoscrollUpdate:n,style:r}=e,i=(0,l.useRef)(null),[d,g]=(0,l.useState)(!0),[m,p]=(0,l.useState)(!1),[u,f]=(0,l.useState)(!0),k=(0,l.useRef)(()=>{}),b=(0,N.C$)(e=>e.userSettings.preferences.disableAutoScroll),x=(0,l.useCallback)(e=>{i.current&&(p(!1),i.current.scrollTo({top:i.current.scrollHeight,behavior:e}))},[]),w=(0,l.useCallback)(e=>{if(!e)return;let t=document.querySelector('div[data-scrollid="'.concat(e,'"]'));if(!t||!i.current)return;let{top:s}=S(t,i.current);i.current.scrollTo({top:s,behavior:"smooth"}),g(!1)},[]),v=(0,l.useCallback)(e=>{k.current=e},[]);(0,l.useEffect)(()=>{x("instant")},[]),(0,l.useEffect)(()=>{null==n||n(d)},[n,d]),(0,l.useImperativeHandle)(t,()=>{var e,t,s;return{scrollToId:w,setScrollToIdHandler:v,el:i.current,scrollHeight:null==(e=i.current)?void 0:e.scrollHeight,scrollTop:null==(t=i.current)?void 0:t.scrollTop,clientHeight:null==(s=i.current)?void 0:s.clientHeight}}),(0,l.useEffect)(()=>{if(!i.current)return;let e=new MutationObserver(()=>{if(!i.current)return void p(!1);let e=i.current.scrollHeight-i.current.scrollTop-i.current.clientHeight,t=e<5;if(t!==u&&f(t),p(!d&&e>15),d&&!t&&!b){x("smooth");let e=i.current.querySelectorAll("div[data-scrollid]"),t=e[e.length-1];if(t){var s;let e=null!=(s=t.getAttribute("data-scrollid"))?s:void 0;e&&k.current(e)}}});return e.observe(i.current,{childList:!0,subtree:!0}),()=>{e.disconnect()}},[u,d,b]);let y=(0,l.useCallback)(()=>{g(!1)},[]),C=(0,l.useCallback)(()=>{if(i.current){let e=function(e){return e.scrollHeight<e.scrollTop+e.clientHeight+5}(i.current);e!==u&&f(e),p(!e)}},[u]),I=(0,l.useCallback)(e=>{if(e.deltaY>0&&i.current&&!d){let e=i.current.scrollTop;e+i.current.clientHeight+50>=i.current.scrollHeight&&!b&&g(!0)}if(e.deltaY<0&&d&&y(),!i.current)return;let t=i.current.querySelectorAll("div[data-scrollid]");if(t.length>0){let e,a=i.current.scrollTop,n=i.current.clientHeight,r=i.current.scrollHeight,o=1/0;if(a<20)e=t[0];else if(a+n>=r-20)e=t[t.length-1];else{let s=a+n/2;for(let a of t){let{top:t}=S(a,i.current);if(s>t&&s<t+a.clientHeight){e=a;break}let n=Math.abs(s-(t+a.clientHeight/2));n<o&&(e=a,o=n)}}if(e){var s;let t=null!=(s=e.getAttribute("data-scrollid"))?s:void 0;k.current(t)}else k.current(void 0)}},[d,b]);return(0,a.jsxs)("div",{ref:i,className:(0,h.cn)("w-full h-full overflow-y-auto overflow-x-hidden scrollbar-gutter-stable no-scrollbar overscroll-y-contain"),onScroll:C,onTouchStart:y,onWheel:I,onDragStart:y,onPointerDown:y,onResize:y,style:r,children:[s,m?(0,a.jsx)("div",{className:"absolute flex justify-center w-full h-0 pr-4 mx-auto -top-3",children:(0,a.jsx)("div",{className:(0,h.cn)("h-0 flex items-end justify-end w-full",j.Q,"px-2 z-40"),children:(0,a.jsx)(c.$n,{onClick:()=>g(!0),variant:"outline",size:"icon",className:"rounded-full bg-input backdrop-blur-sm size-8",children:(0,a.jsx)(o.yQN,{size:20,className:"-mb-0.5"})})})}):null]})});function S(e,t){let s=e.getBoundingClientRect(),a=t.getBoundingClientRect();return{top:s.top-a.top+t.scrollTop,left:s.left-a.left+t.scrollLeft}}let I="pb-2 px-5",T="mt-[12px] mx-5 @md/mainview:mx-1 h-7 flex flex-row items-center",E=(0,l.forwardRef)((e,t)=>{let{traceSteps:s,responseId:n,isStreaming:o,flattenToolUsageCards:i,onAutoscrollUpdate:c}=e,d=(0,g.h)(),m=(0,l.useRef)(null),u=(0,p.tg)({ref:m,direction:"vertical"});return(0,a.jsx)(C,{ref:e=>{var s;"function"==typeof t?t(e):t&&(t.current=e),m.current=null!=(s=null==e?void 0:e.el)?s:null},style:{...u,paddingBottom:"1px"},onAutoscrollUpdate:c,children:(0,a.jsx)(w.N,{children:s.map((e,t)=>{var s;if(!e||void 0===t)return null;let c=d.FILTER_OUT_STEP_BULLETS?e.text.replace(/^[*-] /,""):e.text;return(0,a.jsx)(v.P.div,{layoutId:"teleprompter-trace-step-".concat(n,"-").concat(null!=(s=e.rolloutId)?s:"").concat(e.rolloutId?"-":"").concat(t),layout:!0,initial:o?{y:80,opacity:0}:{y:0,opacity:1},animate:{y:0,opacity:1},exit:o?{y:-80,opacity:0,zIndex:-1}:{y:0,opacity:1},transition:{ease:"easeInOut",duration:.2,layout:{ease:"easeInOut",duration:.2}},className:(0,h.cn)("header"===e.type&&"mt-3 font-semibold"),children:(0,a.jsx)(r.Ad,{responseId:n,sender:"assistant",isNested:!0,shouldRenderHtml:!0,flattenToolUsageCards:i,children:c})},t)})})})}),R=(0,l.forwardRef)((e,t)=>{var s,r;let{response:i,onAutoscrollUpdate:d,isStreamingThink:p}=e,{t:u}=(0,y.Bd)("chat"),f=(0,g.h)(),k=(0,m._)(),b=(0,l.useCallback)(()=>{if(k("trace_click",i.responseId,{location:"teleprompter"}),i.responseId){let{setSidePanelContent:e,sidePanelContent:t}=n.aP.getState();e((null==t?void 0:t.type)==="thinkingTrace"&&t.data.responseId===i.responseId?void 0:{type:"thinkingTrace",data:{responseId:i.responseId}})}},[i.responseId,k]),x=f.SHOW_SHOW_THOUGHTS?(0,a.jsx)("div",{className:"sticky bottom-0 right-0 flex justify-end z-10",children:(0,a.jsxs)(c.$n,{variant:"filledSecondary",size:"sm",rounded:!0,className:"text-xs items-center leading-1",onClick:b,children:[(0,a.jsx)(o.N$i,{size:14}),u("show-thoughts-button.label","Show thoughts")]})}):null;return(0,a.jsxs)("div",{className:(0,h.cn)("relative isolate","w-full h-full bg-surface-l1 overflow-hidden","border border-border-l1 rounded-3xl","max-h-[50vh]","flex flex-col justify-end","leading-7",I),children:[p&&(0,a.jsx)(P,{className:"bg-surface-l1 -mb-2"}),(0,a.jsx)(E,{ref:t,traceSteps:null!=(s=i.traceSteps)?s:[],responseId:null!=(r=i.responseId)?r:"",isStreaming:!!p,onAutoscrollUpdate:d}),x]})}),A=(0,l.forwardRef)((e,t)=>{let{children:s,responseId:n,onHeightChange:o}=e,i=(0,l.useRef)(null),[c,d]=(0,l.useState)(0),g=(0,l.useCallback)(()=>{if(i.current){let e=i.current.getBoundingClientRect().height;return e!==c&&(d(e),null==o||o(e)),e}return 0},[c,o]);return(0,l.useImperativeHandle)(t,()=>({getHeight:()=>c||g()}),[c,g]),(0,l.useEffect)(()=>{let e=setTimeout(g,0),t=new ResizeObserver(()=>{g()});return i.current&&t.observe(i.current),()=>{clearTimeout(e),t.disconnect()}},[g]),(0,a.jsx)("div",{ref:i,children:(0,a.jsx)(r.Cn,{responseId:n,sender:"assistant",isNested:!0,shouldRenderHtml:!0,children:s})})});function _(e){var t;let s,{response:n}=e,r=(0,g.h)(),[o,i]=(0,l.useState)([]),c=(0,l.useRef)(0),d=(0,l.useRef)(new Map),[m,p]=(0,l.useState)(new Map);(0,l.useEffect)(()=>{var e,t;let s=Date.now();if((2!==o.length||!(s-c.current<100))&&(c.current=s,(null==(e=n.traceSteps)?void 0:e.length)&&(null==(t=n.traceSteps)?void 0:t.length)>0)){let[,e]=function(e,t,s){let a=[],n=[];for(let t=e.length-1;t>=0;t--){let r=e[t];if(void 0!==r&&s(r)&&(a.push(r),n.push(t),2===a.length))break}return a.reverse(),n.reverse(),[a,n]}(n.traceSteps,2,e=>"header"!==e.type);i(e)}},[null==(t=n.traceSteps)?void 0:t.length]);let u=(0,l.useCallback)((e,t)=>{p(s=>{let a=new Map(s);return a.set(e,t),a})},[]);(0,l.useEffect)(()=>{let e=setTimeout(()=>{let e=new Map,t=!1;o.forEach(s=>{let a=d.current.get(s);if(a){let n=a.getHeight();e.set(s,n),m.get(s)!==n&&(t=!0)}}),t&&p(e)},100);return()=>clearTimeout(e)},[o,n.traceSteps,m]);let f=e=>{let t=4;for(let s=0;s<e;s++){let e=o[s];void 0!==e&&(t+=(m.get(e)||40)+8)}return t},b=x()(k()(n.traceSteps,o),o),y=(s=0,o.forEach(e=>{let t=m.get(e)||40;s+=t}),o.length>1&&(s+=(o.length-1)*8),s);return(0,a.jsxs)("div",{className:(0,h.cn)("relative isolate","w-full bg-surface-l1 overflow-hidden","border border-border-l1 rounded-3xl","max-h-[50vh]","transition-all duration-200 ease-in-out",I),children:[(0,a.jsx)(P,{className:"bg-surface-l1"}),(0,a.jsx)("div",{className:"relative w-full transition-height duration-200 ease-in-out",style:{height:"".concat(0===y?0:4+y+8,"px")},children:(0,a.jsx)(w.N,{mode:"popLayout",children:b.map((e,t)=>{let[s,o]=e;if(!s||void 0===o)return null;let i=r.FILTER_OUT_STEP_BULLETS?s.text.replace(/^[*-] /,""):s.text,c=f(t);return(0,a.jsx)(v.P.div,{layoutId:"mini-promter-trace-step-".concat(n.responseId,"-").concat(o),className:"absolute inset-x-0",initial:{y:80,opacity:0},animate:{y:0,opacity:1},exit:{y:-40,opacity:0,zIndex:-1},transition:{ease:"easeInOut",duration:.3},style:{top:"".concat(c,"px")},children:(0,a.jsx)(A,{ref:e=>{e?d.current.set(o,e):d.current.delete(o)},responseId:n.responseId,onHeightChange:e=>u(o,e),children:i})},o)})})})]})}function O(e){let{className:t,response:s,onToggle:n,isMinimized:r,isOptimistic:c,isStreaming:g,isStreamingThink:m,centerTitle:p}=e,{t:f}=(0,y.Bd)("chat"),[k,b]=(0,l.useState)("");(0,l.useEffect)(()=>{let e=()=>{if(m&&r){var e;let t=null==(e=s.traceSteps)?void 0:e.findLast(e=>"header"===e.type);return(null==t?void 0:t.text)||f("Thinking","Thinking")}if(m)return f("Thinking","Thinking");if(s.liveThinkingStartTime&&s.liveThinkingEndTime){let e=s.liveThinkingEndTime-s.liveThinkingStartTime;return f("teleprompter.thought-for-duration","Thought for {{duration}}",{duration:(0,u.a3)(e)})}if(s.thinkingStartTime&&s.thinkingEndTime){let e=new Date(s.thinkingEndTime).getTime()-new Date(s.thinkingStartTime).getTime();return f("teleprompter.thought-for-duration","Thought for {{duration}}",{duration:(0,u.a3)(e)})}return s.liveThinkingStartTime||s.liveThinkingEndTime?f("Thinking Completed","Thinking Completed"):c||g&&!s.liveThinkingStartTime?f("Thinking","Thinking"):f("Thoughts","Thoughts")};b(t=>{let s=e();return s!==t?s:t})},[m,r,s.traceSteps,s.liveThinkingStartTime,s.liveThinkingEndTime,s.thinkingStartTime,s.thinkingEndTime,c,g,f]);var x,w,j="teleprompter";let N=(0,l.useRef)(k);(0,l.useEffect)(()=>{N.current!==k&&((0,d.gg)(j,k),N.current=k)},[j,k]);let C=(0,h.cn)(r&&m?"text-primary":"text-secondary"),S=(0,h.cn)(C,r&&m?"font-semibold":""),I=m||c||g&&!s.liveThinkingStartTime,T=!!((null==(x=s.traceSteps)?void 0:x.length)&&(null==(w=s.traceSteps)?void 0:w.length)>0);return(0,a.jsxs)(P,{className:(0,h.cn)(I&&"mx-3",p&&"justify-center",t),onClick:T?n:void 0,children:[(0,a.jsxs)("div",{className:"w-[24px] h-[24px] flex items-center justify-center relative group",children:[I?(0,a.jsx)("div",{className:(0,h.cn)("group-hover:opacity-0 transition-opacity",C),children:(0,a.jsx)(i.d,{})}):(0,a.jsx)(o.xmO,{size:18,className:(0,h.cn)("-mt-[1px]",C,{"group-hover:opacity-0 transition-opacity":T})}),T&&(0,a.jsx)(v.P.div,{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",animate:{rotate:180*!r},transition:{duration:.1},children:(0,a.jsx)(o.yQN,{size:16,className:C})})]}),(0,a.jsx)("div",{className:(0,h.cn)({"flex-1":!p},"overflow-hidden",S),children:(0,a.jsx)(M,{text:k})})]})}function P(e){let{children:t,className:s,onClick:n}=e;return(0,a.jsx)("div",{className:(0,h.cn)("flex flex-row w-full items-center gap-1 flex-shrink-0","h-7",n?"cursor-pointer":"","mt-3 mb-1 sm:mx-3 w-[calc(100%-40px)]",s),onClick:n,children:t})}A.displayName="MemoizedStreamingMarkdownWrapper";let M=e=>{let{text:t}=e,[s,n]=(0,l.useState)(""),[r,o]=(0,l.useState)(t),[i,c]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{t!==r&&(s.length>0?c(!0):o(t))},[t,r,s.length]),(0,l.useEffect)(()=>{let e;return i?s.length>0?e=setTimeout(()=>{n(s.slice(0,-1))},10):(c(!1),o(t)):s.length<r.length&&(e=setTimeout(()=>{n(r.slice(0,s.length+1))},15)),()=>clearTimeout(e)},[s,r,i,t]),(0,a.jsx)("span",{className:"truncate",children:s})}},9158:(e,t,s)=>{"use strict";s.d(t,{wv:()=>K,Ju:()=>G,OB:()=>W});var a=s(79342),n=s(8143),r=s(70697),o=s(11750),i=s(42423),c=s(88844),l=s(32519),d=s(56691),g=s(13103),m=s(34500),p=s(61884),u=s(75500),h=s(41320),f=s(6063),k=s(61312),b=s(49972),x=s(97960),w=s(53592),v=s(23054),y=s(74995),j=s(88382),N=s(65146),C=s(33018),S=s(36401),I=s(38614),T=s(1729),E=s(29658),R=s(52371);let A=(0,s(82509).v)(e=>({previewMode:"desktop",setPreviewMode:t=>e({previewMode:t}),isRefreshing:!1,refresh:()=>{e({isRefreshing:!0}),setTimeout(()=>e({isRefreshing:!1}),100)}}));var _=s(69580);function O(){let{t:e}=(0,N.Bd)("chat"),{previewMode:t,setPreviewMode:s}=A();return(0,a.jsx)(R.tU,{className:"flex-1 flex-row justify-center flex",defaultValue:"desktop",value:t,onValueChange:e=>s(e),children:(0,a.jsxs)(R.j7,{children:[(0,a.jsxs)(R.Xi,{className:"gap-1",value:"desktop",children:[(0,a.jsx)(o.VAG,{className:"size-4"}),(0,a.jsx)("span",{className:"hidden md:inline",children:e("Wide","Wide")})]}),(0,a.jsxs)(R.Xi,{className:"gap-1",value:"mobile",children:[(0,a.jsx)(o.wO7,{className:"size-4"}),(0,a.jsx)("span",{className:"hidden md:inline",children:e("Mobile","Mobile")})]})]})})}function P(){let{refresh:e}=A(),{t}=(0,N.Bd)("chat");return(0,a.jsx)("div",{className:"flex gap-2 items-center",children:(0,a.jsxs)(p.m_,{delayDuration:300,children:[(0,a.jsx)(p.k$,{asChild:!0,children:(0,a.jsx)(d.$n,{variant:"outline",size:"icon",onClick:e,children:(0,a.jsx)(o.e9t,{size:16})})}),(0,a.jsx)(p.ZI,{children:(0,a.jsx)("p",{children:t("Refresh","Refresh")})})]})})}function M(e){let{html:t}=e,{previewMode:s,isRefreshing:n}=A();return(0,a.jsx)("div",{className:"h-full bg-foreground dark:bg-background",children:(0,a.jsx)("div",{className:"w-full h-full flex flex-col",children:(0,a.jsx)("div",{className:(0,k.cn)("bg-surface-base flex-1 flex flex-col"),children:(0,a.jsx)("div",{className:(0,k.cn)("flex-1 bg-foreground","mobile"===s&&"max-w-lg mx-auto"),children:n?null:(0,a.jsx)(_.Z,{srcDoc:t,autofocus:!0})})})})})}var L=s(69630);let D=e=>{let{responseId:t,isStreaming:s}=e,[n,r]=(0,j.useState)(void 0),o=(0,x.A3)(e=>e.byId[t]);return(0,j.useEffect)(()=>{let e=setInterval(()=>{r(null==o?void 0:o.traceSteps)},100);return()=>clearInterval(e)},[null==o?void 0:o.traceSteps]),(0,a.jsx)("div",{className:"px-2",children:null==n?void 0:n.map((e,n)=>{var r;if(!e||void 0===n)return null;let o=e.text;return(0,a.jsx)(v.P.div,{layoutId:"teleprompter-trace-step-".concat(t,"-").concat(null!=(r=e.rolloutId)?r:"").concat(e.rolloutId?"-":"").concat(n),layout:!0,initial:s?{y:80,opacity:0}:{y:0,opacity:1},animate:{y:0,opacity:1},exit:s?{y:-80,opacity:0,zIndex:-1}:{y:0,opacity:1},transition:{ease:"easeInOut",duration:.2,layout:{ease:"easeInOut",duration:.2}},className:(0,k.cn)("header"===e.type&&"mt-3 font-semibold"),children:(0,a.jsx)(L.Ad,{responseId:t,sender:"assistant",isNested:!0,shouldRenderHtml:!0,children:o})},n)})})},B=[],z=e=>{let{responseId:t}=e,[s,n]=(0,j.useState)(""),r=(0,x.A3)(e=>e.byId[t]);return(0,j.useEffect)(()=>{let e=setInterval(()=>{var e;n((null==r||null==(e=r.steps)?void 0:e.map(e=>{var t,s,a;if(!(null==(t=e.tags)?void 0:t.includes("assistant")))return"";let n=null==(s=e.tags)?void 0:s.indexOf("assistant");return(null==(a=e.text)?void 0:a[n])||""}).join(" "))||"")},100);return()=>clearInterval(e)},[null==r?void 0:r.steps]),(0,a.jsx)("div",{className:"px-2",children:(0,a.jsx)(L.Cn,{sender:"assistant",webSearchResults:B,xposts:B,shouldRenderHtml:!0,children:s})})};var F=s(80574);function U(e){let{conversationId:t,parentResponseId:s}=e,n=(0,b.w1)(e=>e.byId[t]),r=(0,x.A3)(e=>e.loadThreadMessages);(0,j.useEffect)(()=>{r(t,s).catch(e=>{console.error("Failed to load thread messages:",e)})},[t,s,r]);let o=(0,j.useMemo)(()=>(0,F.lo)({chatStateType:"thread",optimisticMessageId:void 0,lastMessageId:void 0,streamedMessageId:void 0}),[s]);return(0,a.jsx)(F.hg,{store:o,children:(0,a.jsx)(S.T,{conversationId:t,conversation:n,isOptimisticConversation:!1,conversationIsLoading:!1,conversationError:null,threadMode:!0,threadParentId:s,noTopBar:!0,backdropColor:"bg-surface-l1 dark:bg-surface-inset"})})}function V(){var e;let{t}=(0,N.Bd)("chat"),s=(0,u.h)(),b=(0,I.aP)(y.A("sidePanelContent")),x=(0,I.aP)(y.A("sidePanelStack")).length,S=(0,I.aP)(y.A("setSidePanelContent")),R=(0,I.aP)(y.A("closeSidePanel")),[A,_]=(0,j.useState)(void 0),L=["htmlPreview","artifact"].includes(null!=(e=null==b?void 0:b.type)?e:""),B=b&&"asset"===b.type&&f.Ig.includes(b.data.fileMimeType),F=b&&"asset"===b.type&&f.f9.includes(b.data.fileMimeType),V=L||s.ENABLE_CSV_RENDERING&&B||s.ENABLE_XLSX_RENDERING&&F,H=(0,h.Di)(L?900:void 0),W=(null==b?void 0:b.type)==="thinkingTrace"?740:.8*document.body.clientWidth,G=(0,j.useCallback)(()=>{R()},[R]),K=(0,j.useCallback)(()=>{S(void 0,!0)},[S]),q=()=>{var e,c,g,m;let u,h,f,w;if(!b)return null;let{type:y,data:j}=b,N=null,S=null;switch(y){case"asset":u=(0,a.jsx)(o.iUU,{className:"!size-5"}),h=j.fileName.length>0?j.fileName:"File",w=(0,a.jsx)("div",{className:"flex flex-col items-center gap-2 px-4 pb-2 h-full",children:(0,a.jsx)(C.H,{fileMetadata:j,onClose:G,hideEdit:b.hideEdit})});break;case"rawAsset":u=(0,a.jsx)(o.iUU,{className:"!size-5"}),h=j.fileName.length>0?j.fileName:"File",w=(0,a.jsx)("div",{className:"flex flex-col items-center gap-2 px-4 pb-2 h-full",children:(0,a.jsx)(C.H,{fileMetadata:j,onClose:G,useRawFileURI:!0})});break;case"webSearchResults":h=t("Search Results","Search Results"),w=(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2 px-4 pb-2 h-full",children:[j.webSearchResults.map(e=>(0,a.jsx)("div",{className:"w-full py-1 text-base text-primary",children:(0,a.jsx)(r.O9,{webSearchResult:e})},e.url)),!!(null==(e=j.browsedUrls)?void 0:e.length)&&(null==(c=j.browsedUrls)?void 0:c.length)>0&&(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("div",{className:"text-base font-medium pb-2",children:t("Deep Search: Browsed URLs","Deep Search: Browsed URLs")}),null==(g=j.browsedUrls)?void 0:g.map(e=>(0,a.jsx)("div",{className:"w-full py-1 text-base text-primary",children:(0,a.jsx)(r.O9,{webSearchResult:{url:e,title:e,preview:"",searchEngineText:"",description:"",siteName:"",metadataTitle:"",creator:"",image:"",favicon:"",citationId:""}})},e))]})]});break;case"xPosts":h=t("\uD835\uDD4F Posts","\uD835\uDD4F Posts"),w=(0,a.jsx)("div",{className:"flex flex-col items-center px-4 pb-2",children:j.map(e=>(0,a.jsx)("div",{className:"w-full py-1 text-base text-primary",children:(0,a.jsx)(r.id,{xPost:e})},e.postId))});break;case"xUsers":h=t("\uD835\uDD4F Users","\uD835\uDD4F Users"),w=(0,a.jsx)("div",{className:"flex flex-col items-center px-4 pb-2",children:j.map(e=>(0,a.jsx)("div",{className:"w-full py-1 text-base text-primary",children:(0,a.jsx)(n.bj,{xUser:e})},e.id))});break;case"memoryReferences":h=(0,a.jsxs)("div",{className:"flex flex-row items-center gap-1.5",children:[t("response-action.referenced-conversations","Referenced Conversations"),(0,a.jsx)(l.q,{})]}),f=t("Forgetting conversations won’t delete them from history","Forgetting conversations won’t delete them from history"),w=(0,a.jsx)(i.an,{responseId:j.responseId,memoryReferences:j.memoryReferences});break;case"messageThread":u=(0,a.jsx)(o.vEG,{className:"!size-5"}),h=t("Thread","Thread"),j.selectedText&&(f='"'.concat(j.selectedText.slice(0,50)).concat(j.selectedText.length>50?"...":"",'"')),w=(0,a.jsx)(U,{conversationId:j.conversationId,parentResponseId:j.parentResponseId});break;case"thinkingTrace":h=t("Thoughts","Thoughts"),w=(0,a.jsx)(v.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.15},className:"[&>*:first-child]:mt-0 h-fit overflow-x-auto w-full focus:outline-none focus-within:outline-none px-3 prose dark:prose-invert",children:(0,a.jsx)(z,{responseId:j.responseId})});break;case"thinkingSteps":h=t("Thinking Steps","Thinking Steps"),w=(0,a.jsx)(v.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.15},className:"[&>*:first-child]:mt-0 h-fit overflow-x-auto w-full focus:outline-none focus-within:outline-none px-3 prose dark:prose-invert",children:(0,a.jsx)(D,{responseId:j.responseId,isStreaming:j.isStreaming})});break;case"artifact":h=null,w=(0,a.jsx)(T.C,{artifact:j.artifact,onSetMenu:s.ENABLE_ARTIFACTS_EDITING?_:void 0,readOnly:j.readOnly}),S=null,N=(0,a.jsx)(E.x,{artifact:j.artifact,contentButtons:A,readOnly:j.readOnly});break;case"htmlPreview":N=(0,a.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,a.jsx)(O,{}),(0,a.jsx)(P,{})]}),w=(0,a.jsx)(M,{html:j});break;default:throw Error("Unknown side panel content type")}let I=["asset","webSearchResults","xPosts","xUsers","memoryReferences","messageThread"].includes(null!=(m=null==b?void 0:b.type)?m:"");return(0,a.jsxs)("aside",{className:"max-h-[97dvh] h-[97dvh] lg:max-h-none lg:h-full flex flex-col w-full overflow-y-auto overflow-x-hidden bg-surface-l1 dark:bg-surface-inset",children:[(0,a.jsxs)("div",{className:(0,k.cn)("flex z-10 flex-row items-center justify-between flex-shrink-0 w-full px-2 md:px-5 sticky top-0 bg-gradient-to-b from-surface-l1 via-surface-l1 dark:from-surface-inset dark:via-surface-inset to-transparent",f?"h-[4.5rem] via-90%":"h-12 md:h-16 via-80%"),children:[x>0&&(0,a.jsx)(d.$n,{variant:"ghost",size:"icon",onClick:K,"aria-label":t("Back","Back"),children:(0,a.jsx)(o.YJP,{className:"size-5"})}),N||(0,a.jsxs)("div",{className:"flex flex-row gap-2 items-center max-w-[50%]",children:[u&&(0,a.jsx)("div",{className:"flex-shrink-0",children:u}),(0,a.jsxs)("div",{className:(0,k.cn)("flex flex-col items-start w-full",H&&"gap-1",I&&"ps-2 md:ps-3"),children:[(0,a.jsx)("div",{className:"truncate text-base font-semibold text-ellipsis w-full",children:H?(0,a.jsx)("div",{children:h}):h}),f&&(0,a.jsx)("div",{className:(0,k.cn)("text-xs text-secondary w-full",!H&&"truncate"),children:H?(0,a.jsx)("div",{children:f}):f})]})]}),S,(0,a.jsxs)("div",{className:"flex justify-end items-center gap-2",children:[null,(0,a.jsxs)(p.m_,{delayDuration:300,children:[(0,a.jsx)(p.k$,{asChild:!0,children:(0,a.jsx)(d.$n,{variant:"ghost",size:"icon",onClick:G,className:"flex-shrink-0 rounded-full","aria-label":t("Close","Close"),children:(0,a.jsx)(o.X,{size:20,strokeWidth:2})})}),(0,a.jsx)(p.ZI,{children:(0,a.jsx)("p",{children:t("Close","Close")})})]})]})]}),(0,a.jsx)("div",{className:(0,k.cn)("flex-grow w-full h-full overflow-y-visible",(null==b?void 0:b.type)==="artifact"&&"overflow-y-auto min-h-0 flex-1 p-0",(null==b?void 0:b.type)==="messageThread"&&"overflow-y-auto min-h-0 flex-1 p-0"),children:w})]})};if(H)return(0,a.jsx)(m._s,{open:!!b,onOpenChange:e=>S(e?b:void 0,!0),children:(0,a.jsx)(m.zj,{className:"focus:outline-none bg-surface-l1 dark:bg-surface-inset pt-1",disableDrag:!("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),children:q()})});if(b&&"asset"===b.type&&b.data.fileMimeType.startsWith("image/"))return(0,a.jsx)(w.lG,{open:!!b,onOpenChange:e=>{S(e?b:void 0,!0)},children:(0,a.jsx)(g.ZJ,{children:(0,a.jsx)(g.Cf,{className:(0,k.cn)("bg-transparent h-full w-full","!scale-100 !-translate-x-1/2 !-translate-y-1/2"),children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center w-full h-full",onClick:()=>S(void 0,!0),children:[(0,a.jsx)(C.H,{fileMetadata:b.data,onClose:G,hideEdit:b.hideEdit}),(0,a.jsx)("div",{className:"absolute flex-col justify-between hidden lg:flex end-3 inset-y-3 dark",children:(0,a.jsx)(d.$n,{variant:"ghost",size:"iconXl",onClick:e=>{e.stopPropagation(),G()},children:(0,a.jsx)(o.uv5,{className:"size-5"})})})]})})})});let X=(null==b?void 0:b.type)==="asset"&&"application/pdf"===b.data.fileMimeType,Y=(null==b?void 0:b.type)==="messageThread",Q=V?.6*document.body.clientWidth:X?.5*document.body.clientWidth:Y?600:480;return(0,a.jsx)(c.w,{isVisible:!!b,minWidth:L&&!H?600:288,maxWidth:W,initialWidth:Q,className:"max-w-[66%] xl:max-w-none",children:q()})}let H=(0,j.createContext)({inPanel:!1,setInPanel:()=>{}}),W=()=>(0,j.useContext)(H),G=e=>{let{children:t}=e,[s,n]=(0,j.useState)(!1);return(0,a.jsx)(H.Provider,{value:{inPanel:s,setInPanel:n},children:t})};function K(){let{setInPanel:e}=W();return(0,j.useEffect)(()=>{e(!0)},[e]),(0,a.jsx)(V,{})}},10084:(e,t,s)=>{"use strict";s.d(t,{R:()=>f});var a=s(79342),n=s(39489),r=s(56691),o=s(66408),i=s(23232),c=s(4878),l=s(61312),d=s(70888),g=s(59075),m=s(74995),p=s(88382),u=s(65146),h=s(37469);let f=e=>{let{conversationId:t,shouldGetFromStore:s=!1,editingImage:f,className:k,buttonProps:b,location:x,children:w,onClick:v}=e,{t:y}=(0,u.Bd)("base"),{ASSET_SERVER_URL:j}=(0,n.v)(),N=(0,g.j)(m.A("open")),C=(0,d.x)(m.A("listByConversationId")),S=(0,d.x)(m.A("attachListByConversationId")),I=(0,i._)(),T=C[null!=t?t:"no_conversation_id"],E=S[null!=t?t:"no_conversation_id"],R=(0,p.useMemo)(()=>{var e,t;return(null==T?void 0:T[0])&&(null==T||null==(e=T[0])?void 0:e.metadata)?null==T||null==(t=T[0])?void 0:t.metadata:(null==E?void 0:E[0])?(0,h.B)(null==E?void 0:E[0]):void 0},[T,E]),A=(0,p.useMemo)(()=>{if(!(R instanceof Error))return null==R?void 0:R.fileUri},[R]),_=(0,p.useMemo)(()=>s&&!(R&&!(R instanceof Error)),[s,R]),O=(0,p.useCallback)(e=>{e.stopPropagation(),!s||!R||R instanceof Error?f&&N(f):N({metadata:R,url:(0,c.sU)(j,A)});let t=f&&"assetKey"in f?f.assetKey:A||"";I("image_editor_open",(0,o.r)(t||""),{location:x||""}),v&&v(e)},[s,R,f,A,I,x,v,N,j]);return(0,a.jsx)(r.$n,{...b,"aria-label":y("Edit image","Edit image"),disabled:_,className:(0,l.cn)("bg-surface-l2 hover:bg-surface-l4-hover dark:hover:bg-surface-l3",!_&&"*:hover:text-primary *:hover:transition-colors",k),onClick:O,children:w})}},10463:(e,t,s)=>{"use strict";s.d(t,{s:()=>a});let a={LANC:"https://abs.twimg.com/grok-finance-cards/ticker/lanc/png/logo",LDWY:"https://abs.twimg.com/grok-finance-cards/ticker/ldwy/png/logo",WPC:"https://abs.twimg.com/grok-finance-cards/ticker/wpc/png/logo",MDV:"https://abs.twimg.com/grok-finance-cards/ticker/mdv/png/logo",CTAS:"https://abs.twimg.com/grok-finance-cards/ticker/ctas/png/logo",TCBP:"https://abs.twimg.com/grok-finance-cards/ticker/tcbp/png/logo",PRCH:"https://abs.twimg.com/grok-finance-cards/ticker/prch/png/logo",VCTR:"https://abs.twimg.com/grok-finance-cards/ticker/vctr/png/logo",PCF:"https://abs.twimg.com/grok-finance-cards/ticker/pcf/png/logo",THRD:"https://abs.twimg.com/grok-finance-cards/ticker/thrd/png/logo",GME:"https://abs.twimg.com/grok-finance-cards/ticker/gme/png/logo",LIDR:"https://abs.twimg.com/grok-finance-cards/ticker/lidr/png/logo",RVSN:"https://abs.twimg.com/grok-finance-cards/ticker/rvsn/png/logo",CYRX:"https://abs.twimg.com/grok-finance-cards/ticker/cyrx/png/logo",ESGRO:"https://abs.twimg.com/grok-finance-cards/ticker/esgro/png/logo",VIASP:"https://abs.twimg.com/grok-finance-cards/ticker/viasp/png/logo",IGD:"https://abs.twimg.com/grok-finance-cards/ticker/igd/png/logo",EXTO:"https://abs.twimg.com/grok-finance-cards/ticker/exto/png/logo",GAN:"https://abs.twimg.com/grok-finance-cards/ticker/gan/png/logo",CTMX:"https://abs.twimg.com/grok-finance-cards/ticker/ctmx/png/logo",NVST:"https://abs.twimg.com/grok-finance-cards/ticker/nvst/png/logo",XOMAO:"https://abs.twimg.com/grok-finance-cards/ticker/xomao/png/logo",OMF:"https://abs.twimg.com/grok-finance-cards/ticker/omf/png/logo",KWESW:"https://abs.twimg.com/grok-finance-cards/ticker/kwesw/png/logo",PROC:"https://abs.twimg.com/grok-finance-cards/ticker/proc/png/logo",MSGM:"https://abs.twimg.com/grok-finance-cards/ticker/msgm/png/logo",COFS:"https://abs.twimg.com/grok-finance-cards/ticker/cofs/png/logo",VCV:"https://abs.twimg.com/grok-finance-cards/ticker/vcv/png/logo",AMZN:"https://abs.twimg.com/grok-finance-cards/ticker/amzn/png/logo",NVVE:"https://abs.twimg.com/grok-finance-cards/ticker/nvve/png/logo",MESA:"https://abs.twimg.com/grok-finance-cards/ticker/mesa/png/logo",PD:"https://abs.twimg.com/grok-finance-cards/ticker/pd/png/logo",CZNC:"https://abs.twimg.com/grok-finance-cards/ticker/cznc/png/logo",KRNY:"https://abs.twimg.com/grok-finance-cards/ticker/krny/png/logo",GNPX:"https://abs.twimg.com/grok-finance-cards/ticker/gnpx/png/logo",CELH:"https://abs.twimg.com/grok-finance-cards/ticker/celh/png/logo",DXC:"https://abs.twimg.com/grok-finance-cards/ticker/dxc/png/logo",TCBPW:"https://abs.twimg.com/grok-finance-cards/ticker/tcbpw/png/logo",ROG:"https://abs.twimg.com/grok-finance-cards/ticker/rog/png/logo",MNSBP:"https://abs.twimg.com/grok-finance-cards/ticker/mnsbp/png/logo",LAND:"https://abs.twimg.com/grok-finance-cards/ticker/land/png/logo",OGS:"https://abs.twimg.com/grok-finance-cards/ticker/ogs/png/logo",FARM:"https://abs.twimg.com/grok-finance-cards/ticker/farm/png/logo",IHG:"https://abs.twimg.com/grok-finance-cards/ticker/ihg/png/logo",AEYE:"https://abs.twimg.com/grok-finance-cards/ticker/aeye/png/logo",AMR:"https://abs.twimg.com/grok-finance-cards/ticker/amr/png/logo",NRSN:"https://abs.twimg.com/grok-finance-cards/ticker/nrsn/png/logo",POAI:"https://abs.twimg.com/grok-finance-cards/ticker/poai/png/logo",IPWR:"https://abs.twimg.com/grok-finance-cards/ticker/ipwr/png/logo",CMCO:"https://abs.twimg.com/grok-finance-cards/ticker/cmco/png/logo",CHI:"https://abs.twimg.com/grok-finance-cards/ticker/chi/png/logo",ECPG:"https://abs.twimg.com/grok-finance-cards/ticker/ecpg/png/logo",BRZE:"https://abs.twimg.com/grok-finance-cards/ticker/brze/png/logo",RCL:"https://abs.twimg.com/grok-finance-cards/ticker/rcl/png/logo",WAFD:"https://abs.twimg.com/grok-finance-cards/ticker/wafd/png/logo",FNGR:"https://abs.twimg.com/grok-finance-cards/ticker/fngr/png/logo",EMO:"https://abs.twimg.com/grok-finance-cards/ticker/emo/png/logo",TGNA:"https://abs.twimg.com/grok-finance-cards/ticker/tgna/png/logo",KNSA:"https://abs.twimg.com/grok-finance-cards/ticker/knsa/png/logo",HEAR:"https://abs.twimg.com/grok-finance-cards/ticker/hear/png/logo",EDR:"https://abs.twimg.com/grok-finance-cards/ticker/edr/png/logo",AEVA:"https://abs.twimg.com/grok-finance-cards/ticker/aeva/png/logo",AMST:"https://abs.twimg.com/grok-finance-cards/ticker/amst/png/logo",RMTI:"https://abs.twimg.com/grok-finance-cards/ticker/rmti/png/logo",AUDC:"https://abs.twimg.com/grok-finance-cards/ticker/audc/png/logo",TIGO:"https://abs.twimg.com/grok-finance-cards/ticker/tigo/png/logo",TBLAW:"https://abs.twimg.com/grok-finance-cards/ticker/tblaw/png/logo",SYRS:"https://abs.twimg.com/grok-finance-cards/ticker/syrs/png/logo",CAT:"https://abs.twimg.com/grok-finance-cards/ticker/cat/png/logo",BARK:"https://abs.twimg.com/grok-finance-cards/ticker/bark/png/logo",SCOR:"https://abs.twimg.com/grok-finance-cards/ticker/scor/png/logo",BLND:"https://abs.twimg.com/grok-finance-cards/ticker/blnd/png/logo",SB:"https://abs.twimg.com/grok-finance-cards/ticker/sb/png/logo",TFC:"https://abs.twimg.com/grok-finance-cards/ticker/tfc/png/logo",WGSWW:"https://abs.twimg.com/grok-finance-cards/ticker/wgsww/png/logo",EMF:"https://abs.twimg.com/grok-finance-cards/ticker/emf/png/logo",VERU:"https://abs.twimg.com/grok-finance-cards/ticker/veru/png/logo",NNDM:"https://abs.twimg.com/grok-finance-cards/ticker/nndm/png/logo",PAAS:"https://abs.twimg.com/grok-finance-cards/ticker/paas/png/logo",OMH:"https://abs.twimg.com/grok-finance-cards/ticker/omh/png/logo",MAN:"https://abs.twimg.com/grok-finance-cards/ticker/man/png/logo",AAPL:"https://abs.twimg.com/grok-finance-cards/ticker/aapl/png/logo",ANIX:"https://abs.twimg.com/grok-finance-cards/ticker/anix/png/logo",PANW:"https://abs.twimg.com/grok-finance-cards/ticker/panw/png/logo",PLRX:"https://abs.twimg.com/grok-finance-cards/ticker/plrx/png/logo",XLO:"https://abs.twimg.com/grok-finance-cards/ticker/xlo/png/logo",CVGI:"https://abs.twimg.com/grok-finance-cards/ticker/cvgi/png/logo",VTVT:"https://abs.twimg.com/grok-finance-cards/ticker/vtvt/png/logo",IAS:"https://abs.twimg.com/grok-finance-cards/ticker/ias/png/logo",FDBC:"https://abs.twimg.com/grok-finance-cards/ticker/fdbc/png/logo",GRAB:"https://abs.twimg.com/grok-finance-cards/ticker/grab/png/logo",CYTO:"https://abs.twimg.com/grok-finance-cards/ticker/cyto/png/logo",SYM:"https://abs.twimg.com/grok-finance-cards/ticker/sym/png/logo",ARRY:"https://abs.twimg.com/grok-finance-cards/ticker/arry/png/logo",PM:"https://abs.twimg.com/grok-finance-cards/ticker/pm/png/logo",KHC:"https://abs.twimg.com/grok-finance-cards/ticker/khc/png/logo",TEL:"https://abs.twimg.com/grok-finance-cards/ticker/tel/png/logo",PRLB:"https://abs.twimg.com/grok-finance-cards/ticker/prlb/png/logo",FULTP:"https://abs.twimg.com/grok-finance-cards/ticker/fultp/png/logo",BYON:"https://abs.twimg.com/grok-finance-cards/ticker/byon/png/logo",IDE:"https://abs.twimg.com/grok-finance-cards/ticker/ide/png/logo",AAP:"https://abs.twimg.com/grok-finance-cards/ticker/aap/png/logo",AGI:"https://abs.twimg.com/grok-finance-cards/ticker/agi/png/logo",PLL:"https://abs.twimg.com/grok-finance-cards/ticker/pll/png/logo",JBGS:"https://abs.twimg.com/grok-finance-cards/ticker/jbgs/png/logo",CLPS:"https://abs.twimg.com/grok-finance-cards/ticker/clps/png/logo",ORMP:"https://abs.twimg.com/grok-finance-cards/ticker/ormp/png/logo",JRSH:"https://abs.twimg.com/grok-finance-cards/ticker/jrsh/png/logo",MTRX:"https://abs.twimg.com/grok-finance-cards/ticker/mtrx/png/logo",DENN:"https://abs.twimg.com/grok-finance-cards/ticker/denn/png/logo",CBSH:"https://abs.twimg.com/grok-finance-cards/ticker/cbsh/png/logo",RGTI:"https://abs.twimg.com/grok-finance-cards/ticker/rgti/png/logo",CGC:"https://abs.twimg.com/grok-finance-cards/ticker/cgc/png/logo",OBK:"https://abs.twimg.com/grok-finance-cards/ticker/obk/png/logo",GRMN:"https://abs.twimg.com/grok-finance-cards/ticker/grmn/png/logo",CSWI:"https://abs.twimg.com/grok-finance-cards/ticker/cswi/png/logo",ULCC:"https://abs.twimg.com/grok-finance-cards/ticker/ulcc/png/logo",RVPH:"https://abs.twimg.com/grok-finance-cards/ticker/rvph/png/logo",ARQQ:"https://abs.twimg.com/grok-finance-cards/ticker/arqq/png/logo",DTF:"https://abs.twimg.com/grok-finance-cards/ticker/dtf/png/logo",SE:"https://abs.twimg.com/grok-finance-cards/ticker/se/png/logo",GALT:"https://abs.twimg.com/grok-finance-cards/ticker/galt/png/logo",ACGLO:"https://abs.twimg.com/grok-finance-cards/ticker/acglo/png/logo",ICUI:"https://abs.twimg.com/grok-finance-cards/ticker/icui/png/logo",DNTH:"https://abs.twimg.com/grok-finance-cards/ticker/dnth/png/logo",PINS:"https://abs.twimg.com/grok-finance-cards/ticker/pins/png/logo",CLPT:"https://abs.twimg.com/grok-finance-cards/ticker/clpt/png/logo",XPEL:"https://abs.twimg.com/grok-finance-cards/ticker/xpel/png/logo",CBU:"https://abs.twimg.com/grok-finance-cards/ticker/cbu/png/logo",DOMO:"https://abs.twimg.com/grok-finance-cards/ticker/domo/png/logo",ELEV:"https://abs.twimg.com/grok-finance-cards/ticker/elev/png/logo",SAFE:"https://abs.twimg.com/grok-finance-cards/ticker/safe/png/logo",HTOO:"https://abs.twimg.com/grok-finance-cards/ticker/htoo/png/logo",HBANP:"https://abs.twimg.com/grok-finance-cards/ticker/hbanp/png/logo",NWG:"https://abs.twimg.com/grok-finance-cards/ticker/nwg/png/logo",FTK:"https://abs.twimg.com/grok-finance-cards/ticker/ftk/png/logo",RXST:"https://abs.twimg.com/grok-finance-cards/ticker/rxst/png/logo",BCTX:"https://abs.twimg.com/grok-finance-cards/ticker/bctx/png/logo",LSEAW:"https://abs.twimg.com/grok-finance-cards/ticker/lseaw/png/logo",BWFG:"https://abs.twimg.com/grok-finance-cards/ticker/bwfg/png/logo",THRM:"https://abs.twimg.com/grok-finance-cards/ticker/thrm/png/logo",TENB:"https://abs.twimg.com/grok-finance-cards/ticker/tenb/png/logo",KELYB:"https://abs.twimg.com/grok-finance-cards/ticker/kelyb/png/logo",ANET:"https://abs.twimg.com/grok-finance-cards/ticker/anet/png/logo",BRO:"https://abs.twimg.com/grok-finance-cards/ticker/bro/png/logo",FSFG:"https://abs.twimg.com/grok-finance-cards/ticker/fsfg/png/logo",EDN:"https://abs.twimg.com/grok-finance-cards/ticker/edn/png/logo",HGBL:"https://abs.twimg.com/grok-finance-cards/ticker/hgbl/png/logo",CCLD:"https://abs.twimg.com/grok-finance-cards/ticker/ccld/png/logo",TPIC:"https://abs.twimg.com/grok-finance-cards/ticker/tpic/png/logo",CAH:"https://abs.twimg.com/grok-finance-cards/ticker/cah/png/logo",AMN:"https://abs.twimg.com/grok-finance-cards/ticker/amn/png/logo",AHCO:"https://abs.twimg.com/grok-finance-cards/ticker/ahco/png/logo",NRC:"https://abs.twimg.com/grok-finance-cards/ticker/nrc/png/logo",ENLT:"https://abs.twimg.com/grok-finance-cards/ticker/enlt/png/logo",TREE:"https://abs.twimg.com/grok-finance-cards/ticker/tree/png/logo",SRZNW:"https://abs.twimg.com/grok-finance-cards/ticker/srznw/png/logo",CVNA:"https://abs.twimg.com/grok-finance-cards/ticker/cvna/png/logo",MHF:"https://abs.twimg.com/grok-finance-cards/ticker/mhf/png/logo",MOVE:"https://abs.twimg.com/grok-finance-cards/ticker/move/png/logo",TCBK:"https://abs.twimg.com/grok-finance-cards/ticker/tcbk/png/logo",LANDP:"https://abs.twimg.com/grok-finance-cards/ticker/landp/png/logo",TROW:"https://abs.twimg.com/grok-finance-cards/ticker/trow/png/logo",TRIN:"https://abs.twimg.com/grok-finance-cards/ticker/trin/png/logo",RLAY:"https://abs.twimg.com/grok-finance-cards/ticker/rlay/png/logo",FLGC:"https://abs.twimg.com/grok-finance-cards/ticker/flgc/png/logo",WKEY:"https://abs.twimg.com/grok-finance-cards/ticker/wkey/png/logo",PX:"https://abs.twimg.com/grok-finance-cards/ticker/px/png/logo",LRN:"https://abs.twimg.com/grok-finance-cards/ticker/lrn/png/logo",PODC:"https://abs.twimg.com/grok-finance-cards/ticker/podc/png/logo",IKT:"https://abs.twimg.com/grok-finance-cards/ticker/ikt/png/logo",CNK:"https://abs.twimg.com/grok-finance-cards/ticker/cnk/png/logo",UI:"https://abs.twimg.com/grok-finance-cards/ticker/ui/png/logo",CMCT:"https://abs.twimg.com/grok-finance-cards/ticker/cmct/png/logo",VSEC:"https://abs.twimg.com/grok-finance-cards/ticker/vsec/png/logo",TOL:"https://abs.twimg.com/grok-finance-cards/ticker/tol/png/logo",NOTE:"https://abs.twimg.com/grok-finance-cards/ticker/note/png/logo",NTRBW:"https://abs.twimg.com/grok-finance-cards/ticker/ntrbw/png/logo",ZM:"https://abs.twimg.com/grok-finance-cards/ticker/zm/png/logo",STNG:"https://abs.twimg.com/grok-finance-cards/ticker/stng/png/logo",VLN:"https://abs.twimg.com/grok-finance-cards/ticker/vln/png/logo",ADT:"https://abs.twimg.com/grok-finance-cards/ticker/adt/png/logo",ABM:"https://abs.twimg.com/grok-finance-cards/ticker/abm/png/logo",MKSI:"https://abs.twimg.com/grok-finance-cards/ticker/mksi/png/logo",PODD:"https://abs.twimg.com/grok-finance-cards/ticker/podd/png/logo",ANF:"https://abs.twimg.com/grok-finance-cards/ticker/anf/png/logo",CRMT:"https://abs.twimg.com/grok-finance-cards/ticker/crmt/png/logo",IRWD:"https://abs.twimg.com/grok-finance-cards/ticker/irwd/png/logo",GEOS:"https://abs.twimg.com/grok-finance-cards/ticker/geos/png/logo",FSLR:"https://abs.twimg.com/grok-finance-cards/ticker/fslr/png/logo",OPAD:"https://abs.twimg.com/grok-finance-cards/ticker/opad/png/logo",CTHR:"https://abs.twimg.com/grok-finance-cards/ticker/cthr/png/logo",ATXI:"https://abs.twimg.com/grok-finance-cards/ticker/atxi/png/logo",GRNT:"https://abs.twimg.com/grok-finance-cards/ticker/grnt/png/logo",MYPSW:"https://abs.twimg.com/grok-finance-cards/ticker/mypsw/png/logo",FFNW:"https://abs.twimg.com/grok-finance-cards/ticker/ffnw/png/logo",SPB:"https://abs.twimg.com/grok-finance-cards/ticker/spb/png/logo",VVPR:"https://abs.twimg.com/grok-finance-cards/ticker/vvpr/png/logo",IBN:"https://abs.twimg.com/grok-finance-cards/ticker/ibn/png/logo",CRBP:"https://abs.twimg.com/grok-finance-cards/ticker/crbp/png/logo",PRCT:"https://abs.twimg.com/grok-finance-cards/ticker/prct/png/logo",HBANL:"https://abs.twimg.com/grok-finance-cards/ticker/hbanl/png/logo",PXLW:"https://abs.twimg.com/grok-finance-cards/ticker/pxlw/png/logo",COCP:"https://abs.twimg.com/grok-finance-cards/ticker/cocp/png/logo",NSIT:"https://abs.twimg.com/grok-finance-cards/ticker/nsit/png/logo",HTD:"https://abs.twimg.com/grok-finance-cards/ticker/htd/png/logo",ENR:"https://abs.twimg.com/grok-finance-cards/ticker/enr/png/logo",CACC:"https://abs.twimg.com/grok-finance-cards/ticker/cacc/png/logo",BMRN:"https://abs.twimg.com/grok-finance-cards/ticker/bmrn/png/logo",WALD:"https://abs.twimg.com/grok-finance-cards/ticker/wald/png/logo",EGO:"https://abs.twimg.com/grok-finance-cards/ticker/ego/png/logo",LANV:"https://abs.twimg.com/grok-finance-cards/ticker/lanv/png/logo",VOXR:"https://abs.twimg.com/grok-finance-cards/ticker/voxr/png/logo",CDP:"https://abs.twimg.com/grok-finance-cards/ticker/cdp/png/logo",CELZ:"https://abs.twimg.com/grok-finance-cards/ticker/celz/png/logo",QSI:"https://abs.twimg.com/grok-finance-cards/ticker/qsi/png/logo",FBNC:"https://abs.twimg.com/grok-finance-cards/ticker/fbnc/png/logo",BNGO:"https://abs.twimg.com/grok-finance-cards/ticker/bngo/png/logo",PFE:"https://abs.twimg.com/grok-finance-cards/ticker/pfe/png/logo",RNAZ:"https://abs.twimg.com/grok-finance-cards/ticker/rnaz/png/logo",REG:"https://abs.twimg.com/grok-finance-cards/ticker/reg/png/logo",ASNS:"https://abs.twimg.com/grok-finance-cards/ticker/asns/png/logo",KRMD:"https://abs.twimg.com/grok-finance-cards/ticker/krmd/png/logo",GLPG:"https://abs.twimg.com/grok-finance-cards/ticker/glpg/png/logo",APTV:"https://abs.twimg.com/grok-finance-cards/ticker/aptv/png/logo",AMSF:"https://abs.twimg.com/grok-finance-cards/ticker/amsf/png/logo",SYRA:"https://abs.twimg.com/grok-finance-cards/ticker/syra/png/logo",OCEA:"https://abs.twimg.com/grok-finance-cards/ticker/ocea/png/logo",CAF:"https://abs.twimg.com/grok-finance-cards/ticker/caf/png/logo",ZETA:"https://abs.twimg.com/grok-finance-cards/ticker/zeta/png/logo",CRGO:"https://abs.twimg.com/grok-finance-cards/ticker/crgo/png/logo",ZD:"https://abs.twimg.com/grok-finance-cards/ticker/zd/png/logo",PANL:"https://abs.twimg.com/grok-finance-cards/ticker/panl/png/logo",LDTC:"https://abs.twimg.com/grok-finance-cards/ticker/ldtc/png/logo",GGB:"https://abs.twimg.com/grok-finance-cards/ticker/ggb/png/logo",SPNS:"https://abs.twimg.com/grok-finance-cards/ticker/spns/png/logo",PROCW:"https://abs.twimg.com/grok-finance-cards/ticker/procw/png/logo",FSEA:"https://abs.twimg.com/grok-finance-cards/ticker/fsea/png/logo",INOD:"https://abs.twimg.com/grok-finance-cards/ticker/inod/png/logo",PCT:"https://abs.twimg.com/grok-finance-cards/ticker/pct/png/logo",BTM:"https://abs.twimg.com/grok-finance-cards/ticker/btm/png/logo",NFBK:"https://abs.twimg.com/grok-finance-cards/ticker/nfbk/png/logo",ADEA:"https://abs.twimg.com/grok-finance-cards/ticker/adea/png/logo",INFY:"https://abs.twimg.com/grok-finance-cards/ticker/infy/png/logo",MSBI:"https://abs.twimg.com/grok-finance-cards/ticker/msbi/png/logo",KNF:"https://abs.twimg.com/grok-finance-cards/ticker/knf/png/logo",MASI:"https://abs.twimg.com/grok-finance-cards/ticker/masi/png/logo",MAR:"https://abs.twimg.com/grok-finance-cards/ticker/mar/png/logo",VRSN:"https://abs.twimg.com/grok-finance-cards/ticker/vrsn/png/logo",OMCL:"https://abs.twimg.com/grok-finance-cards/ticker/omcl/png/logo",FITB:"https://abs.twimg.com/grok-finance-cards/ticker/fitb/png/logo",GDEVW:"https://abs.twimg.com/grok-finance-cards/ticker/gdevw/png/logo",SPNT:"https://abs.twimg.com/grok-finance-cards/ticker/spnt/png/logo",QTWO:"https://abs.twimg.com/grok-finance-cards/ticker/qtwo/png/logo",SUZ:"https://abs.twimg.com/grok-finance-cards/ticker/suz/png/logo",KMI:"https://abs.twimg.com/grok-finance-cards/ticker/kmi/png/logo",CGEM:"https://abs.twimg.com/grok-finance-cards/ticker/cgem/png/logo",DRD:"https://abs.twimg.com/grok-finance-cards/ticker/drd/png/logo",UBER:"https://abs.twimg.com/grok-finance-cards/ticker/uber/png/logo",SMID:"https://abs.twimg.com/grok-finance-cards/ticker/smid/png/logo",CCEP:"https://abs.twimg.com/grok-finance-cards/ticker/ccep/png/logo",MHO:"https://abs.twimg.com/grok-finance-cards/ticker/mho/png/logo",VERI:"https://abs.twimg.com/grok-finance-cards/ticker/veri/png/logo",BWB:"https://abs.twimg.com/grok-finance-cards/ticker/bwb/png/logo",SPGI:"https://abs.twimg.com/grok-finance-cards/ticker/spgi/png/logo",AERTW:"https://abs.twimg.com/grok-finance-cards/ticker/aertw/png/logo",CCCS:"https://abs.twimg.com/grok-finance-cards/ticker/cccs/png/logo",NNBR:"https://abs.twimg.com/grok-finance-cards/ticker/nnbr/png/logo",ATRO:"https://abs.twimg.com/grok-finance-cards/ticker/atro/png/logo",GRBK:"https://abs.twimg.com/grok-finance-cards/ticker/grbk/png/logo",BSET:"https://abs.twimg.com/grok-finance-cards/ticker/bset/png/logo",ACGLN:"https://abs.twimg.com/grok-finance-cards/ticker/acgln/png/logo",SSTK:"https://abs.twimg.com/grok-finance-cards/ticker/sstk/png/logo",ALLE:"https://abs.twimg.com/grok-finance-cards/ticker/alle/png/logo",SYK:"https://abs.twimg.com/grok-finance-cards/ticker/syk/png/logo",NEXT:"https://abs.twimg.com/grok-finance-cards/ticker/next/png/logo",SKIN:"https://abs.twimg.com/grok-finance-cards/ticker/skin/png/logo",CMP:"https://abs.twimg.com/grok-finance-cards/ticker/cmp/png/logo",PRLD:"https://abs.twimg.com/grok-finance-cards/ticker/prld/png/logo",FRSX:"https://abs.twimg.com/grok-finance-cards/ticker/frsx/png/logo",MASS:"https://abs.twimg.com/grok-finance-cards/ticker/mass/png/logo",MMC:"https://abs.twimg.com/grok-finance-cards/ticker/mmc/png/logo",BOXL:"https://abs.twimg.com/grok-finance-cards/ticker/boxl/png/logo",MPWR:"https://abs.twimg.com/grok-finance-cards/ticker/mpwr/png/logo",CCIA:"https://abs.twimg.com/grok-finance-cards/ticker/ccia/png/logo",BBDC:"https://abs.twimg.com/grok-finance-cards/ticker/bbdc/png/logo",TCBX:"https://abs.twimg.com/grok-finance-cards/ticker/tcbx/png/logo",AGO:"https://abs.twimg.com/grok-finance-cards/ticker/ago/png/logo",CBT:"https://abs.twimg.com/grok-finance-cards/ticker/cbt/png/logo",BLDP:"https://abs.twimg.com/grok-finance-cards/ticker/bldp/png/logo",DXCM:"https://abs.twimg.com/grok-finance-cards/ticker/dxcm/png/logo",EBC:"https://abs.twimg.com/grok-finance-cards/ticker/ebc/png/logo",BBAR:"https://abs.twimg.com/grok-finance-cards/ticker/bbar/png/logo",PTEN:"https://abs.twimg.com/grok-finance-cards/ticker/pten/png/logo",HTLF:"https://abs.twimg.com/grok-finance-cards/ticker/htlf/png/logo",LMNR:"https://abs.twimg.com/grok-finance-cards/ticker/lmnr/png/logo",NOTV:"https://abs.twimg.com/grok-finance-cards/ticker/notv/png/logo",CURI:"https://abs.twimg.com/grok-finance-cards/ticker/curi/png/logo",CNX:"https://abs.twimg.com/grok-finance-cards/ticker/cnx/png/logo",MDIA:"https://abs.twimg.com/grok-finance-cards/ticker/mdia/png/logo",KMT:"https://abs.twimg.com/grok-finance-cards/ticker/kmt/png/logo",BWEN:"https://abs.twimg.com/grok-finance-cards/ticker/bwen/png/logo",OMI:"https://abs.twimg.com/grok-finance-cards/ticker/omi/png/logo",EVGOW:"https://abs.twimg.com/grok-finance-cards/ticker/evgow/png/logo",NXE:"https://abs.twimg.com/grok-finance-cards/ticker/nxe/png/logo",VOR:"https://abs.twimg.com/grok-finance-cards/ticker/vor/png/logo",AMPS:"https://abs.twimg.com/grok-finance-cards/ticker/amps/png/logo",ALIT:"https://abs.twimg.com/grok-finance-cards/ticker/alit/png/logo",CNSP:"https://abs.twimg.com/grok-finance-cards/ticker/cnsp/png/logo",CCIF:"https://abs.twimg.com/grok-finance-cards/ticker/ccif/png/logo",RIV:"https://abs.twimg.com/grok-finance-cards/ticker/riv/png/logo",OMIC:"https://abs.twimg.com/grok-finance-cards/ticker/omic/png/logo",MMD:"https://abs.twimg.com/grok-finance-cards/ticker/mmd/png/logo",PEP:"https://abs.twimg.com/grok-finance-cards/ticker/pep/png/logo",PL:"https://abs.twimg.com/grok-finance-cards/ticker/pl/png/logo",FRT:"https://abs.twimg.com/grok-finance-cards/ticker/frt/png/logo",NBBK:"https://abs.twimg.com/grok-finance-cards/ticker/nbbk/png/logo",SNPS:"https://abs.twimg.com/grok-finance-cards/ticker/snps/png/logo",KGEI:"https://abs.twimg.com/grok-finance-cards/ticker/kgei/png/logo",ESAB:"https://abs.twimg.com/grok-finance-cards/ticker/esab/png/logo",GKOS:"https://abs.twimg.com/grok-finance-cards/ticker/gkos/png/logo",BPYPP:"https://abs.twimg.com/grok-finance-cards/ticker/bpypp/png/logo",NMRK:"https://abs.twimg.com/grok-finance-cards/ticker/nmrk/png/logo",CBZ:"https://abs.twimg.com/grok-finance-cards/ticker/cbz/png/logo",NXL:"https://abs.twimg.com/grok-finance-cards/ticker/nxl/png/logo",PLD:"https://abs.twimg.com/grok-finance-cards/ticker/pld/png/logo",FLNC:"https://abs.twimg.com/grok-finance-cards/ticker/flnc/png/logo",ATXS:"https://abs.twimg.com/grok-finance-cards/ticker/atxs/png/logo",LANDM:"https://abs.twimg.com/grok-finance-cards/ticker/landm/png/logo",NVNIW:"https://abs.twimg.com/grok-finance-cards/ticker/nvniw/png/logo",TUSK:"https://abs.twimg.com/grok-finance-cards/ticker/tusk/png/logo",GOOG:"https://abs.twimg.com/grok-finance-cards/ticker/goog/png/logo",MMM:"https://abs.twimg.com/grok-finance-cards/ticker/mmm/png/logo",MLECW:"https://abs.twimg.com/grok-finance-cards/ticker/mlecw/png/logo",ESGR:"https://abs.twimg.com/grok-finance-cards/ticker/esgr/png/logo",VIRC:"https://abs.twimg.com/grok-finance-cards/ticker/virc/png/logo",VFF:"https://abs.twimg.com/grok-finance-cards/ticker/vff/png/logo",RLI:"https://abs.twimg.com/grok-finance-cards/ticker/rli/png/logo",SWTX:"https://abs.twimg.com/grok-finance-cards/ticker/swtx/png/logo",ANIP:"https://abs.twimg.com/grok-finance-cards/ticker/anip/png/logo",ZAPPW:"https://abs.twimg.com/grok-finance-cards/ticker/zappw/png/logo",BENFW:"https://abs.twimg.com/grok-finance-cards/ticker/benfw/png/logo",ADN:"https://abs.twimg.com/grok-finance-cards/ticker/adn/png/logo",VLT:"https://abs.twimg.com/grok-finance-cards/ticker/vlt/png/logo",SUN:"https://abs.twimg.com/grok-finance-cards/ticker/sun/png/logo",VTYX:"https://abs.twimg.com/grok-finance-cards/ticker/vtyx/png/logo",NTG:"https://abs.twimg.com/grok-finance-cards/ticker/ntg/png/logo",CNQ:"https://abs.twimg.com/grok-finance-cards/ticker/cnq/png/logo",EVLVW:"https://abs.twimg.com/grok-finance-cards/ticker/evlvw/png/logo",CHH:"https://abs.twimg.com/grok-finance-cards/ticker/chh/png/logo",DTI:"https://abs.twimg.com/grok-finance-cards/ticker/dti/png/logo",EMN:"https://abs.twimg.com/grok-finance-cards/ticker/emn/png/logo",ALCO:"https://abs.twimg.com/grok-finance-cards/ticker/alco/png/logo",TREX:"https://abs.twimg.com/grok-finance-cards/ticker/trex/png/logo",ATRA:"https://abs.twimg.com/grok-finance-cards/ticker/atra/png/logo",AXTA:"https://abs.twimg.com/grok-finance-cards/ticker/axta/png/logo",NXPI:"https://abs.twimg.com/grok-finance-cards/ticker/nxpi/png/logo",PB:"https://abs.twimg.com/grok-finance-cards/ticker/pb/png/logo",GLUE:"https://abs.twimg.com/grok-finance-cards/ticker/glue/png/logo",HRI:"https://abs.twimg.com/grok-finance-cards/ticker/hri/png/logo",WLYB:"https://abs.twimg.com/grok-finance-cards/ticker/wlyb/png/logo",PCG:"https://abs.twimg.com/grok-finance-cards/ticker/pcg/png/logo",EPRT:"https://abs.twimg.com/grok-finance-cards/ticker/eprt/png/logo",STKL:"https://abs.twimg.com/grok-finance-cards/ticker/stkl/png/logo",BERY:"https://abs.twimg.com/grok-finance-cards/ticker/bery/png/logo",GNK:"https://abs.twimg.com/grok-finance-cards/ticker/gnk/png/logo",DIBS:"https://abs.twimg.com/grok-finance-cards/ticker/dibs/png/logo",AMT:"https://abs.twimg.com/grok-finance-cards/ticker/amt/png/logo",SM:"https://abs.twimg.com/grok-finance-cards/ticker/sm/png/logo",BLNK:"https://abs.twimg.com/grok-finance-cards/ticker/blnk/png/logo",ADI:"https://abs.twimg.com/grok-finance-cards/ticker/adi/png/logo",SUI:"https://abs.twimg.com/grok-finance-cards/ticker/sui/png/logo",CHSN:"https://abs.twimg.com/grok-finance-cards/ticker/chsn/png/logo",CEIX:"https://abs.twimg.com/grok-finance-cards/ticker/ceix/png/logo",DBRG:"https://abs.twimg.com/grok-finance-cards/ticker/dbrg/png/logo",CAR:"https://abs.twimg.com/grok-finance-cards/ticker/car/png/logo",GWRE:"https://abs.twimg.com/grok-finance-cards/ticker/gwre/png/logo",HROW:"https://abs.twimg.com/grok-finance-cards/ticker/hrow/png/logo",UNIT:"https://abs.twimg.com/grok-finance-cards/ticker/unit/png/logo",WSM:"https://abs.twimg.com/grok-finance-cards/ticker/wsm/png/logo",KVHI:"https://abs.twimg.com/grok-finance-cards/ticker/kvhi/png/logo",MBOT:"https://abs.twimg.com/grok-finance-cards/ticker/mbot/png/logo",TENX:"https://abs.twimg.com/grok-finance-cards/ticker/tenx/png/logo",OLPX:"https://abs.twimg.com/grok-finance-cards/ticker/olpx/png/logo",RCKTW:"https://abs.twimg.com/grok-finance-cards/ticker/rcktw/png/logo",VFS:"https://abs.twimg.com/grok-finance-cards/ticker/vfs/png/logo",IBCP:"https://abs.twimg.com/grok-finance-cards/ticker/ibcp/png/logo",AOUT:"https://abs.twimg.com/grok-finance-cards/ticker/aout/png/logo",CRDF:"https://abs.twimg.com/grok-finance-cards/ticker/crdf/png/logo",ENFN:"https://abs.twimg.com/grok-finance-cards/ticker/enfn/png/logo",QTRX:"https://abs.twimg.com/grok-finance-cards/ticker/qtrx/png/logo",CNSL:"https://abs.twimg.com/grok-finance-cards/ticker/cnsl/png/logo",FRMEP:"https://abs.twimg.com/grok-finance-cards/ticker/frmep/png/logo",WPP:"https://abs.twimg.com/grok-finance-cards/ticker/wpp/png/logo",IHS:"https://abs.twimg.com/grok-finance-cards/ticker/ihs/png/logo",ARWR:"https://abs.twimg.com/grok-finance-cards/ticker/arwr/png/logo",NTR:"https://abs.twimg.com/grok-finance-cards/ticker/ntr/png/logo",HIMS:"https://abs.twimg.com/grok-finance-cards/ticker/hims/png/logo",CRNT:"https://abs.twimg.com/grok-finance-cards/ticker/crnt/png/logo",DCBO:"https://abs.twimg.com/grok-finance-cards/ticker/dcbo/png/logo",BETR:"https://abs.twimg.com/grok-finance-cards/ticker/betr/png/logo",MHN:"https://abs.twimg.com/grok-finance-cards/ticker/mhn/png/logo",HWM:"https://abs.twimg.com/grok-finance-cards/ticker/hwm/png/logo",DAVEW:"https://abs.twimg.com/grok-finance-cards/ticker/davew/png/logo",PTLO:"https://abs.twimg.com/grok-finance-cards/ticker/ptlo/png/logo",ALEC:"https://abs.twimg.com/grok-finance-cards/ticker/alec/png/logo",BETRW:"https://abs.twimg.com/grok-finance-cards/ticker/betrw/png/logo",EDF:"https://abs.twimg.com/grok-finance-cards/ticker/edf/png/logo",TTOO:"https://abs.twimg.com/grok-finance-cards/ticker/ttoo/png/logo",SSB:"https://abs.twimg.com/grok-finance-cards/ticker/ssb/png/logo",YTRA:"https://abs.twimg.com/grok-finance-cards/ticker/ytra/png/logo",QDEL:"https://abs.twimg.com/grok-finance-cards/ticker/qdel/png/logo",CDZIP:"https://abs.twimg.com/grok-finance-cards/ticker/cdzip/png/logo",TROX:"https://abs.twimg.com/grok-finance-cards/ticker/trox/png/logo",MDB:"https://abs.twimg.com/grok-finance-cards/ticker/mdb/png/logo",FORM:"https://abs.twimg.com/grok-finance-cards/ticker/form/png/logo",NWFL:"https://abs.twimg.com/grok-finance-cards/ticker/nwfl/png/logo",CXDO:"https://abs.twimg.com/grok-finance-cards/ticker/cxdo/png/logo",AGS:"https://abs.twimg.com/grok-finance-cards/ticker/ags/png/logo",TLK:"https://abs.twimg.com/grok-finance-cards/ticker/tlk/png/logo",CHPT:"https://abs.twimg.com/grok-finance-cards/ticker/chpt/png/logo",UWMC:"https://abs.twimg.com/grok-finance-cards/ticker/uwmc/png/logo",HBANM:"https://abs.twimg.com/grok-finance-cards/ticker/hbanm/png/logo",GLSI:"https://abs.twimg.com/grok-finance-cards/ticker/glsi/png/logo",FTV:"https://abs.twimg.com/grok-finance-cards/ticker/ftv/png/logo",ENS:"https://abs.twimg.com/grok-finance-cards/ticker/ens/png/logo",CAG:"https://abs.twimg.com/grok-finance-cards/ticker/cag/png/logo",HYPR:"https://abs.twimg.com/grok-finance-cards/ticker/hypr/png/logo",AVXL:"https://abs.twimg.com/grok-finance-cards/ticker/avxl/png/logo",MGM:"https://abs.twimg.com/grok-finance-cards/ticker/mgm/png/logo",MAT:"https://abs.twimg.com/grok-finance-cards/ticker/mat/png/logo",BBAI:"https://abs.twimg.com/grok-finance-cards/ticker/bbai/png/logo",ADIL:"https://abs.twimg.com/grok-finance-cards/ticker/adil/png/logo",ALLY:"https://abs.twimg.com/grok-finance-cards/ticker/ally/png/logo",USAU:"https://abs.twimg.com/grok-finance-cards/ticker/usau/png/logo",TWST:"https://abs.twimg.com/grok-finance-cards/ticker/twst/png/logo",MHI:"https://abs.twimg.com/grok-finance-cards/ticker/mhi/png/logo",VERO:"https://abs.twimg.com/grok-finance-cards/ticker/vero/png/logo",PAGP:"https://abs.twimg.com/grok-finance-cards/ticker/pagp/png/logo",EOSE:"https://abs.twimg.com/grok-finance-cards/ticker/eose/png/logo",IRTC:"https://abs.twimg.com/grok-finance-cards/ticker/irtc/png/logo",UA:"https://abs.twimg.com/grok-finance-cards/ticker/ua/png/logo",CNC:"https://abs.twimg.com/grok-finance-cards/ticker/cnc/png/logo",INM:"https://abs.twimg.com/grok-finance-cards/ticker/inm/png/logo",REXR:"https://abs.twimg.com/grok-finance-cards/ticker/rexr/png/logo",VLO:"https://abs.twimg.com/grok-finance-cards/ticker/vlo/png/logo",SSL:"https://abs.twimg.com/grok-finance-cards/ticker/ssl/png/logo",XOMA:"https://abs.twimg.com/grok-finance-cards/ticker/xoma/png/logo",CAN:"https://abs.twimg.com/grok-finance-cards/ticker/can/png/logo",ANIK:"https://abs.twimg.com/grok-finance-cards/ticker/anik/png/logo",UPS:"https://abs.twimg.com/grok-finance-cards/ticker/ups/png/logo",EXTR:"https://abs.twimg.com/grok-finance-cards/ticker/extr/png/logo",RFMZ:"https://abs.twimg.com/grok-finance-cards/ticker/rfmz/png/logo",PLTR:"https://abs.twimg.com/grok-finance-cards/ticker/pltr/png/logo",CVAC:"https://abs.twimg.com/grok-finance-cards/ticker/cvac/png/logo",PII:"https://abs.twimg.com/grok-finance-cards/ticker/pii/png/logo",KALV:"https://abs.twimg.com/grok-finance-cards/ticker/kalv/png/logo",GNW:"https://abs.twimg.com/grok-finance-cards/ticker/gnw/png/logo",MNY:"https://abs.twimg.com/grok-finance-cards/ticker/mny/png/logo",ADNWW:"https://abs.twimg.com/grok-finance-cards/ticker/adnww/png/logo",HWC:"https://abs.twimg.com/grok-finance-cards/ticker/hwc/png/logo",FULC:"https://abs.twimg.com/grok-finance-cards/ticker/fulc/png/logo",AMH:"https://abs.twimg.com/grok-finance-cards/ticker/amh/png/logo",MSAI:"https://abs.twimg.com/grok-finance-cards/ticker/msai/png/logo",SQ:"https://abs.twimg.com/grok-finance-cards/ticker/sq/png/logo",BELFA:"https://abs.twimg.com/grok-finance-cards/ticker/belfa/png/logo",OGI:"https://abs.twimg.com/grok-finance-cards/ticker/ogi/png/logo",FDMT:"https://abs.twimg.com/grok-finance-cards/ticker/fdmt/png/logo",XOS:"https://abs.twimg.com/grok-finance-cards/ticker/xos/png/logo",CME:"https://abs.twimg.com/grok-finance-cards/ticker/cme/png/logo",VIRX:"https://abs.twimg.com/grok-finance-cards/ticker/virx/png/logo",VLYPP:"https://abs.twimg.com/grok-finance-cards/ticker/vlypp/png/logo",NEXA:"https://abs.twimg.com/grok-finance-cards/ticker/nexa/png/logo",PTON:"https://abs.twimg.com/grok-finance-cards/ticker/pton/png/logo",EHC:"https://abs.twimg.com/grok-finance-cards/ticker/ehc/png/logo",THRY:"https://abs.twimg.com/grok-finance-cards/ticker/thry/png/logo",PEB:"https://abs.twimg.com/grok-finance-cards/ticker/peb/png/logo",JWN:"https://abs.twimg.com/grok-finance-cards/ticker/jwn/png/logo",CNM:"https://abs.twimg.com/grok-finance-cards/ticker/cnm/png/logo",CHT:"https://abs.twimg.com/grok-finance-cards/ticker/cht/png/logo",HONE:"https://abs.twimg.com/grok-finance-cards/ticker/hone/png/logo",EMR:"https://abs.twimg.com/grok-finance-cards/ticker/emr/png/logo",VERA:"https://abs.twimg.com/grok-finance-cards/ticker/vera/png/logo",OKE:"https://abs.twimg.com/grok-finance-cards/ticker/oke/png/logo",NARI:"https://abs.twimg.com/grok-finance-cards/ticker/nari/png/logo",CNVS:"https://abs.twimg.com/grok-finance-cards/ticker/cnvs/png/logo",IAG:"https://abs.twimg.com/grok-finance-cards/ticker/iag/png/logo",MTTR:"https://abs.twimg.com/grok-finance-cards/ticker/mttr/png/logo",SBSW:"https://abs.twimg.com/grok-finance-cards/ticker/sbsw/png/logo",BMRA:"https://abs.twimg.com/grok-finance-cards/ticker/bmra/png/logo",BTE:"https://abs.twimg.com/grok-finance-cards/ticker/bte/png/logo",HYZN:"https://abs.twimg.com/grok-finance-cards/ticker/hyzn/png/logo",SYY:"https://abs.twimg.com/grok-finance-cards/ticker/syy/png/logo",LPLA:"https://abs.twimg.com/grok-finance-cards/ticker/lpla/png/logo",LOAN:"https://abs.twimg.com/grok-finance-cards/ticker/loan/png/logo",TEX:"https://abs.twimg.com/grok-finance-cards/ticker/tex/png/logo",GILD:"https://abs.twimg.com/grok-finance-cards/ticker/gild/png/logo",FRA:"https://abs.twimg.com/grok-finance-cards/ticker/fra/png/logo",KGS:"https://abs.twimg.com/grok-finance-cards/ticker/kgs/png/logo",CRDO:"https://abs.twimg.com/grok-finance-cards/ticker/crdo/png/logo",CELU:"https://abs.twimg.com/grok-finance-cards/ticker/celu/png/logo",OGN:"https://abs.twimg.com/grok-finance-cards/ticker/ogn/png/logo",GMED:"https://abs.twimg.com/grok-finance-cards/ticker/gmed/png/logo",USGOW:"https://abs.twimg.com/grok-finance-cards/ticker/usgow/png/logo",IBRX:"https://abs.twimg.com/grok-finance-cards/ticker/ibrx/png/logo",SNA:"https://abs.twimg.com/grok-finance-cards/ticker/sna/png/logo",EYE:"https://abs.twimg.com/grok-finance-cards/ticker/eye/png/logo",SRPT:"https://abs.twimg.com/grok-finance-cards/ticker/srpt/png/logo",CYCC:"https://abs.twimg.com/grok-finance-cards/ticker/cycc/png/logo",CARM:"https://abs.twimg.com/grok-finance-cards/ticker/carm/png/logo",BBSI:"https://abs.twimg.com/grok-finance-cards/ticker/bbsi/png/logo",CRGOW:"https://abs.twimg.com/grok-finance-cards/ticker/crgow/png/logo",MXCT:"https://abs.twimg.com/grok-finance-cards/ticker/mxct/png/logo",HE:"https://abs.twimg.com/grok-finance-cards/ticker/he/png/logo",BTBT:"https://abs.twimg.com/grok-finance-cards/ticker/btbt/png/logo",CDNA:"https://abs.twimg.com/grok-finance-cards/ticker/cdna/png/logo",BFK:"https://abs.twimg.com/grok-finance-cards/ticker/bfk/png/logo",WMS:"https://abs.twimg.com/grok-finance-cards/ticker/wms/png/logo",ORGNW:"https://abs.twimg.com/grok-finance-cards/ticker/orgnw/png/logo",BW:"https://abs.twimg.com/grok-finance-cards/ticker/bw/png/logo",RUSHB:"https://abs.twimg.com/grok-finance-cards/ticker/rushb/png/logo",TVTX:"https://abs.twimg.com/grok-finance-cards/ticker/tvtx/png/logo",MS:"https://abs.twimg.com/grok-finance-cards/ticker/ms/png/logo",OCTO:"https://abs.twimg.com/grok-finance-cards/ticker/octo/png/logo",SOTK:"https://abs.twimg.com/grok-finance-cards/ticker/sotk/png/logo",ATLX:"https://abs.twimg.com/grok-finance-cards/ticker/atlx/png/logo",BIO:"https://abs.twimg.com/grok-finance-cards/ticker/bio/png/logo",WLDS:"https://abs.twimg.com/grok-finance-cards/ticker/wlds/png/logo",ARLO:"https://abs.twimg.com/grok-finance-cards/ticker/arlo/png/logo",MCHX:"https://abs.twimg.com/grok-finance-cards/ticker/mchx/png/logo",CRSP:"https://abs.twimg.com/grok-finance-cards/ticker/crsp/png/logo",EVF:"https://abs.twimg.com/grok-finance-cards/ticker/evf/png/logo",MUJ:"https://abs.twimg.com/grok-finance-cards/ticker/muj/png/logo",QBTS:"https://abs.twimg.com/grok-finance-cards/ticker/qbts/png/logo",CLNE:"https://abs.twimg.com/grok-finance-cards/ticker/clne/png/logo",HRTX:"https://abs.twimg.com/grok-finance-cards/ticker/hrtx/png/logo",PTC:"https://abs.twimg.com/grok-finance-cards/ticker/ptc/png/logo",DESP:"https://abs.twimg.com/grok-finance-cards/ticker/desp/png/logo",RELL:"https://abs.twimg.com/grok-finance-cards/ticker/rell/png/logo",CWEN:"https://abs.twimg.com/grok-finance-cards/ticker/cwen/png/logo",DOUG:"https://abs.twimg.com/grok-finance-cards/ticker/doug/png/logo",WDI:"https://abs.twimg.com/grok-finance-cards/ticker/wdi/png/logo",CVV:"https://abs.twimg.com/grok-finance-cards/ticker/cvv/png/logo",AXON:"https://abs.twimg.com/grok-finance-cards/ticker/axon/png/logo",MT:"https://abs.twimg.com/grok-finance-cards/ticker/mt/png/logo",LOB:"https://abs.twimg.com/grok-finance-cards/ticker/lob/png/logo",IPA:"https://abs.twimg.com/grok-finance-cards/ticker/ipa/png/logo",BP:"https://abs.twimg.com/grok-finance-cards/ticker/bp/png/logo",AMKR:"https://abs.twimg.com/grok-finance-cards/ticker/amkr/png/logo",WMT:"https://abs.twimg.com/grok-finance-cards/ticker/wmt/png/logo",OSW:"https://abs.twimg.com/grok-finance-cards/ticker/osw/png/logo",BOX:"https://abs.twimg.com/grok-finance-cards/ticker/box/png/logo",CSIQ:"https://abs.twimg.com/grok-finance-cards/ticker/csiq/png/logo",HUBB:"https://abs.twimg.com/grok-finance-cards/ticker/hubb/png/logo",HOV:"https://abs.twimg.com/grok-finance-cards/ticker/hov/png/logo",BCOV:"https://abs.twimg.com/grok-finance-cards/ticker/bcov/png/logo",CPF:"https://abs.twimg.com/grok-finance-cards/ticker/cpf/png/logo",KD:"https://abs.twimg.com/grok-finance-cards/ticker/kd/png/logo",PRQR:"https://abs.twimg.com/grok-finance-cards/ticker/prqr/png/logo",ENTG:"https://abs.twimg.com/grok-finance-cards/ticker/entg/png/logo",GFAI:"https://abs.twimg.com/grok-finance-cards/ticker/gfai/png/logo",NET:"https://abs.twimg.com/grok-finance-cards/ticker/net/png/logo",BGFV:"https://abs.twimg.com/grok-finance-cards/ticker/bgfv/png/logo",NR:"https://abs.twimg.com/grok-finance-cards/ticker/nr/png/logo",EVO:"https://abs.twimg.com/grok-finance-cards/ticker/evo/png/logo",NICE:"https://abs.twimg.com/grok-finance-cards/ticker/nice/png/logo",MUC:"https://abs.twimg.com/grok-finance-cards/ticker/muc/png/logo",BLW:"https://abs.twimg.com/grok-finance-cards/ticker/blw/png/logo",BPMC:"https://abs.twimg.com/grok-finance-cards/ticker/bpmc/png/logo",MODD:"https://abs.twimg.com/grok-finance-cards/ticker/modd/png/logo",KVYO:"https://abs.twimg.com/grok-finance-cards/ticker/kvyo/png/logo",BCS:"https://abs.twimg.com/grok-finance-cards/ticker/bcs/png/logo",FCN:"https://abs.twimg.com/grok-finance-cards/ticker/fcn/png/logo",IZEA:"https://abs.twimg.com/grok-finance-cards/ticker/izea/png/logo",TRN:"https://abs.twimg.com/grok-finance-cards/ticker/trn/png/logo",GO:"https://abs.twimg.com/grok-finance-cards/ticker/go/png/logo",AGNC:"https://abs.twimg.com/grok-finance-cards/ticker/agnc/png/logo",ARCB:"https://abs.twimg.com/grok-finance-cards/ticker/arcb/png/logo",WKC:"https://abs.twimg.com/grok-finance-cards/ticker/wkc/png/logo",HUMA:"https://abs.twimg.com/grok-finance-cards/ticker/huma/png/logo",ULTA:"https://abs.twimg.com/grok-finance-cards/ticker/ulta/png/logo",SBGI:"https://abs.twimg.com/grok-finance-cards/ticker/sbgi/png/logo",IINN:"https://abs.twimg.com/grok-finance-cards/ticker/iinn/png/logo",DG:"https://abs.twimg.com/grok-finance-cards/ticker/dg/png/logo",FRGT:"https://abs.twimg.com/grok-finance-cards/ticker/frgt/png/logo",SMG:"https://abs.twimg.com/grok-finance-cards/ticker/smg/png/logo",VSTM:"https://abs.twimg.com/grok-finance-cards/ticker/vstm/png/logo",CVX:"https://abs.twimg.com/grok-finance-cards/ticker/cvx/png/logo",CPA:"https://abs.twimg.com/grok-finance-cards/ticker/cpa/png/logo",KC:"https://abs.twimg.com/grok-finance-cards/ticker/kc/png/logo",SLNG:"https://abs.twimg.com/grok-finance-cards/ticker/slng/png/logo",LUNA:"https://abs.twimg.com/grok-finance-cards/ticker/luna/png/logo",ASC:"https://abs.twimg.com/grok-finance-cards/ticker/asc/png/logo",AMBA:"https://abs.twimg.com/grok-finance-cards/ticker/amba/png/logo",ICAD:"https://abs.twimg.com/grok-finance-cards/ticker/icad/png/logo",FCEL:"https://abs.twimg.com/grok-finance-cards/ticker/fcel/png/logo",TRI:"https://abs.twimg.com/grok-finance-cards/ticker/tri/png/logo",GH:"https://abs.twimg.com/grok-finance-cards/ticker/gh/png/logo",NCLH:"https://abs.twimg.com/grok-finance-cards/ticker/nclh/png/logo",UBS:"https://abs.twimg.com/grok-finance-cards/ticker/ubs/png/logo",EVH:"https://abs.twimg.com/grok-finance-cards/ticker/evh/png/logo",CNDT:"https://abs.twimg.com/grok-finance-cards/ticker/cndt/png/logo",OSCR:"https://abs.twimg.com/grok-finance-cards/ticker/oscr/png/logo",LUMN:"https://abs.twimg.com/grok-finance-cards/ticker/lumn/png/logo",OCFCP:"https://abs.twimg.com/grok-finance-cards/ticker/ocfcp/png/logo",PRTC:"https://abs.twimg.com/grok-finance-cards/ticker/prtc/png/logo",NU:"https://abs.twimg.com/grok-finance-cards/ticker/nu/png/logo",HL:"https://abs.twimg.com/grok-finance-cards/ticker/hl/png/logo",TDOC:"https://abs.twimg.com/grok-finance-cards/ticker/tdoc/png/logo",BL:"https://abs.twimg.com/grok-finance-cards/ticker/bl/png/logo",CYN:"https://abs.twimg.com/grok-finance-cards/ticker/cyn/png/logo",DEO:"https://abs.twimg.com/grok-finance-cards/ticker/deo/png/logo",LGVN:"https://abs.twimg.com/grok-finance-cards/ticker/lgvn/png/logo",HBCP:"https://abs.twimg.com/grok-finance-cards/ticker/hbcp/png/logo",LVRO:"https://abs.twimg.com/grok-finance-cards/ticker/lvro/png/logo",ATLC:"https://abs.twimg.com/grok-finance-cards/ticker/atlc/png/logo",PSNY:"https://abs.twimg.com/grok-finance-cards/ticker/psny/png/logo",GPN:"https://abs.twimg.com/grok-finance-cards/ticker/gpn/png/logo",BIT:"https://abs.twimg.com/grok-finance-cards/ticker/bit/png/logo",UAN:"https://abs.twimg.com/grok-finance-cards/ticker/uan/png/logo",CPS:"https://abs.twimg.com/grok-finance-cards/ticker/cps/png/logo",DLR:"https://abs.twimg.com/grok-finance-cards/ticker/dlr/png/logo",ACHR:"https://abs.twimg.com/grok-finance-cards/ticker/achr/png/logo",CATO:"https://abs.twimg.com/grok-finance-cards/ticker/cato/png/logo",CARV:"https://abs.twimg.com/grok-finance-cards/ticker/carv/png/logo",HEQ:"https://abs.twimg.com/grok-finance-cards/ticker/heq/png/logo",SHC:"https://abs.twimg.com/grok-finance-cards/ticker/shc/png/logo",GLDD:"https://abs.twimg.com/grok-finance-cards/ticker/gldd/png/logo",PBFS:"https://abs.twimg.com/grok-finance-cards/ticker/pbfs/png/logo",CUE:"https://abs.twimg.com/grok-finance-cards/ticker/cue/png/logo",EPC:"https://abs.twimg.com/grok-finance-cards/ticker/epc/png/logo",VALE:"https://abs.twimg.com/grok-finance-cards/ticker/vale/png/logo",CPT:"https://abs.twimg.com/grok-finance-cards/ticker/cpt/png/logo",TXN:"https://abs.twimg.com/grok-finance-cards/ticker/txn/png/logo",IMAB:"https://abs.twimg.com/grok-finance-cards/ticker/imab/png/logo",WULF:"https://abs.twimg.com/grok-finance-cards/ticker/wulf/png/logo",LAZR:"https://abs.twimg.com/grok-finance-cards/ticker/lazr/png/logo",PXS:"https://abs.twimg.com/grok-finance-cards/ticker/pxs/png/logo",GPI:"https://abs.twimg.com/grok-finance-cards/ticker/gpi/png/logo",UGP:"https://abs.twimg.com/grok-finance-cards/ticker/ugp/png/logo",KLAC:"https://abs.twimg.com/grok-finance-cards/ticker/klac/png/logo",UNM:"https://abs.twimg.com/grok-finance-cards/ticker/unm/png/logo",VEEE:"https://abs.twimg.com/grok-finance-cards/ticker/veee/png/logo",ALRN:"https://abs.twimg.com/grok-finance-cards/ticker/alrn/png/logo",SHAK:"https://abs.twimg.com/grok-finance-cards/ticker/shak/png/logo",INTC:"https://abs.twimg.com/grok-finance-cards/ticker/intc/png/logo",RRGB:"https://abs.twimg.com/grok-finance-cards/ticker/rrgb/png/logo",SMR:"https://abs.twimg.com/grok-finance-cards/ticker/smr/png/logo",BK:"https://abs.twimg.com/grok-finance-cards/ticker/bk/png/logo",PEPG:"https://abs.twimg.com/grok-finance-cards/ticker/pepg/png/logo",BLE:"https://abs.twimg.com/grok-finance-cards/ticker/ble/png/logo",MBINN:"https://abs.twimg.com/grok-finance-cards/ticker/mbinn/png/logo",ELTX:"https://abs.twimg.com/grok-finance-cards/ticker/eltx/png/logo",MIGI:"https://abs.twimg.com/grok-finance-cards/ticker/migi/png/logo",GLBZ:"https://abs.twimg.com/grok-finance-cards/ticker/glbz/png/logo",TTE:"https://abs.twimg.com/grok-finance-cards/ticker/tte/png/logo",KIRK:"https://abs.twimg.com/grok-finance-cards/ticker/kirk/png/logo",MODV:"https://abs.twimg.com/grok-finance-cards/ticker/modv/png/logo",BRNS:"https://abs.twimg.com/grok-finance-cards/ticker/brns/png/logo",PRA:"https://abs.twimg.com/grok-finance-cards/ticker/pra/png/logo",DFIN:"https://abs.twimg.com/grok-finance-cards/ticker/dfin/png/logo",JJSF:"https://abs.twimg.com/grok-finance-cards/ticker/jjsf/png/logo",EVT:"https://abs.twimg.com/grok-finance-cards/ticker/evt/png/logo",LPTH:"https://abs.twimg.com/grok-finance-cards/ticker/lpth/png/logo",APP:"https://abs.twimg.com/grok-finance-cards/ticker/app/png/logo",SAP:"https://abs.twimg.com/grok-finance-cards/ticker/sap/png/logo",BILL:"https://abs.twimg.com/grok-finance-cards/ticker/bill/png/logo",NI:"https://abs.twimg.com/grok-finance-cards/ticker/ni/png/logo",CMPOW:"https://abs.twimg.com/grok-finance-cards/ticker/cmpow/png/logo",HASI:"https://abs.twimg.com/grok-finance-cards/ticker/hasi/png/logo",GT:"https://abs.twimg.com/grok-finance-cards/ticker/gt/png/logo",TRU:"https://abs.twimg.com/grok-finance-cards/ticker/tru/png/logo",BCH:"https://abs.twimg.com/grok-finance-cards/ticker/bch/png/logo",SPSC:"https://abs.twimg.com/grok-finance-cards/ticker/spsc/png/logo",VMEO:"https://abs.twimg.com/grok-finance-cards/ticker/vmeo/png/logo",MDWD:"https://abs.twimg.com/grok-finance-cards/ticker/mdwd/png/logo",SCWO:"https://abs.twimg.com/grok-finance-cards/ticker/scwo/png/logo",TXG:"https://abs.twimg.com/grok-finance-cards/ticker/txg/png/logo",RGEN:"https://abs.twimg.com/grok-finance-cards/ticker/rgen/png/logo",LII:"https://abs.twimg.com/grok-finance-cards/ticker/lii/png/logo",EVER:"https://abs.twimg.com/grok-finance-cards/ticker/ever/png/logo",LVTX:"https://abs.twimg.com/grok-finance-cards/ticker/lvtx/png/logo",BOC:"https://abs.twimg.com/grok-finance-cards/ticker/boc/png/logo",SPPL:"https://abs.twimg.com/grok-finance-cards/ticker/sppl/png/logo",BB:"https://abs.twimg.com/grok-finance-cards/ticker/bb/png/logo",RGLS:"https://abs.twimg.com/grok-finance-cards/ticker/rgls/png/logo",NEO:"https://abs.twimg.com/grok-finance-cards/ticker/neo/png/logo",NCV:"https://abs.twimg.com/grok-finance-cards/ticker/ncv/png/logo",EFXT:"https://abs.twimg.com/grok-finance-cards/ticker/efxt/png/logo",BAER:"https://abs.twimg.com/grok-finance-cards/ticker/baer/png/logo",TTWO:"https://abs.twimg.com/grok-finance-cards/ticker/ttwo/png/logo",ERIC:"https://abs.twimg.com/grok-finance-cards/ticker/eric/png/logo",RWT:"https://abs.twimg.com/grok-finance-cards/ticker/rwt/png/logo",HCA:"https://abs.twimg.com/grok-finance-cards/ticker/hca/png/logo",BCO:"https://abs.twimg.com/grok-finance-cards/ticker/bco/png/logo",PRO:"https://abs.twimg.com/grok-finance-cards/ticker/pro/png/logo",NFG:"https://abs.twimg.com/grok-finance-cards/ticker/nfg/png/logo",GS:"https://abs.twimg.com/grok-finance-cards/ticker/gs/png/logo",NRGV:"https://abs.twimg.com/grok-finance-cards/ticker/nrgv/png/logo",RELY:"https://abs.twimg.com/grok-finance-cards/ticker/rely/png/logo",PSNYW:"https://abs.twimg.com/grok-finance-cards/ticker/psnyw/png/logo",ONMD:"https://abs.twimg.com/grok-finance-cards/ticker/onmd/png/logo",NN:"https://abs.twimg.com/grok-finance-cards/ticker/nn/png/logo",PGYWW:"https://abs.twimg.com/grok-finance-cards/ticker/pgyww/png/logo",MGNI:"https://abs.twimg.com/grok-finance-cards/ticker/mgni/png/logo",BOOT:"https://abs.twimg.com/grok-finance-cards/ticker/boot/png/logo",WGS:"https://abs.twimg.com/grok-finance-cards/ticker/wgs/png/logo",TMUS:"https://abs.twimg.com/grok-finance-cards/ticker/tmus/png/logo",BLK:"https://abs.twimg.com/grok-finance-cards/ticker/blk/png/logo",SKE:"https://abs.twimg.com/grok-finance-cards/ticker/ske/png/logo",NRDY:"https://abs.twimg.com/grok-finance-cards/ticker/nrdy/png/logo",MYPS:"https://abs.twimg.com/grok-finance-cards/ticker/myps/png/logo",MDXG:"https://abs.twimg.com/grok-finance-cards/ticker/mdxg/png/logo",BE:"https://abs.twimg.com/grok-finance-cards/ticker/be/png/logo",PAVM:"https://abs.twimg.com/grok-finance-cards/ticker/pavm/png/logo",CDNS:"https://abs.twimg.com/grok-finance-cards/ticker/cdns/png/logo",DSGN:"https://abs.twimg.com/grok-finance-cards/ticker/dsgn/png/logo",OSK:"https://abs.twimg.com/grok-finance-cards/ticker/osk/png/logo",USPH:"https://abs.twimg.com/grok-finance-cards/ticker/usph/png/logo",LOW:"https://abs.twimg.com/grok-finance-cards/ticker/low/png/logo",LIN:"https://abs.twimg.com/grok-finance-cards/ticker/lin/png/logo",BTAI:"https://abs.twimg.com/grok-finance-cards/ticker/btai/png/logo",CPSH:"https://abs.twimg.com/grok-finance-cards/ticker/cpsh/png/logo",ASX:"https://abs.twimg.com/grok-finance-cards/ticker/asx/png/logo",MA:"https://abs.twimg.com/grok-finance-cards/ticker/ma/png/logo",CPZ:"https://abs.twimg.com/grok-finance-cards/ticker/cpz/png/logo",DPRO:"https://abs.twimg.com/grok-finance-cards/ticker/dpro/png/logo",IOBT:"https://abs.twimg.com/grok-finance-cards/ticker/iobt/png/logo",ASB:"https://abs.twimg.com/grok-finance-cards/ticker/asb/png/logo",KB:"https://abs.twimg.com/grok-finance-cards/ticker/kb/png/logo",APLM:"https://abs.twimg.com/grok-finance-cards/ticker/aplm/png/logo",ENTA:"https://abs.twimg.com/grok-finance-cards/ticker/enta/png/logo",PLCE:"https://abs.twimg.com/grok-finance-cards/ticker/plce/png/logo",CLDX:"https://abs.twimg.com/grok-finance-cards/ticker/cldx/png/logo",PAYS:"https://abs.twimg.com/grok-finance-cards/ticker/pays/png/logo",HII:"https://abs.twimg.com/grok-finance-cards/ticker/hii/png/logo",SRZN:"https://abs.twimg.com/grok-finance-cards/ticker/srzn/png/logo",CTSO:"https://abs.twimg.com/grok-finance-cards/ticker/ctso/png/logo",LIVN:"https://abs.twimg.com/grok-finance-cards/ticker/livn/png/logo",ADVWW:"https://abs.twimg.com/grok-finance-cards/ticker/advww/png/logo",BFC:"https://abs.twimg.com/grok-finance-cards/ticker/bfc/png/logo",MYN:"https://abs.twimg.com/grok-finance-cards/ticker/myn/png/logo",SLAB:"https://abs.twimg.com/grok-finance-cards/ticker/slab/png/logo",UONE:"https://abs.twimg.com/grok-finance-cards/ticker/uone/png/logo",VRE:"https://abs.twimg.com/grok-finance-cards/ticker/vre/png/logo",EMKR:"https://abs.twimg.com/grok-finance-cards/ticker/emkr/png/logo",MUE:"https://abs.twimg.com/grok-finance-cards/ticker/mue/png/logo",RYTM:"https://abs.twimg.com/grok-finance-cards/ticker/rytm/png/logo",FWRD:"https://abs.twimg.com/grok-finance-cards/ticker/fwrd/png/logo",XPRO:"https://abs.twimg.com/grok-finance-cards/ticker/xpro/png/logo",APM:"https://abs.twimg.com/grok-finance-cards/ticker/apm/png/logo",MNTX:"https://abs.twimg.com/grok-finance-cards/ticker/mntx/png/logo",DRRX:"https://abs.twimg.com/grok-finance-cards/ticker/drrx/png/logo",SFBC:"https://abs.twimg.com/grok-finance-cards/ticker/sfbc/png/logo",CZR:"https://abs.twimg.com/grok-finance-cards/ticker/czr/png/logo",NEOV:"https://abs.twimg.com/grok-finance-cards/ticker/neov/png/logo",IGMS:"https://abs.twimg.com/grok-finance-cards/ticker/igms/png/logo",DFS:"https://abs.twimg.com/grok-finance-cards/ticker/dfs/png/logo",PDLB:"https://abs.twimg.com/grok-finance-cards/ticker/pdlb/png/logo",PRU:"https://abs.twimg.com/grok-finance-cards/ticker/pru/png/logo",CARE:"https://abs.twimg.com/grok-finance-cards/ticker/care/png/logo",BX:"https://abs.twimg.com/grok-finance-cards/ticker/bx/png/logo",ECAT:"https://abs.twimg.com/grok-finance-cards/ticker/ecat/png/logo",SKX:"https://abs.twimg.com/grok-finance-cards/ticker/skx/png/logo",VEEV:"https://abs.twimg.com/grok-finance-cards/ticker/veev/png/logo",VECO:"https://abs.twimg.com/grok-finance-cards/ticker/veco/png/logo",MYI:"https://abs.twimg.com/grok-finance-cards/ticker/myi/png/logo",OZK:"https://abs.twimg.com/grok-finance-cards/ticker/ozk/png/logo",THFF:"https://abs.twimg.com/grok-finance-cards/ticker/thff/png/logo",KVUE:"https://abs.twimg.com/grok-finance-cards/ticker/kvue/png/logo",WBX:"https://abs.twimg.com/grok-finance-cards/ticker/wbx/png/logo",HUBC:"https://abs.twimg.com/grok-finance-cards/ticker/hubc/png/logo",MBRX:"https://abs.twimg.com/grok-finance-cards/ticker/mbrx/png/logo",CTSH:"https://abs.twimg.com/grok-finance-cards/ticker/ctsh/png/logo",HEPA:"https://abs.twimg.com/grok-finance-cards/ticker/hepa/png/logo",AQST:"https://abs.twimg.com/grok-finance-cards/ticker/aqst/png/logo",KE:"https://abs.twimg.com/grok-finance-cards/ticker/ke/png/logo",LUNG:"https://abs.twimg.com/grok-finance-cards/ticker/lung/png/logo",BCOW:"https://abs.twimg.com/grok-finance-cards/ticker/bcow/png/logo",IPI:"https://abs.twimg.com/grok-finance-cards/ticker/ipi/png/logo",RNST:"https://abs.twimg.com/grok-finance-cards/ticker/rnst/png/logo",WNS:"https://abs.twimg.com/grok-finance-cards/ticker/wns/png/logo",ARCC:"https://abs.twimg.com/grok-finance-cards/ticker/arcc/png/logo",KRYS:"https://abs.twimg.com/grok-finance-cards/ticker/krys/png/logo",SNN:"https://abs.twimg.com/grok-finance-cards/ticker/snn/png/logo",SHW:"https://abs.twimg.com/grok-finance-cards/ticker/shw/png/logo",ELTK:"https://abs.twimg.com/grok-finance-cards/ticker/eltk/png/logo",MCHP:"https://abs.twimg.com/grok-finance-cards/ticker/mchp/png/logo",NOG:"https://abs.twimg.com/grok-finance-cards/ticker/nog/png/logo",IROQ:"https://abs.twimg.com/grok-finance-cards/ticker/iroq/png/logo",OPY:"https://abs.twimg.com/grok-finance-cards/ticker/opy/png/logo",PDEX:"https://abs.twimg.com/grok-finance-cards/ticker/pdex/png/logo",ISPO:"https://abs.twimg.com/grok-finance-cards/ticker/ispo/png/logo",SMTI:"https://abs.twimg.com/grok-finance-cards/ticker/smti/png/logo",EVN:"https://abs.twimg.com/grok-finance-cards/ticker/evn/png/logo",ALXO:"https://abs.twimg.com/grok-finance-cards/ticker/alxo/png/logo",ISPOW:"https://abs.twimg.com/grok-finance-cards/ticker/ispow/png/logo",ADTN:"https://abs.twimg.com/grok-finance-cards/ticker/adtn/png/logo",BFRGW:"https://abs.twimg.com/grok-finance-cards/ticker/bfrgw/png/logo",FCF:"https://abs.twimg.com/grok-finance-cards/ticker/fcf/png/logo",SNGX:"https://abs.twimg.com/grok-finance-cards/ticker/sngx/png/logo",BAFN:"https://abs.twimg.com/grok-finance-cards/ticker/bafn/png/logo",NXGL:"https://abs.twimg.com/grok-finance-cards/ticker/nxgl/png/logo",ARES:"https://abs.twimg.com/grok-finance-cards/ticker/ares/png/logo",IONQ:"https://abs.twimg.com/grok-finance-cards/ticker/ionq/png/logo",GLMD:"https://abs.twimg.com/grok-finance-cards/ticker/glmd/png/logo",BLUE:"https://abs.twimg.com/grok-finance-cards/ticker/blue/png/logo",MNRO:"https://abs.twimg.com/grok-finance-cards/ticker/mnro/png/logo",EVG:"https://abs.twimg.com/grok-finance-cards/ticker/evg/png/logo",RLYB:"https://abs.twimg.com/grok-finance-cards/ticker/rlyb/png/logo",OPP:"https://abs.twimg.com/grok-finance-cards/ticker/opp/png/logo",DH:"https://abs.twimg.com/grok-finance-cards/ticker/dh/png/logo",CMTL:"https://abs.twimg.com/grok-finance-cards/ticker/cmtl/png/logo",MVIS:"https://abs.twimg.com/grok-finance-cards/ticker/mvis/png/logo",XRX:"https://abs.twimg.com/grok-finance-cards/ticker/xrx/png/logo",NTGR:"https://abs.twimg.com/grok-finance-cards/ticker/ntgr/png/logo",MRIN:"https://abs.twimg.com/grok-finance-cards/ticker/mrin/png/logo",VRME:"https://abs.twimg.com/grok-finance-cards/ticker/vrme/png/logo",RTO:"https://abs.twimg.com/grok-finance-cards/ticker/rto/png/logo",ONMDW:"https://abs.twimg.com/grok-finance-cards/ticker/onmdw/png/logo",HIG:"https://abs.twimg.com/grok-finance-cards/ticker/hig/png/logo",WDH:"https://abs.twimg.com/grok-finance-cards/ticker/wdh/png/logo",VRMEW:"https://abs.twimg.com/grok-finance-cards/ticker/vrmew/png/logo",DLO:"https://abs.twimg.com/grok-finance-cards/ticker/dlo/png/logo",PPTA:"https://abs.twimg.com/grok-finance-cards/ticker/ppta/png/logo",SLNH:"https://abs.twimg.com/grok-finance-cards/ticker/slnh/png/logo",MU:"https://abs.twimg.com/grok-finance-cards/ticker/mu/png/logo",TXT:"https://abs.twimg.com/grok-finance-cards/ticker/txt/png/logo",BLX:"https://abs.twimg.com/grok-finance-cards/ticker/blx/png/logo",SGRP:"https://abs.twimg.com/grok-finance-cards/ticker/sgrp/png/logo",ACGL:"https://abs.twimg.com/grok-finance-cards/ticker/acgl/png/logo",LTRX:"https://abs.twimg.com/grok-finance-cards/ticker/ltrx/png/logo",APD:"https://abs.twimg.com/grok-finance-cards/ticker/apd/png/logo",AUPH:"https://abs.twimg.com/grok-finance-cards/ticker/auph/png/logo",HD:"https://abs.twimg.com/grok-finance-cards/ticker/hd/png/logo",RRBI:"https://abs.twimg.com/grok-finance-cards/ticker/rrbi/png/logo",CDMO:"https://abs.twimg.com/grok-finance-cards/ticker/cdmo/png/logo",WHD:"https://abs.twimg.com/grok-finance-cards/ticker/whd/png/logo",APLD:"https://abs.twimg.com/grok-finance-cards/ticker/apld/png/logo",FIS:"https://abs.twimg.com/grok-finance-cards/ticker/fis/png/logo",IPG:"https://abs.twimg.com/grok-finance-cards/ticker/ipg/png/logo",AUR:"https://abs.twimg.com/grok-finance-cards/ticker/aur/png/logo",TOST:"https://abs.twimg.com/grok-finance-cards/ticker/tost/png/logo",ACDC:"https://abs.twimg.com/grok-finance-cards/ticker/acdc/png/logo",NDSN:"https://abs.twimg.com/grok-finance-cards/ticker/ndsn/png/logo",ALRS:"https://abs.twimg.com/grok-finance-cards/ticker/alrs/png/logo",DDOG:"https://abs.twimg.com/grok-finance-cards/ticker/ddog/png/logo",LASR:"https://abs.twimg.com/grok-finance-cards/ticker/lasr/png/logo",JEF:"https://abs.twimg.com/grok-finance-cards/ticker/jef/png/logo",UNP:"https://abs.twimg.com/grok-finance-cards/ticker/unp/png/logo",BV:"https://abs.twimg.com/grok-finance-cards/ticker/bv/png/logo",CCLDO:"https://abs.twimg.com/grok-finance-cards/ticker/ccldo/png/logo",AMAT:"https://abs.twimg.com/grok-finance-cards/ticker/amat/png/logo",AVO:"https://abs.twimg.com/grok-finance-cards/ticker/avo/png/logo",LLY:"https://abs.twimg.com/grok-finance-cards/ticker/lly/png/logo",BBUC:"https://abs.twimg.com/grok-finance-cards/ticker/bbuc/png/logo",NAII:"https://abs.twimg.com/grok-finance-cards/ticker/naii/png/logo",LQDT:"https://abs.twimg.com/grok-finance-cards/ticker/lqdt/png/logo",PKST:"https://abs.twimg.com/grok-finance-cards/ticker/pkst/png/logo",LOVE:"https://abs.twimg.com/grok-finance-cards/ticker/love/png/logo",DFH:"https://abs.twimg.com/grok-finance-cards/ticker/dfh/png/logo",RELX:"https://abs.twimg.com/grok-finance-cards/ticker/relx/png/logo",KEQU:"https://abs.twimg.com/grok-finance-cards/ticker/kequ/png/logo",TRS:"https://abs.twimg.com/grok-finance-cards/ticker/trs/png/logo",WBD:"https://abs.twimg.com/grok-finance-cards/ticker/wbd/png/logo",FCCO:"https://abs.twimg.com/grok-finance-cards/ticker/fcco/png/logo",BOE:"https://abs.twimg.com/grok-finance-cards/ticker/boe/png/logo",FOX:"https://abs.twimg.com/grok-finance-cards/ticker/fox/png/logo",JNPR:"https://abs.twimg.com/grok-finance-cards/ticker/jnpr/png/logo",EVCM:"https://abs.twimg.com/grok-finance-cards/ticker/evcm/png/logo",IMKTA:"https://abs.twimg.com/grok-finance-cards/ticker/imkta/png/logo",STVN:"https://abs.twimg.com/grok-finance-cards/ticker/stvn/png/logo",RRC:"https://abs.twimg.com/grok-finance-cards/ticker/rrc/png/logo",UNB:"https://abs.twimg.com/grok-finance-cards/ticker/unb/png/logo",FCT:"https://abs.twimg.com/grok-finance-cards/ticker/fct/png/logo",MYSZ:"https://abs.twimg.com/grok-finance-cards/ticker/mysz/png/logo",BTMD:"https://abs.twimg.com/grok-finance-cards/ticker/btmd/png/logo",ERIE:"https://abs.twimg.com/grok-finance-cards/ticker/erie/png/logo",BPOPM:"https://abs.twimg.com/grok-finance-cards/ticker/bpopm/png/logo",BEP:"https://abs.twimg.com/grok-finance-cards/ticker/bep/png/logo",MEDP:"https://abs.twimg.com/grok-finance-cards/ticker/medp/png/logo",PRI:"https://abs.twimg.com/grok-finance-cards/ticker/pri/png/logo",TBLA:"https://abs.twimg.com/grok-finance-cards/ticker/tbla/png/logo",WAL:"https://abs.twimg.com/grok-finance-cards/ticker/wal/png/logo",EBTC:"https://abs.twimg.com/grok-finance-cards/ticker/ebtc/png/logo",NIE:"https://abs.twimg.com/grok-finance-cards/ticker/nie/png/logo",FLUX:"https://abs.twimg.com/grok-finance-cards/ticker/flux/png/logo",WMG:"https://abs.twimg.com/grok-finance-cards/ticker/wmg/png/logo",CURIW:"https://abs.twimg.com/grok-finance-cards/ticker/curiw/png/logo",PUBM:"https://abs.twimg.com/grok-finance-cards/ticker/pubm/png/logo",BC:"https://abs.twimg.com/grok-finance-cards/ticker/bc/png/logo",IMNN:"https://abs.twimg.com/grok-finance-cards/ticker/imnn/png/logo",SATL:"https://abs.twimg.com/grok-finance-cards/ticker/satl/png/logo",CVE:"https://abs.twimg.com/grok-finance-cards/ticker/cve/png/logo",VFSWW:"https://abs.twimg.com/grok-finance-cards/ticker/vfsww/png/logo",MG:"https://abs.twimg.com/grok-finance-cards/ticker/mg/png/logo",DGICB:"https://abs.twimg.com/grok-finance-cards/ticker/dgicb/png/logo",OUT:"https://abs.twimg.com/grok-finance-cards/ticker/out/png/logo",UAA:"https://abs.twimg.com/grok-finance-cards/ticker/uaa/png/logo",PAYO:"https://abs.twimg.com/grok-finance-cards/ticker/payo/png/logo",ITIC:"https://abs.twimg.com/grok-finance-cards/ticker/itic/png/logo",DAVA:"https://abs.twimg.com/grok-finance-cards/ticker/dava/png/logo",MPLN:"https://abs.twimg.com/grok-finance-cards/ticker/mpln/png/logo",RELIW:"https://abs.twimg.com/grok-finance-cards/ticker/reliw/png/logo",NTAP:"https://abs.twimg.com/grok-finance-cards/ticker/ntap/png/logo",ATEX:"https://abs.twimg.com/grok-finance-cards/ticker/atex/png/logo",BSTZ:"https://abs.twimg.com/grok-finance-cards/ticker/bstz/png/logo",BJ:"https://abs.twimg.com/grok-finance-cards/ticker/bj/png/logo",MDXH:"https://abs.twimg.com/grok-finance-cards/ticker/mdxh/png/logo",DEI:"https://abs.twimg.com/grok-finance-cards/ticker/dei/png/logo",MTLS:"https://abs.twimg.com/grok-finance-cards/ticker/mtls/png/logo",AZEK:"https://abs.twimg.com/grok-finance-cards/ticker/azek/png/logo",TXO:"https://abs.twimg.com/grok-finance-cards/ticker/txo/png/logo",ITOS:"https://abs.twimg.com/grok-finance-cards/ticker/itos/png/logo",WDS:"https://abs.twimg.com/grok-finance-cards/ticker/wds/png/logo",BOLT:"https://abs.twimg.com/grok-finance-cards/ticker/bolt/png/logo",WLDN:"https://abs.twimg.com/grok-finance-cards/ticker/wldn/png/logo",RVNC:"https://abs.twimg.com/grok-finance-cards/ticker/rvnc/png/logo",SERA:"https://abs.twimg.com/grok-finance-cards/ticker/sera/png/logo",FICO:"https://abs.twimg.com/grok-finance-cards/ticker/fico/png/logo",CLBT:"https://abs.twimg.com/grok-finance-cards/ticker/clbt/png/logo",WERN:"https://abs.twimg.com/grok-finance-cards/ticker/wern/png/logo",PESI:"https://abs.twimg.com/grok-finance-cards/ticker/pesi/png/logo",TTD:"https://abs.twimg.com/grok-finance-cards/ticker/ttd/png/logo",IFRX:"https://abs.twimg.com/grok-finance-cards/ticker/ifrx/png/logo",MSI:"https://abs.twimg.com/grok-finance-cards/ticker/msi/png/logo",ASUR:"https://abs.twimg.com/grok-finance-cards/ticker/asur/png/logo",AVA:"https://abs.twimg.com/grok-finance-cards/ticker/ava/png/logo",MBINO:"https://abs.twimg.com/grok-finance-cards/ticker/mbino/png/logo",SKWD:"https://abs.twimg.com/grok-finance-cards/ticker/skwd/png/logo",CRUS:"https://abs.twimg.com/grok-finance-cards/ticker/crus/png/logo",TSAT:"https://abs.twimg.com/grok-finance-cards/ticker/tsat/png/logo",AKAM:"https://abs.twimg.com/grok-finance-cards/ticker/akam/png/logo",BRDG:"https://abs.twimg.com/grok-finance-cards/ticker/brdg/png/logo",EZFL:"https://abs.twimg.com/grok-finance-cards/ticker/ezfl/png/logo",MPA:"https://abs.twimg.com/grok-finance-cards/ticker/mpa/png/logo",LUNR:"https://abs.twimg.com/grok-finance-cards/ticker/lunr/png/logo",OLMA:"https://abs.twimg.com/grok-finance-cards/ticker/olma/png/logo",HSAI:"https://abs.twimg.com/grok-finance-cards/ticker/hsai/png/logo",SNAXW:"https://abs.twimg.com/grok-finance-cards/ticker/snaxw/png/logo",FRHC:"https://abs.twimg.com/grok-finance-cards/ticker/frhc/png/logo",OSIS:"https://abs.twimg.com/grok-finance-cards/ticker/osis/png/logo",VTN:"https://abs.twimg.com/grok-finance-cards/ticker/vtn/png/logo",DT:"https://abs.twimg.com/grok-finance-cards/ticker/dt/png/logo",XBIO:"https://abs.twimg.com/grok-finance-cards/ticker/xbio/png/logo",EXLS:"https://abs.twimg.com/grok-finance-cards/ticker/exls/png/logo",SBAC:"https://abs.twimg.com/grok-finance-cards/ticker/sbac/png/logo",TXRH:"https://abs.twimg.com/grok-finance-cards/ticker/txrh/png/logo",ZURA:"https://abs.twimg.com/grok-finance-cards/ticker/zura/png/logo",DRTS:"https://abs.twimg.com/grok-finance-cards/ticker/drts/png/logo",WAB:"https://abs.twimg.com/grok-finance-cards/ticker/wab/png/logo",FSTR:"https://abs.twimg.com/grok-finance-cards/ticker/fstr/png/logo",KITT:"https://abs.twimg.com/grok-finance-cards/ticker/kitt/png/logo",RKLB:"https://abs.twimg.com/grok-finance-cards/ticker/rklb/png/logo",AB:"https://abs.twimg.com/grok-finance-cards/ticker/ab/png/logo",CBNK:"https://abs.twimg.com/grok-finance-cards/ticker/cbnk/png/logo",ORN:"https://abs.twimg.com/grok-finance-cards/ticker/orn/png/logo",ETY:"https://abs.twimg.com/grok-finance-cards/ticker/ety/png/logo",GNLX:"https://abs.twimg.com/grok-finance-cards/ticker/gnlx/png/logo",REGN:"https://abs.twimg.com/grok-finance-cards/ticker/regn/png/logo",SYBX:"https://abs.twimg.com/grok-finance-cards/ticker/sybx/png/logo",ONON:"https://abs.twimg.com/grok-finance-cards/ticker/onon/png/logo",KMPR:"https://abs.twimg.com/grok-finance-cards/ticker/kmpr/png/logo",DMRC:"https://abs.twimg.com/grok-finance-cards/ticker/dmrc/png/logo",URGN:"https://abs.twimg.com/grok-finance-cards/ticker/urgn/png/logo",CDIO:"https://abs.twimg.com/grok-finance-cards/ticker/cdio/png/logo",JBI:"https://abs.twimg.com/grok-finance-cards/ticker/jbi/png/logo",RSG:"https://abs.twimg.com/grok-finance-cards/ticker/rsg/png/logo",CFLT:"https://abs.twimg.com/grok-finance-cards/ticker/cflt/png/logo",ZNTL:"https://abs.twimg.com/grok-finance-cards/ticker/zntl/png/logo",KWE:"https://abs.twimg.com/grok-finance-cards/ticker/kwe/png/logo",FMS:"https://abs.twimg.com/grok-finance-cards/ticker/fms/png/logo",ENPH:"https://abs.twimg.com/grok-finance-cards/ticker/enph/png/logo",MGOL:"https://abs.twimg.com/grok-finance-cards/ticker/mgol/png/logo",TGTX:"https://abs.twimg.com/grok-finance-cards/ticker/tgtx/png/logo",MRC:"https://abs.twimg.com/grok-finance-cards/ticker/mrc/png/logo",FIGS:"https://abs.twimg.com/grok-finance-cards/ticker/figs/png/logo",AYRO:"https://abs.twimg.com/grok-finance-cards/ticker/ayro/png/logo",BMN:"https://abs.twimg.com/grok-finance-cards/ticker/bmn/png/logo",EXR:"https://abs.twimg.com/grok-finance-cards/ticker/exr/png/logo",QSIAW:"https://abs.twimg.com/grok-finance-cards/ticker/qsiaw/png/logo",MVSTW:"https://abs.twimg.com/grok-finance-cards/ticker/mvstw/png/logo",SRRK:"https://abs.twimg.com/grok-finance-cards/ticker/srrk/png/logo",HAL:"https://abs.twimg.com/grok-finance-cards/ticker/hal/png/logo",IVDA:"https://abs.twimg.com/grok-finance-cards/ticker/ivda/png/logo",MRNA:"https://abs.twimg.com/grok-finance-cards/ticker/mrna/png/logo",CAPR:"https://abs.twimg.com/grok-finance-cards/ticker/capr/png/logo",TWLO:"https://abs.twimg.com/grok-finance-cards/ticker/twlo/png/logo",VTOL:"https://abs.twimg.com/grok-finance-cards/ticker/vtol/png/logo",CXE:"https://abs.twimg.com/grok-finance-cards/ticker/cxe/png/logo",CG:"https://abs.twimg.com/grok-finance-cards/ticker/cg/png/logo",DDD:"https://abs.twimg.com/grok-finance-cards/ticker/ddd/png/logo",RENT:"https://abs.twimg.com/grok-finance-cards/ticker/rent/png/logo",HOVNP:"https://abs.twimg.com/grok-finance-cards/ticker/hovnp/png/logo",PRPL:"https://abs.twimg.com/grok-finance-cards/ticker/prpl/png/logo",FHB:"https://abs.twimg.com/grok-finance-cards/ticker/fhb/png/logo",KRT:"https://abs.twimg.com/grok-finance-cards/ticker/krt/png/logo",LC:"https://abs.twimg.com/grok-finance-cards/ticker/lc/png/logo",AMCX:"https://abs.twimg.com/grok-finance-cards/ticker/amcx/png/logo",BNRG:"https://abs.twimg.com/grok-finance-cards/ticker/bnrg/png/logo",WSBCP:"https://abs.twimg.com/grok-finance-cards/ticker/wsbcp/png/logo",IQV:"https://abs.twimg.com/grok-finance-cards/ticker/iqv/png/logo",JKS:"https://abs.twimg.com/grok-finance-cards/ticker/jks/png/logo",DAR:"https://abs.twimg.com/grok-finance-cards/ticker/dar/png/logo",FLWS:"https://abs.twimg.com/grok-finance-cards/ticker/flws/png/logo",WKSP:"https://abs.twimg.com/grok-finance-cards/ticker/wksp/png/logo",AVDX:"https://abs.twimg.com/grok-finance-cards/ticker/avdx/png/logo",GPRE:"https://abs.twimg.com/grok-finance-cards/ticker/gpre/png/logo",BMI:"https://abs.twimg.com/grok-finance-cards/ticker/bmi/png/logo",MELI:"https://abs.twimg.com/grok-finance-cards/ticker/meli/png/logo",EQH:"https://abs.twimg.com/grok-finance-cards/ticker/eqh/png/logo",SFL:"https://abs.twimg.com/grok-finance-cards/ticker/sfl/png/logo",ELUT:"https://abs.twimg.com/grok-finance-cards/ticker/elut/png/logo",EFSC:"https://abs.twimg.com/grok-finance-cards/ticker/efsc/png/logo",STTK:"https://abs.twimg.com/grok-finance-cards/ticker/sttk/png/logo",NGL:"https://abs.twimg.com/grok-finance-cards/ticker/ngl/png/logo",LFMD:"https://abs.twimg.com/grok-finance-cards/ticker/lfmd/png/logo",UFPI:"https://abs.twimg.com/grok-finance-cards/ticker/ufpi/png/logo",SPRO:"https://abs.twimg.com/grok-finance-cards/ticker/spro/png/logo",BBD:"https://abs.twimg.com/grok-finance-cards/ticker/bbd/png/logo",MOLN:"https://abs.twimg.com/grok-finance-cards/ticker/moln/png/logo",HMN:"https://abs.twimg.com/grok-finance-cards/ticker/hmn/png/logo",MPAA:"https://abs.twimg.com/grok-finance-cards/ticker/mpaa/png/logo",MRM:"https://abs.twimg.com/grok-finance-cards/ticker/mrm/png/logo",VUZI:"https://abs.twimg.com/grok-finance-cards/ticker/vuzi/png/logo",BTCM:"https://abs.twimg.com/grok-finance-cards/ticker/btcm/png/logo",SDOT:"https://abs.twimg.com/grok-finance-cards/ticker/sdot/png/logo",BAK:"https://abs.twimg.com/grok-finance-cards/ticker/bak/png/logo",BGR:"https://abs.twimg.com/grok-finance-cards/ticker/bgr/png/logo",HAE:"https://abs.twimg.com/grok-finance-cards/ticker/hae/png/logo",BYSI:"https://abs.twimg.com/grok-finance-cards/ticker/bysi/png/logo",HSON:"https://abs.twimg.com/grok-finance-cards/ticker/hson/png/logo",EW:"https://abs.twimg.com/grok-finance-cards/ticker/ew/png/logo",UEIC:"https://abs.twimg.com/grok-finance-cards/ticker/ueic/png/logo",ANGHW:"https://abs.twimg.com/grok-finance-cards/ticker/anghw/png/logo",SCS:"https://abs.twimg.com/grok-finance-cards/ticker/scs/png/logo",BKKT:"https://abs.twimg.com/grok-finance-cards/ticker/bkkt/png/logo",CWH:"https://abs.twimg.com/grok-finance-cards/ticker/cwh/png/logo",BHV:"https://abs.twimg.com/grok-finance-cards/ticker/bhv/png/logo",ETW:"https://abs.twimg.com/grok-finance-cards/ticker/etw/png/logo",FTLF:"https://abs.twimg.com/grok-finance-cards/ticker/ftlf/png/logo",LMT:"https://abs.twimg.com/grok-finance-cards/ticker/lmt/png/logo",ARKO:"https://abs.twimg.com/grok-finance-cards/ticker/arko/png/logo",OB:"https://abs.twimg.com/grok-finance-cards/ticker/ob/png/logo",ENVX:"https://abs.twimg.com/grok-finance-cards/ticker/envx/png/logo",ATNI:"https://abs.twimg.com/grok-finance-cards/ticker/atni/png/logo",HOTH:"https://abs.twimg.com/grok-finance-cards/ticker/hoth/png/logo",CASS:"https://abs.twimg.com/grok-finance-cards/ticker/cass/png/logo",ACIW:"https://abs.twimg.com/grok-finance-cards/ticker/aciw/png/logo",ACON:"https://abs.twimg.com/grok-finance-cards/ticker/acon/png/logo",GPRK:"https://abs.twimg.com/grok-finance-cards/ticker/gprk/png/logo",LDI:"https://abs.twimg.com/grok-finance-cards/ticker/ldi/png/logo",NBTX:"https://abs.twimg.com/grok-finance-cards/ticker/nbtx/png/logo",PETS:"https://abs.twimg.com/grok-finance-cards/ticker/pets/png/logo",MEOH:"https://abs.twimg.com/grok-finance-cards/ticker/meoh/png/logo",ZCARW:"https://abs.twimg.com/grok-finance-cards/ticker/zcarw/png/logo",TYL:"https://abs.twimg.com/grok-finance-cards/ticker/tyl/png/logo",CI:"https://abs.twimg.com/grok-finance-cards/ticker/ci/png/logo",BCAB:"https://abs.twimg.com/grok-finance-cards/ticker/bcab/png/logo",SLP:"https://abs.twimg.com/grok-finance-cards/ticker/slp/png/logo",IPGP:"https://abs.twimg.com/grok-finance-cards/ticker/ipgp/png/logo",VMAR:"https://abs.twimg.com/grok-finance-cards/ticker/vmar/png/logo",CLLS:"https://abs.twimg.com/grok-finance-cards/ticker/clls/png/logo",PPL:"https://abs.twimg.com/grok-finance-cards/ticker/ppl/png/logo",BROGW:"https://abs.twimg.com/grok-finance-cards/ticker/brogw/png/logo",ASTC:"https://abs.twimg.com/grok-finance-cards/ticker/astc/png/logo",RYN:"https://abs.twimg.com/grok-finance-cards/ticker/ryn/png/logo",EQT:"https://abs.twimg.com/grok-finance-cards/ticker/eqt/png/logo",OP:"https://abs.twimg.com/grok-finance-cards/ticker/op/png/logo",CRK:"https://abs.twimg.com/grok-finance-cards/ticker/crk/png/logo",DAN:"https://abs.twimg.com/grok-finance-cards/ticker/dan/png/logo",LITE:"https://abs.twimg.com/grok-finance-cards/ticker/lite/png/logo",BMBL:"https://abs.twimg.com/grok-finance-cards/ticker/bmbl/png/logo",ANSS:"https://abs.twimg.com/grok-finance-cards/ticker/anss/png/logo",CHSCN:"https://abs.twimg.com/grok-finance-cards/ticker/chscn/png/logo",NUVB:"https://abs.twimg.com/grok-finance-cards/ticker/nuvb/png/logo",UONEK:"https://abs.twimg.com/grok-finance-cards/ticker/uonek/png/logo",HGTY:"https://abs.twimg.com/grok-finance-cards/ticker/hgty/png/logo",ETB:"https://abs.twimg.com/grok-finance-cards/ticker/etb/png/logo",BHC:"https://abs.twimg.com/grok-finance-cards/ticker/bhc/png/logo",KYMR:"https://abs.twimg.com/grok-finance-cards/ticker/kymr/png/logo",EPAM:"https://abs.twimg.com/grok-finance-cards/ticker/epam/png/logo",WISA:"https://abs.twimg.com/grok-finance-cards/ticker/wisa/png/logo",FNWB:"https://abs.twimg.com/grok-finance-cards/ticker/fnwb/png/logo",CSAN:"https://abs.twimg.com/grok-finance-cards/ticker/csan/png/logo",ACLS:"https://abs.twimg.com/grok-finance-cards/ticker/acls/png/logo",PZZA:"https://abs.twimg.com/grok-finance-cards/ticker/pzza/png/logo",EB:"https://abs.twimg.com/grok-finance-cards/ticker/eb/png/logo",TPC:"https://abs.twimg.com/grok-finance-cards/ticker/tpc/png/logo",SLB:"https://abs.twimg.com/grok-finance-cards/ticker/slb/png/logo",WOW:"https://abs.twimg.com/grok-finance-cards/ticker/wow/png/logo",ALVO:"https://abs.twimg.com/grok-finance-cards/ticker/alvo/png/logo",QMCO:"https://abs.twimg.com/grok-finance-cards/ticker/qmco/png/logo",LITB:"https://abs.twimg.com/grok-finance-cards/ticker/litb/png/logo",MSTR:"https://abs.twimg.com/grok-finance-cards/ticker/mstr/png/logo",ONCY:"https://abs.twimg.com/grok-finance-cards/ticker/oncy/png/logo",ZENV:"https://abs.twimg.com/grok-finance-cards/ticker/zenv/png/logo",FREY:"https://abs.twimg.com/grok-finance-cards/ticker/frey/png/logo",FBK:"https://abs.twimg.com/grok-finance-cards/ticker/fbk/png/logo",AXS:"https://abs.twimg.com/grok-finance-cards/ticker/axs/png/logo",PHAT:"https://abs.twimg.com/grok-finance-cards/ticker/phat/png/logo",CZWI:"https://abs.twimg.com/grok-finance-cards/ticker/czwi/png/logo",CRL:"https://abs.twimg.com/grok-finance-cards/ticker/crl/png/logo",AQN:"https://abs.twimg.com/grok-finance-cards/ticker/aqn/png/logo",MNSB:"https://abs.twimg.com/grok-finance-cards/ticker/mnsb/png/logo",RIGL:"https://abs.twimg.com/grok-finance-cards/ticker/rigl/png/logo",RYI:"https://abs.twimg.com/grok-finance-cards/ticker/ryi/png/logo",ATHE:"https://abs.twimg.com/grok-finance-cards/ticker/athe/png/logo",VBTX:"https://abs.twimg.com/grok-finance-cards/ticker/vbtx/png/logo",JHG:"https://abs.twimg.com/grok-finance-cards/ticker/jhg/png/logo",BMR:"https://abs.twimg.com/grok-finance-cards/ticker/bmr/png/logo",SLE:"https://abs.twimg.com/grok-finance-cards/ticker/sle/png/logo",ABUS:"https://abs.twimg.com/grok-finance-cards/ticker/abus/png/logo",EE:"https://abs.twimg.com/grok-finance-cards/ticker/ee/png/logo",LSEA:"https://abs.twimg.com/grok-finance-cards/ticker/lsea/png/logo",CSGP:"https://abs.twimg.com/grok-finance-cards/ticker/csgp/png/logo",LIQT:"https://abs.twimg.com/grok-finance-cards/ticker/liqt/png/logo",INSM:"https://abs.twimg.com/grok-finance-cards/ticker/insm/png/logo",NSSC:"https://abs.twimg.com/grok-finance-cards/ticker/nssc/png/logo",IPHA:"https://abs.twimg.com/grok-finance-cards/ticker/ipha/png/logo",DMB:"https://abs.twimg.com/grok-finance-cards/ticker/dmb/png/logo",TATT:"https://abs.twimg.com/grok-finance-cards/ticker/tatt/png/logo",KRO:"https://abs.twimg.com/grok-finance-cards/ticker/kro/png/logo",SCPH:"https://abs.twimg.com/grok-finance-cards/ticker/scph/png/logo",SNES:"https://abs.twimg.com/grok-finance-cards/ticker/snes/png/logo",EL:"https://abs.twimg.com/grok-finance-cards/ticker/el/png/logo",CXW:"https://abs.twimg.com/grok-finance-cards/ticker/cxw/png/logo",OLED:"https://abs.twimg.com/grok-finance-cards/ticker/oled/png/logo",MOFG:"https://abs.twimg.com/grok-finance-cards/ticker/mofg/png/logo",MRNS:"https://abs.twimg.com/grok-finance-cards/ticker/mrns/png/logo",BAP:"https://abs.twimg.com/grok-finance-cards/ticker/bap/png/logo",MQY:"https://abs.twimg.com/grok-finance-cards/ticker/mqy/png/logo",INZY:"https://abs.twimg.com/grok-finance-cards/ticker/inzy/png/logo",GOSS:"https://abs.twimg.com/grok-finance-cards/ticker/goss/png/logo",WFCF:"https://abs.twimg.com/grok-finance-cards/ticker/wfcf/png/logo",EPAC:"https://abs.twimg.com/grok-finance-cards/ticker/epac/png/logo",AGNCM:"https://abs.twimg.com/grok-finance-cards/ticker/agncm/png/logo",NUVL:"https://abs.twimg.com/grok-finance-cards/ticker/nuvl/png/logo",BIAFW:"https://abs.twimg.com/grok-finance-cards/ticker/biafw/png/logo",JKHY:"https://abs.twimg.com/grok-finance-cards/ticker/jkhy/png/logo",CPRX:"https://abs.twimg.com/grok-finance-cards/ticker/cprx/png/logo",LNG:"https://abs.twimg.com/grok-finance-cards/ticker/lng/png/logo",HUBCW:"https://abs.twimg.com/grok-finance-cards/ticker/hubcw/png/logo",EXG:"https://abs.twimg.com/grok-finance-cards/ticker/exg/png/logo",FC:"https://abs.twimg.com/grok-finance-cards/ticker/fc/png/logo",LKQ:"https://abs.twimg.com/grok-finance-cards/ticker/lkq/png/logo",NWPX:"https://abs.twimg.com/grok-finance-cards/ticker/nwpx/png/logo",BLRX:"https://abs.twimg.com/grok-finance-cards/ticker/blrx/png/logo",ASRT:"https://abs.twimg.com/grok-finance-cards/ticker/asrt/png/logo",WFC:"https://abs.twimg.com/grok-finance-cards/ticker/wfc/png/logo",VINP:"https://abs.twimg.com/grok-finance-cards/ticker/vinp/png/logo",ELVN:"https://abs.twimg.com/grok-finance-cards/ticker/elvn/png/logo",CRWD:"https://abs.twimg.com/grok-finance-cards/ticker/crwd/png/logo",UFI:"https://abs.twimg.com/grok-finance-cards/ticker/ufi/png/logo",BNS:"https://abs.twimg.com/grok-finance-cards/ticker/bns/png/logo",SOUN:"https://abs.twimg.com/grok-finance-cards/ticker/soun/png/logo",NINE:"https://abs.twimg.com/grok-finance-cards/ticker/nine/png/logo",BHFAP:"https://abs.twimg.com/grok-finance-cards/ticker/bhfap/png/logo",EWTX:"https://abs.twimg.com/grok-finance-cards/ticker/ewtx/png/logo",VSH:"https://abs.twimg.com/grok-finance-cards/ticker/vsh/png/logo",AMLI:"https://abs.twimg.com/grok-finance-cards/ticker/amli/png/logo",IPAR:"https://abs.twimg.com/grok-finance-cards/ticker/ipar/png/logo",MTH:"https://abs.twimg.com/grok-finance-cards/ticker/mth/png/logo",BHRB:"https://abs.twimg.com/grok-finance-cards/ticker/bhrb/png/logo",JHI:"https://abs.twimg.com/grok-finance-cards/ticker/jhi/png/logo",BKE:"https://abs.twimg.com/grok-finance-cards/ticker/bke/png/logo",DUOT:"https://abs.twimg.com/grok-finance-cards/ticker/duot/png/logo",IXHL:"https://abs.twimg.com/grok-finance-cards/ticker/ixhl/png/logo",JAMF:"https://abs.twimg.com/grok-finance-cards/ticker/jamf/png/logo",TSE:"https://abs.twimg.com/grok-finance-cards/ticker/tse/png/logo",SKYX:"https://abs.twimg.com/grok-finance-cards/ticker/skyx/png/logo",MLYS:"https://abs.twimg.com/grok-finance-cards/ticker/mlys/png/logo",SYNA:"https://abs.twimg.com/grok-finance-cards/ticker/syna/png/logo",XMTR:"https://abs.twimg.com/grok-finance-cards/ticker/xmtr/png/logo",ZUO:"https://abs.twimg.com/grok-finance-cards/ticker/zuo/png/logo",PSX:"https://abs.twimg.com/grok-finance-cards/ticker/psx/png/logo",APCXW:"https://abs.twimg.com/grok-finance-cards/ticker/apcxw/png/logo",LYFT:"https://abs.twimg.com/grok-finance-cards/ticker/lyft/png/logo",DLHC:"https://abs.twimg.com/grok-finance-cards/ticker/dlhc/png/logo",CSBR:"https://abs.twimg.com/grok-finance-cards/ticker/csbr/png/logo",STRT:"https://abs.twimg.com/grok-finance-cards/ticker/strt/png/logo",WLFC:"https://abs.twimg.com/grok-finance-cards/ticker/wlfc/png/logo",CFFN:"https://abs.twimg.com/grok-finance-cards/ticker/cffn/png/logo",MRK:"https://abs.twimg.com/grok-finance-cards/ticker/mrk/png/logo",ERAS:"https://abs.twimg.com/grok-finance-cards/ticker/eras/png/logo",GOVX:"https://abs.twimg.com/grok-finance-cards/ticker/govx/png/logo",JNJ:"https://abs.twimg.com/grok-finance-cards/ticker/jnj/png/logo",JHS:"https://abs.twimg.com/grok-finance-cards/ticker/jhs/png/logo",MKFG:"https://abs.twimg.com/grok-finance-cards/ticker/mkfg/png/logo",QLYS:"https://abs.twimg.com/grok-finance-cards/ticker/qlys/png/logo",BABA:"https://abs.twimg.com/grok-finance-cards/ticker/baba/png/logo",FGI:"https://abs.twimg.com/grok-finance-cards/ticker/fgi/png/logo",BGT:"https://abs.twimg.com/grok-finance-cards/ticker/bgt/png/logo",BAM:"https://abs.twimg.com/grok-finance-cards/ticker/bam/png/logo",NAMS:"https://abs.twimg.com/grok-finance-cards/ticker/nams/png/logo",MEIP:"https://abs.twimg.com/grok-finance-cards/ticker/meip/png/logo",BHP:"https://abs.twimg.com/grok-finance-cards/ticker/bhp/png/logo",ACCD:"https://abs.twimg.com/grok-finance-cards/ticker/accd/png/logo",LNZAW:"https://abs.twimg.com/grok-finance-cards/ticker/lnzaw/png/logo",EDSA:"https://abs.twimg.com/grok-finance-cards/ticker/edsa/png/logo",RMBS:"https://abs.twimg.com/grok-finance-cards/ticker/rmbs/png/logo",AGNCP:"https://abs.twimg.com/grok-finance-cards/ticker/agncp/png/logo",KTB:"https://abs.twimg.com/grok-finance-cards/ticker/ktb/png/logo",BMA:"https://abs.twimg.com/grok-finance-cards/ticker/bma/png/logo",CFFI:"https://abs.twimg.com/grok-finance-cards/ticker/cffi/png/logo",BNZIW:"https://abs.twimg.com/grok-finance-cards/ticker/bnziw/png/logo",ELSE:"https://abs.twimg.com/grok-finance-cards/ticker/else/png/logo",NRIX:"https://abs.twimg.com/grok-finance-cards/ticker/nrix/png/logo",OSBC:"https://abs.twimg.com/grok-finance-cards/ticker/osbc/png/logo",CLNNW:"https://abs.twimg.com/grok-finance-cards/ticker/clnnw/png/logo",NHI:"https://abs.twimg.com/grok-finance-cards/ticker/nhi/png/logo",SWAGW:"https://abs.twimg.com/grok-finance-cards/ticker/swagw/png/logo",BEAT:"https://abs.twimg.com/grok-finance-cards/ticker/beat/png/logo",PATH:"https://abs.twimg.com/grok-finance-cards/ticker/path/png/logo",INVH:"https://abs.twimg.com/grok-finance-cards/ticker/invh/png/logo",CQP:"https://abs.twimg.com/grok-finance-cards/ticker/cqp/png/logo",BDTX:"https://abs.twimg.com/grok-finance-cards/ticker/bdtx/png/logo",REAX:"https://abs.twimg.com/grok-finance-cards/ticker/reax/png/logo",ETV:"https://abs.twimg.com/grok-finance-cards/ticker/etv/png/logo",MRAM:"https://abs.twimg.com/grok-finance-cards/ticker/mram/png/logo",ORA:"https://abs.twimg.com/grok-finance-cards/ticker/ora/png/logo",CKPT:"https://abs.twimg.com/grok-finance-cards/ticker/ckpt/png/logo",BHFAM:"https://abs.twimg.com/grok-finance-cards/ticker/bhfam/png/logo",WLK:"https://abs.twimg.com/grok-finance-cards/ticker/wlk/png/logo",OPRT:"https://abs.twimg.com/grok-finance-cards/ticker/oprt/png/logo",LARK:"https://abs.twimg.com/grok-finance-cards/ticker/lark/png/logo",OPTXW:"https://abs.twimg.com/grok-finance-cards/ticker/optxw/png/logo",CXM:"https://abs.twimg.com/grok-finance-cards/ticker/cxm/png/logo",CUBE:"https://abs.twimg.com/grok-finance-cards/ticker/cube/png/logo",QCOM:"https://abs.twimg.com/grok-finance-cards/ticker/qcom/png/logo",LNT:"https://abs.twimg.com/grok-finance-cards/ticker/lnt/png/logo",ELPC:"https://abs.twimg.com/grok-finance-cards/ticker/elpc/png/logo",AGEN:"https://abs.twimg.com/grok-finance-cards/ticker/agen/png/logo",BAC:"https://abs.twimg.com/grok-finance-cards/ticker/bac/png/logo",PPC:"https://abs.twimg.com/grok-finance-cards/ticker/ppc/png/logo",RDWR:"https://abs.twimg.com/grok-finance-cards/ticker/rdwr/png/logo",SRTS:"https://abs.twimg.com/grok-finance-cards/ticker/srts/png/logo",NBR:"https://abs.twimg.com/grok-finance-cards/ticker/nbr/png/logo",BIGZ:"https://abs.twimg.com/grok-finance-cards/ticker/bigz/png/logo",CWAN:"https://abs.twimg.com/grok-finance-cards/ticker/cwan/png/logo",CF:"https://abs.twimg.com/grok-finance-cards/ticker/cf/png/logo",EXAS:"https://abs.twimg.com/grok-finance-cards/ticker/exas/png/logo",ATNF:"https://abs.twimg.com/grok-finance-cards/ticker/atnf/png/logo",OBIO:"https://abs.twimg.com/grok-finance-cards/ticker/obio/png/logo",MRBK:"https://abs.twimg.com/grok-finance-cards/ticker/mrbk/png/logo",IT:"https://abs.twimg.com/grok-finance-cards/ticker/it/png/logo",OM:"https://abs.twimg.com/grok-finance-cards/ticker/om/png/logo",CTO:"https://abs.twimg.com/grok-finance-cards/ticker/cto/png/logo",BAND:"https://abs.twimg.com/grok-finance-cards/ticker/band/png/logo",SFM:"https://abs.twimg.com/grok-finance-cards/ticker/sfm/png/logo",JAKK:"https://abs.twimg.com/grok-finance-cards/ticker/jakk/png/logo",TSQ:"https://abs.twimg.com/grok-finance-cards/ticker/tsq/png/logo",RGNX:"https://abs.twimg.com/grok-finance-cards/ticker/rgnx/png/logo",BIDU:"https://abs.twimg.com/grok-finance-cards/ticker/bidu/png/logo",FEMY:"https://abs.twimg.com/grok-finance-cards/ticker/femy/png/logo",SII:"https://abs.twimg.com/grok-finance-cards/ticker/sii/png/logo",WMPN:"https://abs.twimg.com/grok-finance-cards/ticker/wmpn/png/logo",CYBR:"https://abs.twimg.com/grok-finance-cards/ticker/cybr/png/logo",WIT:"https://abs.twimg.com/grok-finance-cards/ticker/wit/png/logo",CIVI:"https://abs.twimg.com/grok-finance-cards/ticker/civi/png/logo",APDN:"https://abs.twimg.com/grok-finance-cards/ticker/apdn/png/logo",NGNE:"https://abs.twimg.com/grok-finance-cards/ticker/ngne/png/logo",LAW:"https://abs.twimg.com/grok-finance-cards/ticker/law/png/logo",AVAH:"https://abs.twimg.com/grok-finance-cards/ticker/avah/png/logo",INSP:"https://abs.twimg.com/grok-finance-cards/ticker/insp/png/logo",RSF:"https://abs.twimg.com/grok-finance-cards/ticker/rsf/png/logo",RCKT:"https://abs.twimg.com/grok-finance-cards/ticker/rckt/png/logo",DCTH:"https://abs.twimg.com/grok-finance-cards/ticker/dcth/png/logo",RSVR:"https://abs.twimg.com/grok-finance-cards/ticker/rsvr/png/logo",BBWI:"https://abs.twimg.com/grok-finance-cards/ticker/bbwi/png/logo",WEX:"https://abs.twimg.com/grok-finance-cards/ticker/wex/png/logo",LIXT:"https://abs.twimg.com/grok-finance-cards/ticker/lixt/png/logo",SCVL:"https://abs.twimg.com/grok-finance-cards/ticker/scvl/png/logo",LE:"https://abs.twimg.com/grok-finance-cards/ticker/le/png/logo",BNTX:"https://abs.twimg.com/grok-finance-cards/ticker/bntx/png/logo",SEE:"https://abs.twimg.com/grok-finance-cards/ticker/see/png/logo",NTCT:"https://abs.twimg.com/grok-finance-cards/ticker/ntct/png/logo",ULH:"https://abs.twimg.com/grok-finance-cards/ticker/ulh/png/logo",CDLX:"https://abs.twimg.com/grok-finance-cards/ticker/cdlx/png/logo",ALVR:"https://abs.twimg.com/grok-finance-cards/ticker/alvr/png/logo",VTLE:"https://abs.twimg.com/grok-finance-cards/ticker/vtle/png/logo",DNP:"https://abs.twimg.com/grok-finance-cards/ticker/dnp/png/logo",DHI:"https://abs.twimg.com/grok-finance-cards/ticker/dhi/png/logo",HLNE:"https://abs.twimg.com/grok-finance-cards/ticker/hlne/png/logo",VTEX:"https://abs.twimg.com/grok-finance-cards/ticker/vtex/png/logo",BANC:"https://abs.twimg.com/grok-finance-cards/ticker/banc/png/logo",SHFSW:"https://abs.twimg.com/grok-finance-cards/ticker/shfsw/png/logo",UCL:"https://abs.twimg.com/grok-finance-cards/ticker/ucl/png/logo",BMO:"https://abs.twimg.com/grok-finance-cards/ticker/bmo/png/logo",ICCT:"https://abs.twimg.com/grok-finance-cards/ticker/icct/png/logo",SMSI:"https://abs.twimg.com/grok-finance-cards/ticker/smsi/png/logo",RUM:"https://abs.twimg.com/grok-finance-cards/ticker/rum/png/logo",PCTY:"https://abs.twimg.com/grok-finance-cards/ticker/pcty/png/logo",DBI:"https://abs.twimg.com/grok-finance-cards/ticker/dbi/png/logo",VIGL:"https://abs.twimg.com/grok-finance-cards/ticker/vigl/png/logo",PRVA:"https://abs.twimg.com/grok-finance-cards/ticker/prva/png/logo",LW:"https://abs.twimg.com/grok-finance-cards/ticker/lw/png/logo",LHX:"https://abs.twimg.com/grok-finance-cards/ticker/lhx/png/logo",ETJ:"https://abs.twimg.com/grok-finance-cards/ticker/etj/png/logo",NABL:"https://abs.twimg.com/grok-finance-cards/ticker/nabl/png/logo",BHK:"https://abs.twimg.com/grok-finance-cards/ticker/bhk/png/logo",ISTR:"https://abs.twimg.com/grok-finance-cards/ticker/istr/png/logo",GWH:"https://abs.twimg.com/grok-finance-cards/ticker/gwh/png/logo",TTSH:"https://abs.twimg.com/grok-finance-cards/ticker/ttsh/png/logo",CMPX:"https://abs.twimg.com/grok-finance-cards/ticker/cmpx/png/logo",STRO:"https://abs.twimg.com/grok-finance-cards/ticker/stro/png/logo",FE:"https://abs.twimg.com/grok-finance-cards/ticker/fe/png/logo",LITM:"https://abs.twimg.com/grok-finance-cards/ticker/litm/png/logo",BBY:"https://abs.twimg.com/grok-finance-cards/ticker/bby/png/logo",WIA:"https://abs.twimg.com/grok-finance-cards/ticker/wia/png/logo",UFPT:"https://abs.twimg.com/grok-finance-cards/ticker/ufpt/png/logo",AVDL:"https://abs.twimg.com/grok-finance-cards/ticker/avdl/png/logo",BKD:"https://abs.twimg.com/grok-finance-cards/ticker/bkd/png/logo",RCAT:"https://abs.twimg.com/grok-finance-cards/ticker/rcat/png/logo",RVSNW:"https://abs.twimg.com/grok-finance-cards/ticker/rvsnw/png/logo",DNB:"https://abs.twimg.com/grok-finance-cards/ticker/dnb/png/logo",NEGG:"https://abs.twimg.com/grok-finance-cards/ticker/negg/png/logo",IRM:"https://abs.twimg.com/grok-finance-cards/ticker/irm/png/logo",ITT:"https://abs.twimg.com/grok-finance-cards/ticker/itt/png/logo",CRC:"https://abs.twimg.com/grok-finance-cards/ticker/crc/png/logo",ENVB:"https://abs.twimg.com/grok-finance-cards/ticker/envb/png/logo",WTRG:"https://abs.twimg.com/grok-finance-cards/ticker/wtrg/png/logo",MNYWW:"https://abs.twimg.com/grok-finance-cards/ticker/mnyww/png/logo",MWA:"https://abs.twimg.com/grok-finance-cards/ticker/mwa/png/logo",BJRI:"https://abs.twimg.com/grok-finance-cards/ticker/bjri/png/logo",ZIONP:"https://abs.twimg.com/grok-finance-cards/ticker/zionp/png/logo",SHOP:"https://abs.twimg.com/grok-finance-cards/ticker/shop/png/logo",DKS:"https://abs.twimg.com/grok-finance-cards/ticker/dks/png/logo",VCNX:"https://abs.twimg.com/grok-finance-cards/ticker/vcnx/png/logo",OCUL:"https://abs.twimg.com/grok-finance-cards/ticker/ocul/png/logo",AGNCL:"https://abs.twimg.com/grok-finance-cards/ticker/agncl/png/logo",KRG:"https://abs.twimg.com/grok-finance-cards/ticker/krg/png/logo",SVRE:"https://abs.twimg.com/grok-finance-cards/ticker/svre/png/logo",ESTC:"https://abs.twimg.com/grok-finance-cards/ticker/estc/png/logo",SLM:"https://abs.twimg.com/grok-finance-cards/ticker/slm/png/logo",TIXT:"https://abs.twimg.com/grok-finance-cards/ticker/tixt/png/logo",TSLA:"https://abs.twimg.com/grok-finance-cards/ticker/tsla/png/logo",BGH:"https://abs.twimg.com/grok-finance-cards/ticker/bgh/png/logo",PVH:"https://abs.twimg.com/grok-finance-cards/ticker/pvh/png/logo",INSE:"https://abs.twimg.com/grok-finance-cards/ticker/inse/png/logo",IMCR:"https://abs.twimg.com/grok-finance-cards/ticker/imcr/png/logo",ARMK:"https://abs.twimg.com/grok-finance-cards/ticker/armk/png/logo",HBNC:"https://abs.twimg.com/grok-finance-cards/ticker/hbnc/png/logo",ASTL:"https://abs.twimg.com/grok-finance-cards/ticker/astl/png/logo",MTN:"https://abs.twimg.com/grok-finance-cards/ticker/mtn/png/logo",OWL:"https://abs.twimg.com/grok-finance-cards/ticker/owl/png/logo",ATHM:"https://abs.twimg.com/grok-finance-cards/ticker/athm/png/logo",SPRU:"https://abs.twimg.com/grok-finance-cards/ticker/spru/png/logo",TRVI:"https://abs.twimg.com/grok-finance-cards/ticker/trvi/png/logo",DGX:"https://abs.twimg.com/grok-finance-cards/ticker/dgx/png/logo",BCBP:"https://abs.twimg.com/grok-finance-cards/ticker/bcbp/png/logo",VVX:"https://abs.twimg.com/grok-finance-cards/ticker/vvx/png/logo",VLRS:"https://abs.twimg.com/grok-finance-cards/ticker/vlrs/png/logo",LPSN:"https://abs.twimg.com/grok-finance-cards/ticker/lpsn/png/logo",CRM:"https://abs.twimg.com/grok-finance-cards/ticker/crm/png/logo",FMN:"https://abs.twimg.com/grok-finance-cards/ticker/fmn/png/logo",YELP:"https://abs.twimg.com/grok-finance-cards/ticker/yelp/png/logo",HKD:"https://abs.twimg.com/grok-finance-cards/ticker/hkd/png/logo",MTG:"https://abs.twimg.com/grok-finance-cards/ticker/mtg/png/logo",BDN:"https://abs.twimg.com/grok-finance-cards/ticker/bdn/png/logo",BBW:"https://abs.twimg.com/grok-finance-cards/ticker/bbw/png/logo",FINS:"https://abs.twimg.com/grok-finance-cards/ticker/fins/png/logo",HBAN:"https://abs.twimg.com/grok-finance-cards/ticker/hban/png/logo",INVZ:"https://abs.twimg.com/grok-finance-cards/ticker/invz/png/logo",COST:"https://abs.twimg.com/grok-finance-cards/ticker/cost/png/logo",ETD:"https://abs.twimg.com/grok-finance-cards/ticker/etd/png/logo",BHE:"https://abs.twimg.com/grok-finance-cards/ticker/bhe/png/logo",MMLP:"https://abs.twimg.com/grok-finance-cards/ticker/mmlp/png/logo",KFFB:"https://abs.twimg.com/grok-finance-cards/ticker/kffb/png/logo",NBXG:"https://abs.twimg.com/grok-finance-cards/ticker/nbxg/png/logo",FNA:"https://abs.twimg.com/grok-finance-cards/ticker/fna/png/logo",ELVA:"https://abs.twimg.com/grok-finance-cards/ticker/elva/png/logo",GDEV:"https://abs.twimg.com/grok-finance-cards/ticker/gdev/png/logo",CEPU:"https://abs.twimg.com/grok-finance-cards/ticker/cepu/png/logo",IMTXW:"https://abs.twimg.com/grok-finance-cards/ticker/imtxw/png/logo",AEIS:"https://abs.twimg.com/grok-finance-cards/ticker/aeis/png/logo",FNWD:"https://abs.twimg.com/grok-finance-cards/ticker/fnwd/png/logo",MXL:"https://abs.twimg.com/grok-finance-cards/ticker/mxl/png/logo",WLY:"https://abs.twimg.com/grok-finance-cards/ticker/wly/png/logo",ADVM:"https://abs.twimg.com/grok-finance-cards/ticker/advm/png/logo",ADPT:"https://abs.twimg.com/grok-finance-cards/ticker/adpt/png/logo",BAX:"https://abs.twimg.com/grok-finance-cards/ticker/bax/png/logo",GRRR:"https://abs.twimg.com/grok-finance-cards/ticker/grrr/png/logo",TSM:"https://abs.twimg.com/grok-finance-cards/ticker/tsm/png/logo",VVV:"https://abs.twimg.com/grok-finance-cards/ticker/vvv/png/logo",ARDX:"https://abs.twimg.com/grok-finance-cards/ticker/ardx/png/logo",WSBC:"https://abs.twimg.com/grok-finance-cards/ticker/wsbc/png/logo",SHEL:"https://abs.twimg.com/grok-finance-cards/ticker/shel/png/logo",ICLK:"https://abs.twimg.com/grok-finance-cards/ticker/iclk/png/logo",CHSCO:"https://abs.twimg.com/grok-finance-cards/ticker/chsco/png/logo",JOBY:"https://abs.twimg.com/grok-finance-cards/ticker/joby/png/logo",CELUW:"https://abs.twimg.com/grok-finance-cards/ticker/celuw/png/logo",TRVG:"https://abs.twimg.com/grok-finance-cards/ticker/trvg/png/logo",GCMGW:"https://abs.twimg.com/grok-finance-cards/ticker/gcmgw/png/logo",CTS:"https://abs.twimg.com/grok-finance-cards/ticker/cts/png/logo",PHAR:"https://abs.twimg.com/grok-finance-cards/ticker/phar/png/logo",DHR:"https://abs.twimg.com/grok-finance-cards/ticker/dhr/png/logo",OPTX:"https://abs.twimg.com/grok-finance-cards/ticker/optx/png/logo",OPRA:"https://abs.twimg.com/grok-finance-cards/ticker/opra/png/logo",SEZL:"https://abs.twimg.com/grok-finance-cards/ticker/sezl/png/logo",CNOB:"https://abs.twimg.com/grok-finance-cards/ticker/cnob/png/logo",GOOGL:"https://abs.twimg.com/grok-finance-cards/ticker/googl/png/logo",ESRT:"https://abs.twimg.com/grok-finance-cards/ticker/esrt/png/logo",HSIC:"https://abs.twimg.com/grok-finance-cards/ticker/hsic/png/logo",NBN:"https://abs.twimg.com/grok-finance-cards/ticker/nbn/png/logo",EC:"https://abs.twimg.com/grok-finance-cards/ticker/ec/png/logo",CPTN:"https://abs.twimg.com/grok-finance-cards/ticker/cptn/png/logo",ARHS:"https://abs.twimg.com/grok-finance-cards/ticker/arhs/png/logo",COYA:"https://abs.twimg.com/grok-finance-cards/ticker/coya/png/logo",BNTC:"https://abs.twimg.com/grok-finance-cards/ticker/bntc/png/logo",SWVLW:"https://abs.twimg.com/grok-finance-cards/ticker/swvlw/png/logo",FNF:"https://abs.twimg.com/grok-finance-cards/ticker/fnf/png/logo",WPRT:"https://abs.twimg.com/grok-finance-cards/ticker/wprt/png/logo",ECOR:"https://abs.twimg.com/grok-finance-cards/ticker/ecor/png/logo",JG:"https://abs.twimg.com/grok-finance-cards/ticker/jg/png/logo",AVNW:"https://abs.twimg.com/grok-finance-cards/ticker/avnw/png/logo",WEC:"https://abs.twimg.com/grok-finance-cards/ticker/wec/png/logo",BSBR:"https://abs.twimg.com/grok-finance-cards/ticker/bsbr/png/logo",TAC:"https://abs.twimg.com/grok-finance-cards/ticker/tac/png/logo",ALB:"https://abs.twimg.com/grok-finance-cards/ticker/alb/png/logo",LOCL:"https://abs.twimg.com/grok-finance-cards/ticker/locl/png/logo",PRENW:"https://abs.twimg.com/grok-finance-cards/ticker/prenw/png/logo",HPP:"https://abs.twimg.com/grok-finance-cards/ticker/hpp/png/logo",MOS:"https://abs.twimg.com/grok-finance-cards/ticker/mos/png/logo",REVBW:"https://abs.twimg.com/grok-finance-cards/ticker/revbw/png/logo",ANNX:"https://abs.twimg.com/grok-finance-cards/ticker/annx/png/logo",RILYP:"https://abs.twimg.com/grok-finance-cards/ticker/rilyp/png/logo",OTLY:"https://abs.twimg.com/grok-finance-cards/ticker/otly/png/logo",REPL:"https://abs.twimg.com/grok-finance-cards/ticker/repl/png/logo",CABA:"https://abs.twimg.com/grok-finance-cards/ticker/caba/png/logo",GCMG:"https://abs.twimg.com/grok-finance-cards/ticker/gcmg/png/logo",SXT:"https://abs.twimg.com/grok-finance-cards/ticker/sxt/png/logo",DOCU:"https://abs.twimg.com/grok-finance-cards/ticker/docu/png/logo",WM:"https://abs.twimg.com/grok-finance-cards/ticker/wm/png/logo",GCBC:"https://abs.twimg.com/grok-finance-cards/ticker/gcbc/png/logo",ICE:"https://abs.twimg.com/grok-finance-cards/ticker/ice/png/logo",SIBN:"https://abs.twimg.com/grok-finance-cards/ticker/sibn/png/logo",NOVA:"https://abs.twimg.com/grok-finance-cards/ticker/nova/png/logo",R:"https://abs.twimg.com/grok-finance-cards/ticker/r/png/logo",PDSB:"https://abs.twimg.com/grok-finance-cards/ticker/pdsb/png/logo",GEO:"https://abs.twimg.com/grok-finance-cards/ticker/geo/png/logo",FFIE:"https://abs.twimg.com/grok-finance-cards/ticker/ffie/png/logo",RNW:"https://abs.twimg.com/grok-finance-cards/ticker/rnw/png/logo",STX:"https://abs.twimg.com/grok-finance-cards/ticker/stx/png/logo",AMRC:"https://abs.twimg.com/grok-finance-cards/ticker/amrc/png/logo",STOK:"https://abs.twimg.com/grok-finance-cards/ticker/stok/png/logo",PHD:"https://abs.twimg.com/grok-finance-cards/ticker/phd/png/logo",CLRB:"https://abs.twimg.com/grok-finance-cards/ticker/clrb/png/logo",BYD:"https://abs.twimg.com/grok-finance-cards/ticker/byd/png/logo",PAY:"https://abs.twimg.com/grok-finance-cards/ticker/pay/png/logo",GIC:"https://abs.twimg.com/grok-finance-cards/ticker/gic/png/logo",LSTA:"https://abs.twimg.com/grok-finance-cards/ticker/lsta/png/logo",CDXS:"https://abs.twimg.com/grok-finance-cards/ticker/cdxs/png/logo",CSPI:"https://abs.twimg.com/grok-finance-cards/ticker/cspi/png/logo",ZGN:"https://abs.twimg.com/grok-finance-cards/ticker/zgn/png/logo",LVS:"https://abs.twimg.com/grok-finance-cards/ticker/lvs/png/logo",GNTY:"https://abs.twimg.com/grok-finance-cards/ticker/gnty/png/logo",ALE:"https://abs.twimg.com/grok-finance-cards/ticker/ale/png/logo",VBF:"https://abs.twimg.com/grok-finance-cards/ticker/vbf/png/logo",LTBR:"https://abs.twimg.com/grok-finance-cards/ticker/ltbr/png/logo",LUCYW:"https://abs.twimg.com/grok-finance-cards/ticker/lucyw/png/logo",CDTX:"https://abs.twimg.com/grok-finance-cards/ticker/cdtx/png/logo",APYX:"https://abs.twimg.com/grok-finance-cards/ticker/apyx/png/logo",KFY:"https://abs.twimg.com/grok-finance-cards/ticker/kfy/png/logo",STLD:"https://abs.twimg.com/grok-finance-cards/ticker/stld/png/logo",U:"https://abs.twimg.com/grok-finance-cards/ticker/u/png/logo",TMO:"https://abs.twimg.com/grok-finance-cards/ticker/tmo/png/logo",BKYI:"https://abs.twimg.com/grok-finance-cards/ticker/bkyi/png/logo",CXAIW:"https://abs.twimg.com/grok-finance-cards/ticker/cxaiw/png/logo",KOD:"https://abs.twimg.com/grok-finance-cards/ticker/kod/png/logo",QS:"https://abs.twimg.com/grok-finance-cards/ticker/qs/png/logo",CDIOW:"https://abs.twimg.com/grok-finance-cards/ticker/cdiow/png/logo",CLH:"https://abs.twimg.com/grok-finance-cards/ticker/clh/png/logo",TLSI:"https://abs.twimg.com/grok-finance-cards/ticker/tlsi/png/logo",SANA:"https://abs.twimg.com/grok-finance-cards/ticker/sana/png/logo",KRON:"https://abs.twimg.com/grok-finance-cards/ticker/kron/png/logo",SLRN:"https://abs.twimg.com/grok-finance-cards/ticker/slrn/png/logo",RSKD:"https://abs.twimg.com/grok-finance-cards/ticker/rskd/png/logo",INAB:"https://abs.twimg.com/grok-finance-cards/ticker/inab/png/logo",GBTG:"https://abs.twimg.com/grok-finance-cards/ticker/gbtg/png/logo",PACB:"https://abs.twimg.com/grok-finance-cards/ticker/pacb/png/logo",SPLP:"https://abs.twimg.com/grok-finance-cards/ticker/splp/png/logo",CGNT:"https://abs.twimg.com/grok-finance-cards/ticker/cgnt/png/logo",TBB:"https://abs.twimg.com/grok-finance-cards/ticker/tbb/png/logo",PACK:"https://abs.twimg.com/grok-finance-cards/ticker/pack/png/logo",OII:"https://abs.twimg.com/grok-finance-cards/ticker/oii/png/logo",CABO:"https://abs.twimg.com/grok-finance-cards/ticker/cabo/png/logo",MLR:"https://abs.twimg.com/grok-finance-cards/ticker/mlr/png/logo",INGR:"https://abs.twimg.com/grok-finance-cards/ticker/ingr/png/logo",EIG:"https://abs.twimg.com/grok-finance-cards/ticker/eig/png/logo",BCYC:"https://abs.twimg.com/grok-finance-cards/ticker/bcyc/png/logo",HURN:"https://abs.twimg.com/grok-finance-cards/ticker/hurn/png/logo",SEDG:"https://abs.twimg.com/grok-finance-cards/ticker/sedg/png/logo",SMAR:"https://abs.twimg.com/grok-finance-cards/ticker/smar/png/logo",BYM:"https://abs.twimg.com/grok-finance-cards/ticker/bym/png/logo",MSFT:"https://abs.twimg.com/grok-finance-cards/ticker/msft/png/logo",TGT:"https://abs.twimg.com/grok-finance-cards/ticker/tgt/png/logo",NSA:"https://abs.twimg.com/grok-finance-cards/ticker/nsa/png/logo",BIVI:"https://abs.twimg.com/grok-finance-cards/ticker/bivi/png/logo",MIRA:"https://abs.twimg.com/grok-finance-cards/ticker/mira/png/logo",ALL:"https://abs.twimg.com/grok-finance-cards/ticker/all/png/logo",LKFN:"https://abs.twimg.com/grok-finance-cards/ticker/lkfn/png/logo",RGC:"https://abs.twimg.com/grok-finance-cards/ticker/rgc/png/logo",META:"https://abs.twimg.com/grok-finance-cards/ticker/meta/png/logo",BSX:"https://abs.twimg.com/grok-finance-cards/ticker/bsx/png/logo",WD:"https://abs.twimg.com/grok-finance-cards/ticker/wd/png/logo",BSGM:"https://abs.twimg.com/grok-finance-cards/ticker/bsgm/png/logo",DPG:"https://abs.twimg.com/grok-finance-cards/ticker/dpg/png/logo",ZUMZ:"https://abs.twimg.com/grok-finance-cards/ticker/zumz/png/logo",CCB:"https://abs.twimg.com/grok-finance-cards/ticker/ccb/png/logo",ICL:"https://abs.twimg.com/grok-finance-cards/ticker/icl/png/logo",CNTX:"https://abs.twimg.com/grok-finance-cards/ticker/cntx/png/logo",WWD:"https://abs.twimg.com/grok-finance-cards/ticker/wwd/png/logo",FAST:"https://abs.twimg.com/grok-finance-cards/ticker/fast/png/logo",TRNR:"https://abs.twimg.com/grok-finance-cards/ticker/trnr/png/logo",GROV:"https://abs.twimg.com/grok-finance-cards/ticker/grov/png/logo",GEF:"https://abs.twimg.com/grok-finance-cards/ticker/gef/png/logo",ALK:"https://abs.twimg.com/grok-finance-cards/ticker/alk/png/logo",TK:"https://abs.twimg.com/grok-finance-cards/ticker/tk/png/logo",RR:"https://abs.twimg.com/grok-finance-cards/ticker/rr/png/logo",TGS:"https://abs.twimg.com/grok-finance-cards/ticker/tgs/png/logo",ELV:"https://abs.twimg.com/grok-finance-cards/ticker/elv/png/logo",NVTS:"https://abs.twimg.com/grok-finance-cards/ticker/nvts/png/logo",GFI:"https://abs.twimg.com/grok-finance-cards/ticker/gfi/png/logo",MRVI:"https://abs.twimg.com/grok-finance-cards/ticker/mrvi/png/logo",BRTX:"https://abs.twimg.com/grok-finance-cards/ticker/brtx/png/logo",LCII:"https://abs.twimg.com/grok-finance-cards/ticker/lcii/png/logo",NAUT:"https://abs.twimg.com/grok-finance-cards/ticker/naut/png/logo",DOCN:"https://abs.twimg.com/grok-finance-cards/ticker/docn/png/logo",HALO:"https://abs.twimg.com/grok-finance-cards/ticker/halo/png/logo",VYGR:"https://abs.twimg.com/grok-finance-cards/ticker/vygr/png/logo",POET:"https://abs.twimg.com/grok-finance-cards/ticker/poet/png/logo",ASLE:"https://abs.twimg.com/grok-finance-cards/ticker/asle/png/logo",PSTG:"https://abs.twimg.com/grok-finance-cards/ticker/pstg/png/logo",PDS:"https://abs.twimg.com/grok-finance-cards/ticker/pds/png/logo",SONN:"https://abs.twimg.com/grok-finance-cards/ticker/sonn/png/logo",NAVI:"https://abs.twimg.com/grok-finance-cards/ticker/navi/png/logo",USCB:"https://abs.twimg.com/grok-finance-cards/ticker/uscb/png/logo",PMN:"https://abs.twimg.com/grok-finance-cards/ticker/pmn/png/logo",AKRO:"https://abs.twimg.com/grok-finance-cards/ticker/akro/png/logo",IBKR:"https://abs.twimg.com/grok-finance-cards/ticker/ibkr/png/logo",COMM:"https://abs.twimg.com/grok-finance-cards/ticker/comm/png/logo",VLCN:"https://abs.twimg.com/grok-finance-cards/ticker/vlcn/png/logo",SWK:"https://abs.twimg.com/grok-finance-cards/ticker/swk/png/logo",LYTS:"https://abs.twimg.com/grok-finance-cards/ticker/lyts/png/logo",CTLT:"https://abs.twimg.com/grok-finance-cards/ticker/ctlt/png/logo",MOH:"https://abs.twimg.com/grok-finance-cards/ticker/moh/png/logo",LVO:"https://abs.twimg.com/grok-finance-cards/ticker/lvo/png/logo",MLKN:"https://abs.twimg.com/grok-finance-cards/ticker/mlkn/png/logo",CIB:"https://abs.twimg.com/grok-finance-cards/ticker/cib/png/logo",TY:"https://abs.twimg.com/grok-finance-cards/ticker/ty/png/logo",PPBI:"https://abs.twimg.com/grok-finance-cards/ticker/ppbi/png/logo",TTNP:"https://abs.twimg.com/grok-finance-cards/ticker/ttnp/png/logo",DAIO:"https://abs.twimg.com/grok-finance-cards/ticker/daio/png/logo",OSUR:"https://abs.twimg.com/grok-finance-cards/ticker/osur/png/logo",AFL:"https://abs.twimg.com/grok-finance-cards/ticker/afl/png/logo",NRXP:"https://abs.twimg.com/grok-finance-cards/ticker/nrxp/png/logo",ELBM:"https://abs.twimg.com/grok-finance-cards/ticker/elbm/png/logo",OTIS:"https://abs.twimg.com/grok-finance-cards/ticker/otis/png/logo",IMTX:"https://abs.twimg.com/grok-finance-cards/ticker/imtx/png/logo",MRUS:"https://abs.twimg.com/grok-finance-cards/ticker/mrus/png/logo",GES:"https://abs.twimg.com/grok-finance-cards/ticker/ges/png/logo",MCD:"https://abs.twimg.com/grok-finance-cards/ticker/mcd/png/logo",INHD:"https://abs.twimg.com/grok-finance-cards/ticker/inhd/png/logo",XAIR:"https://abs.twimg.com/grok-finance-cards/ticker/xair/png/logo",PAVMZ:"https://abs.twimg.com/grok-finance-cards/ticker/pavmz/png/logo",BSM:"https://abs.twimg.com/grok-finance-cards/ticker/bsm/png/logo",PDT:"https://abs.twimg.com/grok-finance-cards/ticker/pdt/png/logo",MNKD:"https://abs.twimg.com/grok-finance-cards/ticker/mnkd/png/logo",GLTO:"https://abs.twimg.com/grok-finance-cards/ticker/glto/png/logo",CLS:"https://abs.twimg.com/grok-finance-cards/ticker/cls/png/logo",ORIC:"https://abs.twimg.com/grok-finance-cards/ticker/oric/png/logo",RMD:"https://abs.twimg.com/grok-finance-cards/ticker/rmd/png/logo",AIRE:"https://abs.twimg.com/grok-finance-cards/ticker/aire/png/logo",BAERW:"https://abs.twimg.com/grok-finance-cards/ticker/baerw/png/logo",TECK:"https://abs.twimg.com/grok-finance-cards/ticker/teck/png/logo",SUPN:"https://abs.twimg.com/grok-finance-cards/ticker/supn/png/logo",RILYL:"https://abs.twimg.com/grok-finance-cards/ticker/rilyl/png/logo",CHRD:"https://abs.twimg.com/grok-finance-cards/ticker/chrd/png/logo",AMRX:"https://abs.twimg.com/grok-finance-cards/ticker/amrx/png/logo",OTEX:"https://abs.twimg.com/grok-finance-cards/ticker/otex/png/logo",SOHON:"https://abs.twimg.com/grok-finance-cards/ticker/sohon/png/logo",AJG:"https://abs.twimg.com/grok-finance-cards/ticker/ajg/png/logo",RDY:"https://abs.twimg.com/grok-finance-cards/ticker/rdy/png/logo",CREVW:"https://abs.twimg.com/grok-finance-cards/ticker/crevw/png/logo",WTW:"https://abs.twimg.com/grok-finance-cards/ticker/wtw/png/logo",RKT:"https://abs.twimg.com/grok-finance-cards/ticker/rkt/png/logo",RMM:"https://abs.twimg.com/grok-finance-cards/ticker/rmm/png/logo",FCNCP:"https://abs.twimg.com/grok-finance-cards/ticker/fcncp/png/logo",IFF:"https://abs.twimg.com/grok-finance-cards/ticker/iff/png/logo",LGIH:"https://abs.twimg.com/grok-finance-cards/ticker/lgih/png/logo",COHU:"https://abs.twimg.com/grok-finance-cards/ticker/cohu/png/logo",RBLX:"https://abs.twimg.com/grok-finance-cards/ticker/rblx/png/logo",LPX:"https://abs.twimg.com/grok-finance-cards/ticker/lpx/png/logo",TW:"https://abs.twimg.com/grok-finance-cards/ticker/tw/png/logo",PGR:"https://abs.twimg.com/grok-finance-cards/ticker/pgr/png/logo",BHIL:"https://abs.twimg.com/grok-finance-cards/ticker/bhil/png/logo",LAES:"https://abs.twimg.com/grok-finance-cards/ticker/laes/png/logo",HPE:"https://abs.twimg.com/grok-finance-cards/ticker/hpe/png/logo",CEG:"https://abs.twimg.com/grok-finance-cards/ticker/ceg/png/logo",NOVT:"https://abs.twimg.com/grok-finance-cards/ticker/novt/png/logo",G:"https://abs.twimg.com/grok-finance-cards/ticker/g/png/logo",EFX:"https://abs.twimg.com/grok-finance-cards/ticker/efx/png/logo",MET:"https://abs.twimg.com/grok-finance-cards/ticker/met/png/logo",UTZ:"https://abs.twimg.com/grok-finance-cards/ticker/utz/png/logo",PALT:"https://abs.twimg.com/grok-finance-cards/ticker/palt/png/logo",QRVO:"https://abs.twimg.com/grok-finance-cards/ticker/qrvo/png/logo",AKTX:"https://abs.twimg.com/grok-finance-cards/ticker/aktx/png/logo",CAMP:"https://abs.twimg.com/grok-finance-cards/ticker/camp/png/logo",SGML:"https://abs.twimg.com/grok-finance-cards/ticker/sgml/png/logo",FTRE:"https://abs.twimg.com/grok-finance-cards/ticker/ftre/png/logo",RDW:"https://abs.twimg.com/grok-finance-cards/ticker/rdw/png/logo",INBX:"https://abs.twimg.com/grok-finance-cards/ticker/inbx/png/logo",SRCE:"https://abs.twimg.com/grok-finance-cards/ticker/srce/png/logo",TELA:"https://abs.twimg.com/grok-finance-cards/ticker/tela/png/logo",CMBM:"https://abs.twimg.com/grok-finance-cards/ticker/cmbm/png/logo",KZIA:"https://abs.twimg.com/grok-finance-cards/ticker/kzia/png/logo",OTLK:"https://abs.twimg.com/grok-finance-cards/ticker/otlk/png/logo",EQIX:"https://abs.twimg.com/grok-finance-cards/ticker/eqix/png/logo",STM:"https://abs.twimg.com/grok-finance-cards/ticker/stm/png/logo",REVG:"https://abs.twimg.com/grok-finance-cards/ticker/revg/png/logo",LYB:"https://abs.twimg.com/grok-finance-cards/ticker/lyb/png/logo",ACT:"https://abs.twimg.com/grok-finance-cards/ticker/act/png/logo",AEM:"https://abs.twimg.com/grok-finance-cards/ticker/aem/png/logo",COHR:"https://abs.twimg.com/grok-finance-cards/ticker/cohr/png/logo",RYAM:"https://abs.twimg.com/grok-finance-cards/ticker/ryam/png/logo",GFR:"https://abs.twimg.com/grok-finance-cards/ticker/gfr/png/logo",ACRE:"https://abs.twimg.com/grok-finance-cards/ticker/acre/png/logo",RXRX:"https://abs.twimg.com/grok-finance-cards/ticker/rxrx/png/logo",MBNKP:"https://abs.twimg.com/grok-finance-cards/ticker/mbnkp/png/logo",SVREW:"https://abs.twimg.com/grok-finance-cards/ticker/svrew/png/logo",TDG:"https://abs.twimg.com/grok-finance-cards/ticker/tdg/png/logo",STEL:"https://abs.twimg.com/grok-finance-cards/ticker/stel/png/logo",MERC:"https://abs.twimg.com/grok-finance-cards/ticker/merc/png/logo",INGN:"https://abs.twimg.com/grok-finance-cards/ticker/ingn/png/logo",HUT:"https://abs.twimg.com/grok-finance-cards/ticker/hut/png/logo",NFLX:"https://abs.twimg.com/grok-finance-cards/ticker/nflx/png/logo",AFB:"https://abs.twimg.com/grok-finance-cards/ticker/afb/png/logo",TKC:"https://abs.twimg.com/grok-finance-cards/ticker/tkc/png/logo",VTRS:"https://abs.twimg.com/grok-finance-cards/ticker/vtrs/png/logo",Z:"https://abs.twimg.com/grok-finance-cards/ticker/z/png/logo",PALI:"https://abs.twimg.com/grok-finance-cards/ticker/pali/png/logo",TRNS:"https://abs.twimg.com/grok-finance-cards/ticker/trns/png/logo",GROW:"https://abs.twimg.com/grok-finance-cards/ticker/grow/png/logo",MEI:"https://abs.twimg.com/grok-finance-cards/ticker/mei/png/logo",CNTY:"https://abs.twimg.com/grok-finance-cards/ticker/cnty/png/logo",BSY:"https://abs.twimg.com/grok-finance-cards/ticker/bsy/png/logo",FVRR:"https://abs.twimg.com/grok-finance-cards/ticker/fvrr/png/logo",HUN:"https://abs.twimg.com/grok-finance-cards/ticker/hun/png/logo",XOSWW:"https://abs.twimg.com/grok-finance-cards/ticker/xosww/png/logo",BNOX:"https://abs.twimg.com/grok-finance-cards/ticker/bnox/png/logo",CWST:"https://abs.twimg.com/grok-finance-cards/ticker/cwst/png/logo",TILE:"https://abs.twimg.com/grok-finance-cards/ticker/tile/png/logo",MLNK:"https://abs.twimg.com/grok-finance-cards/ticker/mlnk/png/logo",HUMAW:"https://abs.twimg.com/grok-finance-cards/ticker/humaw/png/logo",ONTO:"https://abs.twimg.com/grok-finance-cards/ticker/onto/png/logo",PNR:"https://abs.twimg.com/grok-finance-cards/ticker/pnr/png/logo",KEY:"https://abs.twimg.com/grok-finance-cards/ticker/key/png/logo",ACN:"https://abs.twimg.com/grok-finance-cards/ticker/acn/png/logo",TAK:"https://abs.twimg.com/grok-finance-cards/ticker/tak/png/logo",GAMB:"https://abs.twimg.com/grok-finance-cards/ticker/gamb/png/logo",RS:"https://abs.twimg.com/grok-finance-cards/ticker/rs/png/logo",RPTX:"https://abs.twimg.com/grok-finance-cards/ticker/rptx/png/logo",ZYME:"https://abs.twimg.com/grok-finance-cards/ticker/zyme/png/logo",GREE:"https://abs.twimg.com/grok-finance-cards/ticker/gree/png/logo",OPCH:"https://abs.twimg.com/grok-finance-cards/ticker/opch/png/logo",TRDA:"https://abs.twimg.com/grok-finance-cards/ticker/trda/png/logo",GLRE:"https://abs.twimg.com/grok-finance-cards/ticker/glre/png/logo",TLSA:"https://abs.twimg.com/grok-finance-cards/ticker/tlsa/png/logo",REGCO:"https://abs.twimg.com/grok-finance-cards/ticker/regco/png/logo",WB:"https://abs.twimg.com/grok-finance-cards/ticker/wb/png/logo",HTGC:"https://abs.twimg.com/grok-finance-cards/ticker/htgc/png/logo",ANDE:"https://abs.twimg.com/grok-finance-cards/ticker/ande/png/logo",NTRA:"https://abs.twimg.com/grok-finance-cards/ticker/ntra/png/logo",MCW:"https://abs.twimg.com/grok-finance-cards/ticker/mcw/png/logo",ALHC:"https://abs.twimg.com/grok-finance-cards/ticker/alhc/png/logo",CINF:"https://abs.twimg.com/grok-finance-cards/ticker/cinf/png/logo",CRCT:"https://abs.twimg.com/grok-finance-cards/ticker/crct/png/logo",CCD:"https://abs.twimg.com/grok-finance-cards/ticker/ccd/png/logo",WAFDP:"https://abs.twimg.com/grok-finance-cards/ticker/wafdp/png/logo",FMSTW:"https://abs.twimg.com/grok-finance-cards/ticker/fmstw/png/logo",ELP:"https://abs.twimg.com/grok-finance-cards/ticker/elp/png/logo",VIVK:"https://abs.twimg.com/grok-finance-cards/ticker/vivk/png/logo",TAL:"https://abs.twimg.com/grok-finance-cards/ticker/tal/png/logo",COO:"https://abs.twimg.com/grok-finance-cards/ticker/coo/png/logo",TM:"https://abs.twimg.com/grok-finance-cards/ticker/tm/png/logo",GAME:"https://abs.twimg.com/grok-finance-cards/ticker/game/png/logo",SRI:"https://abs.twimg.com/grok-finance-cards/ticker/sri/png/logo",LIXTW:"https://abs.twimg.com/grok-finance-cards/ticker/lixtw/png/logo",MTSI:"https://abs.twimg.com/grok-finance-cards/ticker/mtsi/png/logo",AEP:"https://abs.twimg.com/grok-finance-cards/ticker/aep/png/logo",TLYS:"https://abs.twimg.com/grok-finance-cards/ticker/tlys/png/logo",CENX:"https://abs.twimg.com/grok-finance-cards/ticker/cenx/png/logo",CFR:"https://abs.twimg.com/grok-finance-cards/ticker/cfr/png/logo",CHRW:"https://abs.twimg.com/grok-finance-cards/ticker/chrw/png/logo",GMGI:"https://abs.twimg.com/grok-finance-cards/ticker/gmgi/png/logo",OEC:"https://abs.twimg.com/grok-finance-cards/ticker/oec/png/logo",WTM:"https://abs.twimg.com/grok-finance-cards/ticker/wtm/png/logo",HGLB:"https://abs.twimg.com/grok-finance-cards/ticker/hglb/png/logo",SEMR:"https://abs.twimg.com/grok-finance-cards/ticker/semr/png/logo",AVPT:"https://abs.twimg.com/grok-finance-cards/ticker/avpt/png/logo",GIB:"https://abs.twimg.com/grok-finance-cards/ticker/gib/png/logo",COF:"https://abs.twimg.com/grok-finance-cards/ticker/cof/png/logo",TD:"https://abs.twimg.com/grok-finance-cards/ticker/td/png/logo",IMXI:"https://abs.twimg.com/grok-finance-cards/ticker/imxi/png/logo",TKLF:"https://abs.twimg.com/grok-finance-cards/ticker/tklf/png/logo",GNTX:"https://abs.twimg.com/grok-finance-cards/ticker/gntx/png/logo",SDRL:"https://abs.twimg.com/grok-finance-cards/ticker/sdrl/png/logo",WEAV:"https://abs.twimg.com/grok-finance-cards/ticker/weav/png/logo",PRGO:"https://abs.twimg.com/grok-finance-cards/ticker/prgo/png/logo",OVID:"https://abs.twimg.com/grok-finance-cards/ticker/ovid/png/logo",PPBT:"https://abs.twimg.com/grok-finance-cards/ticker/ppbt/png/logo",LYV:"https://abs.twimg.com/grok-finance-cards/ticker/lyv/png/logo",VMC:"https://abs.twimg.com/grok-finance-cards/ticker/vmc/png/logo",UGRO:"https://abs.twimg.com/grok-finance-cards/ticker/ugro/png/logo",VRRM:"https://abs.twimg.com/grok-finance-cards/ticker/vrrm/png/logo",MFH:"https://abs.twimg.com/grok-finance-cards/ticker/mfh/png/logo",OCS:"https://abs.twimg.com/grok-finance-cards/ticker/ocs/png/logo",CLRC:"https://abs.twimg.com/grok-finance-cards/ticker/clrc/png/logo",AIR:"https://abs.twimg.com/grok-finance-cards/ticker/air/png/logo",DOCS:"https://abs.twimg.com/grok-finance-cards/ticker/docs/png/logo",WK:"https://abs.twimg.com/grok-finance-cards/ticker/wk/png/logo",OIA:"https://abs.twimg.com/grok-finance-cards/ticker/oia/png/logo",ALGN:"https://abs.twimg.com/grok-finance-cards/ticker/algn/png/logo",HSY:"https://abs.twimg.com/grok-finance-cards/ticker/hsy/png/logo",UTI:"https://abs.twimg.com/grok-finance-cards/ticker/uti/png/logo",FIVN:"https://abs.twimg.com/grok-finance-cards/ticker/fivn/png/logo",SIGIP:"https://abs.twimg.com/grok-finance-cards/ticker/sigip/png/logo",MEG:"https://abs.twimg.com/grok-finance-cards/ticker/meg/png/logo",COMP:"https://abs.twimg.com/grok-finance-cards/ticker/comp/png/logo",ELDN:"https://abs.twimg.com/grok-finance-cards/ticker/eldn/png/logo",ETSY:"https://abs.twimg.com/grok-finance-cards/ticker/etsy/png/logo",WALDW:"https://abs.twimg.com/grok-finance-cards/ticker/waldw/png/logo",T:"https://abs.twimg.com/grok-finance-cards/ticker/t/png/logo",VRTS:"https://abs.twimg.com/grok-finance-cards/ticker/vrts/png/logo",EHAB:"https://abs.twimg.com/grok-finance-cards/ticker/ehab/png/logo",HOFT:"https://abs.twimg.com/grok-finance-cards/ticker/hoft/png/logo",SRG:"https://abs.twimg.com/grok-finance-cards/ticker/srg/png/logo",VMD:"https://abs.twimg.com/grok-finance-cards/ticker/vmd/png/logo",NGVC:"https://abs.twimg.com/grok-finance-cards/ticker/ngvc/png/logo",KEP:"https://abs.twimg.com/grok-finance-cards/ticker/kep/png/logo",TCOM:"https://abs.twimg.com/grok-finance-cards/ticker/tcom/png/logo",ALC:"https://abs.twimg.com/grok-finance-cards/ticker/alc/png/logo",ZVRA:"https://abs.twimg.com/grok-finance-cards/ticker/zvra/png/logo",OLP:"https://abs.twimg.com/grok-finance-cards/ticker/olp/png/logo",HPQ:"https://abs.twimg.com/grok-finance-cards/ticker/hpq/png/logo",RDFN:"https://abs.twimg.com/grok-finance-cards/ticker/rdfn/png/logo",CCJ:"https://abs.twimg.com/grok-finance-cards/ticker/ccj/png/logo",S:"https://abs.twimg.com/grok-finance-cards/ticker/s/png/logo",COCHW:"https://abs.twimg.com/grok-finance-cards/ticker/cochw/png/logo",FYBR:"https://abs.twimg.com/grok-finance-cards/ticker/fybr/png/logo",MCY:"https://abs.twimg.com/grok-finance-cards/ticker/mcy/png/logo",PTGX:"https://abs.twimg.com/grok-finance-cards/ticker/ptgx/png/logo",ALNT:"https://abs.twimg.com/grok-finance-cards/ticker/alnt/png/logo",PVBC:"https://abs.twimg.com/grok-finance-cards/ticker/pvbc/png/logo",GEN:"https://abs.twimg.com/grok-finance-cards/ticker/gen/png/logo",WABC:"https://abs.twimg.com/grok-finance-cards/ticker/wabc/png/logo",ORCL:"https://abs.twimg.com/grok-finance-cards/ticker/orcl/png/logo",BUI:"https://abs.twimg.com/grok-finance-cards/ticker/bui/png/logo",OOMA:"https://abs.twimg.com/grok-finance-cards/ticker/ooma/png/logo",FSM:"https://abs.twimg.com/grok-finance-cards/ticker/fsm/png/logo",NVX:"https://abs.twimg.com/grok-finance-cards/ticker/nvx/png/logo",ONTF:"https://abs.twimg.com/grok-finance-cards/ticker/ontf/png/logo",SANG:"https://abs.twimg.com/grok-finance-cards/ticker/sang/png/logo",CBRE:"https://abs.twimg.com/grok-finance-cards/ticker/cbre/png/logo",BLFS:"https://abs.twimg.com/grok-finance-cards/ticker/blfs/png/logo",CHTR:"https://abs.twimg.com/grok-finance-cards/ticker/chtr/png/logo",OUST:"https://abs.twimg.com/grok-finance-cards/ticker/oust/png/logo",VBFC:"https://abs.twimg.com/grok-finance-cards/ticker/vbfc/png/logo",GFS:"https://abs.twimg.com/grok-finance-cards/ticker/gfs/png/logo",BWMX:"https://abs.twimg.com/grok-finance-cards/ticker/bwmx/png/logo",OLB:"https://abs.twimg.com/grok-finance-cards/ticker/olb/png/logo",PAM:"https://abs.twimg.com/grok-finance-cards/ticker/pam/png/logo",MIY:"https://abs.twimg.com/grok-finance-cards/ticker/miy/png/logo",BCPC:"https://abs.twimg.com/grok-finance-cards/ticker/bcpc/png/logo",DUK:"https://abs.twimg.com/grok-finance-cards/ticker/duk/png/logo",HTBI:"https://abs.twimg.com/grok-finance-cards/ticker/htbi/png/logo",RH:"https://abs.twimg.com/grok-finance-cards/ticker/rh/png/logo",TGI:"https://abs.twimg.com/grok-finance-cards/ticker/tgi/png/logo",TAP:"https://abs.twimg.com/grok-finance-cards/ticker/tap/png/logo",GDTC:"https://abs.twimg.com/grok-finance-cards/ticker/gdtc/png/logo",FFIV:"https://abs.twimg.com/grok-finance-cards/ticker/ffiv/png/logo",MCK:"https://abs.twimg.com/grok-finance-cards/ticker/mck/png/logo",FNLC:"https://abs.twimg.com/grok-finance-cards/ticker/fnlc/png/logo",IMRN:"https://abs.twimg.com/grok-finance-cards/ticker/imrn/png/logo",A:"https://abs.twimg.com/grok-finance-cards/ticker/a/png/logo",DBVT:"https://abs.twimg.com/grok-finance-cards/ticker/dbvt/png/logo",BYND:"https://abs.twimg.com/grok-finance-cards/ticker/bynd/png/logo",AERT:"https://abs.twimg.com/grok-finance-cards/ticker/aert/png/logo",GTLS:"https://abs.twimg.com/grok-finance-cards/ticker/gtls/png/logo",MNDO:"https://abs.twimg.com/grok-finance-cards/ticker/mndo/png/logo",POLA:"https://abs.twimg.com/grok-finance-cards/ticker/pola/png/logo",DELL:"https://abs.twimg.com/grok-finance-cards/ticker/dell/png/logo",STEM:"https://abs.twimg.com/grok-finance-cards/ticker/stem/png/logo",KOP:"https://abs.twimg.com/grok-finance-cards/ticker/kop/png/logo",TDF:"https://abs.twimg.com/grok-finance-cards/ticker/tdf/png/logo",AIG:"https://abs.twimg.com/grok-finance-cards/ticker/aig/png/logo",CTOS:"https://abs.twimg.com/grok-finance-cards/ticker/ctos/png/logo",GENK:"https://abs.twimg.com/grok-finance-cards/ticker/genk/png/logo",TV:"https://abs.twimg.com/grok-finance-cards/ticker/tv/png/logo",GOEVW:"https://abs.twimg.com/grok-finance-cards/ticker/goevw/png/logo",SNTI:"https://abs.twimg.com/grok-finance-cards/ticker/snti/png/logo",FITBP:"https://abs.twimg.com/grok-finance-cards/ticker/fitbp/png/logo",DSU:"https://abs.twimg.com/grok-finance-cards/ticker/dsu/png/logo",ALV:"https://abs.twimg.com/grok-finance-cards/ticker/alv/png/logo",RBCAA:"https://abs.twimg.com/grok-finance-cards/ticker/rbcaa/png/logo",LSTR:"https://abs.twimg.com/grok-finance-cards/ticker/lstr/png/logo",ULBI:"https://abs.twimg.com/grok-finance-cards/ticker/ulbi/png/logo",BVS:"https://abs.twimg.com/grok-finance-cards/ticker/bvs/png/logo",YEXT:"https://abs.twimg.com/grok-finance-cards/ticker/yext/png/logo",KIND:"https://abs.twimg.com/grok-finance-cards/ticker/kind/png/logo",NDLS:"https://abs.twimg.com/grok-finance-cards/ticker/ndls/png/logo",EBAY:"https://abs.twimg.com/grok-finance-cards/ticker/ebay/png/logo",STK:"https://abs.twimg.com/grok-finance-cards/ticker/stk/png/logo",OIS:"https://abs.twimg.com/grok-finance-cards/ticker/ois/png/logo",RDCM:"https://abs.twimg.com/grok-finance-cards/ticker/rdcm/png/logo",DPZ:"https://abs.twimg.com/grok-finance-cards/ticker/dpz/png/logo",WY:"https://abs.twimg.com/grok-finance-cards/ticker/wy/png/logo",F:"https://abs.twimg.com/grok-finance-cards/ticker/f/png/logo",CREV:"https://abs.twimg.com/grok-finance-cards/ticker/crev/png/logo",NXPLW:"https://abs.twimg.com/grok-finance-cards/ticker/nxplw/png/logo",PKX:"https://abs.twimg.com/grok-finance-cards/ticker/pkx/png/logo",TURN:"https://abs.twimg.com/grok-finance-cards/ticker/turn/png/logo",BSL:"https://abs.twimg.com/grok-finance-cards/ticker/bsl/png/logo",NTRS:"https://abs.twimg.com/grok-finance-cards/ticker/ntrs/png/logo",CADE:"https://abs.twimg.com/grok-finance-cards/ticker/cade/png/logo",VCSA:"https://abs.twimg.com/grok-finance-cards/ticker/vcsa/png/logo",GANX:"https://abs.twimg.com/grok-finance-cards/ticker/ganx/png/logo",SXI:"https://abs.twimg.com/grok-finance-cards/ticker/sxi/png/logo",O:"https://abs.twimg.com/grok-finance-cards/ticker/o/png/logo",CZFS:"https://abs.twimg.com/grok-finance-cards/ticker/czfs/png/logo",AORT:"https://abs.twimg.com/grok-finance-cards/ticker/aort/png/logo",LZB:"https://abs.twimg.com/grok-finance-cards/ticker/lzb/png/logo",DYN:"https://abs.twimg.com/grok-finance-cards/ticker/dyn/png/logo",PIII:"https://abs.twimg.com/grok-finance-cards/ticker/piii/png/logo",NYAX:"https://abs.twimg.com/grok-finance-cards/ticker/nyax/png/logo",TMCI:"https://abs.twimg.com/grok-finance-cards/ticker/tmci/png/logo",CINT:"https://abs.twimg.com/grok-finance-cards/ticker/cint/png/logo",WTFC:"https://abs.twimg.com/grok-finance-cards/ticker/wtfc/png/logo",HNVR:"https://abs.twimg.com/grok-finance-cards/ticker/hnvr/png/logo",RF:"https://abs.twimg.com/grok-finance-cards/ticker/rf/png/logo",SOHOO:"https://abs.twimg.com/grok-finance-cards/ticker/sohoo/png/logo",BIPC:"https://abs.twimg.com/grok-finance-cards/ticker/bipc/png/logo",MITK:"https://abs.twimg.com/grok-finance-cards/ticker/mitk/png/logo",PAC:"https://abs.twimg.com/grok-finance-cards/ticker/pac/png/logo",MGTX:"https://abs.twimg.com/grok-finance-cards/ticker/mgtx/png/logo",MNTSW:"https://abs.twimg.com/grok-finance-cards/ticker/mntsw/png/logo",HVT:"https://abs.twimg.com/grok-finance-cards/ticker/hvt/png/logo",LCFY:"https://abs.twimg.com/grok-finance-cards/ticker/lcfy/png/logo",RBA:"https://abs.twimg.com/grok-finance-cards/ticker/rba/png/logo",GMAB:"https://abs.twimg.com/grok-finance-cards/ticker/gmab/png/logo",LBTYA:"https://abs.twimg.com/grok-finance-cards/ticker/lbtya/png/logo",VNCE:"https://abs.twimg.com/grok-finance-cards/ticker/vnce/png/logo",THC:"https://abs.twimg.com/grok-finance-cards/ticker/thc/png/logo",PMO:"https://abs.twimg.com/grok-finance-cards/ticker/pmo/png/logo",MCB:"https://abs.twimg.com/grok-finance-cards/ticker/mcb/png/logo",H:"https://abs.twimg.com/grok-finance-cards/ticker/h/png/logo",CREX:"https://abs.twimg.com/grok-finance-cards/ticker/crex/png/logo",VGM:"https://abs.twimg.com/grok-finance-cards/ticker/vgm/png/logo",KROS:"https://abs.twimg.com/grok-finance-cards/ticker/kros/png/logo",HLVX:"https://abs.twimg.com/grok-finance-cards/ticker/hlvx/png/logo",FSV:"https://abs.twimg.com/grok-finance-cards/ticker/fsv/png/logo",WW:"https://abs.twimg.com/grok-finance-cards/ticker/ww/png/logo",BUR:"https://abs.twimg.com/grok-finance-cards/ticker/bur/png/logo",SONO:"https://abs.twimg.com/grok-finance-cards/ticker/sono/png/logo",RGP:"https://abs.twimg.com/grok-finance-cards/ticker/rgp/png/logo",CFG:"https://abs.twimg.com/grok-finance-cards/ticker/cfg/png/logo",JYNT:"https://abs.twimg.com/grok-finance-cards/ticker/jynt/png/logo",VCYT:"https://abs.twimg.com/grok-finance-cards/ticker/vcyt/png/logo",PRGS:"https://abs.twimg.com/grok-finance-cards/ticker/prgs/png/logo",CBRL:"https://abs.twimg.com/grok-finance-cards/ticker/cbrl/png/logo",PCTTW:"https://abs.twimg.com/grok-finance-cards/ticker/pcttw/png/logo",EEX:"https://abs.twimg.com/grok-finance-cards/ticker/eex/png/logo",SPIR:"https://abs.twimg.com/grok-finance-cards/ticker/spir/png/logo",SPOK:"https://abs.twimg.com/grok-finance-cards/ticker/spok/png/logo",INDI:"https://abs.twimg.com/grok-finance-cards/ticker/indi/png/logo",ATUS:"https://abs.twimg.com/grok-finance-cards/ticker/atus/png/logo",PIIIW:"https://abs.twimg.com/grok-finance-cards/ticker/piiiw/png/logo",TX:"https://abs.twimg.com/grok-finance-cards/ticker/tx/png/logo",RA:"https://abs.twimg.com/grok-finance-cards/ticker/ra/png/logo",CRIS:"https://abs.twimg.com/grok-finance-cards/ticker/cris/png/logo",UPST:"https://abs.twimg.com/grok-finance-cards/ticker/upst/png/logo",IIM:"https://abs.twimg.com/grok-finance-cards/ticker/iim/png/logo",IOT:"https://abs.twimg.com/grok-finance-cards/ticker/iot/png/logo",PYPL:"https://abs.twimg.com/grok-finance-cards/ticker/pypl/png/logo",XOMAP:"https://abs.twimg.com/grok-finance-cards/ticker/xomap/png/logo",HTCR:"https://abs.twimg.com/grok-finance-cards/ticker/htcr/png/logo",DRI:"https://abs.twimg.com/grok-finance-cards/ticker/dri/png/logo",CRNX:"https://abs.twimg.com/grok-finance-cards/ticker/crnx/png/logo",MYNA:"https://abs.twimg.com/grok-finance-cards/ticker/myna/png/logo",MTRN:"https://abs.twimg.com/grok-finance-cards/ticker/mtrn/png/logo",CAL:"https://abs.twimg.com/grok-finance-cards/ticker/cal/png/logo",CMLS:"https://abs.twimg.com/grok-finance-cards/ticker/cmls/png/logo",PIK:"https://abs.twimg.com/grok-finance-cards/ticker/pik/png/logo",POR:"https://abs.twimg.com/grok-finance-cards/ticker/por/png/logo",EBS:"https://abs.twimg.com/grok-finance-cards/ticker/ebs/png/logo",MGF:"https://abs.twimg.com/grok-finance-cards/ticker/mgf/png/logo",ALLR:"https://abs.twimg.com/grok-finance-cards/ticker/allr/png/logo",OMEX:"https://abs.twimg.com/grok-finance-cards/ticker/omex/png/logo",CMG:"https://abs.twimg.com/grok-finance-cards/ticker/cmg/png/logo",CRKN:"https://abs.twimg.com/grok-finance-cards/ticker/crkn/png/logo",PPIH:"https://abs.twimg.com/grok-finance-cards/ticker/ppih/png/logo",ESGRP:"https://abs.twimg.com/grok-finance-cards/ticker/esgrp/png/logo",MMT:"https://abs.twimg.com/grok-finance-cards/ticker/mmt/png/logo",CACI:"https://abs.twimg.com/grok-finance-cards/ticker/caci/png/logo",ANEB:"https://abs.twimg.com/grok-finance-cards/ticker/aneb/png/logo",NCRA:"https://abs.twimg.com/grok-finance-cards/ticker/ncra/png/logo",PINE:"https://abs.twimg.com/grok-finance-cards/ticker/pine/png/logo",TSVT:"https://abs.twimg.com/grok-finance-cards/ticker/tsvt/png/logo",DRCT:"https://abs.twimg.com/grok-finance-cards/ticker/drct/png/logo",AGX:"https://abs.twimg.com/grok-finance-cards/ticker/agx/png/logo",IDT:"https://abs.twimg.com/grok-finance-cards/ticker/idt/png/logo",NATR:"https://abs.twimg.com/grok-finance-cards/ticker/natr/png/logo",MGA:"https://abs.twimg.com/grok-finance-cards/ticker/mga/png/logo",MAX:"https://abs.twimg.com/grok-finance-cards/ticker/max/png/logo",WST:"https://abs.twimg.com/grok-finance-cards/ticker/wst/png/logo",ZI:"https://abs.twimg.com/grok-finance-cards/ticker/zi/png/logo",ADP:"https://abs.twimg.com/grok-finance-cards/ticker/adp/png/logo",IAE:"https://abs.twimg.com/grok-finance-cards/ticker/iae/png/logo",SUP:"https://abs.twimg.com/grok-finance-cards/ticker/sup/png/logo",PEGA:"https://abs.twimg.com/grok-finance-cards/ticker/pega/png/logo",CNO:"https://abs.twimg.com/grok-finance-cards/ticker/cno/png/logo",BZFDW:"https://abs.twimg.com/grok-finance-cards/ticker/bzfdw/png/logo",CCCC:"https://abs.twimg.com/grok-finance-cards/ticker/cccc/png/logo",UNFI:"https://abs.twimg.com/grok-finance-cards/ticker/unfi/png/logo",SPGC:"https://abs.twimg.com/grok-finance-cards/ticker/spgc/png/logo",FORA:"https://abs.twimg.com/grok-finance-cards/ticker/fora/png/logo",SAFT:"https://abs.twimg.com/grok-finance-cards/ticker/saft/png/logo",XENE:"https://abs.twimg.com/grok-finance-cards/ticker/xene/png/logo",SCCO:"https://abs.twimg.com/grok-finance-cards/ticker/scco/png/logo",OCFC:"https://abs.twimg.com/grok-finance-cards/ticker/ocfc/png/logo",DAKT:"https://abs.twimg.com/grok-finance-cards/ticker/dakt/png/logo",PEG:"https://abs.twimg.com/grok-finance-cards/ticker/peg/png/logo",MMS:"https://abs.twimg.com/grok-finance-cards/ticker/mms/png/logo",TOIIW:"https://abs.twimg.com/grok-finance-cards/ticker/toiiw/png/logo",TIMB:"https://abs.twimg.com/grok-finance-cards/ticker/timb/png/logo",FRSH:"https://abs.twimg.com/grok-finance-cards/ticker/frsh/png/logo",HCAT:"https://abs.twimg.com/grok-finance-cards/ticker/hcat/png/logo",WHLRD:"https://abs.twimg.com/grok-finance-cards/ticker/whlrd/png/logo",CALC:"https://abs.twimg.com/grok-finance-cards/ticker/calc/png/logo",FLNT:"https://abs.twimg.com/grok-finance-cards/ticker/flnt/png/logo",MKC:"https://abs.twimg.com/grok-finance-cards/ticker/mkc/png/logo",MBIO:"https://abs.twimg.com/grok-finance-cards/ticker/mbio/png/logo",PEN:"https://abs.twimg.com/grok-finance-cards/ticker/pen/png/logo",CMI:"https://abs.twimg.com/grok-finance-cards/ticker/cmi/png/logo",PR:"https://abs.twimg.com/grok-finance-cards/ticker/pr/png/logo",VIRT:"https://abs.twimg.com/grok-finance-cards/ticker/virt/png/logo",BPYPN:"https://abs.twimg.com/grok-finance-cards/ticker/bpypn/png/logo",EDD:"https://abs.twimg.com/grok-finance-cards/ticker/edd/png/logo",RDNT:"https://abs.twimg.com/grok-finance-cards/ticker/rdnt/png/logo",WILC:"https://abs.twimg.com/grok-finance-cards/ticker/wilc/png/logo",ETWO:"https://abs.twimg.com/grok-finance-cards/ticker/etwo/png/logo",AMD:"https://abs.twimg.com/grok-finance-cards/ticker/amd/png/logo",CGEN:"https://abs.twimg.com/grok-finance-cards/ticker/cgen/png/logo",RVPHW:"https://abs.twimg.com/grok-finance-cards/ticker/rvphw/png/logo",XPOF:"https://abs.twimg.com/grok-finance-cards/ticker/xpof/png/logo",STGW:"https://abs.twimg.com/grok-finance-cards/ticker/stgw/png/logo",BWA:"https://abs.twimg.com/grok-finance-cards/ticker/bwa/png/logo",VBNK:"https://abs.twimg.com/grok-finance-cards/ticker/vbnk/png/logo",MBLY:"https://abs.twimg.com/grok-finance-cards/ticker/mbly/png/logo",ENOV:"https://abs.twimg.com/grok-finance-cards/ticker/enov/png/logo",GMS:"https://abs.twimg.com/grok-finance-cards/ticker/gms/png/logo",BTI:"https://abs.twimg.com/grok-finance-cards/ticker/bti/png/logo",AVTE:"https://abs.twimg.com/grok-finance-cards/ticker/avte/png/logo",SOFI:"https://abs.twimg.com/grok-finance-cards/ticker/sofi/png/logo",FATE:"https://abs.twimg.com/grok-finance-cards/ticker/fate/png/logo",ALOT:"https://abs.twimg.com/grok-finance-cards/ticker/alot/png/logo",DINO:"https://abs.twimg.com/grok-finance-cards/ticker/dino/png/logo",RIO:"https://abs.twimg.com/grok-finance-cards/ticker/rio/png/logo",DXR:"https://abs.twimg.com/grok-finance-cards/ticker/dxr/png/logo",SPH:"https://abs.twimg.com/grok-finance-cards/ticker/sph/png/logo",TNXP:"https://abs.twimg.com/grok-finance-cards/ticker/tnxp/png/logo",VIR:"https://abs.twimg.com/grok-finance-cards/ticker/vir/png/logo",WRBY:"https://abs.twimg.com/grok-finance-cards/ticker/wrby/png/logo",MNR:"https://abs.twimg.com/grok-finance-cards/ticker/mnr/png/logo",ZVSA:"https://abs.twimg.com/grok-finance-cards/ticker/zvsa/png/logo",SNSE:"https://abs.twimg.com/grok-finance-cards/ticker/snse/png/logo",ABCL:"https://abs.twimg.com/grok-finance-cards/ticker/abcl/png/logo",CNA:"https://abs.twimg.com/grok-finance-cards/ticker/cna/png/logo",CHX:"https://abs.twimg.com/grok-finance-cards/ticker/chx/png/logo",EAST:"https://abs.twimg.com/grok-finance-cards/ticker/east/png/logo",AMC:"https://abs.twimg.com/grok-finance-cards/ticker/amc/png/logo",INO:"https://abs.twimg.com/grok-finance-cards/ticker/ino/png/logo",DRIO:"https://abs.twimg.com/grok-finance-cards/ticker/drio/png/logo",EQNR:"https://abs.twimg.com/grok-finance-cards/ticker/eqnr/png/logo",CAE:"https://abs.twimg.com/grok-finance-cards/ticker/cae/png/logo",ZG:"https://abs.twimg.com/grok-finance-cards/ticker/zg/png/logo",KDP:"https://abs.twimg.com/grok-finance-cards/ticker/kdp/png/logo",SIFY:"https://abs.twimg.com/grok-finance-cards/ticker/sify/png/logo",MAV:"https://abs.twimg.com/grok-finance-cards/ticker/mav/png/logo",MOBXW:"https://abs.twimg.com/grok-finance-cards/ticker/mobxw/png/logo",HXL:"https://abs.twimg.com/grok-finance-cards/ticker/hxl/png/logo",CLSD:"https://abs.twimg.com/grok-finance-cards/ticker/clsd/png/logo",OBT:"https://abs.twimg.com/grok-finance-cards/ticker/obt/png/logo",NKTR:"https://abs.twimg.com/grok-finance-cards/ticker/nktr/png/logo",SBSI:"https://abs.twimg.com/grok-finance-cards/ticker/sbsi/png/logo",NXGLW:"https://abs.twimg.com/grok-finance-cards/ticker/nxglw/png/logo",HRL:"https://abs.twimg.com/grok-finance-cards/ticker/hrl/png/logo",LTH:"https://abs.twimg.com/grok-finance-cards/ticker/lth/png/logo",OVBC:"https://abs.twimg.com/grok-finance-cards/ticker/ovbc/png/logo",UPWK:"https://abs.twimg.com/grok-finance-cards/ticker/upwk/png/logo",LOGI:"https://abs.twimg.com/grok-finance-cards/ticker/logi/png/logo",NXPL:"https://abs.twimg.com/grok-finance-cards/ticker/nxpl/png/logo",TEF:"https://abs.twimg.com/grok-finance-cards/ticker/tef/png/logo",XXII:"https://abs.twimg.com/grok-finance-cards/ticker/xxii/png/logo",CECO:"https://abs.twimg.com/grok-finance-cards/ticker/ceco/png/logo",FRST:"https://abs.twimg.com/grok-finance-cards/ticker/frst/png/logo",SFST:"https://abs.twimg.com/grok-finance-cards/ticker/sfst/png/logo",EQBK:"https://abs.twimg.com/grok-finance-cards/ticker/eqbk/png/logo",PEBK:"https://abs.twimg.com/grok-finance-cards/ticker/pebk/png/logo",WOLF:"https://abs.twimg.com/grok-finance-cards/ticker/wolf/png/logo",LANDO:"https://abs.twimg.com/grok-finance-cards/ticker/lando/png/logo",BBDO:"https://abs.twimg.com/grok-finance-cards/ticker/bbdo/png/logo",IHD:"https://abs.twimg.com/grok-finance-cards/ticker/ihd/png/logo",INCY:"https://abs.twimg.com/grok-finance-cards/ticker/incy/png/logo",BORR:"https://abs.twimg.com/grok-finance-cards/ticker/borr/png/logo",ATRC:"https://abs.twimg.com/grok-finance-cards/ticker/atrc/png/logo",RNGR:"https://abs.twimg.com/grok-finance-cards/ticker/rngr/png/logo",DLTH:"https://abs.twimg.com/grok-finance-cards/ticker/dlth/png/logo",BXP:"https://abs.twimg.com/grok-finance-cards/ticker/bxp/png/logo",PLTK:"https://abs.twimg.com/grok-finance-cards/ticker/pltk/png/logo",LIND:"https://abs.twimg.com/grok-finance-cards/ticker/lind/png/logo",CXAI:"https://abs.twimg.com/grok-finance-cards/ticker/cxai/png/logo",MYNZ:"https://abs.twimg.com/grok-finance-cards/ticker/mynz/png/logo",MDU:"https://abs.twimg.com/grok-finance-cards/ticker/mdu/png/logo",XOM:"https://abs.twimg.com/grok-finance-cards/ticker/xom/png/logo",MMYT:"https://abs.twimg.com/grok-finance-cards/ticker/mmyt/png/logo",USB:"https://abs.twimg.com/grok-finance-cards/ticker/usb/png/logo",COLB:"https://abs.twimg.com/grok-finance-cards/ticker/colb/png/logo",TCX:"https://abs.twimg.com/grok-finance-cards/ticker/tcx/png/logo",DMAC:"https://abs.twimg.com/grok-finance-cards/ticker/dmac/png/logo",SATLW:"https://abs.twimg.com/grok-finance-cards/ticker/satlw/png/logo",EDIT:"https://abs.twimg.com/grok-finance-cards/ticker/edit/png/logo",VFC:"https://abs.twimg.com/grok-finance-cards/ticker/vfc/png/logo",ANY:"https://abs.twimg.com/grok-finance-cards/ticker/any/png/logo",LSPD:"https://abs.twimg.com/grok-finance-cards/ticker/lspd/png/logo",CSTL:"https://abs.twimg.com/grok-finance-cards/ticker/cstl/png/logo",ABR:"https://abs.twimg.com/grok-finance-cards/ticker/abr/png/logo",PAHC:"https://abs.twimg.com/grok-finance-cards/ticker/pahc/png/logo",LINC:"https://abs.twimg.com/grok-finance-cards/ticker/linc/png/logo",MAC:"https://abs.twimg.com/grok-finance-cards/ticker/mac/png/logo",FFBC:"https://abs.twimg.com/grok-finance-cards/ticker/ffbc/png/logo",CTKB:"https://abs.twimg.com/grok-finance-cards/ticker/ctkb/png/logo",ORGO:"https://abs.twimg.com/grok-finance-cards/ticker/orgo/png/logo",VERX:"https://abs.twimg.com/grok-finance-cards/ticker/verx/png/logo",HCKT:"https://abs.twimg.com/grok-finance-cards/ticker/hckt/png/logo",GNSS:"https://abs.twimg.com/grok-finance-cards/ticker/gnss/png/logo",EKSO:"https://abs.twimg.com/grok-finance-cards/ticker/ekso/png/logo",SO:"https://abs.twimg.com/grok-finance-cards/ticker/so/png/logo",KMX:"https://abs.twimg.com/grok-finance-cards/ticker/kmx/png/logo",PENN:"https://abs.twimg.com/grok-finance-cards/ticker/penn/png/logo",LRCX:"https://abs.twimg.com/grok-finance-cards/ticker/lrcx/png/logo",CRAI:"https://abs.twimg.com/grok-finance-cards/ticker/crai/png/logo",FBMS:"https://abs.twimg.com/grok-finance-cards/ticker/fbms/png/logo",EVTV:"https://abs.twimg.com/grok-finance-cards/ticker/evtv/png/logo",LXEO:"https://abs.twimg.com/grok-finance-cards/ticker/lxeo/png/logo",SSTI:"https://abs.twimg.com/grok-finance-cards/ticker/ssti/png/logo",ZIP:"https://abs.twimg.com/grok-finance-cards/ticker/zip/png/logo",EBF:"https://abs.twimg.com/grok-finance-cards/ticker/ebf/png/logo",IIPR:"https://abs.twimg.com/grok-finance-cards/ticker/iipr/png/logo",GOLD:"https://abs.twimg.com/grok-finance-cards/ticker/gold/png/logo",GHY:"https://abs.twimg.com/grok-finance-cards/ticker/ghy/png/logo",EFOI:"https://abs.twimg.com/grok-finance-cards/ticker/efoi/png/logo",SF:"https://abs.twimg.com/grok-finance-cards/ticker/sf/png/logo",CHD:"https://abs.twimg.com/grok-finance-cards/ticker/chd/png/logo",SKLZ:"https://abs.twimg.com/grok-finance-cards/ticker/sklz/png/logo",FULT:"https://abs.twimg.com/grok-finance-cards/ticker/fult/png/logo",FOXA:"https://abs.twimg.com/grok-finance-cards/ticker/foxa/png/logo",DTE:"https://abs.twimg.com/grok-finance-cards/ticker/dte/png/logo",CALX:"https://abs.twimg.com/grok-finance-cards/ticker/calx/png/logo",HYZNW:"https://abs.twimg.com/grok-finance-cards/ticker/hyznw/png/logo",RNWWW:"https://abs.twimg.com/grok-finance-cards/ticker/rnwww/png/logo",EGP:"https://abs.twimg.com/grok-finance-cards/ticker/egp/png/logo",SPT:"https://abs.twimg.com/grok-finance-cards/ticker/spt/png/logo",IDA:"https://abs.twimg.com/grok-finance-cards/ticker/ida/png/logo",AGM:"https://abs.twimg.com/grok-finance-cards/ticker/agm/png/logo",AAT:"https://abs.twimg.com/grok-finance-cards/ticker/aat/png/logo",KGC:"https://abs.twimg.com/grok-finance-cards/ticker/kgc/png/logo",BLDR:"https://abs.twimg.com/grok-finance-cards/ticker/bldr/png/logo",FFIEW:"https://abs.twimg.com/grok-finance-cards/ticker/ffiew/png/logo",KRNT:"https://abs.twimg.com/grok-finance-cards/ticker/krnt/png/logo",GAIA:"https://abs.twimg.com/grok-finance-cards/ticker/gaia/png/logo",PI:"https://abs.twimg.com/grok-finance-cards/ticker/pi/png/logo",GILT:"https://abs.twimg.com/grok-finance-cards/ticker/gilt/png/logo",SKIL:"https://abs.twimg.com/grok-finance-cards/ticker/skil/png/logo",KELYA:"https://abs.twimg.com/grok-finance-cards/ticker/kelya/png/logo",BTU:"https://abs.twimg.com/grok-finance-cards/ticker/btu/png/logo",CSTE:"https://abs.twimg.com/grok-finance-cards/ticker/cste/png/logo",HRB:"https://abs.twimg.com/grok-finance-cards/ticker/hrb/png/logo",CYTK:"https://abs.twimg.com/grok-finance-cards/ticker/cytk/png/logo",NDAQ:"https://abs.twimg.com/grok-finance-cards/ticker/ndaq/png/logo",INFA:"https://abs.twimg.com/grok-finance-cards/ticker/infa/png/logo",AKA:"https://abs.twimg.com/grok-finance-cards/ticker/aka/png/logo",MYGN:"https://abs.twimg.com/grok-finance-cards/ticker/mygn/png/logo",FOXF:"https://abs.twimg.com/grok-finance-cards/ticker/foxf/png/logo",CUTR:"https://abs.twimg.com/grok-finance-cards/ticker/cutr/png/logo",SA:"https://abs.twimg.com/grok-finance-cards/ticker/sa/png/logo",LMAT:"https://abs.twimg.com/grok-finance-cards/ticker/lmat/png/logo",EME:"https://abs.twimg.com/grok-finance-cards/ticker/eme/png/logo",VERV:"https://abs.twimg.com/grok-finance-cards/ticker/verv/png/logo",ODV:"https://abs.twimg.com/grok-finance-cards/ticker/odv/png/logo",BBGI:"https://abs.twimg.com/grok-finance-cards/ticker/bbgi/png/logo",RLMD:"https://abs.twimg.com/grok-finance-cards/ticker/rlmd/png/logo",IGI:"https://abs.twimg.com/grok-finance-cards/ticker/igi/png/logo",BFAM:"https://abs.twimg.com/grok-finance-cards/ticker/bfam/png/logo",HTLD:"https://abs.twimg.com/grok-finance-cards/ticker/htld/png/logo",KBR:"https://abs.twimg.com/grok-finance-cards/ticker/kbr/png/logo",MGPI:"https://abs.twimg.com/grok-finance-cards/ticker/mgpi/png/logo",OCEAW:"https://abs.twimg.com/grok-finance-cards/ticker/oceaw/png/logo",NTST:"https://abs.twimg.com/grok-finance-cards/ticker/ntst/png/logo",JBHT:"https://abs.twimg.com/grok-finance-cards/ticker/jbht/png/logo",LEGN:"https://abs.twimg.com/grok-finance-cards/ticker/legn/png/logo",CMU:"https://abs.twimg.com/grok-finance-cards/ticker/cmu/png/logo",TTEC:"https://abs.twimg.com/grok-finance-cards/ticker/ttec/png/logo",COCH:"https://abs.twimg.com/grok-finance-cards/ticker/coch/png/logo",COLL:"https://abs.twimg.com/grok-finance-cards/ticker/coll/png/logo",CPAC:"https://abs.twimg.com/grok-finance-cards/ticker/cpac/png/logo",SMCI:"https://abs.twimg.com/grok-finance-cards/ticker/smci/png/logo",ALVOW:"https://abs.twimg.com/grok-finance-cards/ticker/alvow/png/logo",ACVA:"https://abs.twimg.com/grok-finance-cards/ticker/acva/png/logo",GDO:"https://abs.twimg.com/grok-finance-cards/ticker/gdo/png/logo",CVBF:"https://abs.twimg.com/grok-finance-cards/ticker/cvbf/png/logo",TRIB:"https://abs.twimg.com/grok-finance-cards/ticker/trib/png/logo",XPER:"https://abs.twimg.com/grok-finance-cards/ticker/xper/png/logo",JSPRW:"https://abs.twimg.com/grok-finance-cards/ticker/jsprw/png/logo",NMTC:"https://abs.twimg.com/grok-finance-cards/ticker/nmtc/png/logo",LGMK:"https://abs.twimg.com/grok-finance-cards/ticker/lgmk/png/logo",HSCSW:"https://abs.twimg.com/grok-finance-cards/ticker/hscsw/png/logo",TKNO:"https://abs.twimg.com/grok-finance-cards/ticker/tkno/png/logo",SYT:"https://abs.twimg.com/grok-finance-cards/ticker/syt/png/logo",AHT:"https://abs.twimg.com/grok-finance-cards/ticker/aht/png/logo",PKBK:"https://abs.twimg.com/grok-finance-cards/ticker/pkbk/png/logo",ITRI:"https://abs.twimg.com/grok-finance-cards/ticker/itri/png/logo",EHI:"https://abs.twimg.com/grok-finance-cards/ticker/ehi/png/logo",FSLY:"https://abs.twimg.com/grok-finance-cards/ticker/fsly/png/logo",PLXS:"https://abs.twimg.com/grok-finance-cards/ticker/plxs/png/logo",LGND:"https://abs.twimg.com/grok-finance-cards/ticker/lgnd/png/logo",LXP:"https://abs.twimg.com/grok-finance-cards/ticker/lxp/png/logo",KBH:"https://abs.twimg.com/grok-finance-cards/ticker/kbh/png/logo",USGO:"https://abs.twimg.com/grok-finance-cards/ticker/usgo/png/logo",BXC:"https://abs.twimg.com/grok-finance-cards/ticker/bxc/png/logo",ZIM:"https://abs.twimg.com/grok-finance-cards/ticker/zim/png/logo",VRSK:"https://abs.twimg.com/grok-finance-cards/ticker/vrsk/png/logo",SHYF:"https://abs.twimg.com/grok-finance-cards/ticker/shyf/png/logo",AQMS:"https://abs.twimg.com/grok-finance-cards/ticker/aqms/png/logo",PAGS:"https://abs.twimg.com/grok-finance-cards/ticker/pags/png/logo",BWG:"https://abs.twimg.com/grok-finance-cards/ticker/bwg/png/logo",PFG:"https://abs.twimg.com/grok-finance-cards/ticker/pfg/png/logo",PYPD:"https://abs.twimg.com/grok-finance-cards/ticker/pypd/png/logo",REE:"https://abs.twimg.com/grok-finance-cards/ticker/ree/png/logo",UFCS:"https://abs.twimg.com/grok-finance-cards/ticker/ufcs/png/logo",INN:"https://abs.twimg.com/grok-finance-cards/ticker/inn/png/logo",PRIM:"https://abs.twimg.com/grok-finance-cards/ticker/prim/png/logo",CHY:"https://abs.twimg.com/grok-finance-cards/ticker/chy/png/logo",PEO:"https://abs.twimg.com/grok-finance-cards/ticker/peo/png/logo",BTO:"https://abs.twimg.com/grok-finance-cards/ticker/bto/png/logo",MBIN:"https://abs.twimg.com/grok-finance-cards/ticker/mbin/png/logo",RFM:"https://abs.twimg.com/grok-finance-cards/ticker/rfm/png/logo",LRE:"https://abs.twimg.com/grok-finance-cards/ticker/lre/png/logo",VITL:"https://abs.twimg.com/grok-finance-cards/ticker/vitl/png/logo",TCMD:"https://abs.twimg.com/grok-finance-cards/ticker/tcmd/png/logo",BCRX:"https://abs.twimg.com/grok-finance-cards/ticker/bcrx/png/logo",BPYPO:"https://abs.twimg.com/grok-finance-cards/ticker/bpypo/png/logo",CPHC:"https://abs.twimg.com/grok-finance-cards/ticker/cphc/png/logo",TER:"https://abs.twimg.com/grok-finance-cards/ticker/ter/png/logo",BSFC:"https://abs.twimg.com/grok-finance-cards/ticker/bsfc/png/logo",IOVA:"https://abs.twimg.com/grok-finance-cards/ticker/iova/png/logo",PGNY:"https://abs.twimg.com/grok-finance-cards/ticker/pgny/png/logo",AMPL:"https://abs.twimg.com/grok-finance-cards/ticker/ampl/png/logo",CBL:"https://abs.twimg.com/grok-finance-cards/ticker/cbl/png/logo",CION:"https://abs.twimg.com/grok-finance-cards/ticker/cion/png/logo",MDAIW:"https://abs.twimg.com/grok-finance-cards/ticker/mdaiw/png/logo",FBIOP:"https://abs.twimg.com/grok-finance-cards/ticker/fbiop/png/logo",CLVT:"https://abs.twimg.com/grok-finance-cards/ticker/clvt/png/logo",KKR:"https://abs.twimg.com/grok-finance-cards/ticker/kkr/png/logo",RBBN:"https://abs.twimg.com/grok-finance-cards/ticker/rbbn/png/logo",ONVO:"https://abs.twimg.com/grok-finance-cards/ticker/onvo/png/logo",AME:"https://abs.twimg.com/grok-finance-cards/ticker/ame/png/logo",CURV:"https://abs.twimg.com/grok-finance-cards/ticker/curv/png/logo",TOMZ:"https://abs.twimg.com/grok-finance-cards/ticker/tomz/png/logo",EBON:"https://abs.twimg.com/grok-finance-cards/ticker/ebon/png/logo",XEL:"https://abs.twimg.com/grok-finance-cards/ticker/xel/png/logo",AKYA:"https://abs.twimg.com/grok-finance-cards/ticker/akya/png/logo",IDCC:"https://abs.twimg.com/grok-finance-cards/ticker/idcc/png/logo",RDHL:"https://abs.twimg.com/grok-finance-cards/ticker/rdhl/png/logo",RJF:"https://abs.twimg.com/grok-finance-cards/ticker/rjf/png/logo",RVYL:"https://abs.twimg.com/grok-finance-cards/ticker/rvyl/png/logo",SONDW:"https://abs.twimg.com/grok-finance-cards/ticker/sondw/png/logo",LNTH:"https://abs.twimg.com/grok-finance-cards/ticker/lnth/png/logo",LAKE:"https://abs.twimg.com/grok-finance-cards/ticker/lake/png/logo",GGG:"https://abs.twimg.com/grok-finance-cards/ticker/ggg/png/logo",CVGW:"https://abs.twimg.com/grok-finance-cards/ticker/cvgw/png/logo",CAC:"https://abs.twimg.com/grok-finance-cards/ticker/cac/png/logo",GFAIW:"https://abs.twimg.com/grok-finance-cards/ticker/gfaiw/png/logo",IGT:"https://abs.twimg.com/grok-finance-cards/ticker/igt/png/logo",AMSC:"https://abs.twimg.com/grok-finance-cards/ticker/amsc/png/logo",EVTL:"https://abs.twimg.com/grok-finance-cards/ticker/evtl/png/logo",ADX:"https://abs.twimg.com/grok-finance-cards/ticker/adx/png/logo",WRAP:"https://abs.twimg.com/grok-finance-cards/ticker/wrap/png/logo",QNCX:"https://abs.twimg.com/grok-finance-cards/ticker/qncx/png/logo",ENLV:"https://abs.twimg.com/grok-finance-cards/ticker/enlv/png/logo",SU:"https://abs.twimg.com/grok-finance-cards/ticker/su/png/logo",KMB:"https://abs.twimg.com/grok-finance-cards/ticker/kmb/png/logo",QIPT:"https://abs.twimg.com/grok-finance-cards/ticker/qipt/png/logo",UL:"https://abs.twimg.com/grok-finance-cards/ticker/ul/png/logo",STAF:"https://abs.twimg.com/grok-finance-cards/ticker/staf/png/logo",XPON:"https://abs.twimg.com/grok-finance-cards/ticker/xpon/png/logo",CHW:"https://abs.twimg.com/grok-finance-cards/ticker/chw/png/logo",ZLAB:"https://abs.twimg.com/grok-finance-cards/ticker/zlab/png/logo",MHD:"https://abs.twimg.com/grok-finance-cards/ticker/mhd/png/logo",VERB:"https://abs.twimg.com/grok-finance-cards/ticker/verb/png/logo",CLSK:"https://abs.twimg.com/grok-finance-cards/ticker/clsk/png/logo",PIM:"https://abs.twimg.com/grok-finance-cards/ticker/pim/png/logo",COIN:"https://abs.twimg.com/grok-finance-cards/ticker/coin/png/logo",NRSNW:"https://abs.twimg.com/grok-finance-cards/ticker/nrsnw/png/logo",ZH:"https://abs.twimg.com/grok-finance-cards/ticker/zh/png/logo",LMND:"https://abs.twimg.com/grok-finance-cards/ticker/lmnd/png/logo",TOI:"https://abs.twimg.com/grok-finance-cards/ticker/toi/png/logo",HTH:"https://abs.twimg.com/grok-finance-cards/ticker/hth/png/logo",VC:"https://abs.twimg.com/grok-finance-cards/ticker/vc/png/logo",CMA:"https://abs.twimg.com/grok-finance-cards/ticker/cma/png/logo",BITF:"https://abs.twimg.com/grok-finance-cards/ticker/bitf/png/logo",ARTW:"https://abs.twimg.com/grok-finance-cards/ticker/artw/png/logo",KAI:"https://abs.twimg.com/grok-finance-cards/ticker/kai/png/logo",BLBX:"https://abs.twimg.com/grok-finance-cards/ticker/blbx/png/logo",CRBU:"https://abs.twimg.com/grok-finance-cards/ticker/crbu/png/logo",CRDL:"https://abs.twimg.com/grok-finance-cards/ticker/crdl/png/logo",SPG:"https://abs.twimg.com/grok-finance-cards/ticker/spg/png/logo",VOD:"https://abs.twimg.com/grok-finance-cards/ticker/vod/png/logo",CCOI:"https://abs.twimg.com/grok-finance-cards/ticker/ccoi/png/logo",GRNQ:"https://abs.twimg.com/grok-finance-cards/ticker/grnq/png/logo",GBX:"https://abs.twimg.com/grok-finance-cards/ticker/gbx/png/logo",JXN:"https://abs.twimg.com/grok-finance-cards/ticker/jxn/png/logo",PINC:"https://abs.twimg.com/grok-finance-cards/ticker/pinc/png/logo",IAC:"https://abs.twimg.com/grok-finance-cards/ticker/iac/png/logo",ADV:"https://abs.twimg.com/grok-finance-cards/ticker/adv/png/logo",DLTR:"https://abs.twimg.com/grok-finance-cards/ticker/dltr/png/logo",EBR:"https://abs.twimg.com/grok-finance-cards/ticker/ebr/png/logo",KALU:"https://abs.twimg.com/grok-finance-cards/ticker/kalu/png/logo",CFSB:"https://abs.twimg.com/grok-finance-cards/ticker/cfsb/png/logo",NCPLW:"https://abs.twimg.com/grok-finance-cards/ticker/ncplw/png/logo",RITM:"https://abs.twimg.com/grok-finance-cards/ticker/ritm/png/logo",FKWL:"https://abs.twimg.com/grok-finance-cards/ticker/fkwl/png/logo",WSR:"https://abs.twimg.com/grok-finance-cards/ticker/wsr/png/logo",LAMR:"https://abs.twimg.com/grok-finance-cards/ticker/lamr/png/logo",WTBA:"https://abs.twimg.com/grok-finance-cards/ticker/wtba/png/logo",TUYA:"https://abs.twimg.com/grok-finance-cards/ticker/tuya/png/logo",LVLU:"https://abs.twimg.com/grok-finance-cards/ticker/lvlu/png/logo",STAA:"https://abs.twimg.com/grok-finance-cards/ticker/staa/png/logo",SR:"https://abs.twimg.com/grok-finance-cards/ticker/sr/png/logo",CNI:"https://abs.twimg.com/grok-finance-cards/ticker/cni/png/logo",ING:"https://abs.twimg.com/grok-finance-cards/ticker/ing/png/logo",AKR:"https://abs.twimg.com/grok-finance-cards/ticker/akr/png/logo",BELFB:"https://abs.twimg.com/grok-finance-cards/ticker/belfb/png/logo",GPMT:"https://abs.twimg.com/grok-finance-cards/ticker/gpmt/png/logo",RIG:"https://abs.twimg.com/grok-finance-cards/ticker/rig/png/logo",STKS:"https://abs.twimg.com/grok-finance-cards/ticker/stks/png/logo",TJX:"https://abs.twimg.com/grok-finance-cards/ticker/tjx/png/logo",NXT:"https://abs.twimg.com/grok-finance-cards/ticker/nxt/png/logo",NNAVW:"https://abs.twimg.com/grok-finance-cards/ticker/nnavw/png/logo",BYFC:"https://abs.twimg.com/grok-finance-cards/ticker/byfc/png/logo",BLKB:"https://abs.twimg.com/grok-finance-cards/ticker/blkb/png/logo",BTA:"https://abs.twimg.com/grok-finance-cards/ticker/bta/png/logo",BRX:"https://abs.twimg.com/grok-finance-cards/ticker/brx/png/logo",ADCT:"https://abs.twimg.com/grok-finance-cards/ticker/adct/png/logo",UNCY:"https://abs.twimg.com/grok-finance-cards/ticker/uncy/png/logo",RSLS:"https://abs.twimg.com/grok-finance-cards/ticker/rsls/png/logo",MKL:"https://abs.twimg.com/grok-finance-cards/ticker/mkl/png/logo",MMU:"https://abs.twimg.com/grok-finance-cards/ticker/mmu/png/logo",SEER:"https://abs.twimg.com/grok-finance-cards/ticker/seer/png/logo",LCNB:"https://abs.twimg.com/grok-finance-cards/ticker/lcnb/png/logo",PTCT:"https://abs.twimg.com/grok-finance-cards/ticker/ptct/png/logo",ASAN:"https://abs.twimg.com/grok-finance-cards/ticker/asan/png/logo",SYTA:"https://abs.twimg.com/grok-finance-cards/ticker/syta/png/logo",EVRI:"https://abs.twimg.com/grok-finance-cards/ticker/evri/png/logo",MIST:"https://abs.twimg.com/grok-finance-cards/ticker/mist/png/logo",ENLC:"https://abs.twimg.com/grok-finance-cards/ticker/enlc/png/logo",ABEO:"https://abs.twimg.com/grok-finance-cards/ticker/abeo/png/logo",AZTA:"https://abs.twimg.com/grok-finance-cards/ticker/azta/png/logo",ARQT:"https://abs.twimg.com/grok-finance-cards/ticker/arqt/png/logo",MMSI:"https://abs.twimg.com/grok-finance-cards/ticker/mmsi/png/logo",RNAC:"https://abs.twimg.com/grok-finance-cards/ticker/rnac/png/logo",SPR:"https://abs.twimg.com/grok-finance-cards/ticker/spr/png/logo",COLM:"https://abs.twimg.com/grok-finance-cards/ticker/colm/png/logo",NMRA:"https://abs.twimg.com/grok-finance-cards/ticker/nmra/png/logo",CELC:"https://abs.twimg.com/grok-finance-cards/ticker/celc/png/logo",TLS:"https://abs.twimg.com/grok-finance-cards/ticker/tls/png/logo",GRND:"https://abs.twimg.com/grok-finance-cards/ticker/grnd/png/logo",USM:"https://abs.twimg.com/grok-finance-cards/ticker/usm/png/logo",RARE:"https://abs.twimg.com/grok-finance-cards/ticker/rare/png/logo",MBC:"https://abs.twimg.com/grok-finance-cards/ticker/mbc/png/logo",FLGT:"https://abs.twimg.com/grok-finance-cards/ticker/flgt/png/logo",SBUX:"https://abs.twimg.com/grok-finance-cards/ticker/sbux/png/logo",RVSB:"https://abs.twimg.com/grok-finance-cards/ticker/rvsb/png/logo",PXSAW:"https://abs.twimg.com/grok-finance-cards/ticker/pxsaw/png/logo",COEP:"https://abs.twimg.com/grok-finance-cards/ticker/coep/png/logo",CRMD:"https://abs.twimg.com/grok-finance-cards/ticker/crmd/png/logo",RYAAY:"https://abs.twimg.com/grok-finance-cards/ticker/ryaay/png/logo",FRPT:"https://abs.twimg.com/grok-finance-cards/ticker/frpt/png/logo",SG:"https://abs.twimg.com/grok-finance-cards/ticker/sg/png/logo",ADC:"https://abs.twimg.com/grok-finance-cards/ticker/adc/png/logo",IBOC:"https://abs.twimg.com/grok-finance-cards/ticker/iboc/png/logo",VLY:"https://abs.twimg.com/grok-finance-cards/ticker/vly/png/logo",CBUS:"https://abs.twimg.com/grok-finance-cards/ticker/cbus/png/logo",YUM:"https://abs.twimg.com/grok-finance-cards/ticker/yum/png/logo",WOOF:"https://abs.twimg.com/grok-finance-cards/ticker/woof/png/logo",LINK:"https://abs.twimg.com/grok-finance-cards/ticker/link/png/logo",ODP:"https://abs.twimg.com/grok-finance-cards/ticker/odp/png/logo",ASAI:"https://abs.twimg.com/grok-finance-cards/ticker/asai/png/logo",LEGH:"https://abs.twimg.com/grok-finance-cards/ticker/legh/png/logo",EOSEW:"https://abs.twimg.com/grok-finance-cards/ticker/eosew/png/logo",FTI:"https://abs.twimg.com/grok-finance-cards/ticker/fti/png/logo",NWE:"https://abs.twimg.com/grok-finance-cards/ticker/nwe/png/logo",AHH:"https://abs.twimg.com/grok-finance-cards/ticker/ahh/png/logo",SAIC:"https://abs.twimg.com/grok-finance-cards/ticker/saic/png/logo",ASMB:"https://abs.twimg.com/grok-finance-cards/ticker/asmb/png/logo",HTZ:"https://abs.twimg.com/grok-finance-cards/ticker/htz/png/logo",SRAD:"https://abs.twimg.com/grok-finance-cards/ticker/srad/png/logo",PET:"https://abs.twimg.com/grok-finance-cards/ticker/pet/png/logo",BTT:"https://abs.twimg.com/grok-finance-cards/ticker/btt/png/logo",VRPX:"https://abs.twimg.com/grok-finance-cards/ticker/vrpx/png/logo",ROK:"https://abs.twimg.com/grok-finance-cards/ticker/rok/png/logo",GDS:"https://abs.twimg.com/grok-finance-cards/ticker/gds/png/logo",BZUN:"https://abs.twimg.com/grok-finance-cards/ticker/bzun/png/logo",CRBG:"https://abs.twimg.com/grok-finance-cards/ticker/crbg/png/logo",IMUX:"https://abs.twimg.com/grok-finance-cards/ticker/imux/png/logo",FORR:"https://abs.twimg.com/grok-finance-cards/ticker/forr/png/logo",LBRT:"https://abs.twimg.com/grok-finance-cards/ticker/lbrt/png/logo",AGL:"https://abs.twimg.com/grok-finance-cards/ticker/agl/png/logo",VLYPO:"https://abs.twimg.com/grok-finance-cards/ticker/vlypo/png/logo",ARTL:"https://abs.twimg.com/grok-finance-cards/ticker/artl/png/logo",MDLZ:"https://abs.twimg.com/grok-finance-cards/ticker/mdlz/png/logo",NWL:"https://abs.twimg.com/grok-finance-cards/ticker/nwl/png/logo",BIRD:"https://abs.twimg.com/grok-finance-cards/ticker/bird/png/logo",CSTM:"https://abs.twimg.com/grok-finance-cards/ticker/cstm/png/logo",PCAR:"https://abs.twimg.com/grok-finance-cards/ticker/pcar/png/logo",MMI:"https://abs.twimg.com/grok-finance-cards/ticker/mmi/png/logo",FLNG:"https://abs.twimg.com/grok-finance-cards/ticker/flng/png/logo",TEAM:"https://abs.twimg.com/grok-finance-cards/ticker/team/png/logo",MDT:"https://abs.twimg.com/grok-finance-cards/ticker/mdt/png/logo",SIEB:"https://abs.twimg.com/grok-finance-cards/ticker/sieb/png/logo",IBP:"https://abs.twimg.com/grok-finance-cards/ticker/ibp/png/logo",GDYN:"https://abs.twimg.com/grok-finance-cards/ticker/gdyn/png/logo",ABOS:"https://abs.twimg.com/grok-finance-cards/ticker/abos/png/logo",RCI:"https://abs.twimg.com/grok-finance-cards/ticker/rci/png/logo",ORGN:"https://abs.twimg.com/grok-finance-cards/ticker/orgn/png/logo",ASND:"https://abs.twimg.com/grok-finance-cards/ticker/asnd/png/logo",CIEN:"https://abs.twimg.com/grok-finance-cards/ticker/cien/png/logo",HFRO:"https://abs.twimg.com/grok-finance-cards/ticker/hfro/png/logo",DTM:"https://abs.twimg.com/grok-finance-cards/ticker/dtm/png/logo",CRGX:"https://abs.twimg.com/grok-finance-cards/ticker/crgx/png/logo",ZS:"https://abs.twimg.com/grok-finance-cards/ticker/zs/png/logo",EVRG:"https://abs.twimg.com/grok-finance-cards/ticker/evrg/png/logo",NATH:"https://abs.twimg.com/grok-finance-cards/ticker/nath/png/logo",MBCN:"https://abs.twimg.com/grok-finance-cards/ticker/mbcn/png/logo",ALLO:"https://abs.twimg.com/grok-finance-cards/ticker/allo/png/logo",USAC:"https://abs.twimg.com/grok-finance-cards/ticker/usac/png/logo",LILAK:"https://abs.twimg.com/grok-finance-cards/ticker/lilak/png/logo",RUMBW:"https://abs.twimg.com/grok-finance-cards/ticker/rumbw/png/logo",STKH:"https://abs.twimg.com/grok-finance-cards/ticker/stkh/png/logo",VTSI:"https://abs.twimg.com/grok-finance-cards/ticker/vtsi/png/logo",COLD:"https://abs.twimg.com/grok-finance-cards/ticker/cold/png/logo",IDN:"https://abs.twimg.com/grok-finance-cards/ticker/idn/png/logo",WHLRP:"https://abs.twimg.com/grok-finance-cards/ticker/whlrp/png/logo",PNTG:"https://abs.twimg.com/grok-finance-cards/ticker/pntg/png/logo",FSCO:"https://abs.twimg.com/grok-finance-cards/ticker/fsco/png/logo",FARO:"https://abs.twimg.com/grok-finance-cards/ticker/faro/png/logo",TRIP:"https://abs.twimg.com/grok-finance-cards/ticker/trip/png/logo",QUBT:"https://abs.twimg.com/grok-finance-cards/ticker/qubt/png/logo",ASML:"https://abs.twimg.com/grok-finance-cards/ticker/asml/png/logo",ENB:"https://abs.twimg.com/grok-finance-cards/ticker/enb/png/logo",GOOD:"https://abs.twimg.com/grok-finance-cards/ticker/good/png/logo",INFN:"https://abs.twimg.com/grok-finance-cards/ticker/infn/png/logo",DTIL:"https://abs.twimg.com/grok-finance-cards/ticker/dtil/png/logo",CDZI:"https://abs.twimg.com/grok-finance-cards/ticker/cdzi/png/logo",DCGO:"https://abs.twimg.com/grok-finance-cards/ticker/dcgo/png/logo",BRC:"https://abs.twimg.com/grok-finance-cards/ticker/brc/png/logo",BTZ:"https://abs.twimg.com/grok-finance-cards/ticker/btz/png/logo",GAIN:"https://abs.twimg.com/grok-finance-cards/ticker/gain/png/logo",SYF:"https://abs.twimg.com/grok-finance-cards/ticker/syf/png/logo",TTEK:"https://abs.twimg.com/grok-finance-cards/ticker/ttek/png/logo",GOCO:"https://abs.twimg.com/grok-finance-cards/ticker/goco/png/logo",GOEV:"https://abs.twimg.com/grok-finance-cards/ticker/goev/png/logo",ADM:"https://abs.twimg.com/grok-finance-cards/ticker/adm/png/logo",COOK:"https://abs.twimg.com/grok-finance-cards/ticker/cook/png/logo",IGA:"https://abs.twimg.com/grok-finance-cards/ticker/iga/png/logo",SUM:"https://abs.twimg.com/grok-finance-cards/ticker/sum/png/logo",SST:"https://abs.twimg.com/grok-finance-cards/ticker/sst/png/logo",TIL:"https://abs.twimg.com/grok-finance-cards/ticker/til/png/logo",MLEC:"https://abs.twimg.com/grok-finance-cards/ticker/mlec/png/logo",GIFI:"https://abs.twimg.com/grok-finance-cards/ticker/gifi/png/logo",CGO:"https://abs.twimg.com/grok-finance-cards/ticker/cgo/png/logo",AMP:"https://abs.twimg.com/grok-finance-cards/ticker/amp/png/logo",DRS:"https://abs.twimg.com/grok-finance-cards/ticker/drs/png/logo",SLVM:"https://abs.twimg.com/grok-finance-cards/ticker/slvm/png/logo",PROF:"https://abs.twimg.com/grok-finance-cards/ticker/prof/png/logo",CMCM:"https://abs.twimg.com/grok-finance-cards/ticker/cmcm/png/logo",OMC:"https://abs.twimg.com/grok-finance-cards/ticker/omc/png/logo",SELF:"https://abs.twimg.com/grok-finance-cards/ticker/self/png/logo",BOTJ:"https://abs.twimg.com/grok-finance-cards/ticker/botj/png/logo",NTRSO:"https://abs.twimg.com/grok-finance-cards/ticker/ntrso/png/logo",ML:"https://abs.twimg.com/grok-finance-cards/ticker/ml/png/logo",LXRX:"https://abs.twimg.com/grok-finance-cards/ticker/lxrx/png/logo",EVEX:"https://abs.twimg.com/grok-finance-cards/ticker/evex/png/logo",POWWP:"https://abs.twimg.com/grok-finance-cards/ticker/powwp/png/logo",HOG:"https://abs.twimg.com/grok-finance-cards/ticker/hog/png/logo",WDAY:"https://abs.twimg.com/grok-finance-cards/ticker/wday/png/logo",HUBS:"https://abs.twimg.com/grok-finance-cards/ticker/hubs/png/logo",BHVN:"https://abs.twimg.com/grok-finance-cards/ticker/bhvn/png/logo",IINNW:"https://abs.twimg.com/grok-finance-cards/ticker/iinnw/png/logo",BIP:"https://abs.twimg.com/grok-finance-cards/ticker/bip/png/logo",ALRM:"https://abs.twimg.com/grok-finance-cards/ticker/alrm/png/logo",DNOW:"https://abs.twimg.com/grok-finance-cards/ticker/dnow/png/logo",TWI:"https://abs.twimg.com/grok-finance-cards/ticker/twi/png/logo",NEE:"https://abs.twimg.com/grok-finance-cards/ticker/nee/png/logo",MUR:"https://abs.twimg.com/grok-finance-cards/ticker/mur/png/logo",MBINM:"https://abs.twimg.com/grok-finance-cards/ticker/mbinm/png/logo",BTDR:"https://abs.twimg.com/grok-finance-cards/ticker/btdr/png/logo",SGC:"https://abs.twimg.com/grok-finance-cards/ticker/sgc/png/logo",NOW:"https://abs.twimg.com/grok-finance-cards/ticker/now/png/logo",IRIX:"https://abs.twimg.com/grok-finance-cards/ticker/irix/png/logo",HSBC:"https://abs.twimg.com/grok-finance-cards/ticker/hsbc/png/logo",NC:"https://abs.twimg.com/grok-finance-cards/ticker/nc/png/logo",HIPO:"https://abs.twimg.com/grok-finance-cards/ticker/hipo/png/logo",CSX:"https://abs.twimg.com/grok-finance-cards/ticker/csx/png/logo",SHG:"https://abs.twimg.com/grok-finance-cards/ticker/shg/png/logo",NFJ:"https://abs.twimg.com/grok-finance-cards/ticker/nfj/png/logo",SNAX:"https://abs.twimg.com/grok-finance-cards/ticker/snax/png/logo",AG:"https://abs.twimg.com/grok-finance-cards/ticker/ag/png/logo",ECBK:"https://abs.twimg.com/grok-finance-cards/ticker/ecbk/png/logo",ACHV:"https://abs.twimg.com/grok-finance-cards/ticker/achv/png/logo",CARR:"https://abs.twimg.com/grok-finance-cards/ticker/carr/png/logo",WNC:"https://abs.twimg.com/grok-finance-cards/ticker/wnc/png/logo",VRNS:"https://abs.twimg.com/grok-finance-cards/ticker/vrns/png/logo",ESSA:"https://abs.twimg.com/grok-finance-cards/ticker/essa/png/logo",AZO:"https://abs.twimg.com/grok-finance-cards/ticker/azo/png/logo",NRDS:"https://abs.twimg.com/grok-finance-cards/ticker/nrds/png/logo",DV:"https://abs.twimg.com/grok-finance-cards/ticker/dv/png/logo",FRGE:"https://abs.twimg.com/grok-finance-cards/ticker/frge/png/logo",LSBK:"https://abs.twimg.com/grok-finance-cards/ticker/lsbk/png/logo",WMK:"https://abs.twimg.com/grok-finance-cards/ticker/wmk/png/logo",NVVEW:"https://abs.twimg.com/grok-finance-cards/ticker/nvvew/png/logo",EXEL:"https://abs.twimg.com/grok-finance-cards/ticker/exel/png/logo",PAYC:"https://abs.twimg.com/grok-finance-cards/ticker/payc/png/logo",BON:"https://abs.twimg.com/grok-finance-cards/ticker/bon/png/logo",MPC:"https://abs.twimg.com/grok-finance-cards/ticker/mpc/png/logo",AMBP:"https://abs.twimg.com/grok-finance-cards/ticker/ambp/png/logo",ASR:"https://abs.twimg.com/grok-finance-cards/ticker/asr/png/logo",KR:"https://abs.twimg.com/grok-finance-cards/ticker/kr/png/logo",CVI:"https://abs.twimg.com/grok-finance-cards/ticker/cvi/png/logo",ZTR:"https://abs.twimg.com/grok-finance-cards/ticker/ztr/png/logo",NVAX:"https://abs.twimg.com/grok-finance-cards/ticker/nvax/png/logo",ERII:"https://abs.twimg.com/grok-finance-cards/ticker/erii/png/logo",VRNT:"https://abs.twimg.com/grok-finance-cards/ticker/vrnt/png/logo",BMEA:"https://abs.twimg.com/grok-finance-cards/ticker/bmea/png/logo",DRTSW:"https://abs.twimg.com/grok-finance-cards/ticker/drtsw/png/logo",PRE:"https://abs.twimg.com/grok-finance-cards/ticker/pre/png/logo",LWAY:"https://abs.twimg.com/grok-finance-cards/ticker/lway/png/logo",FCX:"https://abs.twimg.com/grok-finance-cards/ticker/fcx/png/logo",ONDS:"https://abs.twimg.com/grok-finance-cards/ticker/onds/png/logo",ARCT:"https://abs.twimg.com/grok-finance-cards/ticker/arct/png/logo",SNY:"https://abs.twimg.com/grok-finance-cards/ticker/sny/png/logo",PLOW:"https://abs.twimg.com/grok-finance-cards/ticker/plow/png/logo",AYI:"https://abs.twimg.com/grok-finance-cards/ticker/ayi/png/logo",GP:"https://abs.twimg.com/grok-finance-cards/ticker/gp/png/logo",AI:"https://abs.twimg.com/grok-finance-cards/ticker/ai/png/logo",LEVI:"https://abs.twimg.com/grok-finance-cards/ticker/levi/png/logo",CETX:"https://abs.twimg.com/grok-finance-cards/ticker/cetx/png/logo",TYGO:"https://abs.twimg.com/grok-finance-cards/ticker/tygo/png/logo",DIN:"https://abs.twimg.com/grok-finance-cards/ticker/din/png/logo",DOW:"https://abs.twimg.com/grok-finance-cards/ticker/dow/png/logo",CSV:"https://abs.twimg.com/grok-finance-cards/ticker/csv/png/logo",CLGN:"https://abs.twimg.com/grok-finance-cards/ticker/clgn/png/logo",UDR:"https://abs.twimg.com/grok-finance-cards/ticker/udr/png/logo",GSK:"https://abs.twimg.com/grok-finance-cards/ticker/gsk/png/logo",TBLD:"https://abs.twimg.com/grok-finance-cards/ticker/tbld/png/logo",HLF:"https://abs.twimg.com/grok-finance-cards/ticker/hlf/png/logo",EHTH:"https://abs.twimg.com/grok-finance-cards/ticker/ehth/png/logo",NXDT:"https://abs.twimg.com/grok-finance-cards/ticker/nxdt/png/logo",WMB:"https://abs.twimg.com/grok-finance-cards/ticker/wmb/png/logo",MUSA:"https://abs.twimg.com/grok-finance-cards/ticker/musa/png/logo",RTX:"https://abs.twimg.com/grok-finance-cards/ticker/rtx/png/logo",AFRM:"https://abs.twimg.com/grok-finance-cards/ticker/afrm/png/logo",BFZ:"https://abs.twimg.com/grok-finance-cards/ticker/bfz/png/logo",GERN:"https://abs.twimg.com/grok-finance-cards/ticker/gern/png/logo",NTNX:"https://abs.twimg.com/grok-finance-cards/ticker/ntnx/png/logo",APLT:"https://abs.twimg.com/grok-finance-cards/ticker/aplt/png/logo",DLX:"https://abs.twimg.com/grok-finance-cards/ticker/dlx/png/logo",AUB:"https://abs.twimg.com/grok-finance-cards/ticker/aub/png/logo",RXT:"https://abs.twimg.com/grok-finance-cards/ticker/rxt/png/logo",HBIO:"https://abs.twimg.com/grok-finance-cards/ticker/hbio/png/logo",FLR:"https://abs.twimg.com/grok-finance-cards/ticker/flr/png/logo",CSQ:"https://abs.twimg.com/grok-finance-cards/ticker/csq/png/logo",ATLCP:"https://abs.twimg.com/grok-finance-cards/ticker/atlcp/png/logo",SITM:"https://abs.twimg.com/grok-finance-cards/ticker/sitm/png/logo",AN:"https://abs.twimg.com/grok-finance-cards/ticker/an/png/logo",TRV:"https://abs.twimg.com/grok-finance-cards/ticker/trv/png/logo",AREC:"https://abs.twimg.com/grok-finance-cards/ticker/arec/png/logo",LEA:"https://abs.twimg.com/grok-finance-cards/ticker/lea/png/logo",OWLT:"https://abs.twimg.com/grok-finance-cards/ticker/owlt/png/logo",XCUR:"https://abs.twimg.com/grok-finance-cards/ticker/xcur/png/logo",FGEN:"https://abs.twimg.com/grok-finance-cards/ticker/fgen/png/logo",HCSG:"https://abs.twimg.com/grok-finance-cards/ticker/hcsg/png/logo",APLS:"https://abs.twimg.com/grok-finance-cards/ticker/apls/png/logo",ME:"https://abs.twimg.com/grok-finance-cards/ticker/me/png/logo",BALL:"https://abs.twimg.com/grok-finance-cards/ticker/ball/png/logo",HMST:"https://abs.twimg.com/grok-finance-cards/ticker/hmst/png/logo",GPC:"https://abs.twimg.com/grok-finance-cards/ticker/gpc/png/logo",JLL:"https://abs.twimg.com/grok-finance-cards/ticker/jll/png/logo",HON:"https://abs.twimg.com/grok-finance-cards/ticker/hon/png/logo",HIW:"https://abs.twimg.com/grok-finance-cards/ticker/hiw/png/logo",WBA:"https://abs.twimg.com/grok-finance-cards/ticker/wba/png/logo",MVT:"https://abs.twimg.com/grok-finance-cards/ticker/mvt/png/logo",WVVI:"https://abs.twimg.com/grok-finance-cards/ticker/wvvi/png/logo",LASE:"https://abs.twimg.com/grok-finance-cards/ticker/lase/png/logo",OBDC:"https://abs.twimg.com/grok-finance-cards/ticker/obdc/png/logo",ZWS:"https://abs.twimg.com/grok-finance-cards/ticker/zws/png/logo",CENTA:"https://abs.twimg.com/grok-finance-cards/ticker/centa/png/logo",BA:"https://abs.twimg.com/grok-finance-cards/ticker/ba/png/logo",ETON:"https://abs.twimg.com/grok-finance-cards/ticker/eton/png/logo",NIU:"https://abs.twimg.com/grok-finance-cards/ticker/niu/png/logo",NX:"https://abs.twimg.com/grok-finance-cards/ticker/nx/png/logo",APA:"https://abs.twimg.com/grok-finance-cards/ticker/apa/png/logo",MUI:"https://abs.twimg.com/grok-finance-cards/ticker/mui/png/logo",HOUR:"https://abs.twimg.com/grok-finance-cards/ticker/hour/png/logo",FTNT:"https://abs.twimg.com/grok-finance-cards/ticker/ftnt/png/logo",FTHM:"https://abs.twimg.com/grok-finance-cards/ticker/fthm/png/logo",ATOS:"https://abs.twimg.com/grok-finance-cards/ticker/atos/png/logo",EFSCP:"https://abs.twimg.com/grok-finance-cards/ticker/efscp/png/logo",EMBC:"https://abs.twimg.com/grok-finance-cards/ticker/embc/png/logo",CNMD:"https://abs.twimg.com/grok-finance-cards/ticker/cnmd/png/logo",LFLY:"https://abs.twimg.com/grok-finance-cards/ticker/lfly/png/logo",ACNT:"https://abs.twimg.com/grok-finance-cards/ticker/acnt/png/logo",GSIT:"https://abs.twimg.com/grok-finance-cards/ticker/gsit/png/logo",CERT:"https://abs.twimg.com/grok-finance-cards/ticker/cert/png/logo",GE:"https://abs.twimg.com/grok-finance-cards/ticker/ge/png/logo",ARCH:"https://abs.twimg.com/grok-finance-cards/ticker/arch/png/logo",IONS:"https://abs.twimg.com/grok-finance-cards/ticker/ions/png/logo",WBS:"https://abs.twimg.com/grok-finance-cards/ticker/wbs/png/logo",ARKOW:"https://abs.twimg.com/grok-finance-cards/ticker/arkow/png/logo",MVF:"https://abs.twimg.com/grok-finance-cards/ticker/mvf/png/logo",KRUS:"https://abs.twimg.com/grok-finance-cards/ticker/krus/png/logo",AROC:"https://abs.twimg.com/grok-finance-cards/ticker/aroc/png/logo",KN:"https://abs.twimg.com/grok-finance-cards/ticker/kn/png/logo",OZKAP:"https://abs.twimg.com/grok-finance-cards/ticker/ozkap/png/logo",DCI:"https://abs.twimg.com/grok-finance-cards/ticker/dci/png/logo",EPIX:"https://abs.twimg.com/grok-finance-cards/ticker/epix/png/logo",ALTO:"https://abs.twimg.com/grok-finance-cards/ticker/alto/png/logo",DSGX:"https://abs.twimg.com/grok-finance-cards/ticker/dsgx/png/logo",KSCP:"https://abs.twimg.com/grok-finance-cards/ticker/kscp/png/logo",GLBE:"https://abs.twimg.com/grok-finance-cards/ticker/glbe/png/logo",CERS:"https://abs.twimg.com/grok-finance-cards/ticker/cers/png/logo",TRC:"https://abs.twimg.com/grok-finance-cards/ticker/trc/png/logo",GB:"https://abs.twimg.com/grok-finance-cards/ticker/gb/png/logo",BMEZ:"https://abs.twimg.com/grok-finance-cards/ticker/bmez/png/logo",WATT:"https://abs.twimg.com/grok-finance-cards/ticker/watt/png/logo",ARQQW:"https://abs.twimg.com/grok-finance-cards/ticker/arqqw/png/logo",HCP:"https://abs.twimg.com/grok-finance-cards/ticker/hcp/png/logo",HEI:"https://abs.twimg.com/grok-finance-cards/ticker/hei/png/logo",SWIM:"https://abs.twimg.com/grok-finance-cards/ticker/swim/png/logo",MRCY:"https://abs.twimg.com/grok-finance-cards/ticker/mrcy/png/logo",ISPC:"https://abs.twimg.com/grok-finance-cards/ticker/ispc/png/logo",HLT:"https://abs.twimg.com/grok-finance-cards/ticker/hlt/png/logo",MNTS:"https://abs.twimg.com/grok-finance-cards/ticker/mnts/png/logo",NOK:"https://abs.twimg.com/grok-finance-cards/ticker/nok/png/logo",MYE:"https://abs.twimg.com/grok-finance-cards/ticker/mye/png/logo",NKLA:"https://abs.twimg.com/grok-finance-cards/ticker/nkla/png/logo",BFH:"https://abs.twimg.com/grok-finance-cards/ticker/bfh/png/logo",XFOR:"https://abs.twimg.com/grok-finance-cards/ticker/xfor/png/logo",DM:"https://abs.twimg.com/grok-finance-cards/ticker/dm/png/logo",SNDR:"https://abs.twimg.com/grok-finance-cards/ticker/sndr/png/logo",RUSHA:"https://abs.twimg.com/grok-finance-cards/ticker/rusha/png/logo",SKT:"https://abs.twimg.com/grok-finance-cards/ticker/skt/png/logo",BNZI:"https://abs.twimg.com/grok-finance-cards/ticker/bnzi/png/logo",GATX:"https://abs.twimg.com/grok-finance-cards/ticker/gatx/png/logo",MP:"https://abs.twimg.com/grok-finance-cards/ticker/mp/png/logo",SFNC:"https://abs.twimg.com/grok-finance-cards/ticker/sfnc/png/logo",MANH:"https://abs.twimg.com/grok-finance-cards/ticker/manh/png/logo",CHDN:"https://abs.twimg.com/grok-finance-cards/ticker/chdn/png/logo",SBI:"https://abs.twimg.com/grok-finance-cards/ticker/sbi/png/logo",RMCO:"https://abs.twimg.com/grok-finance-cards/ticker/rmco/png/logo",PAYX:"https://abs.twimg.com/grok-finance-cards/ticker/payx/png/logo",MOGO:"https://abs.twimg.com/grok-finance-cards/ticker/mogo/png/logo",INTU:"https://abs.twimg.com/grok-finance-cards/ticker/intu/png/logo",DD:"https://abs.twimg.com/grok-finance-cards/ticker/dd/png/logo",NEP:"https://abs.twimg.com/grok-finance-cards/ticker/nep/png/logo",RMCF:"https://abs.twimg.com/grok-finance-cards/ticker/rmcf/png/logo",CPB:"https://abs.twimg.com/grok-finance-cards/ticker/cpb/png/logo",FIX:"https://abs.twimg.com/grok-finance-cards/ticker/fix/png/logo",OSS:"https://abs.twimg.com/grok-finance-cards/ticker/oss/png/logo",RCEL:"https://abs.twimg.com/grok-finance-cards/ticker/rcel/png/logo",WTFCP:"https://abs.twimg.com/grok-finance-cards/ticker/wtfcp/png/logo",SLMBP:"https://abs.twimg.com/grok-finance-cards/ticker/slmbp/png/logo",ASPS:"https://abs.twimg.com/grok-finance-cards/ticker/asps/png/logo",FRBA:"https://abs.twimg.com/grok-finance-cards/ticker/frba/png/logo",LOPE:"https://abs.twimg.com/grok-finance-cards/ticker/lope/png/logo",NVGS:"https://abs.twimg.com/grok-finance-cards/ticker/nvgs/png/logo",XFLT:"https://abs.twimg.com/grok-finance-cards/ticker/xflt/png/logo",ACHC:"https://abs.twimg.com/grok-finance-cards/ticker/achc/png/logo",EPR:"https://abs.twimg.com/grok-finance-cards/ticker/epr/png/logo",JMIA:"https://abs.twimg.com/grok-finance-cards/ticker/jmia/png/logo",FRME:"https://abs.twimg.com/grok-finance-cards/ticker/frme/png/logo",ATNFW:"https://abs.twimg.com/grok-finance-cards/ticker/atnfw/png/logo",APO:"https://abs.twimg.com/grok-finance-cards/ticker/apo/png/logo",ADXN:"https://abs.twimg.com/grok-finance-cards/ticker/adxn/png/logo",MPV:"https://abs.twimg.com/grok-finance-cards/ticker/mpv/png/logo",GVA:"https://abs.twimg.com/grok-finance-cards/ticker/gva/png/logo",CRVL:"https://abs.twimg.com/grok-finance-cards/ticker/crvl/png/logo",UMBF:"https://abs.twimg.com/grok-finance-cards/ticker/umbf/png/logo",TSBK:"https://abs.twimg.com/grok-finance-cards/ticker/tsbk/png/logo",BIIB:"https://abs.twimg.com/grok-finance-cards/ticker/biib/png/logo",TASK:"https://abs.twimg.com/grok-finance-cards/ticker/task/png/logo",PETWW:"https://abs.twimg.com/grok-finance-cards/ticker/petww/png/logo",FXNC:"https://abs.twimg.com/grok-finance-cards/ticker/fxnc/png/logo",PUMP:"https://abs.twimg.com/grok-finance-cards/ticker/pump/png/logo",GLAD:"https://abs.twimg.com/grok-finance-cards/ticker/glad/png/logo",AZZ:"https://abs.twimg.com/grok-finance-cards/ticker/azz/png/logo",INTR:"https://abs.twimg.com/grok-finance-cards/ticker/intr/png/logo",DFLI:"https://abs.twimg.com/grok-finance-cards/ticker/dfli/png/logo",ZION:"https://abs.twimg.com/grok-finance-cards/ticker/zion/png/logo",ACMR:"https://abs.twimg.com/grok-finance-cards/ticker/acmr/png/logo",BECN:"https://abs.twimg.com/grok-finance-cards/ticker/becn/png/logo",APH:"https://abs.twimg.com/grok-finance-cards/ticker/aph/png/logo",ISD:"https://abs.twimg.com/grok-finance-cards/ticker/isd/png/logo",SAH:"https://abs.twimg.com/grok-finance-cards/ticker/sah/png/logo",SDHY:"https://abs.twimg.com/grok-finance-cards/ticker/sdhy/png/logo",OKTA:"https://abs.twimg.com/grok-finance-cards/ticker/okta/png/logo",NVNI:"https://abs.twimg.com/grok-finance-cards/ticker/nvni/png/logo",RXO:"https://abs.twimg.com/grok-finance-cards/ticker/rxo/png/logo",LVROW:"https://abs.twimg.com/grok-finance-cards/ticker/lvrow/png/logo",CATY:"https://abs.twimg.com/grok-finance-cards/ticker/caty/png/logo",MODG:"https://abs.twimg.com/grok-finance-cards/ticker/modg/png/logo",CYCN:"https://abs.twimg.com/grok-finance-cards/ticker/cycn/png/logo",DHIL:"https://abs.twimg.com/grok-finance-cards/ticker/dhil/png/logo",FET:"https://abs.twimg.com/grok-finance-cards/ticker/fet/png/logo",IMMX:"https://abs.twimg.com/grok-finance-cards/ticker/immx/png/logo",PHIO:"https://abs.twimg.com/grok-finance-cards/ticker/phio/png/logo",GL:"https://abs.twimg.com/grok-finance-cards/ticker/gl/png/logo",AU:"https://abs.twimg.com/grok-finance-cards/ticker/au/png/logo",AREB:"https://abs.twimg.com/grok-finance-cards/ticker/areb/png/logo",SNV:"https://abs.twimg.com/grok-finance-cards/ticker/snv/png/logo",VICI:"https://abs.twimg.com/grok-finance-cards/ticker/vici/png/logo",SNAP:"https://abs.twimg.com/grok-finance-cards/ticker/snap/png/logo",GV:"https://abs.twimg.com/grok-finance-cards/ticker/gv/png/logo",LSAK:"https://abs.twimg.com/grok-finance-cards/ticker/lsak/png/logo",PIPR:"https://abs.twimg.com/grok-finance-cards/ticker/pipr/png/logo",WHR:"https://abs.twimg.com/grok-finance-cards/ticker/whr/png/logo",GSM:"https://abs.twimg.com/grok-finance-cards/ticker/gsm/png/logo",RACE:"https://abs.twimg.com/grok-finance-cards/ticker/race/png/logo",FLS:"https://abs.twimg.com/grok-finance-cards/ticker/fls/png/logo",NVDA:"https://abs.twimg.com/grok-finance-cards/ticker/nvda/png/logo",RDVT:"https://abs.twimg.com/grok-finance-cards/ticker/rdvt/png/logo",ATER:"https://abs.twimg.com/grok-finance-cards/ticker/ater/png/logo",BEEM:"https://abs.twimg.com/grok-finance-cards/ticker/beem/png/logo",UNF:"https://abs.twimg.com/grok-finance-cards/ticker/unf/png/logo",JCI:"https://abs.twimg.com/grok-finance-cards/ticker/jci/png/logo",DY:"https://abs.twimg.com/grok-finance-cards/ticker/dy/png/logo",FFA:"https://abs.twimg.com/grok-finance-cards/ticker/ffa/png/logo",IMNM:"https://abs.twimg.com/grok-finance-cards/ticker/imnm/png/logo",NEM:"https://abs.twimg.com/grok-finance-cards/ticker/nem/png/logo",CHMG:"https://abs.twimg.com/grok-finance-cards/ticker/chmg/png/logo",DEC:"https://abs.twimg.com/grok-finance-cards/ticker/dec/png/logo",AUROW:"https://abs.twimg.com/grok-finance-cards/ticker/aurow/png/logo",VSTS:"https://abs.twimg.com/grok-finance-cards/ticker/vsts/png/logo",MD:"https://abs.twimg.com/grok-finance-cards/ticker/md/png/logo",KSS:"https://abs.twimg.com/grok-finance-cards/ticker/kss/png/logo",DGICA:"https://abs.twimg.com/grok-finance-cards/ticker/dgica/png/logo",VALN:"https://abs.twimg.com/grok-finance-cards/ticker/valn/png/logo",TFII:"https://abs.twimg.com/grok-finance-cards/ticker/tfii/png/logo",ASPN:"https://abs.twimg.com/grok-finance-cards/ticker/aspn/png/logo",WTFCM:"https://abs.twimg.com/grok-finance-cards/ticker/wtfcm/png/logo",IRON:"https://abs.twimg.com/grok-finance-cards/ticker/iron/png/logo",BILI:"https://abs.twimg.com/grok-finance-cards/ticker/bili/png/logo",AMGN:"https://abs.twimg.com/grok-finance-cards/ticker/amgn/png/logo",FBYD:"https://abs.twimg.com/grok-finance-cards/ticker/fbyd/png/logo",DOV:"https://abs.twimg.com/grok-finance-cards/ticker/dov/png/logo",CTVA:"https://abs.twimg.com/grok-finance-cards/ticker/ctva/png/logo",MSBIP:"https://abs.twimg.com/grok-finance-cards/ticker/msbip/png/logo",MSD:"https://abs.twimg.com/grok-finance-cards/ticker/msd/png/logo",VRAX:"https://abs.twimg.com/grok-finance-cards/ticker/vrax/png/logo",FTHY:"https://abs.twimg.com/grok-finance-cards/ticker/fthy/png/logo",JOE:"https://abs.twimg.com/grok-finance-cards/ticker/joe/png/logo",FLYW:"https://abs.twimg.com/grok-finance-cards/ticker/flyw/png/logo",ACAD:"https://abs.twimg.com/grok-finance-cards/ticker/acad/png/logo",LVWR:"https://abs.twimg.com/grok-finance-cards/ticker/lvwr/png/logo",HCC:"https://abs.twimg.com/grok-finance-cards/ticker/hcc/png/logo",ADTX:"https://abs.twimg.com/grok-finance-cards/ticker/adtx/png/logo",PRM:"https://abs.twimg.com/grok-finance-cards/ticker/prm/png/logo",TAYD:"https://abs.twimg.com/grok-finance-cards/ticker/tayd/png/logo",NFE:"https://abs.twimg.com/grok-finance-cards/ticker/nfe/png/logo",CETY:"https://abs.twimg.com/grok-finance-cards/ticker/cety/png/logo",TRP:"https://abs.twimg.com/grok-finance-cards/ticker/trp/png/logo",TTI:"https://abs.twimg.com/grok-finance-cards/ticker/tti/png/logo",NEON:"https://abs.twimg.com/grok-finance-cards/ticker/neon/png/logo",FPAY:"https://abs.twimg.com/grok-finance-cards/ticker/fpay/png/logo",BOF:"https://abs.twimg.com/grok-finance-cards/ticker/bof/png/logo",VRDN:"https://abs.twimg.com/grok-finance-cards/ticker/vrdn/png/logo",DLY:"https://abs.twimg.com/grok-finance-cards/ticker/dly/png/logo",MC:"https://abs.twimg.com/grok-finance-cards/ticker/mc/png/logo",TIVC:"https://abs.twimg.com/grok-finance-cards/ticker/tivc/png/logo",SNDA:"https://abs.twimg.com/grok-finance-cards/ticker/snda/png/logo",ROIC:"https://abs.twimg.com/grok-finance-cards/ticker/roic/png/logo",LFMDP:"https://abs.twimg.com/grok-finance-cards/ticker/lfmdp/png/logo",LIPO:"https://abs.twimg.com/grok-finance-cards/ticker/lipo/png/logo",FTDR:"https://abs.twimg.com/grok-finance-cards/ticker/ftdr/png/logo",HIX:"https://abs.twimg.com/grok-finance-cards/ticker/hix/png/logo",MPB:"https://abs.twimg.com/grok-finance-cards/ticker/mpb/png/logo",UAL:"https://abs.twimg.com/grok-finance-cards/ticker/ual/png/logo",FOR:"https://abs.twimg.com/grok-finance-cards/ticker/for/png/logo",HAYW:"https://abs.twimg.com/grok-finance-cards/ticker/hayw/png/logo",APCX:"https://abs.twimg.com/grok-finance-cards/ticker/apcx/png/logo",BN:"https://abs.twimg.com/grok-finance-cards/ticker/bn/png/logo",CHKP:"https://abs.twimg.com/grok-finance-cards/ticker/chkp/png/logo",NCZ:"https://abs.twimg.com/grok-finance-cards/ticker/ncz/png/logo",VRT:"https://abs.twimg.com/grok-finance-cards/ticker/vrt/png/logo",AZN:"https://abs.twimg.com/grok-finance-cards/ticker/azn/png/logo",ALTR:"https://abs.twimg.com/grok-finance-cards/ticker/altr/png/logo",DAVE:"https://abs.twimg.com/grok-finance-cards/ticker/dave/png/logo",XBPEW:"https://abs.twimg.com/grok-finance-cards/ticker/xbpew/png/logo",PWR:"https://abs.twimg.com/grok-finance-cards/ticker/pwr/png/logo",UNH:"https://abs.twimg.com/grok-finance-cards/ticker/unh/png/logo",CLMT:"https://abs.twimg.com/grok-finance-cards/ticker/clmt/png/logo",NUTX:"https://abs.twimg.com/grok-finance-cards/ticker/nutx/png/logo",PRTS:"https://abs.twimg.com/grok-finance-cards/ticker/prts/png/logo",AKBA:"https://abs.twimg.com/grok-finance-cards/ticker/akba/png/logo",OVV:"https://abs.twimg.com/grok-finance-cards/ticker/ovv/png/logo",HLN:"https://abs.twimg.com/grok-finance-cards/ticker/hln/png/logo",CART:"https://abs.twimg.com/grok-finance-cards/ticker/cart/png/logo",GRPN:"https://abs.twimg.com/grok-finance-cards/ticker/grpn/png/logo",ZKIN:"https://abs.twimg.com/grok-finance-cards/ticker/zkin/png/logo",ZTS:"https://abs.twimg.com/grok-finance-cards/ticker/zts/png/logo",HES:"https://abs.twimg.com/grok-finance-cards/ticker/hes/png/logo",NEOG:"https://abs.twimg.com/grok-finance-cards/ticker/neog/png/logo",IBTX:"https://abs.twimg.com/grok-finance-cards/ticker/ibtx/png/logo",SNX:"https://abs.twimg.com/grok-finance-cards/ticker/snx/png/logo",LEN:"https://abs.twimg.com/grok-finance-cards/ticker/len/png/logo",AA:"https://abs.twimg.com/grok-finance-cards/ticker/aa/png/logo",INTA:"https://abs.twimg.com/grok-finance-cards/ticker/inta/png/logo",BYRN:"https://abs.twimg.com/grok-finance-cards/ticker/byrn/png/logo",CCLDP:"https://abs.twimg.com/grok-finance-cards/ticker/ccldp/png/logo",ROOT:"https://abs.twimg.com/grok-finance-cards/ticker/root/png/logo",MIDD:"https://abs.twimg.com/grok-finance-cards/ticker/midd/png/logo",SBT:"https://abs.twimg.com/grok-finance-cards/ticker/sbt/png/logo",MTEM:"https://abs.twimg.com/grok-finance-cards/ticker/mtem/png/logo",IPX:"https://abs.twimg.com/grok-finance-cards/ticker/ipx/png/logo",IVA:"https://abs.twimg.com/grok-finance-cards/ticker/iva/png/logo",TSBX:"https://abs.twimg.com/grok-finance-cards/ticker/tsbx/png/logo",KT:"https://abs.twimg.com/grok-finance-cards/ticker/kt/png/logo",TIPT:"https://abs.twimg.com/grok-finance-cards/ticker/tipt/png/logo",NLY:"https://abs.twimg.com/grok-finance-cards/ticker/nly/png/logo",DOYU:"https://abs.twimg.com/grok-finance-cards/ticker/doyu/png/logo",MANU:"https://abs.twimg.com/grok-finance-cards/ticker/manu/png/logo",BOH:"https://abs.twimg.com/grok-finance-cards/ticker/boh/png/logo",ESI:"https://abs.twimg.com/grok-finance-cards/ticker/esi/png/logo",BBVA:"https://abs.twimg.com/grok-finance-cards/ticker/bbva/png/logo",COTY:"https://abs.twimg.com/grok-finance-cards/ticker/coty/png/logo",SLDB:"https://abs.twimg.com/grok-finance-cards/ticker/sldb/png/logo",ZYXI:"https://abs.twimg.com/grok-finance-cards/ticker/zyxi/png/logo",HCM:"https://abs.twimg.com/grok-finance-cards/ticker/hcm/png/logo",ANTX:"https://abs.twimg.com/grok-finance-cards/ticker/antx/png/logo",BCC:"https://abs.twimg.com/grok-finance-cards/ticker/bcc/png/logo",CARS:"https://abs.twimg.com/grok-finance-cards/ticker/cars/png/logo",HTOOW:"https://abs.twimg.com/grok-finance-cards/ticker/htoow/png/logo",HLI:"https://abs.twimg.com/grok-finance-cards/ticker/hli/png/logo",NIO:"https://abs.twimg.com/grok-finance-cards/ticker/nio/png/logo",NOV:"https://abs.twimg.com/grok-finance-cards/ticker/nov/png/logo",HLIT:"https://abs.twimg.com/grok-finance-cards/ticker/hlit/png/logo",DOX:"https://abs.twimg.com/grok-finance-cards/ticker/dox/png/logo",BCLI:"https://abs.twimg.com/grok-finance-cards/ticker/bcli/png/logo",NMIH:"https://abs.twimg.com/grok-finance-cards/ticker/nmih/png/logo",VRA:"https://abs.twimg.com/grok-finance-cards/ticker/vra/png/logo",EVLV:"https://abs.twimg.com/grok-finance-cards/ticker/evlv/png/logo",DB:"https://abs.twimg.com/grok-finance-cards/ticker/db/png/logo",RILY:"https://abs.twimg.com/grok-finance-cards/ticker/rily/png/logo",INTS:"https://abs.twimg.com/grok-finance-cards/ticker/ints/png/logo",ISSC:"https://abs.twimg.com/grok-finance-cards/ticker/issc/png/logo",VALU:"https://abs.twimg.com/grok-finance-cards/ticker/valu/png/logo",JILL:"https://abs.twimg.com/grok-finance-cards/ticker/jill/png/logo",NJR:"https://abs.twimg.com/grok-finance-cards/ticker/njr/png/logo",CLNN:"https://abs.twimg.com/grok-finance-cards/ticker/clnn/png/logo",LDOS:"https://abs.twimg.com/grok-finance-cards/ticker/ldos/png/logo",CARA:"https://abs.twimg.com/grok-finance-cards/ticker/cara/png/logo",EYPT:"https://abs.twimg.com/grok-finance-cards/ticker/eypt/png/logo",GM:"https://abs.twimg.com/grok-finance-cards/ticker/gm/png/logo",JACK:"https://abs.twimg.com/grok-finance-cards/ticker/jack/png/logo",VICR:"https://abs.twimg.com/grok-finance-cards/ticker/vicr/png/logo",SLDP:"https://abs.twimg.com/grok-finance-cards/ticker/sldp/png/logo",MIND:"https://abs.twimg.com/grok-finance-cards/ticker/mind/png/logo",TISI:"https://abs.twimg.com/grok-finance-cards/ticker/tisi/png/logo",AGAE:"https://abs.twimg.com/grok-finance-cards/ticker/agae/png/logo",HI:"https://abs.twimg.com/grok-finance-cards/ticker/hi/png/logo",API:"https://abs.twimg.com/grok-finance-cards/ticker/api/png/logo",DIS:"https://abs.twimg.com/grok-finance-cards/ticker/dis/png/logo",MUA:"https://abs.twimg.com/grok-finance-cards/ticker/mua/png/logo",MBWM:"https://abs.twimg.com/grok-finance-cards/ticker/mbwm/png/logo",TEVA:"https://abs.twimg.com/grok-finance-cards/ticker/teva/png/logo",MREO:"https://abs.twimg.com/grok-finance-cards/ticker/mreo/png/logo",BRAG:"https://abs.twimg.com/grok-finance-cards/ticker/brag/png/logo",MX:"https://abs.twimg.com/grok-finance-cards/ticker/mx/png/logo",NUWE:"https://abs.twimg.com/grok-finance-cards/ticker/nuwe/png/logo",MTEX:"https://abs.twimg.com/grok-finance-cards/ticker/mtex/png/logo",QNRX:"https://abs.twimg.com/grok-finance-cards/ticker/qnrx/png/logo",REFR:"https://abs.twimg.com/grok-finance-cards/ticker/refr/png/logo",DLB:"https://abs.twimg.com/grok-finance-cards/ticker/dlb/png/logo",IVT:"https://abs.twimg.com/grok-finance-cards/ticker/ivt/png/logo",AMBC:"https://abs.twimg.com/grok-finance-cards/ticker/ambc/png/logo",HUBG:"https://abs.twimg.com/grok-finance-cards/ticker/hubg/png/logo",SMWB:"https://abs.twimg.com/grok-finance-cards/ticker/smwb/png/logo",WSFS:"https://abs.twimg.com/grok-finance-cards/ticker/wsfs/png/logo",ATEN:"https://abs.twimg.com/grok-finance-cards/ticker/aten/png/logo",BRKR:"https://abs.twimg.com/grok-finance-cards/ticker/brkr/png/logo",CMRX:"https://abs.twimg.com/grok-finance-cards/ticker/cmrx/png/logo",DE:"https://abs.twimg.com/grok-finance-cards/ticker/de/png/logo",KZR:"https://abs.twimg.com/grok-finance-cards/ticker/kzr/png/logo",NVNO:"https://abs.twimg.com/grok-finance-cards/ticker/nvno/png/logo",SMRT:"https://abs.twimg.com/grok-finance-cards/ticker/smrt/png/logo",LFCR:"https://abs.twimg.com/grok-finance-cards/ticker/lfcr/png/logo",LPRO:"https://abs.twimg.com/grok-finance-cards/ticker/lpro/png/logo",AMAL:"https://abs.twimg.com/grok-finance-cards/ticker/amal/png/logo",SIRI:"https://abs.twimg.com/grok-finance-cards/ticker/siri/png/logo",SAN:"https://abs.twimg.com/grok-finance-cards/ticker/san/png/logo",NOC:"https://abs.twimg.com/grok-finance-cards/ticker/noc/png/logo",FLO:"https://abs.twimg.com/grok-finance-cards/ticker/flo/png/logo",FWRG:"https://abs.twimg.com/grok-finance-cards/ticker/fwrg/png/logo",JTAI:"https://abs.twimg.com/grok-finance-cards/ticker/jtai/png/logo",AEMD:"https://abs.twimg.com/grok-finance-cards/ticker/aemd/png/logo",OCSAW:"https://abs.twimg.com/grok-finance-cards/ticker/ocsaw/png/logo",SNAL:"https://abs.twimg.com/grok-finance-cards/ticker/snal/png/logo",VTMX:"https://abs.twimg.com/grok-finance-cards/ticker/vtmx/png/logo",IKNA:"https://abs.twimg.com/grok-finance-cards/ticker/ikna/png/logo",MOBX:"https://abs.twimg.com/grok-finance-cards/ticker/mobx/png/logo",EVC:"https://abs.twimg.com/grok-finance-cards/ticker/evc/png/logo",ASST:"https://abs.twimg.com/grok-finance-cards/ticker/asst/png/logo",UBX:"https://abs.twimg.com/grok-finance-cards/ticker/ubx/png/logo",EXFY:"https://abs.twimg.com/grok-finance-cards/ticker/exfy/png/logo",OPT:"https://abs.twimg.com/grok-finance-cards/ticker/opt/png/logo",IDXX:"https://abs.twimg.com/grok-finance-cards/ticker/idxx/png/logo",PRTH:"https://abs.twimg.com/grok-finance-cards/ticker/prth/png/logo",HG:"https://abs.twimg.com/grok-finance-cards/ticker/hg/png/logo",APG:"https://abs.twimg.com/grok-finance-cards/ticker/apg/png/logo",AZ:"https://abs.twimg.com/grok-finance-cards/ticker/az/png/logo",IHRT:"https://abs.twimg.com/grok-finance-cards/ticker/ihrt/png/logo",BLZE:"https://abs.twimg.com/grok-finance-cards/ticker/blze/png/logo",SDGR:"https://abs.twimg.com/grok-finance-cards/ticker/sdgr/png/logo",RELI:"https://abs.twimg.com/grok-finance-cards/ticker/reli/png/logo",FOLD:"https://abs.twimg.com/grok-finance-cards/ticker/fold/png/logo",PFIS:"https://abs.twimg.com/grok-finance-cards/ticker/pfis/png/logo",DASH:"https://abs.twimg.com/grok-finance-cards/ticker/dash/png/logo",WHG:"https://abs.twimg.com/grok-finance-cards/ticker/whg/png/logo",CSCO:"https://abs.twimg.com/grok-finance-cards/ticker/csco/png/logo",MTCH:"https://abs.twimg.com/grok-finance-cards/ticker/mtch/png/logo",UPLD:"https://abs.twimg.com/grok-finance-cards/ticker/upld/png/logo",ASH:"https://abs.twimg.com/grok-finance-cards/ticker/ash/png/logo",MQ:"https://abs.twimg.com/grok-finance-cards/ticker/mq/png/logo",SCWX:"https://abs.twimg.com/grok-finance-cards/ticker/scwx/png/logo",CVS:"https://abs.twimg.com/grok-finance-cards/ticker/cvs/png/logo",CLBK:"https://abs.twimg.com/grok-finance-cards/ticker/clbk/png/logo",NVMI:"https://abs.twimg.com/grok-finance-cards/ticker/nvmi/png/logo",DYAI:"https://abs.twimg.com/grok-finance-cards/ticker/dyai/png/logo",MEGI:"https://abs.twimg.com/grok-finance-cards/ticker/megi/png/logo",ICHR:"https://abs.twimg.com/grok-finance-cards/ticker/ichr/png/logo",ALTI:"https://abs.twimg.com/grok-finance-cards/ticker/alti/png/logo",MYD:"https://abs.twimg.com/grok-finance-cards/ticker/myd/png/logo",DCO:"https://abs.twimg.com/grok-finance-cards/ticker/dco/png/logo",TNET:"https://abs.twimg.com/grok-finance-cards/ticker/tnet/png/logo",LESL:"https://abs.twimg.com/grok-finance-cards/ticker/lesl/png/logo",IREN:"https://abs.twimg.com/grok-finance-cards/ticker/iren/png/logo",KORE:"https://abs.twimg.com/grok-finance-cards/ticker/kore/png/logo",BCX:"https://abs.twimg.com/grok-finance-cards/ticker/bcx/png/logo",ACHL:"https://abs.twimg.com/grok-finance-cards/ticker/achl/png/logo",IONR:"https://abs.twimg.com/grok-finance-cards/ticker/ionr/png/logo",IMMP:"https://abs.twimg.com/grok-finance-cards/ticker/immp/png/logo",VCEL:"https://abs.twimg.com/grok-finance-cards/ticker/vcel/png/logo",GD:"https://abs.twimg.com/grok-finance-cards/ticker/gd/png/logo",WORX:"https://abs.twimg.com/grok-finance-cards/ticker/worx/png/logo",LPTX:"https://abs.twimg.com/grok-finance-cards/ticker/lptx/png/logo",AVY:"https://abs.twimg.com/grok-finance-cards/ticker/avy/png/logo",DOC:"https://abs.twimg.com/grok-finance-cards/ticker/doc/png/logo",MAMA:"https://abs.twimg.com/grok-finance-cards/ticker/mama/png/logo",CHGG:"https://abs.twimg.com/grok-finance-cards/ticker/chgg/png/logo",HLIO:"https://abs.twimg.com/grok-finance-cards/ticker/hlio/png/logo",BWBBP:"https://abs.twimg.com/grok-finance-cards/ticker/bwbbp/png/logo",BWXT:"https://abs.twimg.com/grok-finance-cards/ticker/bwxt/png/logo",HOUS:"https://abs.twimg.com/grok-finance-cards/ticker/hous/png/logo",SMTC:"https://abs.twimg.com/grok-finance-cards/ticker/smtc/png/logo",VEON:"https://abs.twimg.com/grok-finance-cards/ticker/veon/png/logo",DK:"https://abs.twimg.com/grok-finance-cards/ticker/dk/png/logo",BR:"https://abs.twimg.com/grok-finance-cards/ticker/br/png/logo",GDDY:"https://abs.twimg.com/grok-finance-cards/ticker/gddy/png/logo",PCSA:"https://abs.twimg.com/grok-finance-cards/ticker/pcsa/png/logo",INTZ:"https://abs.twimg.com/grok-finance-cards/ticker/intz/png/logo",UGI:"https://abs.twimg.com/grok-finance-cards/ticker/ugi/png/logo",KO:"https://abs.twimg.com/grok-finance-cards/ticker/ko/png/logo",MLTX:"https://abs.twimg.com/grok-finance-cards/ticker/mltx/png/logo",HLLY:"https://abs.twimg.com/grok-finance-cards/ticker/hlly/png/logo",VCIG:"https://abs.twimg.com/grok-finance-cards/ticker/vcig/png/logo",IVZ:"https://abs.twimg.com/grok-finance-cards/ticker/ivz/png/logo",ASO:"https://abs.twimg.com/grok-finance-cards/ticker/aso/png/logo",NTES:"https://abs.twimg.com/grok-finance-cards/ticker/ntes/png/logo",NCMI:"https://abs.twimg.com/grok-finance-cards/ticker/ncmi/png/logo",PARA:"https://abs.twimg.com/grok-finance-cards/ticker/para/png/logo",BROG:"https://abs.twimg.com/grok-finance-cards/ticker/brog/png/logo",BBU:"https://abs.twimg.com/grok-finance-cards/ticker/bbu/png/logo",HDB:"https://abs.twimg.com/grok-finance-cards/ticker/hdb/png/logo",AXP:"https://abs.twimg.com/grok-finance-cards/ticker/axp/png/logo",FI:"https://abs.twimg.com/grok-finance-cards/ticker/fi/png/logo",KEYS:"https://abs.twimg.com/grok-finance-cards/ticker/keys/png/logo",LMB:"https://abs.twimg.com/grok-finance-cards/ticker/lmb/png/logo",CTV:"https://abs.twimg.com/grok-finance-cards/ticker/ctv/png/logo",TLSIW:"https://abs.twimg.com/grok-finance-cards/ticker/tlsiw/png/logo",OKYO:"https://abs.twimg.com/grok-finance-cards/ticker/okyo/png/logo",ABSI:"https://abs.twimg.com/grok-finance-cards/ticker/absi/png/logo",BIGC:"https://abs.twimg.com/grok-finance-cards/ticker/bigc/png/logo",TPG:"https://abs.twimg.com/grok-finance-cards/ticker/tpg/png/logo",SLF:"https://abs.twimg.com/grok-finance-cards/ticker/slf/png/logo",BCAT:"https://abs.twimg.com/grok-finance-cards/ticker/bcat/png/logo",AVAV:"https://abs.twimg.com/grok-finance-cards/ticker/avav/png/logo",AVGO:"https://abs.twimg.com/grok-finance-cards/ticker/avgo/png/logo",LYEL:"https://abs.twimg.com/grok-finance-cards/ticker/lyel/png/logo",IIIV:"https://abs.twimg.com/grok-finance-cards/ticker/iiiv/png/logo",TRST:"https://abs.twimg.com/grok-finance-cards/ticker/trst/png/logo",CSGS:"https://abs.twimg.com/grok-finance-cards/ticker/csgs/png/logo",BGC:"https://abs.twimg.com/grok-finance-cards/ticker/bgc/png/logo",RGTIW:"https://abs.twimg.com/grok-finance-cards/ticker/rgtiw/png/logo",GBIO:"https://abs.twimg.com/grok-finance-cards/ticker/gbio/png/logo",ISRG:"https://abs.twimg.com/grok-finance-cards/ticker/isrg/png/logo",FGBI:"https://abs.twimg.com/grok-finance-cards/ticker/fgbi/png/logo",DMA:"https://abs.twimg.com/grok-finance-cards/ticker/dma/png/logo",ICCM:"https://abs.twimg.com/grok-finance-cards/ticker/iccm/png/logo",SHLS:"https://abs.twimg.com/grok-finance-cards/ticker/shls/png/logo",MTB:"https://abs.twimg.com/grok-finance-cards/ticker/mtb/png/logo",SCSC:"https://abs.twimg.com/grok-finance-cards/ticker/scsc/png/logo",HSCS:"https://abs.twimg.com/grok-finance-cards/ticker/hscs/png/logo",CMPS:"https://abs.twimg.com/grok-finance-cards/ticker/cmps/png/logo",ABVX:"https://abs.twimg.com/grok-finance-cards/ticker/abvx/png/logo",MCFT:"https://abs.twimg.com/grok-finance-cards/ticker/mcft/png/logo",IPDN:"https://abs.twimg.com/grok-finance-cards/ticker/ipdn/png/logo",SON:"https://abs.twimg.com/grok-finance-cards/ticker/son/png/logo",PBHC:"https://abs.twimg.com/grok-finance-cards/ticker/pbhc/png/logo",QURE:"https://abs.twimg.com/grok-finance-cards/ticker/qure/png/logo",SHEN:"https://abs.twimg.com/grok-finance-cards/ticker/shen/png/logo",DARE:"https://abs.twimg.com/grok-finance-cards/ticker/dare/png/logo",CHSCM:"https://abs.twimg.com/grok-finance-cards/ticker/chscm/png/logo",ATGE:"https://abs.twimg.com/grok-finance-cards/ticker/atge/png/logo",SPRY:"https://abs.twimg.com/grok-finance-cards/ticker/spry/png/logo",PUK:"https://abs.twimg.com/grok-finance-cards/ticker/puk/png/logo",IQI:"https://abs.twimg.com/grok-finance-cards/ticker/iqi/png/logo",HUBCZ:"https://abs.twimg.com/grok-finance-cards/ticker/hubcz/png/logo",FND:"https://abs.twimg.com/grok-finance-cards/ticker/fnd/png/logo",GLOB:"https://abs.twimg.com/grok-finance-cards/ticker/glob/png/logo",HITI:"https://abs.twimg.com/grok-finance-cards/ticker/hiti/png/logo",BNY:"https://abs.twimg.com/grok-finance-cards/ticker/bny/png/logo",OBLG:"https://abs.twimg.com/grok-finance-cards/ticker/oblg/png/logo",WTTR:"https://abs.twimg.com/grok-finance-cards/ticker/wttr/png/logo",MQT:"https://abs.twimg.com/grok-finance-cards/ticker/mqt/png/logo",NCNA:"https://abs.twimg.com/grok-finance-cards/ticker/ncna/png/logo",HAS:"https://abs.twimg.com/grok-finance-cards/ticker/has/png/logo",CX:"https://abs.twimg.com/grok-finance-cards/ticker/cx/png/logo",EA:"https://abs.twimg.com/grok-finance-cards/ticker/ea/png/logo",CHEK:"https://abs.twimg.com/grok-finance-cards/ticker/chek/png/logo",LNC:"https://abs.twimg.com/grok-finance-cards/ticker/lnc/png/logo",SCL:"https://abs.twimg.com/grok-finance-cards/ticker/scl/png/logo",DMO:"https://abs.twimg.com/grok-finance-cards/ticker/dmo/png/logo",VRCA:"https://abs.twimg.com/grok-finance-cards/ticker/vrca/png/logo",CLCO:"https://abs.twimg.com/grok-finance-cards/ticker/clco/png/logo",PPT:"https://abs.twimg.com/grok-finance-cards/ticker/ppt/png/logo",EH:"https://abs.twimg.com/grok-finance-cards/ticker/eh/png/logo",SCYX:"https://abs.twimg.com/grok-finance-cards/ticker/scyx/png/logo",ODFL:"https://abs.twimg.com/grok-finance-cards/ticker/odfl/png/logo",GEVO:"https://abs.twimg.com/grok-finance-cards/ticker/gevo/png/logo",KTTA:"https://abs.twimg.com/grok-finance-cards/ticker/ktta/png/logo",ASTI:"https://abs.twimg.com/grok-finance-cards/ticker/asti/png/logo",EVGN:"https://abs.twimg.com/grok-finance-cards/ticker/evgn/png/logo",MNSO:"https://abs.twimg.com/grok-finance-cards/ticker/mnso/png/logo",BLTE:"https://abs.twimg.com/grok-finance-cards/ticker/blte/png/logo",NNN:"https://abs.twimg.com/grok-finance-cards/ticker/nnn/png/logo",FG:"https://abs.twimg.com/grok-finance-cards/ticker/fg/png/logo",STRM:"https://abs.twimg.com/grok-finance-cards/ticker/strm/png/logo",BSVN:"https://abs.twimg.com/grok-finance-cards/ticker/bsvn/png/logo",NGS:"https://abs.twimg.com/grok-finance-cards/ticker/ngs/png/logo",FMNB:"https://abs.twimg.com/grok-finance-cards/ticker/fmnb/png/logo",KOPN:"https://abs.twimg.com/grok-finance-cards/ticker/kopn/png/logo",LFLYW:"https://abs.twimg.com/grok-finance-cards/ticker/lflyw/png/logo",RAMP:"https://abs.twimg.com/grok-finance-cards/ticker/ramp/png/logo",EEFT:"https://abs.twimg.com/grok-finance-cards/ticker/eeft/png/logo",EXC:"https://abs.twimg.com/grok-finance-cards/ticker/exc/png/logo",WHLR:"https://abs.twimg.com/grok-finance-cards/ticker/whlr/png/logo",ESTA:"https://abs.twimg.com/grok-finance-cards/ticker/esta/png/logo",DBL:"https://abs.twimg.com/grok-finance-cards/ticker/dbl/png/logo",IRBT:"https://abs.twimg.com/grok-finance-cards/ticker/irbt/png/logo",IRDM:"https://abs.twimg.com/grok-finance-cards/ticker/irdm/png/logo",CISO:"https://abs.twimg.com/grok-finance-cards/ticker/ciso/png/logo",NCNO:"https://abs.twimg.com/grok-finance-cards/ticker/ncno/png/logo",INSG:"https://abs.twimg.com/grok-finance-cards/ticker/insg/png/logo",KLIC:"https://abs.twimg.com/grok-finance-cards/ticker/klic/png/logo",HRYU:"https://abs.twimg.com/grok-finance-cards/ticker/hryu/png/logo",ETO:"https://abs.twimg.com/grok-finance-cards/ticker/eto/png/logo",ALZN:"https://abs.twimg.com/grok-finance-cards/ticker/alzn/png/logo",ATR:"https://abs.twimg.com/grok-finance-cards/ticker/atr/png/logo",KRRO:"https://abs.twimg.com/grok-finance-cards/ticker/krro/png/logo",LND:"https://abs.twimg.com/grok-finance-cards/ticker/lnd/png/logo",GNLN:"https://abs.twimg.com/grok-finance-cards/ticker/gnln/png/logo",GSBC:"https://abs.twimg.com/grok-finance-cards/ticker/gsbc/png/logo",SFIX:"https://abs.twimg.com/grok-finance-cards/ticker/sfix/png/logo",AGNCN:"https://abs.twimg.com/grok-finance-cards/ticker/agncn/png/logo",BDRX:"https://abs.twimg.com/grok-finance-cards/ticker/bdrx/png/logo",SPTN:"https://abs.twimg.com/grok-finance-cards/ticker/sptn/png/logo",BEAM:"https://abs.twimg.com/grok-finance-cards/ticker/beam/png/logo",URBN:"https://abs.twimg.com/grok-finance-cards/ticker/urbn/png/logo",FRES:"https://abs.twimg.com/grok-finance-cards/ticker/fres/png/logo",FDX:"https://abs.twimg.com/grok-finance-cards/ticker/fdx/png/logo",PRZO:"https://abs.twimg.com/grok-finance-cards/ticker/przo/png/logo",GOODO:"https://abs.twimg.com/grok-finance-cards/ticker/goodo/png/logo",CRTO:"https://abs.twimg.com/grok-finance-cards/ticker/crto/png/logo",NNI:"https://abs.twimg.com/grok-finance-cards/ticker/nni/png/logo",MVBF:"https://abs.twimg.com/grok-finance-cards/ticker/mvbf/png/logo",REBN:"https://abs.twimg.com/grok-finance-cards/ticker/rebn/png/logo",MGIC:"https://abs.twimg.com/grok-finance-cards/ticker/mgic/png/logo",ICCC:"https://abs.twimg.com/grok-finance-cards/ticker/iccc/png/logo",RSSS:"https://abs.twimg.com/grok-finance-cards/ticker/rsss/png/logo",BRFS:"https://abs.twimg.com/grok-finance-cards/ticker/brfs/png/logo",BGX:"https://abs.twimg.com/grok-finance-cards/ticker/bgx/png/logo",NVEE:"https://abs.twimg.com/grok-finance-cards/ticker/nvee/png/logo",AAON:"https://abs.twimg.com/grok-finance-cards/ticker/aaon/png/logo",SASR:"https://abs.twimg.com/grok-finance-cards/ticker/sasr/png/logo",PRPO:"https://abs.twimg.com/grok-finance-cards/ticker/prpo/png/logo",ENSC:"https://abs.twimg.com/grok-finance-cards/ticker/ensc/png/logo",AUTL:"https://abs.twimg.com/grok-finance-cards/ticker/autl/png/logo",DTSS:"https://abs.twimg.com/grok-finance-cards/ticker/dtss/png/logo",ATKR:"https://abs.twimg.com/grok-finance-cards/ticker/atkr/png/logo",CCNEP:"https://abs.twimg.com/grok-finance-cards/ticker/ccnep/png/logo",FR:"https://abs.twimg.com/grok-finance-cards/ticker/fr/png/logo",CMPO:"https://abs.twimg.com/grok-finance-cards/ticker/cmpo/png/logo",COSM:"https://abs.twimg.com/grok-finance-cards/ticker/cosm/png/logo",ZTEK:"https://abs.twimg.com/grok-finance-cards/ticker/ztek/png/logo",FBYDW:"https://abs.twimg.com/grok-finance-cards/ticker/fbydw/png/logo",PSN:"https://abs.twimg.com/grok-finance-cards/ticker/psn/png/logo",BBN:"https://abs.twimg.com/grok-finance-cards/ticker/bbn/png/logo",GRI:"https://abs.twimg.com/grok-finance-cards/ticker/gri/png/logo",BANF:"https://abs.twimg.com/grok-finance-cards/ticker/banf/png/logo",KPTI:"https://abs.twimg.com/grok-finance-cards/ticker/kpti/png/logo",RPID:"https://abs.twimg.com/grok-finance-cards/ticker/rpid/png/logo",TCRX:"https://abs.twimg.com/grok-finance-cards/ticker/tcrx/png/logo",SDIG:"https://abs.twimg.com/grok-finance-cards/ticker/sdig/png/logo",BFRG:"https://abs.twimg.com/grok-finance-cards/ticker/bfrg/png/logo",WCC:"https://abs.twimg.com/grok-finance-cards/ticker/wcc/png/logo",PLBY:"https://abs.twimg.com/grok-finance-cards/ticker/plby/png/logo",ACCO:"https://abs.twimg.com/grok-finance-cards/ticker/acco/png/logo",DXPE:"https://abs.twimg.com/grok-finance-cards/ticker/dxpe/png/logo",SNFCA:"https://abs.twimg.com/grok-finance-cards/ticker/snfca/png/logo",JANX:"https://abs.twimg.com/grok-finance-cards/ticker/janx/png/logo",KITTW:"https://abs.twimg.com/grok-finance-cards/ticker/kittw/png/logo",FGB:"https://abs.twimg.com/grok-finance-cards/ticker/fgb/png/logo",KOSS:"https://abs.twimg.com/grok-finance-cards/ticker/koss/png/logo",BIAF:"https://abs.twimg.com/grok-finance-cards/ticker/biaf/png/logo",SQNS:"https://abs.twimg.com/grok-finance-cards/ticker/sqns/png/logo",CC:"https://abs.twimg.com/grok-finance-cards/ticker/cc/png/logo",AMLX:"https://abs.twimg.com/grok-finance-cards/ticker/amlx/png/logo",CUBI:"https://abs.twimg.com/grok-finance-cards/ticker/cubi/png/logo",AAOI:"https://abs.twimg.com/grok-finance-cards/ticker/aaoi/png/logo",OPRX:"https://abs.twimg.com/grok-finance-cards/ticker/oprx/png/logo",AWH:"https://abs.twimg.com/grok-finance-cards/ticker/awh/png/logo",CRS:"https://abs.twimg.com/grok-finance-cards/ticker/crs/png/logo",IQ:"https://abs.twimg.com/grok-finance-cards/ticker/iq/png/logo",SNOW:"https://abs.twimg.com/grok-finance-cards/ticker/snow/png/logo",BKT:"https://abs.twimg.com/grok-finance-cards/ticker/bkt/png/logo",AYTU:"https://abs.twimg.com/grok-finance-cards/ticker/aytu/png/logo",SWAG:"https://abs.twimg.com/grok-finance-cards/ticker/swag/png/logo",CASY:"https://abs.twimg.com/grok-finance-cards/ticker/casy/png/logo",SPRB:"https://abs.twimg.com/grok-finance-cards/ticker/sprb/png/logo",CLOV:"https://abs.twimg.com/grok-finance-cards/ticker/clov/png/logo",ICLR:"https://abs.twimg.com/grok-finance-cards/ticker/iclr/png/logo",ADSE:"https://abs.twimg.com/grok-finance-cards/ticker/adse/png/logo",AXL:"https://abs.twimg.com/grok-finance-cards/ticker/axl/png/logo",VPV:"https://abs.twimg.com/grok-finance-cards/ticker/vpv/png/logo",ABVC:"https://abs.twimg.com/grok-finance-cards/ticker/abvc/png/logo",GSHD:"https://abs.twimg.com/grok-finance-cards/ticker/gshd/png/logo",DORM:"https://abs.twimg.com/grok-finance-cards/ticker/dorm/png/logo",DUOL:"https://abs.twimg.com/grok-finance-cards/ticker/duol/png/logo",FMY:"https://abs.twimg.com/grok-finance-cards/ticker/fmy/png/logo",NUKKW:"https://abs.twimg.com/grok-finance-cards/ticker/nukkw/png/logo",MNST:"https://abs.twimg.com/grok-finance-cards/ticker/mnst/png/logo",IRT:"https://abs.twimg.com/grok-finance-cards/ticker/irt/png/logo",LUNRW:"https://abs.twimg.com/grok-finance-cards/ticker/lunrw/png/logo",WIX:"https://abs.twimg.com/grok-finance-cards/ticker/wix/png/logo",PERI:"https://abs.twimg.com/grok-finance-cards/ticker/peri/png/logo",ZBRA:"https://abs.twimg.com/grok-finance-cards/ticker/zbra/png/logo",BHR:"https://abs.twimg.com/grok-finance-cards/ticker/bhr/png/logo",RNXT:"https://abs.twimg.com/grok-finance-cards/ticker/rnxt/png/logo",EOLS:"https://abs.twimg.com/grok-finance-cards/ticker/eols/png/logo",WES:"https://abs.twimg.com/grok-finance-cards/ticker/wes/png/logo",ICFI:"https://abs.twimg.com/grok-finance-cards/ticker/icfi/png/logo",NXLIW:"https://abs.twimg.com/grok-finance-cards/ticker/nxliw/png/logo",ARW:"https://abs.twimg.com/grok-finance-cards/ticker/arw/png/logo",DCOMP:"https://abs.twimg.com/grok-finance-cards/ticker/dcomp/png/logo",FNV:"https://abs.twimg.com/grok-finance-cards/ticker/fnv/png/logo",CHCI:"https://abs.twimg.com/grok-finance-cards/ticker/chci/png/logo",BKDT:"https://abs.twimg.com/grok-finance-cards/ticker/bkdt/png/logo",PMTS:"https://abs.twimg.com/grok-finance-cards/ticker/pmts/png/logo",TPR:"https://abs.twimg.com/grok-finance-cards/ticker/tpr/png/logo",CXH:"https://abs.twimg.com/grok-finance-cards/ticker/cxh/png/logo",ES:"https://abs.twimg.com/grok-finance-cards/ticker/es/png/logo",NVCR:"https://abs.twimg.com/grok-finance-cards/ticker/nvcr/png/logo",WAVE:"https://abs.twimg.com/grok-finance-cards/ticker/wave/png/logo",SHFS:"https://abs.twimg.com/grok-finance-cards/ticker/shfs/png/logo",DERM:"https://abs.twimg.com/grok-finance-cards/ticker/derm/png/logo",LUCY:"https://abs.twimg.com/grok-finance-cards/ticker/lucy/png/logo",NPCE:"https://abs.twimg.com/grok-finance-cards/ticker/npce/png/logo",YOU:"https://abs.twimg.com/grok-finance-cards/ticker/you/png/logo",ZIMV:"https://abs.twimg.com/grok-finance-cards/ticker/zimv/png/logo",ADSK:"https://abs.twimg.com/grok-finance-cards/ticker/adsk/png/logo",HBI:"https://abs.twimg.com/grok-finance-cards/ticker/hbi/png/logo",TBBK:"https://abs.twimg.com/grok-finance-cards/ticker/tbbk/png/logo",GPRO:"https://abs.twimg.com/grok-finance-cards/ticker/gpro/png/logo",MTW:"https://abs.twimg.com/grok-finance-cards/ticker/mtw/png/logo",AWF:"https://abs.twimg.com/grok-finance-cards/ticker/awf/png/logo",IRS:"https://abs.twimg.com/grok-finance-cards/ticker/irs/png/logo",GDOT:"https://abs.twimg.com/grok-finance-cards/ticker/gdot/png/logo",BHFAO:"https://abs.twimg.com/grok-finance-cards/ticker/bhfao/png/logo",ANVS:"https://abs.twimg.com/grok-finance-cards/ticker/anvs/png/logo",BAH:"https://abs.twimg.com/grok-finance-cards/ticker/bah/png/logo",PSFE:"https://abs.twimg.com/grok-finance-cards/ticker/psfe/png/logo",CAVA:"https://abs.twimg.com/grok-finance-cards/ticker/cava/png/logo",SNCR:"https://abs.twimg.com/grok-finance-cards/ticker/sncr/png/logo",OTRK:"https://abs.twimg.com/grok-finance-cards/ticker/otrk/png/logo",AXGN:"https://abs.twimg.com/grok-finance-cards/ticker/axgn/png/logo",ETNB:"https://abs.twimg.com/grok-finance-cards/ticker/etnb/png/logo",TSLX:"https://abs.twimg.com/grok-finance-cards/ticker/tslx/png/logo",CM:"https://abs.twimg.com/grok-finance-cards/ticker/cm/png/logo",ARAY:"https://abs.twimg.com/grok-finance-cards/ticker/aray/png/logo",SJM:"https://abs.twimg.com/grok-finance-cards/ticker/sjm/png/logo",JSPR:"https://abs.twimg.com/grok-finance-cards/ticker/jspr/png/logo",CWK:"https://abs.twimg.com/grok-finance-cards/ticker/cwk/png/logo",AMCR:"https://abs.twimg.com/grok-finance-cards/ticker/amcr/png/logo",ATI:"https://abs.twimg.com/grok-finance-cards/ticker/ati/png/logo",APLMW:"https://abs.twimg.com/grok-finance-cards/ticker/aplmw/png/logo",SHIP:"https://abs.twimg.com/grok-finance-cards/ticker/ship/png/logo",PFBC:"https://abs.twimg.com/grok-finance-cards/ticker/pfbc/png/logo",ETN:"https://abs.twimg.com/grok-finance-cards/ticker/etn/png/logo",CYCCP:"https://abs.twimg.com/grok-finance-cards/ticker/cyccp/png/logo",BGNE:"https://abs.twimg.com/grok-finance-cards/ticker/bgne/png/logo",WEN:"https://abs.twimg.com/grok-finance-cards/ticker/wen/png/logo",NMG:"https://abs.twimg.com/grok-finance-cards/ticker/nmg/png/logo",AGNCO:"https://abs.twimg.com/grok-finance-cards/ticker/agnco/png/logo",ATS:"https://abs.twimg.com/grok-finance-cards/ticker/ats/png/logo",SES:"https://abs.twimg.com/grok-finance-cards/ticker/ses/png/logo",COEPW:"https://abs.twimg.com/grok-finance-cards/ticker/coepw/png/logo",CW:"https://abs.twimg.com/grok-finance-cards/ticker/cw/png/logo",POWL:"https://abs.twimg.com/grok-finance-cards/ticker/powl/png/logo",TRUE:"https://abs.twimg.com/grok-finance-cards/ticker/true/png/logo",BTCT:"https://abs.twimg.com/grok-finance-cards/ticker/btct/png/logo",KWR:"https://abs.twimg.com/grok-finance-cards/ticker/kwr/png/logo",XYL:"https://abs.twimg.com/grok-finance-cards/ticker/xyl/png/logo",ADSEW:"https://abs.twimg.com/grok-finance-cards/ticker/adsew/png/logo",GRRRW:"https://abs.twimg.com/grok-finance-cards/ticker/grrrw/png/logo",PLAB:"https://abs.twimg.com/grok-finance-cards/ticker/plab/png/logo",SEATW:"https://abs.twimg.com/grok-finance-cards/ticker/seatw/png/logo",BMY:"https://abs.twimg.com/grok-finance-cards/ticker/bmy/png/logo",INVZW:"https://abs.twimg.com/grok-finance-cards/ticker/invzw/png/logo",DATS:"https://abs.twimg.com/grok-finance-cards/ticker/dats/png/logo",NVFY:"https://abs.twimg.com/grok-finance-cards/ticker/nvfy/png/logo",FFWM:"https://abs.twimg.com/grok-finance-cards/ticker/ffwm/png/logo",REKR:"https://abs.twimg.com/grok-finance-cards/ticker/rekr/png/logo",GOODN:"https://abs.twimg.com/grok-finance-cards/ticker/goodn/png/logo",FA:"https://abs.twimg.com/grok-finance-cards/ticker/fa/png/logo",GXO:"https://abs.twimg.com/grok-finance-cards/ticker/gxo/png/logo",ACLX:"https://abs.twimg.com/grok-finance-cards/ticker/aclx/png/logo",RUN:"https://abs.twimg.com/grok-finance-cards/ticker/run/png/logo",SVRA:"https://abs.twimg.com/grok-finance-cards/ticker/svra/png/logo",DDS:"https://abs.twimg.com/grok-finance-cards/ticker/dds/png/logo",VIAV:"https://abs.twimg.com/grok-finance-cards/ticker/viav/png/logo",HSII:"https://abs.twimg.com/grok-finance-cards/ticker/hsii/png/logo",CEVA:"https://abs.twimg.com/grok-finance-cards/ticker/ceva/png/logo",TPH:"https://abs.twimg.com/grok-finance-cards/ticker/tph/png/logo",CP:"https://abs.twimg.com/grok-finance-cards/ticker/cp/png/logo",ARM:"https://abs.twimg.com/grok-finance-cards/ticker/arm/png/logo",SCM:"https://abs.twimg.com/grok-finance-cards/ticker/scm/png/logo",QNST:"https://abs.twimg.com/grok-finance-cards/ticker/qnst/png/logo",FMBH:"https://abs.twimg.com/grok-finance-cards/ticker/fmbh/png/logo",IVDAW:"https://abs.twimg.com/grok-finance-cards/ticker/ivdaw/png/logo",AURA:"https://abs.twimg.com/grok-finance-cards/ticker/aura/png/logo",FROG:"https://abs.twimg.com/grok-finance-cards/ticker/frog/png/logo",KRC:"https://abs.twimg.com/grok-finance-cards/ticker/krc/png/logo",BRCC:"https://abs.twimg.com/grok-finance-cards/ticker/brcc/png/logo",DFLIW:"https://abs.twimg.com/grok-finance-cards/ticker/dfliw/png/logo",SHIM:"https://abs.twimg.com/grok-finance-cards/ticker/shim/png/logo",LUCD:"https://abs.twimg.com/grok-finance-cards/ticker/lucd/png/logo",WEST:"https://abs.twimg.com/grok-finance-cards/ticker/west/png/logo",ARBK:"https://abs.twimg.com/grok-finance-cards/ticker/arbk/png/logo",ORRF:"https://abs.twimg.com/grok-finance-cards/ticker/orrf/png/logo",TWIN:"https://abs.twimg.com/grok-finance-cards/ticker/twin/png/logo",ULY:"https://abs.twimg.com/grok-finance-cards/ticker/uly/png/logo",EEIQ:"https://abs.twimg.com/grok-finance-cards/ticker/eeiq/png/logo",NTLA:"https://abs.twimg.com/grok-finance-cards/ticker/ntla/png/logo",BANR:"https://abs.twimg.com/grok-finance-cards/ticker/banr/png/logo",FMC:"https://abs.twimg.com/grok-finance-cards/ticker/fmc/png/logo",ENVA:"https://abs.twimg.com/grok-finance-cards/ticker/enva/png/logo",BTCS:"https://abs.twimg.com/grok-finance-cards/ticker/btcs/png/logo",DNA:"https://abs.twimg.com/grok-finance-cards/ticker/dna/png/logo",AQB:"https://abs.twimg.com/grok-finance-cards/ticker/aqb/png/logo",EVGO:"https://abs.twimg.com/grok-finance-cards/ticker/evgo/png/logo",ITW:"https://abs.twimg.com/grok-finance-cards/ticker/itw/png/logo",RMNI:"https://abs.twimg.com/grok-finance-cards/ticker/rmni/png/logo",DAL:"https://abs.twimg.com/grok-finance-cards/ticker/dal/png/logo",TSN:"https://abs.twimg.com/grok-finance-cards/ticker/tsn/png/logo",CMPR:"https://abs.twimg.com/grok-finance-cards/ticker/cmpr/png/logo",BDJ:"https://abs.twimg.com/grok-finance-cards/ticker/bdj/png/logo",WOR:"https://abs.twimg.com/grok-finance-cards/ticker/wor/png/logo",KAVL:"https://abs.twimg.com/grok-finance-cards/ticker/kavl/png/logo",EXK:"https://abs.twimg.com/grok-finance-cards/ticker/exk/png/logo",CHSCL:"https://abs.twimg.com/grok-finance-cards/ticker/chscl/png/logo",BENF:"https://abs.twimg.com/grok-finance-cards/ticker/benf/png/logo",BKN:"https://abs.twimg.com/grok-finance-cards/ticker/bkn/png/logo",HMY:"https://abs.twimg.com/grok-finance-cards/ticker/hmy/png/logo",CRI:"https://abs.twimg.com/grok-finance-cards/ticker/cri/png/logo",OR:"https://abs.twimg.com/grok-finance-cards/ticker/or/png/logo",NDRA:"https://abs.twimg.com/grok-finance-cards/ticker/ndra/png/logo",FTEL:"https://abs.twimg.com/grok-finance-cards/ticker/ftel/png/logo",CAPL:"https://abs.twimg.com/grok-finance-cards/ticker/capl/png/logo",BCTXW:"https://abs.twimg.com/grok-finance-cards/ticker/bctxw/png/logo",IGIC:"https://abs.twimg.com/grok-finance-cards/ticker/igic/png/logo",FEAM:"https://abs.twimg.com/grok-finance-cards/ticker/feam/png/logo",JD:"https://abs.twimg.com/grok-finance-cards/ticker/jd/png/logo",CPRT:"https://abs.twimg.com/grok-finance-cards/ticker/cprt/png/logo",SCD:"https://abs.twimg.com/grok-finance-cards/ticker/scd/png/logo",AVNT:"https://abs.twimg.com/grok-finance-cards/ticker/avnt/png/logo",WVVIP:"https://abs.twimg.com/grok-finance-cards/ticker/wvvip/png/logo",PLBC:"https://abs.twimg.com/grok-finance-cards/ticker/plbc/png/logo",ACEL:"https://abs.twimg.com/grok-finance-cards/ticker/acel/png/logo",AGFY:"https://abs.twimg.com/grok-finance-cards/ticker/agfy/png/logo",EVAX:"https://abs.twimg.com/grok-finance-cards/ticker/evax/png/logo",NSYS:"https://abs.twimg.com/grok-finance-cards/ticker/nsys/png/logo",ERNA:"https://abs.twimg.com/grok-finance-cards/ticker/erna/png/logo",GRWG:"https://abs.twimg.com/grok-finance-cards/ticker/grwg/png/logo",CLIR:"https://abs.twimg.com/grok-finance-cards/ticker/clir/png/logo",SKYT:"https://abs.twimg.com/grok-finance-cards/ticker/skyt/png/logo",ROKU:"https://abs.twimg.com/grok-finance-cards/ticker/roku/png/logo",FDP:"https://abs.twimg.com/grok-finance-cards/ticker/fdp/png/logo",SSNC:"https://abs.twimg.com/grok-finance-cards/ticker/ssnc/png/logo",VVR:"https://abs.twimg.com/grok-finance-cards/ticker/vvr/png/logo",MYRG:"https://abs.twimg.com/grok-finance-cards/ticker/myrg/png/logo",ARBE:"https://abs.twimg.com/grok-finance-cards/ticker/arbe/png/logo",BHF:"https://abs.twimg.com/grok-finance-cards/ticker/bhf/png/logo",LIDRW:"https://abs.twimg.com/grok-finance-cards/ticker/lidrw/png/logo",ETG:"https://abs.twimg.com/grok-finance-cards/ticker/etg/png/logo",CTRN:"https://abs.twimg.com/grok-finance-cards/ticker/ctrn/png/logo",AVNS:"https://abs.twimg.com/grok-finance-cards/ticker/avns/png/logo",BTCTW:"https://abs.twimg.com/grok-finance-cards/ticker/btctw/png/logo",HHH:"https://abs.twimg.com/grok-finance-cards/ticker/hhh/png/logo",HYFM:"https://abs.twimg.com/grok-finance-cards/ticker/hyfm/png/logo",FNB:"https://abs.twimg.com/grok-finance-cards/ticker/fnb/png/logo",AGCO:"https://abs.twimg.com/grok-finance-cards/ticker/agco/png/logo",LZ:"https://abs.twimg.com/grok-finance-cards/ticker/lz/png/logo",TSCO:"https://abs.twimg.com/grok-finance-cards/ticker/tsco/png/logo",JAGX:"https://abs.twimg.com/grok-finance-cards/ticker/jagx/png/logo",DBD:"https://abs.twimg.com/grok-finance-cards/ticker/dbd/png/logo",SLG:"https://abs.twimg.com/grok-finance-cards/ticker/slg/png/logo",FAF:"https://abs.twimg.com/grok-finance-cards/ticker/faf/png/logo",SNEX:"https://abs.twimg.com/grok-finance-cards/ticker/snex/png/logo",FHTX:"https://abs.twimg.com/grok-finance-cards/ticker/fhtx/png/logo",BGB:"https://abs.twimg.com/grok-finance-cards/ticker/bgb/png/logo",CCSI:"https://abs.twimg.com/grok-finance-cards/ticker/ccsi/png/logo",PLAY:"https://abs.twimg.com/grok-finance-cards/ticker/play/png/logo",GTX:"https://abs.twimg.com/grok-finance-cards/ticker/gtx/png/logo",IDYA:"https://abs.twimg.com/grok-finance-cards/ticker/idya/png/logo",CLFD:"https://abs.twimg.com/grok-finance-cards/ticker/clfd/png/logo",GHLD:"https://abs.twimg.com/grok-finance-cards/ticker/ghld/png/logo",OFIX:"https://abs.twimg.com/grok-finance-cards/ticker/ofix/png/logo",KPRX:"https://abs.twimg.com/grok-finance-cards/ticker/kprx/png/logo",RMAX:"https://abs.twimg.com/grok-finance-cards/ticker/rmax/png/logo",BCML:"https://abs.twimg.com/grok-finance-cards/ticker/bcml/png/logo",AGIO:"https://abs.twimg.com/grok-finance-cards/ticker/agio/png/logo",ADUS:"https://abs.twimg.com/grok-finance-cards/ticker/adus/png/logo",RPD:"https://abs.twimg.com/grok-finance-cards/ticker/rpd/png/logo",SBET:"https://abs.twimg.com/grok-finance-cards/ticker/sbet/png/logo",PATK:"https://abs.twimg.com/grok-finance-cards/ticker/patk/png/logo",PARR:"https://abs.twimg.com/grok-finance-cards/ticker/parr/png/logo",RZLT:"https://abs.twimg.com/grok-finance-cards/ticker/rzlt/png/logo",NKE:"https://abs.twimg.com/grok-finance-cards/ticker/nke/png/logo",CHCO:"https://abs.twimg.com/grok-finance-cards/ticker/chco/png/logo",SYBT:"https://abs.twimg.com/grok-finance-cards/ticker/sybt/png/logo",LH:"https://abs.twimg.com/grok-finance-cards/ticker/lh/png/logo",GWW:"https://abs.twimg.com/grok-finance-cards/ticker/gww/png/logo",MBUU:"https://abs.twimg.com/grok-finance-cards/ticker/mbuu/png/logo",ZCAR:"https://abs.twimg.com/grok-finance-cards/ticker/zcar/png/logo",RCKY:"https://abs.twimg.com/grok-finance-cards/ticker/rcky/png/logo",UIS:"https://abs.twimg.com/grok-finance-cards/ticker/uis/png/logo",PLMR:"https://abs.twimg.com/grok-finance-cards/ticker/plmr/png/logo",BHFAN:"https://abs.twimg.com/grok-finance-cards/ticker/bhfan/png/logo",SLDPW:"https://abs.twimg.com/grok-finance-cards/ticker/sldpw/png/logo",LAZ:"https://abs.twimg.com/grok-finance-cards/ticker/laz/png/logo",POWW:"https://abs.twimg.com/grok-finance-cards/ticker/poww/png/logo",NOMD:"https://abs.twimg.com/grok-finance-cards/ticker/nomd/png/logo",EU:"https://abs.twimg.com/grok-finance-cards/ticker/eu/png/logo",CL:"https://abs.twimg.com/grok-finance-cards/ticker/cl/png/logo",ACIU:"https://abs.twimg.com/grok-finance-cards/ticker/aciu/png/logo",PSA:"https://abs.twimg.com/grok-finance-cards/ticker/psa/png/logo",CDLR:"https://abs.twimg.com/grok-finance-cards/ticker/cdlr/png/logo",DATSW:"https://abs.twimg.com/grok-finance-cards/ticker/datsw/png/logo",BROS:"https://abs.twimg.com/grok-finance-cards/ticker/bros/png/logo",BDX:"https://abs.twimg.com/grok-finance-cards/ticker/bdx/png/logo",SID:"https://abs.twimg.com/grok-finance-cards/ticker/sid/png/logo",AREBW:"https://abs.twimg.com/grok-finance-cards/ticker/arebw/png/logo",BKNG:"https://abs.twimg.com/grok-finance-cards/ticker/bkng/png/logo",KPLTW:"https://abs.twimg.com/grok-finance-cards/ticker/kpltw/png/logo",PRSO:"https://abs.twimg.com/grok-finance-cards/ticker/prso/png/logo",FMX:"https://abs.twimg.com/grok-finance-cards/ticker/fmx/png/logo",SOPA:"https://abs.twimg.com/grok-finance-cards/ticker/sopa/png/logo",WNEB:"https://abs.twimg.com/grok-finance-cards/ticker/wneb/png/logo",BME:"https://abs.twimg.com/grok-finance-cards/ticker/bme/png/logo",ASTS:"https://abs.twimg.com/grok-finance-cards/ticker/asts/png/logo",CUBA:"https://abs.twimg.com/grok-finance-cards/ticker/cuba/png/logo",ALSN:"https://abs.twimg.com/grok-finance-cards/ticker/alsn/png/logo",ETR:"https://abs.twimg.com/grok-finance-cards/ticker/etr/png/logo",WDFC:"https://abs.twimg.com/grok-finance-cards/ticker/wdfc/png/logo",SHOO:"https://abs.twimg.com/grok-finance-cards/ticker/shoo/png/logo",BREA:"https://abs.twimg.com/grok-finance-cards/ticker/brea/png/logo",MAIN:"https://abs.twimg.com/grok-finance-cards/ticker/main/png/logo",FHN:"https://abs.twimg.com/grok-finance-cards/ticker/fhn/png/logo",GIPR:"https://abs.twimg.com/grok-finance-cards/ticker/gipr/png/logo",DBX:"https://abs.twimg.com/grok-finance-cards/ticker/dbx/png/logo",CB:"https://abs.twimg.com/grok-finance-cards/ticker/cb/png/logo",TRUP:"https://abs.twimg.com/grok-finance-cards/ticker/trup/png/logo",PPG:"https://abs.twimg.com/grok-finance-cards/ticker/ppg/png/logo",AVGR:"https://abs.twimg.com/grok-finance-cards/ticker/avgr/png/logo",NVEC:"https://abs.twimg.com/grok-finance-cards/ticker/nvec/png/logo",CNOBP:"https://abs.twimg.com/grok-finance-cards/ticker/cnobp/png/logo",BZFD:"https://abs.twimg.com/grok-finance-cards/ticker/bzfd/png/logo",TERN:"https://abs.twimg.com/grok-finance-cards/ticker/tern/png/logo",AMED:"https://abs.twimg.com/grok-finance-cards/ticker/amed/png/logo",TARS:"https://abs.twimg.com/grok-finance-cards/ticker/tars/png/logo",IRMD:"https://abs.twimg.com/grok-finance-cards/ticker/irmd/png/logo",CWD:"https://abs.twimg.com/grok-finance-cards/ticker/cwd/png/logo",TYG:"https://abs.twimg.com/grok-finance-cards/ticker/tyg/png/logo",INVE:"https://abs.twimg.com/grok-finance-cards/ticker/inve/png/logo",PYCR:"https://abs.twimg.com/grok-finance-cards/ticker/pycr/png/logo",DNMR:"https://abs.twimg.com/grok-finance-cards/ticker/dnmr/png/logo",SPRC:"https://abs.twimg.com/grok-finance-cards/ticker/sprc/png/logo",MRKR:"https://abs.twimg.com/grok-finance-cards/ticker/mrkr/png/logo",FT:"https://abs.twimg.com/grok-finance-cards/ticker/ft/png/logo",COUR:"https://abs.twimg.com/grok-finance-cards/ticker/cour/png/logo",OI:"https://abs.twimg.com/grok-finance-cards/ticker/oi/png/logo",IP:"https://abs.twimg.com/grok-finance-cards/ticker/ip/png/logo",BTMWW:"https://abs.twimg.com/grok-finance-cards/ticker/btmww/png/logo",NSPR:"https://abs.twimg.com/grok-finance-cards/ticker/nspr/png/logo",MTX:"https://abs.twimg.com/grok-finance-cards/ticker/mtx/png/logo",SOPH:"https://abs.twimg.com/grok-finance-cards/ticker/soph/png/logo",HRZN:"https://abs.twimg.com/grok-finance-cards/ticker/hrzn/png/logo",BKU:"https://abs.twimg.com/grok-finance-cards/ticker/bku/png/logo",HLMN:"https://abs.twimg.com/grok-finance-cards/ticker/hlmn/png/logo",OLLI:"https://abs.twimg.com/grok-finance-cards/ticker/olli/png/logo",HHS:"https://abs.twimg.com/grok-finance-cards/ticker/hhs/png/logo",SWKS:"https://abs.twimg.com/grok-finance-cards/ticker/swks/png/logo",DAWN:"https://abs.twimg.com/grok-finance-cards/ticker/dawn/png/logo",BPOP:"https://abs.twimg.com/grok-finance-cards/ticker/bpop/png/logo",JBL:"https://abs.twimg.com/grok-finance-cards/ticker/jbl/png/logo",BGY:"https://abs.twimg.com/grok-finance-cards/ticker/bgy/png/logo",RMMZ:"https://abs.twimg.com/grok-finance-cards/ticker/rmmz/png/logo",CVRX:"https://abs.twimg.com/grok-finance-cards/ticker/cvrx/png/logo",BKR:"https://abs.twimg.com/grok-finance-cards/ticker/bkr/png/logo",LULU:"https://abs.twimg.com/grok-finance-cards/ticker/lulu/png/logo",ON:"https://abs.twimg.com/grok-finance-cards/ticker/on/png/logo",IMCC:"https://abs.twimg.com/grok-finance-cards/ticker/imcc/png/logo",APGE:"https://abs.twimg.com/grok-finance-cards/ticker/apge/png/logo",NGG:"https://abs.twimg.com/grok-finance-cards/ticker/ngg/png/logo",PLNT:"https://abs.twimg.com/grok-finance-cards/ticker/plnt/png/logo",OXY:"https://abs.twimg.com/grok-finance-cards/ticker/oxy/png/logo",PSO:"https://abs.twimg.com/grok-finance-cards/ticker/pso/png/logo",WIW:"https://abs.twimg.com/grok-finance-cards/ticker/wiw/png/logo",RVT:"https://abs.twimg.com/grok-finance-cards/ticker/rvt/png/logo",CHSCP:"https://abs.twimg.com/grok-finance-cards/ticker/chscp/png/logo",MVST:"https://abs.twimg.com/grok-finance-cards/ticker/mvst/png/logo",PBPB:"https://abs.twimg.com/grok-finance-cards/ticker/pbpb/png/logo",EFR:"https://abs.twimg.com/grok-finance-cards/ticker/efr/png/logo",LFUS:"https://abs.twimg.com/grok-finance-cards/ticker/lfus/png/logo",GCI:"https://abs.twimg.com/grok-finance-cards/ticker/gci/png/logo",HOLX:"https://abs.twimg.com/grok-finance-cards/ticker/holx/png/logo",OPFI:"https://abs.twimg.com/grok-finance-cards/ticker/opfi/png/logo",SPCE:"https://abs.twimg.com/grok-finance-cards/ticker/spce/png/logo",FSS:"https://abs.twimg.com/grok-finance-cards/ticker/fss/png/logo",KPLT:"https://abs.twimg.com/grok-finance-cards/ticker/kplt/png/logo",POCI:"https://abs.twimg.com/grok-finance-cards/ticker/poci/png/logo",PLUG:"https://abs.twimg.com/grok-finance-cards/ticker/plug/png/logo",TRMK:"https://abs.twimg.com/grok-finance-cards/ticker/trmk/png/logo",QUIK:"https://abs.twimg.com/grok-finance-cards/ticker/quik/png/logo",AMTB:"https://abs.twimg.com/grok-finance-cards/ticker/amtb/png/logo",SABR:"https://abs.twimg.com/grok-finance-cards/ticker/sabr/png/logo",CFB:"https://abs.twimg.com/grok-finance-cards/ticker/cfb/png/logo",HTLFP:"https://abs.twimg.com/grok-finance-cards/ticker/htlfp/png/logo",GNTA:"https://abs.twimg.com/grok-finance-cards/ticker/gnta/png/logo",REYN:"https://abs.twimg.com/grok-finance-cards/ticker/reyn/png/logo",CIF:"https://abs.twimg.com/grok-finance-cards/ticker/cif/png/logo",NSP:"https://abs.twimg.com/grok-finance-cards/ticker/nsp/png/logo",PAA:"https://abs.twimg.com/grok-finance-cards/ticker/paa/png/logo",NAMSW:"https://abs.twimg.com/grok-finance-cards/ticker/namsw/png/logo",ALDX:"https://abs.twimg.com/grok-finance-cards/ticker/aldx/png/logo",MGRC:"https://abs.twimg.com/grok-finance-cards/ticker/mgrc/png/logo",RBC:"https://abs.twimg.com/grok-finance-cards/ticker/rbc/png/logo",CTLP:"https://abs.twimg.com/grok-finance-cards/ticker/ctlp/png/logo",WU:"https://abs.twimg.com/grok-finance-cards/ticker/wu/png/logo",SGMA:"https://abs.twimg.com/grok-finance-cards/ticker/sgma/png/logo",SPCB:"https://abs.twimg.com/grok-finance-cards/ticker/spcb/png/logo",RGR:"https://abs.twimg.com/grok-finance-cards/ticker/rgr/png/logo",ADBE:"https://abs.twimg.com/grok-finance-cards/ticker/adbe/png/logo",MRSN:"https://abs.twimg.com/grok-finance-cards/ticker/mrsn/png/logo",PMM:"https://abs.twimg.com/grok-finance-cards/ticker/pmm/png/logo",ZAPP:"https://abs.twimg.com/grok-finance-cards/ticker/zapp/png/logo",TURB:"https://abs.twimg.com/grok-finance-cards/ticker/turb/png/logo",RMCOW:"https://abs.twimg.com/grok-finance-cards/ticker/rmcow/png/logo",ADMA:"https://abs.twimg.com/grok-finance-cards/ticker/adma/png/logo",LCFYW:"https://abs.twimg.com/grok-finance-cards/ticker/lcfyw/png/logo",CCS:"https://abs.twimg.com/grok-finance-cards/ticker/ccs/png/logo",J:"https://abs.twimg.com/grok-finance-cards/ticker/j/png/logo",BBIO:"https://abs.twimg.com/grok-finance-cards/ticker/bbio/png/logo",RSVRW:"https://abs.twimg.com/grok-finance-cards/ticker/rsvrw/png/logo",MIR:"https://abs.twimg.com/grok-finance-cards/ticker/mir/png/logo",FLEX:"https://abs.twimg.com/grok-finance-cards/ticker/flex/png/logo",CIA:"https://abs.twimg.com/grok-finance-cards/ticker/cia/png/logo",RC:"https://abs.twimg.com/grok-finance-cards/ticker/rc/png/logo",ARVN:"https://abs.twimg.com/grok-finance-cards/ticker/arvn/png/logo",STIM:"https://abs.twimg.com/grok-finance-cards/ticker/stim/png/logo",AEG:"https://abs.twimg.com/grok-finance-cards/ticker/aeg/png/logo",PCTTU:"https://abs.twimg.com/grok-finance-cards/ticker/pcttu/png/logo",TRML:"https://abs.twimg.com/grok-finance-cards/ticker/trml/png/logo",MGRM:"https://abs.twimg.com/grok-finance-cards/ticker/mgrm/png/logo",INDB:"https://abs.twimg.com/grok-finance-cards/ticker/indb/png/logo",DSP:"https://abs.twimg.com/grok-finance-cards/ticker/dsp/png/logo",PARAA:"https://abs.twimg.com/grok-finance-cards/ticker/paraa/png/logo",SINT:"https://abs.twimg.com/grok-finance-cards/ticker/sint/png/logo",IIF:"https://abs.twimg.com/grok-finance-cards/ticker/iif/png/logo",TS:"https://abs.twimg.com/grok-finance-cards/ticker/ts/png/logo",GDRX:"https://abs.twimg.com/grok-finance-cards/ticker/gdrx/png/logo",STN:"https://abs.twimg.com/grok-finance-cards/ticker/stn/png/logo",POOL:"https://abs.twimg.com/grok-finance-cards/ticker/pool/png/logo",SIGI:"https://abs.twimg.com/grok-finance-cards/ticker/sigi/png/logo",THO:"https://abs.twimg.com/grok-finance-cards/ticker/tho/png/logo",PRAA:"https://abs.twimg.com/grok-finance-cards/ticker/praa/png/logo",DOOO:"https://abs.twimg.com/grok-finance-cards/ticker/dooo/png/logo",RYAN:"https://abs.twimg.com/grok-finance-cards/ticker/ryan/png/logo",PHR:"https://abs.twimg.com/grok-finance-cards/ticker/phr/png/logo",VXRT:"https://abs.twimg.com/grok-finance-cards/ticker/vxrt/png/logo",WTS:"https://abs.twimg.com/grok-finance-cards/ticker/wts/png/logo",RMI:"https://abs.twimg.com/grok-finance-cards/ticker/rmi/png/logo",APPS:"https://abs.twimg.com/grok-finance-cards/ticker/apps/png/logo",SANW:"https://abs.twimg.com/grok-finance-cards/ticker/sanw/png/logo",SLRX:"https://abs.twimg.com/grok-finance-cards/ticker/slrx/png/logo",EIX:"https://abs.twimg.com/grok-finance-cards/ticker/eix/png/logo",MORN:"https://abs.twimg.com/grok-finance-cards/ticker/morn/png/logo",KIDS:"https://abs.twimg.com/grok-finance-cards/ticker/kids/png/logo",SOND:"https://abs.twimg.com/grok-finance-cards/ticker/sond/png/logo",GRFS:"https://abs.twimg.com/grok-finance-cards/ticker/grfs/png/logo",MCI:"https://abs.twimg.com/grok-finance-cards/ticker/mci/png/logo",PCOR:"https://abs.twimg.com/grok-finance-cards/ticker/pcor/png/logo",KTCC:"https://abs.twimg.com/grok-finance-cards/ticker/ktcc/png/logo",VOYA:"https://abs.twimg.com/grok-finance-cards/ticker/voya/png/logo",KFRC:"https://abs.twimg.com/grok-finance-cards/ticker/kfrc/png/logo",C:"https://abs.twimg.com/grok-finance-cards/ticker/c/png/logo",VYNE:"https://abs.twimg.com/grok-finance-cards/ticker/vyne/png/logo",DVAX:"https://abs.twimg.com/grok-finance-cards/ticker/dvax/png/logo",OABIW:"https://abs.twimg.com/grok-finance-cards/ticker/oabiw/png/logo",OCC:"https://abs.twimg.com/grok-finance-cards/ticker/occ/png/logo",TRMB:"https://abs.twimg.com/grok-finance-cards/ticker/trmb/png/logo",NGVT:"https://abs.twimg.com/grok-finance-cards/ticker/ngvt/png/logo",OSPN:"https://abs.twimg.com/grok-finance-cards/ticker/ospn/png/logo",AEI:"https://abs.twimg.com/grok-finance-cards/ticker/aei/png/logo",TGL:"https://abs.twimg.com/grok-finance-cards/ticker/tgl/png/logo",LMFA:"https://abs.twimg.com/grok-finance-cards/ticker/lmfa/png/logo",TT:"https://abs.twimg.com/grok-finance-cards/ticker/tt/png/logo",AZUL:"https://abs.twimg.com/grok-finance-cards/ticker/azul/png/logo",ALT:"https://abs.twimg.com/grok-finance-cards/ticker/alt/png/logo",HPF:"https://abs.twimg.com/grok-finance-cards/ticker/hpf/png/logo",AMWD:"https://abs.twimg.com/grok-finance-cards/ticker/amwd/png/logo",FBIN:"https://abs.twimg.com/grok-finance-cards/ticker/fbin/png/logo",FGBIP:"https://abs.twimg.com/grok-finance-cards/ticker/fgbip/png/logo",D:"https://abs.twimg.com/grok-finance-cards/ticker/d/png/logo",RBOT:"https://abs.twimg.com/grok-finance-cards/ticker/rbot/png/logo",RNA:"https://abs.twimg.com/grok-finance-cards/ticker/rna/png/logo",MCN:"https://abs.twimg.com/grok-finance-cards/ticker/mcn/png/logo",IVVD:"https://abs.twimg.com/grok-finance-cards/ticker/ivvd/png/logo",CVLT:"https://abs.twimg.com/grok-finance-cards/ticker/cvlt/png/logo",SGMO:"https://abs.twimg.com/grok-finance-cards/ticker/sgmo/png/logo",DVA:"https://abs.twimg.com/grok-finance-cards/ticker/dva/png/logo",NVO:"https://abs.twimg.com/grok-finance-cards/ticker/nvo/png/logo",ABAT:"https://abs.twimg.com/grok-finance-cards/ticker/abat/png/logo",TDC:"https://abs.twimg.com/grok-finance-cards/ticker/tdc/png/logo",GRABW:"https://abs.twimg.com/grok-finance-cards/ticker/grabw/png/logo",TNC:"https://abs.twimg.com/grok-finance-cards/ticker/tnc/png/logo",LYT:"https://abs.twimg.com/grok-finance-cards/ticker/lyt/png/logo",FCNCA:"https://abs.twimg.com/grok-finance-cards/ticker/fcnca/png/logo",HYI:"https://abs.twimg.com/grok-finance-cards/ticker/hyi/png/logo",LCID:"https://abs.twimg.com/grok-finance-cards/ticker/lcid/png/logo",PHG:"https://abs.twimg.com/grok-finance-cards/ticker/phg/png/logo",MGRX:"https://abs.twimg.com/grok-finance-cards/ticker/mgrx/png/logo",MIN:"https://abs.twimg.com/grok-finance-cards/ticker/min/png/logo",PGC:"https://abs.twimg.com/grok-finance-cards/ticker/pgc/png/logo",USIO:"https://abs.twimg.com/grok-finance-cards/ticker/usio/png/logo",TDUP:"https://abs.twimg.com/grok-finance-cards/ticker/tdup/png/logo",GNRC:"https://abs.twimg.com/grok-finance-cards/ticker/gnrc/png/logo",BZH:"https://abs.twimg.com/grok-finance-cards/ticker/bzh/png/logo",NCSM:"https://abs.twimg.com/grok-finance-cards/ticker/ncsm/png/logo",GOGO:"https://abs.twimg.com/grok-finance-cards/ticker/gogo/png/logo",OMAB:"https://abs.twimg.com/grok-finance-cards/ticker/omab/png/logo",IEX:"https://abs.twimg.com/grok-finance-cards/ticker/iex/png/logo",SQM:"https://abs.twimg.com/grok-finance-cards/ticker/sqm/png/logo",ABNB:"https://abs.twimg.com/grok-finance-cards/ticker/abnb/png/logo",HSTM:"https://abs.twimg.com/grok-finance-cards/ticker/hstm/png/logo",V:"https://abs.twimg.com/grok-finance-cards/ticker/v/png/logo",CCO:"https://abs.twimg.com/grok-finance-cards/ticker/cco/png/logo",AIP:"https://abs.twimg.com/grok-finance-cards/ticker/aip/png/logo",APPF:"https://abs.twimg.com/grok-finance-cards/ticker/appf/png/logo",CRESY:"https://abs.twimg.com/grok-finance-cards/ticker/cresy/png/logo",PSTX:"https://abs.twimg.com/grok-finance-cards/ticker/pstx/png/logo",EOT:"https://abs.twimg.com/grok-finance-cards/ticker/eot/png/logo",BGSF:"https://abs.twimg.com/grok-finance-cards/ticker/bgsf/png/logo",MCRB:"https://abs.twimg.com/grok-finance-cards/ticker/mcrb/png/logo",LOCO:"https://abs.twimg.com/grok-finance-cards/ticker/loco/png/logo",HPS:"https://abs.twimg.com/grok-finance-cards/ticker/hps/png/logo",HOOK:"https://abs.twimg.com/grok-finance-cards/ticker/hook/png/logo",KNTK:"https://abs.twimg.com/grok-finance-cards/ticker/kntk/png/logo",MFM:"https://abs.twimg.com/grok-finance-cards/ticker/mfm/png/logo",INKT:"https://abs.twimg.com/grok-finance-cards/ticker/inkt/png/logo",ARBEW:"https://abs.twimg.com/grok-finance-cards/ticker/arbew/png/logo",AGRI:"https://abs.twimg.com/grok-finance-cards/ticker/agri/png/logo",SLNHP:"https://abs.twimg.com/grok-finance-cards/ticker/slnhp/png/logo",CENT:"https://abs.twimg.com/grok-finance-cards/ticker/cent/png/logo",EOS:"https://abs.twimg.com/grok-finance-cards/ticker/eos/png/logo",SMMT:"https://abs.twimg.com/grok-finance-cards/ticker/smmt/png/logo",ALAR:"https://abs.twimg.com/grok-finance-cards/ticker/alar/png/logo",BEPC:"https://abs.twimg.com/grok-finance-cards/ticker/bepc/png/logo",SOHO:"https://abs.twimg.com/grok-finance-cards/ticker/soho/png/logo",PBR:"https://abs.twimg.com/grok-finance-cards/ticker/pbr/png/logo",MATV:"https://abs.twimg.com/grok-finance-cards/ticker/matv/png/logo",UHAL:"https://abs.twimg.com/grok-finance-cards/ticker/uhal/png/logo",ICUCW:"https://abs.twimg.com/grok-finance-cards/ticker/icucw/png/logo",AXSM:"https://abs.twimg.com/grok-finance-cards/ticker/axsm/png/logo",AON:"https://abs.twimg.com/grok-finance-cards/ticker/aon/png/logo",TKR:"https://abs.twimg.com/grok-finance-cards/ticker/tkr/png/logo",UDMY:"https://abs.twimg.com/grok-finance-cards/ticker/udmy/png/logo",UTL:"https://abs.twimg.com/grok-finance-cards/ticker/utl/png/logo",XGN:"https://abs.twimg.com/grok-finance-cards/ticker/xgn/png/logo",CRESW:"https://abs.twimg.com/grok-finance-cards/ticker/cresw/png/logo",PSTV:"https://abs.twimg.com/grok-finance-cards/ticker/pstv/png/logo",VSAT:"https://abs.twimg.com/grok-finance-cards/ticker/vsat/png/logo",NVS:"https://abs.twimg.com/grok-finance-cards/ticker/nvs/png/logo",COKE:"https://abs.twimg.com/grok-finance-cards/ticker/coke/png/logo",X:"https://abs.twimg.com/grok-finance-cards/ticker/x/png/logo",EXPD:"https://abs.twimg.com/grok-finance-cards/ticker/expd/png/logo",FSBW:"https://abs.twimg.com/grok-finance-cards/ticker/fsbw/png/logo",MCR:"https://abs.twimg.com/grok-finance-cards/ticker/mcr/png/logo",YHGJ:"https://abs.twimg.com/grok-finance-cards/ticker/yhgj/png/logo",SWVL:"https://abs.twimg.com/grok-finance-cards/ticker/swvl/png/logo",DIOD:"https://abs.twimg.com/grok-finance-cards/ticker/diod/png/logo",TH:"https://abs.twimg.com/grok-finance-cards/ticker/th/png/logo",BLIN:"https://abs.twimg.com/grok-finance-cards/ticker/blin/png/logo",ACONW:"https://abs.twimg.com/grok-finance-cards/ticker/aconw/png/logo",FPI:"https://abs.twimg.com/grok-finance-cards/ticker/fpi/png/logo",LNZA:"https://abs.twimg.com/grok-finance-cards/ticker/lnza/png/logo",SYTAW:"https://abs.twimg.com/grok-finance-cards/ticker/sytaw/png/logo",NVRI:"https://abs.twimg.com/grok-finance-cards/ticker/nvri/png/logo",GOVXW:"https://abs.twimg.com/grok-finance-cards/ticker/govxw/png/logo",KTOS:"https://abs.twimg.com/grok-finance-cards/ticker/ktos/png/logo",ANGO:"https://abs.twimg.com/grok-finance-cards/ticker/ango/png/logo",VRTX:"https://abs.twimg.com/grok-finance-cards/ticker/vrtx/png/logo",TALKW:"https://abs.twimg.com/grok-finance-cards/ticker/talkw/png/logo",PYXS:"https://abs.twimg.com/grok-finance-cards/ticker/pyxs/png/logo",PLUR:"https://abs.twimg.com/grok-finance-cards/ticker/plur/png/logo",NCPL:"https://abs.twimg.com/grok-finance-cards/ticker/ncpl/png/logo",CLRO:"https://abs.twimg.com/grok-finance-cards/ticker/clro/png/logo",FCNCO:"https://abs.twimg.com/grok-finance-cards/ticker/fcnco/png/logo",VMO:"https://abs.twimg.com/grok-finance-cards/ticker/vmo/png/logo",AMRN:"https://abs.twimg.com/grok-finance-cards/ticker/amrn/png/logo",WING:"https://abs.twimg.com/grok-finance-cards/ticker/wing/png/logo",SABSW:"https://abs.twimg.com/grok-finance-cards/ticker/sabsw/png/logo",HZO:"https://abs.twimg.com/grok-finance-cards/ticker/hzo/png/logo",DCOM:"https://abs.twimg.com/grok-finance-cards/ticker/dcom/png/logo",FIVE:"https://abs.twimg.com/grok-finance-cards/ticker/five/png/logo",ILMN:"https://abs.twimg.com/grok-finance-cards/ticker/ilmn/png/logo",PLPC:"https://abs.twimg.com/grok-finance-cards/ticker/plpc/png/logo",DGII:"https://abs.twimg.com/grok-finance-cards/ticker/dgii/png/logo",CPTNW:"https://abs.twimg.com/grok-finance-cards/ticker/cptnw/png/logo",TTMI:"https://abs.twimg.com/grok-finance-cards/ticker/ttmi/png/logo",EDAP:"https://abs.twimg.com/grok-finance-cards/ticker/edap/png/logo",MARA:"https://abs.twimg.com/grok-finance-cards/ticker/mara/png/logo",NVT:"https://abs.twimg.com/grok-finance-cards/ticker/nvt/png/logo",MSEX:"https://abs.twimg.com/grok-finance-cards/ticker/msex/png/logo",CLB:"https://abs.twimg.com/grok-finance-cards/ticker/clb/png/logo",VAC:"https://abs.twimg.com/grok-finance-cards/ticker/vac/png/logo",LUV:"https://abs.twimg.com/grok-finance-cards/ticker/luv/png/logo",HNST:"https://abs.twimg.com/grok-finance-cards/ticker/hnst/png/logo",MUFG:"https://abs.twimg.com/grok-finance-cards/ticker/mufg/png/logo",TGLS:"https://abs.twimg.com/grok-finance-cards/ticker/tgls/png/logo",BHLB:"https://abs.twimg.com/grok-finance-cards/ticker/bhlb/png/logo",AER:"https://abs.twimg.com/grok-finance-cards/ticker/aer/png/logo",VKQ:"https://abs.twimg.com/grok-finance-cards/ticker/vkq/png/logo",GABC:"https://abs.twimg.com/grok-finance-cards/ticker/gabc/png/logo",MDAI:"https://abs.twimg.com/grok-finance-cards/ticker/mdai/png/logo",WKHS:"https://abs.twimg.com/grok-finance-cards/ticker/wkhs/png/logo",OCX:"https://abs.twimg.com/grok-finance-cards/ticker/ocx/png/logo",LFVN:"https://abs.twimg.com/grok-finance-cards/ticker/lfvn/png/logo",LDTCW:"https://abs.twimg.com/grok-finance-cards/ticker/ldtcw/png/logo",JBLU:"https://abs.twimg.com/grok-finance-cards/ticker/jblu/png/logo",ANGH:"https://abs.twimg.com/grok-finance-cards/ticker/angh/png/logo",FITBI:"https://abs.twimg.com/grok-finance-cards/ticker/fitbi/png/logo",DSL:"https://abs.twimg.com/grok-finance-cards/ticker/dsl/png/logo",LECO:"https://abs.twimg.com/grok-finance-cards/ticker/leco/png/logo",TU:"https://abs.twimg.com/grok-finance-cards/ticker/tu/png/logo",RL:"https://abs.twimg.com/grok-finance-cards/ticker/rl/png/logo",NPWR:"https://abs.twimg.com/grok-finance-cards/ticker/npwr/png/logo",BASE:"https://abs.twimg.com/grok-finance-cards/ticker/base/png/logo",ATSG:"https://abs.twimg.com/grok-finance-cards/ticker/atsg/png/logo",GIS:"https://abs.twimg.com/grok-finance-cards/ticker/gis/png/logo",OPEN:"https://abs.twimg.com/grok-finance-cards/ticker/open/png/logo",CDXC:"https://abs.twimg.com/grok-finance-cards/ticker/cdxc/png/logo",MOD:"https://abs.twimg.com/grok-finance-cards/ticker/mod/png/logo",JMSB:"https://abs.twimg.com/grok-finance-cards/ticker/jmsb/png/logo",PHT:"https://abs.twimg.com/grok-finance-cards/ticker/pht/png/logo",ALKT:"https://abs.twimg.com/grok-finance-cards/ticker/alkt/png/logo",ECL:"https://abs.twimg.com/grok-finance-cards/ticker/ecl/png/logo",LYG:"https://abs.twimg.com/grok-finance-cards/ticker/lyg/png/logo",REVB:"https://abs.twimg.com/grok-finance-cards/ticker/revb/png/logo",LBTYK:"https://abs.twimg.com/grok-finance-cards/ticker/lbtyk/png/logo",FMST:"https://abs.twimg.com/grok-finance-cards/ticker/fmst/png/logo",ZBH:"https://abs.twimg.com/grok-finance-cards/ticker/zbh/png/logo",EOG:"https://abs.twimg.com/grok-finance-cards/ticker/eog/png/logo",BEATW:"https://abs.twimg.com/grok-finance-cards/ticker/beatw/png/logo",PECO:"https://abs.twimg.com/grok-finance-cards/ticker/peco/png/logo",KIM:"https://abs.twimg.com/grok-finance-cards/ticker/kim/png/logo",CLX:"https://abs.twimg.com/grok-finance-cards/ticker/clx/png/logo",REZI:"https://abs.twimg.com/grok-finance-cards/ticker/rezi/png/logo",IPSC:"https://abs.twimg.com/grok-finance-cards/ticker/ipsc/png/logo",SXC:"https://abs.twimg.com/grok-finance-cards/ticker/sxc/png/logo",CHWY:"https://abs.twimg.com/grok-finance-cards/ticker/chwy/png/logo",E:"https://abs.twimg.com/grok-finance-cards/ticker/e/png/logo",FBIO:"https://abs.twimg.com/grok-finance-cards/ticker/fbio/png/logo",AFG:"https://abs.twimg.com/grok-finance-cards/ticker/afg/png/logo",LOOP:"https://abs.twimg.com/grok-finance-cards/ticker/loop/png/logo",INNV:"https://abs.twimg.com/grok-finance-cards/ticker/innv/png/logo",KLTR:"https://abs.twimg.com/grok-finance-cards/ticker/kltr/png/logo",HRMY:"https://abs.twimg.com/grok-finance-cards/ticker/hrmy/png/logo",ZEUS:"https://abs.twimg.com/grok-finance-cards/ticker/zeus/png/logo",MAXN:"https://abs.twimg.com/grok-finance-cards/ticker/maxn/png/logo",ELAN:"https://abs.twimg.com/grok-finance-cards/ticker/elan/png/logo",NWBI:"https://abs.twimg.com/grok-finance-cards/ticker/nwbi/png/logo",VSME:"https://abs.twimg.com/grok-finance-cards/ticker/vsme/png/logo",ACV:"https://abs.twimg.com/grok-finance-cards/ticker/acv/png/logo",AEO:"https://abs.twimg.com/grok-finance-cards/ticker/aeo/png/logo",ALKS:"https://abs.twimg.com/grok-finance-cards/ticker/alks/png/logo",ASIX:"https://abs.twimg.com/grok-finance-cards/ticker/asix/png/logo",COP:"https://abs.twimg.com/grok-finance-cards/ticker/cop/png/logo",CII:"https://abs.twimg.com/grok-finance-cards/ticker/cii/png/logo",SOHOB:"https://abs.twimg.com/grok-finance-cards/ticker/sohob/png/logo",COGT:"https://abs.twimg.com/grok-finance-cards/ticker/cogt/png/logo",OFS:"https://abs.twimg.com/grok-finance-cards/ticker/ofs/png/logo",CVEO:"https://abs.twimg.com/grok-finance-cards/ticker/cveo/png/logo",RNG:"https://abs.twimg.com/grok-finance-cards/ticker/rng/png/logo",SMBC:"https://abs.twimg.com/grok-finance-cards/ticker/smbc/png/logo",CNTA:"https://abs.twimg.com/grok-finance-cards/ticker/cnta/png/logo",ORLY:"https://abs.twimg.com/grok-finance-cards/ticker/orly/png/logo",ICU:"https://abs.twimg.com/grok-finance-cards/ticker/icu/png/logo",XRAY:"https://abs.twimg.com/grok-finance-cards/ticker/xray/png/logo",TNYA:"https://abs.twimg.com/grok-finance-cards/ticker/tnya/png/logo",VHC:"https://abs.twimg.com/grok-finance-cards/ticker/vhc/png/logo",CMND:"https://abs.twimg.com/grok-finance-cards/ticker/cmnd/png/logo",ASTLW:"https://abs.twimg.com/grok-finance-cards/ticker/astlw/png/logo",ELME:"https://abs.twimg.com/grok-finance-cards/ticker/elme/png/logo",DECK:"https://abs.twimg.com/grok-finance-cards/ticker/deck/png/logo",KOS:"https://abs.twimg.com/grok-finance-cards/ticker/kos/png/logo",REGCP:"https://abs.twimg.com/grok-finance-cards/ticker/regcp/png/logo",JPM:"https://abs.twimg.com/grok-finance-cards/ticker/jpm/png/logo",PSTL:"https://abs.twimg.com/grok-finance-cards/ticker/pstl/png/logo",PBA:"https://abs.twimg.com/grok-finance-cards/ticker/pba/png/logo",EFT:"https://abs.twimg.com/grok-finance-cards/ticker/eft/png/logo",CAKE:"https://abs.twimg.com/grok-finance-cards/ticker/cake/png/logo",LILA:"https://abs.twimg.com/grok-finance-cards/ticker/lila/png/logo",ROST:"https://abs.twimg.com/grok-finance-cards/ticker/rost/png/logo",PHVS:"https://abs.twimg.com/grok-finance-cards/ticker/phvs/png/logo",K:"https://abs.twimg.com/grok-finance-cards/ticker/k/png/logo",BLCO:"https://abs.twimg.com/grok-finance-cards/ticker/blco/png/logo",SWI:"https://abs.twimg.com/grok-finance-cards/ticker/swi/png/logo",FUL:"https://abs.twimg.com/grok-finance-cards/ticker/ful/png/logo",WT:"https://abs.twimg.com/grok-finance-cards/ticker/wt/png/logo",WLDSW:"https://abs.twimg.com/grok-finance-cards/ticker/wldsw/png/logo",DVN:"https://abs.twimg.com/grok-finance-cards/ticker/dvn/png/logo",EOI:"https://abs.twimg.com/grok-finance-cards/ticker/eoi/png/logo",RVTY:"https://abs.twimg.com/grok-finance-cards/ticker/rvty/png/logo",BWAY:"https://abs.twimg.com/grok-finance-cards/ticker/bway/png/logo",AMTD:"https://abs.twimg.com/grok-finance-cards/ticker/amtd/png/logo",SIGA:"https://abs.twimg.com/grok-finance-cards/ticker/siga/png/logo",BLFY:"https://abs.twimg.com/grok-finance-cards/ticker/blfy/png/logo",THG:"https://abs.twimg.com/grok-finance-cards/ticker/thg/png/logo",NBIX:"https://abs.twimg.com/grok-finance-cards/ticker/nbix/png/logo",PNC:"https://abs.twimg.com/grok-finance-cards/ticker/pnc/png/logo",RCUS:"https://abs.twimg.com/grok-finance-cards/ticker/rcus/png/logo",HYT:"https://abs.twimg.com/grok-finance-cards/ticker/hyt/png/logo",WRB:"https://abs.twimg.com/grok-finance-cards/ticker/wrb/png/logo",AFBI:"https://abs.twimg.com/grok-finance-cards/ticker/afbi/png/logo",CNXC:"https://abs.twimg.com/grok-finance-cards/ticker/cnxc/png/logo",HPI:"https://abs.twimg.com/grok-finance-cards/ticker/hpi/png/logo",INBS:"https://abs.twimg.com/grok-finance-cards/ticker/inbs/png/logo",ELF:"https://abs.twimg.com/grok-finance-cards/ticker/elf/png/logo",DSX:"https://abs.twimg.com/grok-finance-cards/ticker/dsx/png/logo",PMCB:"https://abs.twimg.com/grok-finance-cards/ticker/pmcb/png/logo",KODK:"https://abs.twimg.com/grok-finance-cards/ticker/kodk/png/logo",PLYM:"https://abs.twimg.com/grok-finance-cards/ticker/plym/png/logo",RGT:"https://abs.twimg.com/grok-finance-cards/ticker/rgt/png/logo",TMCWW:"https://abs.twimg.com/grok-finance-cards/ticker/tmcww/png/logo",AOS:"https://abs.twimg.com/grok-finance-cards/ticker/aos/png/logo",VGI:"https://abs.twimg.com/grok-finance-cards/ticker/vgi/png/logo",VISL:"https://abs.twimg.com/grok-finance-cards/ticker/visl/png/logo",KMDA:"https://abs.twimg.com/grok-finance-cards/ticker/kmda/png/logo",PRME:"https://abs.twimg.com/grok-finance-cards/ticker/prme/png/logo",WS:"https://abs.twimg.com/grok-finance-cards/ticker/ws/png/logo",SAGE:"https://abs.twimg.com/grok-finance-cards/ticker/sage/png/logo",NEPH:"https://abs.twimg.com/grok-finance-cards/ticker/neph/png/logo",VNT:"https://abs.twimg.com/grok-finance-cards/ticker/vnt/png/logo",AMWL:"https://abs.twimg.com/grok-finance-cards/ticker/amwl/png/logo",OABI:"https://abs.twimg.com/grok-finance-cards/ticker/oabi/png/logo",SYPR:"https://abs.twimg.com/grok-finance-cards/ticker/sypr/png/logo",CCU:"https://abs.twimg.com/grok-finance-cards/ticker/ccu/png/logo",TKO:"https://abs.twimg.com/grok-finance-cards/ticker/tko/png/logo",NNOX:"https://abs.twimg.com/grok-finance-cards/ticker/nnox/png/logo",FSBC:"https://abs.twimg.com/grok-finance-cards/ticker/fsbc/png/logo",AKTS:"https://abs.twimg.com/grok-finance-cards/ticker/akts/png/logo",WINT:"https://abs.twimg.com/grok-finance-cards/ticker/wint/png/logo",OMGA:"https://abs.twimg.com/grok-finance-cards/ticker/omga/png/logo",SCHL:"https://abs.twimg.com/grok-finance-cards/ticker/schl/png/logo",CIG:"https://abs.twimg.com/grok-finance-cards/ticker/cig/png/logo",CRON:"https://abs.twimg.com/grok-finance-cards/ticker/cron/png/logo",III:"https://abs.twimg.com/grok-finance-cards/ticker/iii/png/logo",RBB:"https://abs.twimg.com/grok-finance-cards/ticker/rbb/png/logo",LKCO:"https://abs.twimg.com/grok-finance-cards/ticker/lkco/png/logo",OLO:"https://abs.twimg.com/grok-finance-cards/ticker/olo/png/logo",PGY:"https://abs.twimg.com/grok-finance-cards/ticker/pgy/png/logo",ANAB:"https://abs.twimg.com/grok-finance-cards/ticker/anab/png/logo",AIRG:"https://abs.twimg.com/grok-finance-cards/ticker/airg/png/logo",NRXPW:"https://abs.twimg.com/grok-finance-cards/ticker/nrxpw/png/logo",TACT:"https://abs.twimg.com/grok-finance-cards/ticker/tact/png/logo",LBTYB:"https://abs.twimg.com/grok-finance-cards/ticker/lbtyb/png/logo",SSSS:"https://abs.twimg.com/grok-finance-cards/ticker/ssss/png/logo",EDBL:"https://abs.twimg.com/grok-finance-cards/ticker/edbl/png/logo",SABS:"https://abs.twimg.com/grok-finance-cards/ticker/sabs/png/logo",MKTW:"https://abs.twimg.com/grok-finance-cards/ticker/mktw/png/logo",SSYS:"https://abs.twimg.com/grok-finance-cards/ticker/ssys/png/logo",TDY:"https://abs.twimg.com/grok-finance-cards/ticker/tdy/png/logo",APPN:"https://abs.twimg.com/grok-finance-cards/ticker/appn/png/logo",BUD:"https://abs.twimg.com/grok-finance-cards/ticker/bud/png/logo",SONY:"https://abs.twimg.com/grok-finance-cards/ticker/sony/png/logo",HELE:"https://abs.twimg.com/grok-finance-cards/ticker/hele/png/logo",NTRB:"https://abs.twimg.com/grok-finance-cards/ticker/ntrb/png/logo",RGF:"https://abs.twimg.com/grok-finance-cards/ticker/rgf/png/logo",SRFM:"https://abs.twimg.com/grok-finance-cards/ticker/srfm/png/logo",AVPTW:"https://abs.twimg.com/grok-finance-cards/ticker/avptw/png/logo",DALN:"https://abs.twimg.com/grok-finance-cards/ticker/daln/png/logo",ALNY:"https://abs.twimg.com/grok-finance-cards/ticker/alny/png/logo",IEP:"https://abs.twimg.com/grok-finance-cards/ticker/iep/png/logo",JAZZ:"https://abs.twimg.com/grok-finance-cards/ticker/jazz/png/logo",NVRO:"https://abs.twimg.com/grok-finance-cards/ticker/nvro/png/logo",HOOD:"https://abs.twimg.com/grok-finance-cards/ticker/hood/png/logo",PAR:"https://abs.twimg.com/grok-finance-cards/ticker/par/png/logo",SGHC:"https://abs.twimg.com/grok-finance-cards/ticker/sghc/png/logo",MSAIW:"https://abs.twimg.com/grok-finance-cards/ticker/msaiw/png/logo",EYEN:"https://abs.twimg.com/grok-finance-cards/ticker/eyen/png/logo",DSM:"https://abs.twimg.com/grok-finance-cards/ticker/dsm/png/logo",THR:"https://abs.twimg.com/grok-finance-cards/ticker/thr/png/logo",TNK:"https://abs.twimg.com/grok-finance-cards/ticker/tnk/png/logo",SOUNW:"https://abs.twimg.com/grok-finance-cards/ticker/sounw/png/logo",AES:"https://abs.twimg.com/grok-finance-cards/ticker/aes/png/logo",SABA:"https://abs.twimg.com/grok-finance-cards/ticker/saba/png/logo",RMT:"https://abs.twimg.com/grok-finance-cards/ticker/rmt/png/logo",INMB:"https://abs.twimg.com/grok-finance-cards/ticker/inmb/png/logo",SOBR:"https://abs.twimg.com/grok-finance-cards/ticker/sobr/png/logo",GFL:"https://abs.twimg.com/grok-finance-cards/ticker/gfl/png/logo",WFRD:"https://abs.twimg.com/grok-finance-cards/ticker/wfrd/png/logo",MRVL:"https://abs.twimg.com/grok-finance-cards/ticker/mrvl/png/logo",NEOVW:"https://abs.twimg.com/grok-finance-cards/ticker/neovw/png/logo",TMC:"https://abs.twimg.com/grok-finance-cards/ticker/tmc/png/logo",FFIN:"https://abs.twimg.com/grok-finance-cards/ticker/ffin/png/logo",SEAT:"https://abs.twimg.com/grok-finance-cards/ticker/seat/png/logo",BPRN:"https://abs.twimg.com/grok-finance-cards/ticker/bprn/png/logo",PKG:"https://abs.twimg.com/grok-finance-cards/ticker/pkg/png/logo",EXPE:"https://abs.twimg.com/grok-finance-cards/ticker/expe/png/logo",RGA:"https://abs.twimg.com/grok-finance-cards/ticker/rga/png/logo",GPCR:"https://abs.twimg.com/grok-finance-cards/ticker/gpcr/png/logo",HUM:"https://abs.twimg.com/grok-finance-cards/ticker/hum/png/logo",HST:"https://abs.twimg.com/grok-finance-cards/ticker/hst/png/logo",YORW:"https://abs.twimg.com/grok-finance-cards/ticker/yorw/png/logo",NPK:"https://abs.twimg.com/grok-finance-cards/ticker/npk/png/logo",NVR:"https://abs.twimg.com/grok-finance-cards/ticker/nvr/png/logo",CGAU:"https://abs.twimg.com/grok-finance-cards/ticker/cgau/png/logo",SANM:"https://abs.twimg.com/grok-finance-cards/ticker/sanm/png/logo",PLUS:"https://abs.twimg.com/grok-finance-cards/ticker/plus/png/logo",USFD:"https://abs.twimg.com/grok-finance-cards/ticker/usfd/png/logo",SRM:"https://abs.twimg.com/grok-finance-cards/ticker/srm/png/logo",STT:"https://abs.twimg.com/grok-finance-cards/ticker/stt/png/logo",ACM:"https://abs.twimg.com/grok-finance-cards/ticker/acm/png/logo",TNL:"https://abs.twimg.com/grok-finance-cards/ticker/tnl/png/logo",PHUN:"https://abs.twimg.com/grok-finance-cards/ticker/phun/png/logo",DGLY:"https://abs.twimg.com/grok-finance-cards/ticker/dgly/png/logo",CHRS:"https://abs.twimg.com/grok-finance-cards/ticker/chrs/png/logo",FITBO:"https://abs.twimg.com/grok-finance-cards/ticker/fitbo/png/logo",RDN:"https://abs.twimg.com/grok-finance-cards/ticker/rdn/png/logo",CCBG:"https://abs.twimg.com/grok-finance-cards/ticker/ccbg/png/logo",KLXE:"https://abs.twimg.com/grok-finance-cards/ticker/klxe/png/logo",ADNT:"https://abs.twimg.com/grok-finance-cards/ticker/adnt/png/logo",FUBO:"https://abs.twimg.com/grok-finance-cards/ticker/fubo/png/logo",SCNI:"https://abs.twimg.com/grok-finance-cards/ticker/scni/png/logo",RY:"https://abs.twimg.com/grok-finance-cards/ticker/ry/png/logo",MIRM:"https://abs.twimg.com/grok-finance-cards/ticker/mirm/png/logo",PGEN:"https://abs.twimg.com/grok-finance-cards/ticker/pgen/png/logo",TTGT:"https://abs.twimg.com/grok-finance-cards/ticker/ttgt/png/logo",ADAP:"https://abs.twimg.com/grok-finance-cards/ticker/adap/png/logo",PSQH:"https://abs.twimg.com/grok-finance-cards/ticker/psqh/png/logo",XBP:"https://abs.twimg.com/grok-finance-cards/ticker/xbp/png/logo",SIDU:"https://abs.twimg.com/grok-finance-cards/ticker/sidu/png/logo",CGNX:"https://abs.twimg.com/grok-finance-cards/ticker/cgnx/png/logo",FBIZ:"https://abs.twimg.com/grok-finance-cards/ticker/fbiz/png/logo",GTLB:"https://abs.twimg.com/grok-finance-cards/ticker/gtlb/png/logo",ICG:"https://abs.twimg.com/grok-finance-cards/ticker/icg/png/logo",FOSL:"https://abs.twimg.com/grok-finance-cards/ticker/fosl/png/logo",OCGN:"https://abs.twimg.com/grok-finance-cards/ticker/ocgn/png/logo",CCI:"https://abs.twimg.com/grok-finance-cards/ticker/cci/png/logo",STLA:"https://abs.twimg.com/grok-finance-cards/ticker/stla/png/logo",DNUT:"https://abs.twimg.com/grok-finance-cards/ticker/dnut/png/logo",CCNE:"https://abs.twimg.com/grok-finance-cards/ticker/ccne/png/logo",MEC:"https://abs.twimg.com/grok-finance-cards/ticker/mec/png/logo",IDAI:"https://abs.twimg.com/grok-finance-cards/ticker/idai/png/logo",GEHC:"https://abs.twimg.com/grok-finance-cards/ticker/gehc/png/logo",YETI:"https://abs.twimg.com/grok-finance-cards/ticker/yeti/png/logo",VAL:"https://abs.twimg.com/grok-finance-cards/ticker/val/png/logo",AIV:"https://abs.twimg.com/grok-finance-cards/ticker/aiv/png/logo",AZPN:"https://abs.twimg.com/grok-finance-cards/ticker/azpn/png/logo",FUND:"https://abs.twimg.com/grok-finance-cards/ticker/fund/png/logo",NUKK:"https://abs.twimg.com/grok-finance-cards/ticker/nukk/png/logo",MIO:"https://abs.twimg.com/grok-finance-cards/ticker/mio/png/logo",INDV:"https://abs.twimg.com/grok-finance-cards/ticker/indv/png/logo",BKSY:"https://abs.twimg.com/grok-finance-cards/ticker/bksy/png/logo",TG:"https://abs.twimg.com/grok-finance-cards/ticker/tg/png/logo",FPF:"https://abs.twimg.com/grok-finance-cards/ticker/fpf/png/logo",NUS:"https://abs.twimg.com/grok-finance-cards/ticker/nus/png/logo",TALK:"https://abs.twimg.com/grok-finance-cards/ticker/talk/png/logo",STZ:"https://abs.twimg.com/grok-finance-cards/ticker/stz/png/logo",TYRA:"https://abs.twimg.com/grok-finance-cards/ticker/tyra/png/logo",HAFC:"https://abs.twimg.com/grok-finance-cards/ticker/hafc/png/logo",AGRO:"https://abs.twimg.com/grok-finance-cards/ticker/agro/png/logo",BWMN:"https://abs.twimg.com/grok-finance-cards/ticker/bwmn/png/logo",SPOT:"https://abs.twimg.com/grok-finance-cards/ticker/spot/png/logo",HTZWW:"https://abs.twimg.com/grok-finance-cards/ticker/htzww/png/logo",RAPT:"https://abs.twimg.com/grok-finance-cards/ticker/rapt/png/logo",TBI:"https://abs.twimg.com/grok-finance-cards/ticker/tbi/png/logo",MSCI:"https://abs.twimg.com/grok-finance-cards/ticker/msci/png/logo",KOF:"https://abs.twimg.com/grok-finance-cards/ticker/kof/png/logo",WH:"https://abs.twimg.com/grok-finance-cards/ticker/wh/png/logo",BFLY:"https://abs.twimg.com/grok-finance-cards/ticker/bfly/png/logo",SIMO:"https://abs.twimg.com/grok-finance-cards/ticker/simo/png/logo",MNMD:"https://abs.twimg.com/grok-finance-cards/ticker/mnmd/png/logo",FUNC:"https://abs.twimg.com/grok-finance-cards/ticker/func/png/logo",ALGM:"https://abs.twimg.com/grok-finance-cards/ticker/algm/png/logo",BST:"https://abs.twimg.com/grok-finance-cards/ticker/bst/png/logo",JVA:"https://abs.twimg.com/grok-finance-cards/ticker/jva/png/logo",LICY:"https://abs.twimg.com/grok-finance-cards/ticker/licy/png/logo",GLW:"https://abs.twimg.com/grok-finance-cards/ticker/glw/png/logo",CVLG:"https://abs.twimg.com/grok-finance-cards/ticker/cvlg/png/logo",MED:"https://abs.twimg.com/grok-finance-cards/ticker/med/png/logo",RIVN:"https://abs.twimg.com/grok-finance-cards/ticker/rivn/png/logo",SGBX:"https://abs.twimg.com/grok-finance-cards/ticker/sgbx/png/logo",IMRX:"https://abs.twimg.com/grok-finance-cards/ticker/imrx/png/logo",MLAB:"https://abs.twimg.com/grok-finance-cards/ticker/mlab/png/logo",ZEPP:"https://abs.twimg.com/grok-finance-cards/ticker/zepp/png/logo",W:"https://abs.twimg.com/grok-finance-cards/ticker/w/png/logo",MNDY:"https://abs.twimg.com/grok-finance-cards/ticker/mndy/png/logo",FOUR:"https://abs.twimg.com/grok-finance-cards/ticker/four/png/logo"}},10505:(e,t,s)=>{"use strict";s.d(t,{V:()=>i});var a=s(87992);let n=e=>{var t,s;let n=null!=(s=null==(t=(0,a.t)(e).contentType)?void 0:t.split("/")[1])?s:"";return"markdown"!==n&&"plain"!==n?e.replace(/<xaiArtifact[^>]*>/g,"```".concat(n)).replace(/<\/xaiArtifact>/g,"```"):e.replace(/<xaiArtifact[^>]*>/g,"").replace(/<\/xaiArtifact>/g,"")},r=e=>{let t=e.match(/<grok:render[^>]*>([\s\S]*?)<\/grok:render>/);return t&&t[1]?t[1]:e.replace(/^<grok:render[^>]*>/,"")},o=(e,t)=>{let s,a=[];for(t.startPattern.lastIndex=0;null!==(s=t.startPattern.exec(e));){let n=s.index,r=e.indexOf(t.closingTag,n);-1===r?r=e.length:r+=t.closingTag.length;let o=e.substring(n,r),i=t.processContent(o);a.push({start:n,end:r,replacement:i}),0===s[0].length&&t.startPattern.lastIndex++}a.reverse();let n=[],r=e.length;for(let t of a)n.unshift(e.substring(t.end,r)),n.unshift(t.replacement),r=t.start;return n.unshift(e.substring(0,r)),n.join("")},i=e=>{let t=e;return t=o(t,{startPattern:/<xaiArtifact[^>]*>/g,closingTag:"</xaiArtifact>",processContent:n}),t=o(t,{startPattern:/<grok:render[^>]*>/g,closingTag:"</grok:render>",processContent:r})}},10678:(e,t,s)=>{"use strict";s.d(t,{h:()=>m});var a=s(79342),n=s(23232),r=s(24734),o=s(7658),i=s(75500),c=s(92437),l=s(88382),d=s(65146),g=s(44566);function m(e){var t;let{onDrop:s,className:m,workspaceId:p,disabled:u}=e,{t:h}=(0,d.Bd)("workspace"),f=(0,n._)(),k=(0,i.Ne)(),{mutate:b,error:x}=(0,o.Iv)(p);(0,r.Y)("workspace-drop-zone:upload",x);let w=(0,g.x)(p),{data:v}=(0,o.UL)(p),y=null!=(t=null==v?void 0:v.assets)?t:[],j=(0,l.useRef)(null),N=(0,l.useCallback)(e=>{if(null==s||s(),y.length+e.length>k){w(),f("ws_max_files_alert",void 0,{location:"workspace-file-drop"});return}e.forEach(e=>(f("upload_file",e.name,{location:"workspace-file-drop",mimeType:e.type}),b(e)))},[y.length,s,w,f,b,k]),C=(0,c.t)({ref:j,onDrop:N});return u?null:(0,a.jsx)(c.u,{ref:j,dragState:C,title:h("workspace-dropzone.title","Attach to project"),subtitle:h("workspace-dropzone.description","Drop here to add files to project"),className:m})}},10986:(e,t,s)=>{"use strict";s.d(t,{SidePanelProvider:()=>i});var a=s(79342),n=s(88844);s(56691),s(11750);var r=s(88382);s(65146);let o=(0,r.createContext)(null);function i(e){let{children:t}=e,[s,i]=(0,r.useState)(null),c=(0,r.useCallback)(e=>{i(t=>(t&&t.id!==e.id&&t.onOpenChange(!1),e))},[]),l=(0,r.useCallback)(e=>{i(t=>t&&t.id===e?null:t)},[]);return(0,a.jsxs)(o.Provider,{value:{openPanel:c,closePanel:l,activeEntry:s},children:[t,(0,a.jsx)(n.w,{isVisible:null!==s,minWidth:200,maxWidth:800,initialWidth:400,className:"bg-background max-w-[40%] xl:max-w-none",children:null==s?void 0:s.children})]})}},11396:(e,t,s)=>{"use strict";s.d(t,{GH:()=>d,Jk:()=>b,NC:()=>h,bB:()=>u,ec:()=>p,l5:()=>f,sI:()=>m,uj:()=>k,wB:()=>l});var a=s(77204),n=s(63502),r=s(38541),o=s.n(r),i=s(36889),c=s(6132);let l=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:26;return o().range(e,t).map(e=>Array.from({length:s},(t,s)=>({value:"",serialized:"",format:"",col:s,row:e})))},d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.from({length:e},(e,s)=>{var n;return null!=(n=t[s])?n:{id:(0,a.c5)(s),title:(0,a.c5)(s),width:128,grow:1}})},g=(e,t,s)=>({...e,current:{cell:[t,s],range:{x:t,y:s,width:1,height:1},rangeStack:[]}});function m(e){if(e.current)return e;let t=e.columns.first(),s=e.rows.first();return void 0!==t?g(e,t,0):void 0!==s?g(e,0,s):g(e,0,0)}let p=(e,t)=>{let s=Object.create(null);if(t.current){let[e,a]=t.current.cell,n=[t.current.range,...t.current.rangeStack];s.cell={col:e,row:a},s.ranges=n.map(e=>({col:e.x,row:e.y,width:e.width,height:e.height}))}let{columns:a,rows:n}=t;return s.cols=a.items.slice(),s.rows=n.items.slice(),new i.B(e,s.cell,s.ranges,s.cols,s.rows)};function u(e){var t,s,a;let{cell:r,ranges:o=[]}=e,i=n.I1.empty();for(let s of null!=(t=e.rows)?t:[])i=i.add(s);let c=n.I1.empty();for(let t of null!=(s=e.cols)?s:[])c=c.add(t);let l=o.map(e=>({x:e.col,y:e.row,width:e.width,height:e.height}));return{current:r?{cell:[r.col,r.row],range:null!=(a=l[0])?a:{x:r.col,y:r.row,width:1,height:1},rangeStack:l.slice(1)}:void 0,columns:c,rows:i}}let h={current:{cell:[0,0],range:{x:0,y:0,width:1,height:1},rangeStack:[]},columns:n.I1.empty(),rows:n.I1.empty()};function f(e,t,s){let{source:a,target:n,direction:r}=s;switch(function(e,t,s){let a=e.rowStart===t.rowStart&&e.rowEnd===t.rowEnd,n=e.colStart===t.colStart&&e.colEnd===t.colEnd;switch(s){case"down":if(!n||t.rowStart!==e.rowEnd+1)throw Error("Vertical-down fill must start on the first row *below* the source and share the same columns.");break;case"up":if(!n||t.rowEnd!==e.rowStart-1)throw Error("Vertical-up fill must end on the first row *above* the source and share the same columns.");break;case"right":if(!a||t.colStart!==e.colEnd+1)throw Error("Horizontal-right fill must start on the first col *after* the source and share the same rows.");break;case"left":if(!a||t.colEnd!==e.colStart-1)throw Error("Horizontal-left fill must end on the first col *before* the source and share the same rows.");break;default:throw Error("Unknown direction ".concat(s))}}(a,n,r),r){case"down":return e.autoFillRows(t,a,n.rowEnd);case"up":return e.autoFillRows(t,a,n.rowStart);case"right":return e.autoFillCols(t,a,n.colEnd);case"left":return e.autoFillCols(t,a,n.colStart)}}let k=c.z.object({direction:c.z.enum(["up","down","left","right"]),sheet:c.z.number(),sourceRange:c.z.string(),targetRange:c.z.string()});function b(e,t){let s={colStart:e.x,colEnd:e.x+e.width-1,rowStart:e.y,rowEnd:e.y+e.height-1,numCols:e.width,numRows:e.height};if(t.x===e.x&&t.width===e.width){if(t.y<=e.y&&t.height>=e.height){if(t.y+t.height-1>e.y+e.height-1)return{source:s,target:{colStart:t.x,colEnd:t.x+t.width-1,rowStart:e.y+e.height,rowEnd:t.y+t.height-1,numCols:t.width,numRows:t.height-e.height},direction:"down"};if(t.y<e.y)return{source:s,target:{colStart:t.x,colEnd:t.x+t.width-1,rowStart:t.y,rowEnd:e.y-1,numCols:t.width,numRows:e.y-t.y},direction:"up"}}}else if(t.y===e.y&&t.height===e.height&&t.x<=e.x&&t.width>=e.width){if(t.x+t.width-1>e.x+e.width-1)return{source:s,target:{colStart:e.x+e.width,colEnd:t.x+t.width-1,rowStart:t.y,rowEnd:t.y+t.height-1,numCols:t.width-e.width,numRows:t.height},direction:"right"};if(t.x<e.x)return{source:s,target:{colStart:t.x,colEnd:e.x-1,rowStart:t.y,rowEnd:t.y+t.height-1,numCols:e.x-t.x,numRows:t.height},direction:"left"}}return null}},12065:(e,t,s)=>{"use strict";s.d(t,{c:()=>i});var a=s(23232),n=s(24734),r=s(49972),o=s(88382);function i(){let e=(0,n.K)(),t=(0,a._)();return{handlePinConversation:(0,o.useCallback)((s,a,n)=>{let{fetchUpdateConversation:o}=r.w1.getState();o(s,{starred:a}).catch(t=>{e("app-sidebar:handlePinConversation",t)}),t("update_conversation_pinned",s,{location:n})},[e,t])}}},12220:(e,t,s)=>{"use strict";s.d(t,{G:()=>n});var a=s(56521);async function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"grok-image.png",s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e)return(0,a.h)(e,s?{mode:"no-cors"}:{credentials:"include"}).then(e=>e.blob()).then(e=>{let s=window.URL.createObjectURL(e),a=document.createElement("a");a.href=s,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a)}).catch(()=>{window.open(e,"_blank")})}},12702:(e,t,s)=>{"use strict";s.d(t,{Jr:()=>h,RD:()=>f,n_:()=>u});var a=s(79342),n=s(11750),r=s(73772),o=s(61312),i=s(88382),c=s(65146);let l={icon:(0,a.jsx)(n.twC,{height:14,width:14}),label:(0,a.jsx)(c.x6,{ns:"base",i18nKey:"response.positive-feedback.helpful-answer",defaults:"Helpful answer"}),type:"helpful-answer"},d=[{icon:(0,a.jsx)(n.uxA,{height:14,width:14}),label:(0,a.jsx)(c.x6,{ns:"base",i18nKey:"response.positive-feedback.well-written-response",defaults:"Well-written response"}),type:"well-written"},{icon:(0,a.jsx)(n.vji,{height:14,width:14}),label:(0,a.jsx)(c.x6,{ns:"base",i18nKey:"response.positive-feedback.accurate-info",defaults:"Accurate information"}),type:"accurate-info"},{icon:(0,a.jsx)(n.pnY,{height:14,width:14}),label:(0,a.jsx)(c.x6,{ns:"base",i18nKey:"response.positive-feedback.funny-response",defaults:"Funny response"}),type:"funny-response"},{icon:(0,a.jsx)(n._kk,{height:14,width:14}),label:(0,a.jsx)(c.x6,{ns:"base",i18nKey:"response.positive-feedback.good-use-of-memory",defaults:"Good use of memory"}),type:"good-use-of-memory"}],g={icon:(0,a.jsx)(n.SuN,{height:14,width:14}),label:(0,a.jsx)(c.x6,{ns:"base",i18nKey:"response.negative-feedback.wanted-something-else",defaults:"Wanted something else"}),type:"wanted-something-else"},m=[{icon:(0,a.jsx)(n.C_X,{height:14,width:14}),label:(0,a.jsx)(c.x6,{ns:"base",i18nKey:"response.negative-feedback.incorrect-answer",defaults:"Incorrect answer"}),type:"incorrect-answer"},{icon:(0,a.jsx)(n.Jm9,{height:14,width:14}),label:(0,a.jsx)(c.x6,{ns:"base",i18nKey:"response.negative-feedback.want-more-info",defaults:"Want more info"}),type:"want-more-info"},{icon:(0,a.jsx)(n.hED,{height:14,width:14}),label:(0,a.jsx)(c.x6,{ns:"base",i18nKey:"response.negative-feedback.not-convincing",defaults:"Not convincing"}),type:"not-convincing"},{icon:(0,a.jsx)(n.MML,{height:14,width:14}),label:(0,a.jsx)(c.x6,{ns:"base",i18nKey:"response.negative-feedback.too-wordy",defaults:"Too wordy"}),type:"too-wordy"},{icon:(0,a.jsx)(n.n7Z,{height:14,width:14}),label:(0,a.jsx)(c.x6,{ns:"base",i18nKey:"response.negative-feedback.annoying",defaults:"Annoying"}),type:"annoying"},{icon:(0,a.jsx)(n._Q1,{height:14,width:14}),label:(0,a.jsx)(c.x6,{ns:"base",i18nKey:"response.negative-feedback.forgot-something",defaults:"Forgot something"}),type:"forgot-something"}];function p(e){for(let t=e.length-1;t>0;t--){let s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e}function u(){return[...p(d),l]}function h(){return[...p(m),g]}function f(e){let{onClick:t,onDropdownOpen:s,triggerButton:n,options:c,onDropdownClose:l,hideDropdown:d}=e,[g,m]=(0,i.useState)(!1),p=(0,i.useCallback)(e=>{e?null==s||s():null==l||l(),m(e)},[l,s]),u=(0,i.useCallback)(()=>{t(void 0,!1,!0),m(!1)},[t]);return(0,a.jsxs)(r.rI,{open:g,onOpenChange:!g&&d?u:p,children:[(0,a.jsx)(r.ty,{asChild:!0,children:n}),(0,a.jsx)(r.SQ,{side:"bottom",align:"end",sideOffset:6,className:"min-w-36 space-y-0.5",children:c.map(e=>(0,a.jsxs)(r._2,{onSelect:()=>{t(e.type,!0)},className:(0,o.cn)("flex items-center gap-2"),children:[e.icon,e.label]},e.type))})]})}},12971:(e,t,s)=>{"use strict";s.d(t,{xw:()=>Y,Pd:()=>V,om:()=>H,_W:()=>q});var a=s(79342),n=s(38614),r=s(3683),o=s(11750),i=s(46681),c=s(58192),l=s(5663),d=s(87833),g=s(75500),m=s(33231),p=s(69643),u=s(23232),h=s(98100),f=s(88382),k=s(41320);let b=e=>{let{onClick:t=()=>{}}=e,s=(0,k.Di)();(0,f.useEffect)(()=>{if(s)return document.addEventListener("click",t),()=>document.removeEventListener("click",t)},[s])};var x=s(24429),w=s(17703),v=s(61312),y=s(29938),j=s(44347),N=s(58711),C=s(40251),S=s(16506),I=s(39116),T=s(74995),E=s(65146),R=s(42557),A=s(5790),_=s(56691),O=s(37931),P=s(73772),M=s(35819),L=s(61884),D=s(38997),B=s(50089),z=s(38541),F=s.n(z);let U=(0,v.cn)("cursor-pointer select-none rounded-xl text-primary py-1.5 ps-2.5","flex flex-row items-center");function V(){let e=(0,g.h)(),{t}=(0,E.Bd)("base"),s=(0,u._)(),{models:i,isPending:c,modelByMode:p,unavailableModels:k}=(0,h.GB)(),b=(0,n.aP)(e=>e.modelMode),C=(0,n.aP)(T.A("activeModelId")),S=(0,n.aP)(T.A("setActiveModelId")),{bestSubscription:O,isSuperGrokUser:L,isSuperGrokProUser:D,isEnterpriseUser:z}=(0,x.Q2)(),{user:F}=(0,R.wV)(),V=(0,I.useRouter)(),H=(0,N.e3)(T.A("setTargetTier")),K=(0,N.e3)(T.A("setIsUpselling")),{availableModes:$,upgradeRequiredModes:J}=q(),[ee,et]=(0,f.useState)(!1),es=(0,n.aP)(T.A("projectId")),ea=(0,r.M)(e=>{var t;return null==(t=e.byId[null!=es?es:""])?void 0:t.data});(0,f.useEffect)(()=>{if(null==ea?void 0:ea.preferredModel){let e=$.find(e=>e.mode===ea.preferredModel);e&&(0,n.aP.getState().setModelMode)(e.mode)}},[$,ea,S]);let en=(0,j.C$)(e=>e.userSettings.preferences.selectedSystemPromptId),er=(0,y.jN)(e=>en?e.byId[en]:void 0),eo=(0,A.iV)(T.A("setOpen")),ei=(0,A.iV)(T.A("setTab")),ec=(0,f.useCallback)(()=>{ei("personality"),eo(!0)},[eo,ei]),el=(0,f.useCallback)(e=>{e.stopPropagation(),ec()},[ec]),ed=(0,f.useMemo)(()=>$.find(e=>e.mode===b)||$[0],[$,b]),eg=(0,f.useCallback)(()=>{F?(O===x.i.SuperGrok?H(x.i.SuperGrokPro):H(x.i.SuperGrok),K(!0),et(!1)):V.push("/sign-in")},[F,O,K,H,V]),{isBackgroundThinking:em,isBackgroundThinkingAvailable:ep}=(0,d.We)(),{userSettings:eu,fetchSetPreference:eh}=(0,j.C$)(),ef=(0,f.useCallback)(e=>{e.preventDefault(),e.stopPropagation();let t=!eu.preferences.isAsyncChat;s("toggle_async_chat",t?"enabled":"disabled",{location:"model-mode-select:handleToggleAsyncChat"}),eh("isAsyncChat",t)},[eu.preferences.isAsyncChat,s,eh]),ek=(0,j.C$)(e=>e.userSettings.preferences.useModelModeSelector3),eb=(0,f.useCallback)(()=>{eh("useModelModeSelector3",!0).catch((0,w.HX)("model-mode-select"))},[eh]),ex=(0,f.useCallback)(()=>{eh("useModelModeSelector3",!1).catch((0,w.HX)("model-mode-select"))},[eh]),ew=(0,f.useCallback)(e=>{k.find(t=>t.modelId===e)?F?(H(O||x.i.SuperGrok),K(!0),et(!1)):V.push("/sign-in"):(s("set_model",e,{location:"model-mode-select"}),S(e))},[s,S,k,O,F,H,K,V]),ev=(0,f.useCallback)(e=>{if("upgrade"===e||J.find(t=>t.mode===e))return void eg();let t=$.find(t=>t.mode===e);if(void 0==t)return;s("set_model_mode",t.mode,{location:"model-mode-select",previousMode:b}),(0,n.aP.getState().setModelMode)(t.mode);let a=p[t.mode];a&&(S(a.modelId),et(!1))},[s,S,p,b,$,J,eg]);(0,m.v)(l.He,()=>{if($.length<=1)return!1;let e=$.findIndex(e=>e.mode===b),t=-1===e||e===$.length-1?0:e+1,s=$[t];if(!s)return!1;ev(s.mode)},[$,b,ev]);let ey=Z();return c||0===i.length?(0,a.jsxs)(_.$n,{variant:"ghost",rounded:!0,className:"border border-border-l2 sm:border-0",disabled:!0,children:[(0,a.jsx)("span",{className:"inline-block text-primary text-xs @[400px]/input:text-sm",children:t("Loading...","Loading...")}),(0,a.jsx)(o.D3D,{className:"size-3 text-secondary"})]}):ed?(0,a.jsxs)(P.rI,{open:ee,onOpenChange:et,children:[(0,a.jsx)(P.ty,{asChild:!0,children:(0,a.jsxs)(_.$n,{variant:"ghost",size:"md",rounded:!0,id:"model-select-trigger","aria-label":t("Model select","Model select"),className:"border border-border-l2 sm:border-0 text-primary px-3.5 focus:outline-none aria-expanded:bg-button-ghost-hover",children:[ek?(0,a.jsx)(Y,{mode:ed,showDescription:!1}):(0,a.jsx)("span",{className:"inline-block text-xs text-primary @[400px]/input:text-sm",children:ey}),er?(0,a.jsx)(o.Wzu,{className:"size-3"}):null]})}),(0,a.jsxs)(P.SQ,{side:"bottom",align:"start",alignOffset:-4,className:"p-1 max-h-96 overflow-visible",children:[$.map(e=>(0,a.jsxs)(P._2,{className:U,onSelect:()=>{ev(e.mode),eb()},children:[(0,a.jsx)(Y,{mode:e,showDescription:!0,showIconSpace:!0}),(0,a.jsx)(o.Srz,{className:(0,v.cn)("ms-auto size-4",C===e.modelId?"opacity-100":"opacity-0")})]},e.mode)),J.map(e=>(0,a.jsx)(P._2,{className:(0,v.cn)(U,"text-secondary opacity-75","pr-2"),onSelect:()=>{ev(e.mode),eb()},children:(0,a.jsx)("div",{className:"flex flex-row items-center justify-between w-full gap-3",children:(0,a.jsx)(Y,{mode:e,showDescription:!0,showIconSpace:!0})})},e.mode)),!(L||D||z)&&ee&&(0,a.jsx)(Q,{onUpgrade:eg}),F&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(P.mB,{}),(0,a.jsxs)("div",{className:(0,v.cn)("group/custom-instructions flex min-w-64 flex-row items-center justify-between gap-4 px-2.5 pe-3 py-1.5 cursor-pointer"),onClick:ec,children:[(0,a.jsx)(X,{iconRender:(0,a.jsx)(o.Wzu,{className:"size-[18px]"}),label:t("model-select.custom-instructions","Custom Instructions"),subtitle:er?(0,y.Uk)(er.personalityId)?er.prompt:er.name:t("model-select.custom-instructions.description.not-set","Not set"),labelIsResponsive:!0}),er?(0,a.jsx)(o.vKP,{className:"size-4 text-secondary shrink-0"}):(0,a.jsx)(_.$n,{"aria-label":t("model-select.custom-instructions.open","Open Custom Instructions"),variant:"outline",size:"sm",rounded:!0,className:"duration-0 group-hover/custom-instructions:bg-button-ghost-hover shrink-0",onClick:el,children:t("model-select.custom-instructions.button","Customize")})]})]}),ep&&(0,a.jsxs)("div",{className:(0,v.cn)("flex min-w-64 flex-row items-center justify-between gap-4 px-2.5 pe-3 py-1.5 cursor-pointer","hover:bg-button-ghost-hover rounded-xl"),role:"menuitem",onClick:ef,children:[(0,a.jsx)(X,{iconRender:(0,a.jsx)(o.A3k,{size:18}),label:t("model-select.async-chat-toggle.heading","Background Thinking"),subtitle:t("model-select.async-chat-toggle.description","Keep chatting while Grok thinks"),labelIsResponsive:!0}),(0,a.jsx)(M.d,{"aria-labelledby":"async-chat-mode-label",checked:em,onClick:ef,className:"shrink-0"})]}),e.MERGE_MODEL_MODE_SELECT&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(P.mB,{}),(0,a.jsxs)(P.lv,{children:[(0,a.jsx)(P.nV,{className:(0,v.cn)("flex w-full flex-row items-center justify-between gap-4","px-2.5 pe-3 py-1.5 rounded-xl","cursor-pointer","hover:bg-button-ghost-hover","outline-none focus:outline-none"),children:(0,a.jsx)(X,{iconRender:(0,a.jsx)(B.A,{size:18}),label:t("Models","Models"),showSubtitle:!1,labelIsResponsive:!0})}),(0,a.jsxs)(P.M5,{className:(0,v.cn)("max-h-80 overflow-y-auto p-1"),children:[!e.HIDE_MODEL_SELECT_UPSELL&&k.length>0&&(0,a.jsx)("div",{className:"mb-1",children:(0,a.jsx)(G,{unavailableModels:k,isOpen:!0})}),i.map(e=>{var t;return(0,a.jsx)(P._2,{className:(0,v.cn)("group/model cursor-pointer rounded-xl px-2 py-2 hover:bg-button-ghost-hover",C===e.modelId&&"bg-surface-l2"),onSelect:()=>{ew(e.modelId),ex()},children:(0,a.jsx)(W,{name:e.name||e.modelId,badgeText:null==(t=e.badgeText)?void 0:t.trim()})},e.modelId)})]})]})]})]})]}):null}function H(){var e;let t=(0,g.h)(),{t:s}=(0,E.Bd)("base"),[r,i]=(0,p.M)("model-select-tutorial-4",!1),c=(0,u._)(),{models:k,unavailableModels:w,modelById:S}=(0,h.GB)(),P=(0,n.aP)(T.A("activeModelId")),D=(0,n.aP)(T.A("setActiveModelId")),B=(0,n.aP)(T.A("outputMode")),z=(0,n.aP)(T.A("setOutputMode")),F=(0,n.aP)(T.A("reasoningMode")),U=(0,j.C$)(e=>e.userSettings.preferences.selectedSystemPromptId),V=(0,y.jN)(e=>U?e.byId[U]:void 0),H=(0,A.iV)(T.A("setOpen")),K=(0,A.iV)(T.A("setTab")),q=(0,f.useCallback)(()=>{K("personality"),H(!0)},[H,K]);b({onClick:()=>i(!0)});let[X,Y]=(0,f.useState)(!1),Q=(0,f.useCallback)(e=>{r||i(!0),Y(e)},[r,i]),$=(0,N.e3)(T.A("setIsUpselling")),J=(0,N.e3)(T.A("setTargetTier")),{user:ee}=(0,R.wV)(),et=(0,I.useRouter)(),{bestSubscription:es=x.i.SuperGrok}=(0,x.Q2)(),ea=(0,f.useCallback)(e=>{w.find(t=>t.modelId===e)?ee?(J(es),$(!0),Q(!1)):et.push("/sign-in"):(c("set_model",e,{location:"query-bar"}),D(e))},[c,D,w,es,ee,J,$,Q,et]);(0,m.v)(l.He,()=>{if(k.length>1){var e;let t=k.findIndex(e=>e.modelId===P),s=-1===t||t===k.length-1?0:t+1,a=null==(e=k[s])?void 0:e.modelId;if(!a)return!1;ea(a)}return!1},[k,P,ea]);let en=Z(),er=(0,f.useMemo)(()=>{var e;let t=S[P];return!!t&&!(null==(e=t.tags)?void 0:e.includes("hide_tools_settings"))},[S,P]),{isBackgroundThinking:eo,isBackgroundThinkingAvailable:ei}=(0,d.We)(),{userSettings:ec,fetchSetPreference:el}=(0,j.C$)(),ed=(0,f.useCallback)(e=>{e.preventDefault(),e.stopPropagation();let t=!ec.preferences.isAsyncChat;c("toggle_background_thinking",t?"enabled":"disabled",{location:"model-select:handleToggleBackgroundThinking"}),el("isAsyncChat",t)},[ec.preferences.isAsyncChat,c,el]),eg=(0,f.useCallback)(e=>{let s;e.preventDefault(),e.stopPropagation(),c("switch_tools",s=t.TOGGLE_SEARCH_ONLY?"noSearch"===B?"auto":"noSearch":"modelOnly"===B?"auto":"modelOnly",{location:"model-select:handleToggleTools"}),z(s)},[B,c,t.TOGGLE_SEARCH_ONLY,z]),em=(0,f.useMemo)(()=>k.some(e=>e.modelId.startsWith("grok-4")),[k]),ep=(0,f.useId)(),{isUpselling:eu}=(0,N.e3)(),eh="deepsearch"===F||"auto"===(e=B)||"image"===e||"search"===e;return(0,a.jsxs)(O.l6,{value:P,onValueChange:ea,open:X,onOpenChange:Q,children:[(0,a.jsx)(O.bq,{asChild:!0,size:"md",id:"model-select-trigger","aria-label":s("Model select","Model select"),children:(0,a.jsx)(_.gx,{className:"border border-border-l2 sm:border-0 rounded-full focus:outline-none aria-expanded:bg-button-ghost-hover",variant:"ghost",rounded:!0,tooltipProps:{open:em&&!r&&!eu},tooltipContentProps:{side:"bottom",align:"end",className:L.Gv},tooltipContent:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C.i3,{className:"fill-primary"}),(0,a.jsx)("p",{className:"text-sm font-semibold",children:s("Grok 4 Enabled","Grok 4 Enabled")}),(0,a.jsx)("p",{className:"text-xs text-primary-foreground/60",children:s("You have the most powerful model available","You have the most powerful model available")})]}),children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"inline-block text-xs text-primary @[400px]/input:text-sm",children:en}),eh?null:(0,a.jsx)(o.qdY,{className:"size-3 text-secondary"}),V?(0,a.jsx)(o.Wzu,{className:"size-3 text-secondary"}):null,(0,a.jsx)(o.D3D,{className:"size-3 text-secondary transition-transform ".concat(X&&"rotate-180")})]})})}),(0,a.jsxs)(O.gC,{side:"bottom",align:"end",alignOffset:-5,className:"flex flex-col p-0",showScrollButtons:!1,children:[!t.HIDE_MODEL_SELECT_UPSELL&&(0,a.jsx)(G,{unavailableModels:w,isOpen:X}),k.map(e=>{var t;return(0,a.jsx)(O.eb,{value:e.modelId,className:(0,v.cn)("group/output-mode cursor-pointer rounded-xl px-3 h-14 pe-9"),children:(0,a.jsx)(W,{name:e.name||e.modelId,badgeText:null==(t=e.badgeText)?void 0:t.trim(),description:e.description})},e.modelId)}),(0,a.jsx)(O.mi,{className:"my-1 w-full mx-auto self-center bg-secondary/25"}),(0,a.jsxs)("div",{className:(0,v.cn)("group/custom-instructions flex min-w-64 flex-row items-center justify-between gap-4 px-3 py-2 cursor-pointer","hover:bg-button-ghost-hover rounded-xl"),onClick:q,role:"menuitem",children:[(0,a.jsxs)("div",{className:"flex flex-col items-start",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[(0,a.jsx)(o.Wzu,{className:"size-4 text-secondary"}),(0,a.jsx)("span",{className:"text-xs font-semibold text-primary line-clamp-1",children:s("model-select.custom-instructions","Custom Instructions")})]}),(0,a.jsx)("span",{className:"max-w-48 truncate text-xs text-secondary",children:V?(0,y.Uk)(V.personalityId)?V.prompt:V.name:s("model-select.custom-instructions.description.not-set","Not set")})]}),V?(0,a.jsx)(o.vKP,{className:"size-4 text-secondary"}):(0,a.jsx)(_.$n,{"aria-label":s("model-select.custom-instructions.open","Open Custom Instructions"),variant:"outline",size:"sm",rounded:!0,className:"duration-0 group-hover/custom-instructions:bg-button-ghost-hover",onClick:e=>{e.stopPropagation(),q()},children:s("model-select.custom-instructions.button","Customize")})]}),ei&&(0,a.jsxs)("div",{className:(0,v.cn)("flex min-w-64 flex-row items-center justify-between gap-4 px-3 py-2 cursor-pointer","hover:bg-button-ghost-hover rounded-xl"),role:"menuitem",onClick:ed,children:[(0,a.jsxs)("div",{className:"flex flex-col items-start text-xs",children:[(0,a.jsx)("span",{className:"flex flex-row items-center gap-1 text-xs font-semibold text-primary",id:"async-chat-label",children:s("model-select.async-chat-toggle.heading","Background Thinking")}),(0,a.jsx)("span",{className:"me-2 text-xs text-secondary",children:s("model-select.async-chat-toggle.description","Keep chatting while Grok thinks")})]}),(0,a.jsx)(M.d,{checked:eo,onClick:ed})]}),er&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:(0,v.cn)("flex min-w-64 flex-row items-center justify-between gap-4 px-3 py-2 cursor-pointer","hover:bg-button-ghost-hover rounded-xl"),role:"menuitem",onClick:eg,children:[(0,a.jsxs)("div",{className:"flex flex-col items-start text-xs",children:[(0,a.jsxs)("span",{className:"flex flex-row items-center gap-1 text-xs font-semibold text-primary",id:ep,children:[eh?(0,a.jsx)(o.fCU,{className:"size-4 text-secondary"}):(0,a.jsx)(o.qdY,{className:"size-4 text-secondary"}),t.TOGGLE_SEARCH_ONLY?s("Enable Search","Enable Search"):s("Enable Search and Images","Enable Search and Images")]}),(0,a.jsx)("span",{className:"me-2 text-xs text-secondary",children:"deepsearch"===F?s("Auto-enabled for DeepSearch","Auto-enabled for DeepSearch"):s("Grok can browse the web","Grok can browse the web")})]}),(0,a.jsx)(M.d,{"aria-labelledby":ep,checked:eh,onClick:eg,className:"deepsearch"===F?"cursor-not-allowed opacity-30":void 0})]})})]})]})}function W(e){let{name:t,badgeText:s,description:n,buttonText:r,buttonClassName:o,className:i}=e;return(0,a.jsxs)("div",{className:(0,v.cn)("flex w-full flex-row items-center justify-between gap-3 text-sm",i),children:[(0,a.jsxs)("div",{className:"flex flex-col items-start",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[(0,a.jsx)("span",{className:"font-semibold text-primary",children:t}),(null==s?void 0:s.trim())&&(0,a.jsx)("div",{className:"rounded-full bg-[#D6DAE3] px-[5px] text-[10px] text-secondary dark:bg-white/10",children:null==s?void 0:s.trim()})]}),n&&(0,a.jsx)("span",{className:"text-sm text-secondary",children:n})]}),r&&(0,a.jsx)(_.$n,{variant:"filled",size:"sm",className:o,rounded:!0,children:r})]})}function G(e){let{unavailableModels:t,isOpen:s}=e,{t:n}=(0,E.Bd)("base"),{bestSubscription:r}=(0,x.Q2)();if(0===t.length||!t[0])return null;switch(r){case x.i.SuperGrokPro:return null;case x.i.SuperGrok:return(0,a.jsx)(a.Fragment,{children:t.map(e=>(0,a.jsx)(O.eb,{value:e.modelId,className:"group flex flex-row px-3 py-2 cursor-pointer rounded-xl pe-1.5",children:(0,a.jsx)(W,{name:e.name||e.modelId,description:e.description,buttonText:n("model-select.upsell.heavy-button","Get SuperGrok Heavy"),buttonClassName:"group-hover:bg-button-filled-hover"})},e.modelId))});default:return(0,a.jsx)(O.eb,{value:t[0].modelId,className:(0,v.cn)("group/model-select-upsell relative mb-1 flex flex-col items-start","rounded-2xl border-2 border-border-l2 bg-surface-l3 p-0 cursor-pointer","data-[disabled]:opacity-100 data-[disabled]:pointer-events-auto"),children:(0,a.jsxs)("div",{className:"flex flex-col w-full min-h-[100px]",children:[t.map(e=>(0,a.jsx)("div",{className:"flex flex-col items-start px-3 py-2",children:(0,a.jsx)(W,{name:e.name||e.modelId,description:e.description})},e.modelId)),s&&(0,a.jsx)($,{})]})})}}let K={basic:0,[x.i.SuperGrok]:1,[x.i.SuperGrokPro]:2},q=()=>{let{t:e}=(0,E.Bd)("base"),{bestSubscription:t}=(0,x.Q2)(),{allAccessibleModelIds:s,modelByMode:n}=(0,h.GB)(),r=(0,f.useMemo)(()=>{var t,r,i,c,l,d,g,m,p,u,h,f,k,b,w;return F().compact([{modelId:"grok-4-auto",mode:"auto",prettyModeName:(null==(t=n.auto)?void 0:t.modeName)||e("model-mode.auto.name","Auto"),modeDescription:(null==(r=n.auto)?void 0:r.modeDescription)||e("auto.description","Chooses Fast or Expert mode"),iconRender:(0,a.jsx)(o.Abk,{size:18}),tier:K[x.i.SuperGrok],tags:(null==(i=n.auto)?void 0:i.tags)||[]},{modelId:"grok-3",mode:"fast",prettyModeName:(null==(c=n.fast)?void 0:c.modeName)||e("model-mode.fast.name","Fast"),modeDescription:(null==(l=n.fast)?void 0:l.modeDescription)||e("fast.description","Quick responses"),iconRender:(0,a.jsx)(o.C2y,{size:18}),tier:K.basic,tags:(null==(d=n.fast)?void 0:d.tags)||[]},{modelId:"grok-4",mode:"expert",prettyModeName:(null==(g=n.expert)?void 0:g.modeName)||e("model-mode.expert.name","Expert"),modeDescription:(null==(m=n.expert)?void 0:m.modeDescription)||e("expert.description","Thinks hard"),iconRender:(0,a.jsx)(o.xmO,{size:18}),tier:K[x.i.SuperGrok],tags:(null==(p=n.expert)?void 0:p.tags)||[]},{modelId:"grok-4-heavy",mode:"heavy",prettyModeName:(null==(u=n.heavy)?void 0:u.modeName)||e("model-mode.heavy.name","Heavy"),modeDescription:(null==(h=n.heavy)?void 0:h.modeDescription)||e("heavy.description","Team of experts"),iconRender:(0,a.jsx)(o.HNp,{size:18}),tier:K[x.i.SuperGrokPro],tags:(null==(f=n.heavy)?void 0:f.tags)||[]},s.has("grok-4-mini-thinking-tahoe")?{modelId:"grok-4-mini-thinking-tahoe",mode:"grok-4-mini-thinking",prettyModeName:(null==(k=n["grok-4-mini-thinking"])?void 0:k.modeName)||e("model-mode.mini-thinking.name","Grok 4 Fast"),modeDescription:(null==(b=n["grok-4-mini-thinking"])?void 0:b.modeDescription)||e("mini-thinking.description","Early access beta"),iconRender:(0,a.jsx)(o.rRK,{size:18}),tier:K.basic,tags:(null==(w=n["grok-4-mini-thinking"])?void 0:w.tags)||[]}:void 0])},[e,s,n]),{availableModes:i,upgradeRequiredModes:c}=(0,f.useMemo)(()=>{if(0===s.size){let e=t?K[t]:K.basic;return{availableModes:r.filter(t=>t.tier<=e),upgradeRequiredModes:r.filter(t=>t.tier>e)}}return{availableModes:r.filter(e=>!!s.has(e.modelId)),upgradeRequiredModes:r.filter(e=>!s.has(e.modelId))}},[t,s,r]),l=(0,f.useCallback)(e=>{let t=r.find(t=>t.mode===e);return t&&s.has(t.modelId)?t:void 0},[r,s]);return{availableModes:i,upgradeRequiredModes:c,modeUiList:r,getModelModeIfExistsAndAccessible:l}};function X(e){let{iconRender:t,label:s,subtitle:n,showSubtitle:r=!0,className:o,labelIsResponsive:i,showIconSpace:c=!1}=e;return(0,a.jsxs)("div",{className:(0,v.cn)("flex flex-row items-center gap-2",{"grow shrink":i},o),children:[(t||c)&&(0,a.jsx)("div",{className:"flex items-center justify-center size-[18px] overflow-hidden shrink-0",children:t}),(0,a.jsxs)("div",{className:(0,v.cn)("flex flex-col items-start",{grow:i}),children:[(0,a.jsx)("span",{className:"font-semibold text-sm shrink-0 line-clamp-1",children:s}),r&&(0,a.jsx)("span",{className:(0,v.cn)("text-xs text-secondary line-clamp-1",{"max-w-48 grow truncate":i}),children:n})]})]})}function Y(e){let{mode:t,showDescription:s=!0,className:n,showIconSpace:r}=e;return(0,a.jsx)(X,{iconRender:t.iconRender,label:t.prettyModeName,subtitle:t.modeDescription,showSubtitle:s,className:n,showIconSpace:r})}function Q(e){let{onUpgrade:t}=e,{t:s}=(0,E.Bd)("base"),{resolvedTheme:n}=(0,S.D)(),{user:r}=(0,R.wV)();return(0,i.g)(N.UP)?(0,a.jsx)(P._2,{className:(0,v.cn)("group/model-mode-select-upsell relative mb-1 flex flex-col items-start","rounded-2xl border-2 border-border-l2 bg-surface-l3 p-0 cursor-pointer","data-[disabled]:opacity-100 data-[disabled]:pointer-events-auto","px-3 py-2.5"),onSelect:t,children:(0,a.jsxs)("div",{className:"flex flex-row items-center justify-between w-full gap-3",children:[(0,a.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,a.jsx)("span",{className:"flex items-center -ms-0.5 -my-1 h-7 overflow-hidden",children:(0,a.jsx)(D.iM,{isDark:"dark"===n,className:"!h-7 !w-auto"})}),(0,a.jsx)("p",{className:"text-xs text-secondary pt-0.5",children:s("model-select.upsell.description.no-subscription","Unlock extended capabilities")})]}),(0,a.jsx)(_.$n,{variant:"filled",size:"sm",rounded:!0,"aria-label":r?s("Upgrade","Upgrade"):s("Sign in","Sign in"),onClick:t,children:r?s("Upgrade","Upgrade"):s("Sign in","Sign in")})]})},"upgrade"):null}function $(){let{t:e}=(0,E.Bd)("base"),{resolvedTheme:t}=(0,S.D)(),{user:s}=(0,R.wV)();return(0,i.g)(N.UP)?(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center rounded-2xl backdrop-blur-md py-1",children:(0,a.jsxs)("div",{className:"flex h-full flex-col items-center justify-center px-4 text-center",children:[(0,a.jsx)(D.iM,{className:"h-6",isDark:"dark"===t}),(0,a.jsx)("span",{className:"mb-2 text-sm text-secondary",children:e("model-select.upsell.description.no-subscription","Unlock extended capabilities")}),(0,a.jsx)(_.$n,{variant:"filled",size:"sm",rounded:!0,className:"group-hover/model-select-upsell:bg-button-filled-hover",children:s?e("model-select.upsell.button","Upgrade"):e("model-select.upsell.button-sign-in","Sign in")})]})}):null}function Z(){let{isPending:e,modelById:t}=(0,h.GB)(),s=(0,n.aP)(T.A("activeModelId")),a=(0,n.aP)(T.A("setActiveModelId"));return(0,f.useMemo)(()=>{if(e)return c.oQ;let n=t[s];if(!n){(0,w.vV)("model-select:usePrettyActiveModelName","Model ID ".concat(s," not found."));let e=Object.values(t)[0];return e?(a(e.modelId),e.name||c.oQ):c.oQ}return n.name||c.oQ},[t,s,e,a])}},13010:(e,t,s)=>{"use strict";s.d(t,{CommandMenu:()=>eM});var a=s(79342),n=s(39551),r=s(88382),o=s(38614),i=s(11750),c=s(5663),l=s(68332),d=s(80295),g=s(75500),m=s(33231),p=s(23232),u=s(41320),h=s(98100),f=s(91102),k=s(24734),b=s(7658),x=s(17703),w=s(77232),v=s(84499),y=s(98579),j=s(61312),N=s(49972),C=s(44347),S=s(84969),I=s(23054),T=s(16506),E=s(39116),R=s(74995),A=s(65146),_=s(42557),O=s(56691),P=s(24994),M=s(43086),L=s(92207);let D=e=>{let{name:t,value:s,keywords:o,icon:i,children:c,onTrigger:l}=e,d=(0,r.useMemo)(()=>(0,L.Jo)({type:"action",value:s}),[s]);return(0,a.jsx)(n.uB.Item,{keywords:o,value:d,onSelect:l,className:(0,j.cn)("flex cursor-pointer h-[48px] items-center gap-2 rounded-2xl px-3","data-[selected=true]:bg-button-ghost-hover"),children:c||(0,a.jsx)("div",{className:"flex flex-grow items-center justify-between gap-2 min-w-0",children:(0,a.jsxs)("div",{className:"flex flex-grow items-center gap-2 min-w-0",children:[i&&r.createElement(i,{size:16,className:"text-subtle flex-shrink-0 h-4 w-4"}),(0,a.jsx)("div",{className:"truncate",children:t})]})})})};var B=s(17338);let z=e=>{let{heading:t,className:s,children:r}=e;return(0,a.jsx)(n.L$,{heading:(0,a.jsx)("div",{className:(0,B.cx)("text-secondary px-3 pb-1.5 pt-2 text-sm",s),children:t}),children:r})};var F=s(73459);let U=(0,r.memo)(e=>{let{conversation:t,highlight:s,matchType:i}=e,c=(0,o.aP)(R.A("conversationId")),[l,d]=(0,r.useState)(!1),g=(0,r.useMemo)(()=>"MATCH_MESSAGE"===i&&s,[i,s]),m=(0,r.useMemo)(()=>c===t.conversationId,[c,t.conversationId]),p=(0,r.useMemo)(()=>(0,L.Jo)({type:"conversation",conversationId:t.conversationId}),[t.conversationId]);return(0,a.jsx)(n.uB.Item,{value:p,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),className:(0,j.cn)("h-[48px] rounded-2xl grid grid-cols-1 grid-rows-1","data-[selected=true]:bg-button-ghost-hover",g&&"h-[64px]"),children:(0,a.jsx)(F.w,{...e,isHovered:l,isCurrent:m})})});var V=s(35181),H=s(48992),W=s(97960),G=s(10505),K=s(87906),q=s(30532),X=s(69630),Y=s(38074),Q=s(37469),$=s(5862),Z=s(86822),J=s(53915),ee=s(46815);let et=(0,r.forwardRef)((e,t)=>{var s,n;let{response:o,showMarkdown:c,matchedWords:l}=e,{t:d}=(0,A.Bd)("chat"),g=(0,Z.d)(R.A("fetchGetAsset")),m=(0,C.C$)(e=>e.userSettings.preferences.displayUserMessageMarkdown),{sender:p,message:u,cardAttachmentsJson:h,fileAttachments:f,responseId:k}=o,[b,x]=(0,r.useState)({}),w=(0,r.useMemo)(()=>Object.values(b),[b]),v=(0,r.useMemo)(()=>w.filter(e=>!e.isModelGenerated),[w]),y=(0,r.useMemo)(()=>"human"===o.sender,[o.sender]),N=(0,r.useMemo)(()=>!y||(null!=c?c:m),[y,c,m]),S=(0,r.useMemo)(()=>{var e,t;return(null==(e=o.generatedImageUrls)?void 0:e.length)||Object.keys(null!=(t=o.streamingImageById)?t:{}).length},[null==(s=o.generatedImageUrls)?void 0:s.length,o.streamingImageById]),I=(0,r.useMemo)(()=>!y&&!!S,[y,S]),[T,E]=(0,r.useMemo)(()=>{let{webSearchResults:e,xposts:t,steps:s}=o,a=[...t||[],...(s||[]).flatMap(e=>e.xposts||[])],n=[...e||[],...(s||[]).flatMap(e=>e.webSearchResults||[])],r=new Set,i=a.filter(e=>!(!(null==e?void 0:e.postId)||r.has(e.postId))&&(r.add(e.postId),!0)),c=new Set;return[i,n.filter(e=>!(!(null==e?void 0:e.url)||c.has(e.url))&&(c.add(e.url),!0))]},[o]),_=(0,r.useMemo)(()=>u?(0,G.V)(u):u,[u]);(0,r.useEffect)(()=>{null==f||f.forEach(e=>{g({assetId:e}).then(t=>{x(J.A(ee.A(e),t))}).catch(()=>{})})},[f,g,x]);let O=(0,r.useMemo)(()=>{var e;if(o.thinkingStartTime&&o.thinkingEndTime){let e=new Date(o.thinkingEndTime).getTime()-new Date(o.thinkingStartTime).getTime();return d("thought-for-duration","Thought for {{duration}}",{duration:(0,$.a3)(e)})}return(null==(e=o.steps)?void 0:e.length)||o.thinkingTrace?d("simplified-response.thinking-performed","Thinking Performed"):null},[null==(n=o.steps)?void 0:n.length,o.thinkingEndTime,o.thinkingStartTime,o.thinkingTrace,d]);return(0,a.jsxs)("div",{ref:t,className:(0,j.cn)("relative group flex flex-col justify-center px-4 pb-2 gap-2",y?"items-end":"items-start"),children:[(0,a.jsxs)(q.s,{isUser:y,children:[O&&(0,a.jsxs)("div",{className:"text-secondary h-auto flex items-center justify-start gap-1 rounded-xl border-divider py-1",children:[(0,a.jsx)(i.xmO,{size:18,className:"text-secondary text-nowrap shrink-0"}),(0,a.jsx)("span",{children:O})]}),h&&h.length>0&&(0,a.jsx)("div",{className:"flex flex-col space-y-3",children:h.map((e,t)=>(0,a.jsx)(Y._,{cardAttachmentJson:e},"".concat(k,"-card-").concat(t)))}),(0,a.jsx)(K.m,{response:o,isStreaming:!1,numImages:S||0,readOnly:!0,disableImageClick:!0}),I?null:N?(0,a.jsx)(X.Ad,{sender:p||"",webSearchResults:E||es,xposts:T||es,hideCitations:(null!=T?T:[]).length+(null!=E?E:[]).length===0,matchedWords:l,cardAttachmentsJson:h,shouldRenderHtml:!0,children:_||""}):(0,a.jsx)("span",{className:"whitespace-pre-wrap",children:(0,X.Sw)(_||"",l)})]}),v.length>0&&(0,a.jsx)("div",{className:"flex flex-row flex-wrap justify-end gap-2 mt-2",children:v.map(e=>(0,a.jsx)(Q.u,{asset:e,isPrivate:!1,isDisabled:!0,allowCompact:!0},e.assetId))})]},null==l?void 0:l.join(""))}),es=[],ea=e=>{let{conversationResults:t}=e,{t:s}=(0,A.Bd)("base"),n=(0,W.A3)(R.A("loadPreviewResponses")),o=(0,L.H0)(R.A("selectedItem")),c=(0,r.useMemo)(()=>{if((null==o?void 0:o.type)==="conversation")return o.conversationId},[o]),l=(0,r.useMemo)(()=>c?t.find(e=>e.conversation.conversationId===c):void 0,[c,t]),d=(0,r.useMemo)(()=>{if(c)return n(c,null==l?void 0:l.matchedResponseId)},[c,null==l?void 0:l.matchedResponseId,n]),{data:g={responses:[],hasOlderResponses:!1,hasNewerResponses:!1},isLoading:m,error:p}=(0,V.v)(d),u=(0,r.useMemo)(()=>{var e;return null==(e=g.responses)?void 0:e.filter(e=>!e.responseId.startsWith("streaming_in_progress")&&(!e.state||"closed"===e.state))},[g.responses]),h=(0,r.useMemo)(()=>{let e=(0,H.Mb)(u),t=(0,H.d7)((null==e?void 0:e.responseId)||"",g.responses);return u.filter(e=>!!t.find(t=>t.responseId===e.responseId))},[u,g.responses]),f=(0,C.C$)(e=>e.userSettings.preferences.displayUserMessageMarkdown);return(0,a.jsxs)("div",{className:"col-span-1 xl:col-span-3 flex items-center justify-center overflow-auto h-full relative py-0.5 @container/preview",children:[(0,a.jsx)("div",{className:"absolute z-10 inset-x-0 bottom-0 h-6 bg-gradient-to-t from-background to-transparent"}),(0,a.jsx)("div",{className:"absolute z-10 inset-x-0 top-0 h-6 bg-gradient-to-b from-background to-transparent"}),(0,a.jsx)(S.N,{mode:"wait",children:c?p?(0,a.jsxs)(I.P.div,{initial:{opacity:1},animate:{opacity:1},exit:{opacity:1},transition:{duration:.1,ease:"easeIn"},className:"text-secondary flex items-center gap-3",children:[(0,a.jsx)(i.lW3,{}),s("Error Loading Messages","Error Loading Messages")]},"error"):m?(0,a.jsxs)(I.P.div,{initial:{opacity:1},animate:{opacity:1},exit:{opacity:1,transition:{duration:.05}},transition:{duration:.1,ease:"easeIn"},className:"text-secondary flex justify-center items-center gap-3",children:[s("Loading Messages","Loading Messages"),(0,a.jsx)(M.y,{size:"sm"})]},"loading"):(0,a.jsx)(en,{hasOlderResponses:g.hasOlderResponses,hasNewerResponses:g.hasNewerResponses,messages:h,showMarkdown:f,matchedResponseId:null==l?void 0:l.matchedResponseId,matchedWords:null==l?void 0:l.matchedWords},c):(0,a.jsx)(I.P.div,{initial:{opacity:1},animate:{opacity:1},exit:{opacity:1},transition:{duration:.1,ease:"easeIn"},className:"text-secondary flex items-center gap-3",children:s("Select a conversation to preview","Select a conversation to preview")},"no-conversation")})]})},en=e=>{let{messages:t,hasOlderResponses:s,hasNewerResponses:n,showMarkdown:o,matchedResponseId:i,matchedWords:c}=e,l=(0,r.useRef)(null),d=(0,r.useRef)(null),{t:g}=(0,A.Bd)("base");return(0,r.useEffect)(()=>{if(l.current)if(i&&d.current){var e;null==(e=d.current)||e.scrollIntoView({behavior:"smooth",block:"center"})}else l.current.scrollTop=l.current.scrollHeight},[i,t]),(0,a.jsxs)(I.P.div,{initial:{opacity:1},animate:{opacity:1},exit:{opacity:1,transition:{duration:.05}},transition:{duration:.1,ease:"easeIn"},className:"h-full w-full overflow-auto flex flex-col gap-3 py-6 px-3",ref:l,children:[s&&(0,a.jsx)("div",{className:"text-secondary text-center mb-4",children:g("Open the conversation to see older messages","Open the conversation to see older messages")}),t.sort((e,t)=>null===e.parentResponseId||e.parentResponseId===t.responseId?1:-1).map(e=>(0,a.jsx)(et,{ref:i===e.responseId?d:void 0,response:e,matchedWords:i===e.responseId?c:void 0,showMarkdown:"human"===e.sender?o:void 0},e.responseId)),n&&(0,a.jsx)("div",{className:"text-secondary text-center mt-4",children:g("Open the conversation to see newer messages","Open the conversation to see newer messages")})]})},er=e=>{let{label:t,variant:s,shortcut:n,onTrigger:r}=e;return(0,a.jsxs)(O.$n,{variant:"ghost",size:"sm",className:"pr-1.5 last-of-type:rounded-br-2xl group",onClick:r,children:[(0,a.jsx)("span",{className:(0,j.cn)("whitespace-nowrap",{"text-red-400":"destructive"===s,"text-primary":"default"===s}),children:t}),n&&(0,a.jsx)("span",{className:"text-secondary border border-border px-1.5 rounded-md group-last-of-type:group-hover:rounded-br-xl group-last-of-type:group-focus:rounded-br-xl",children:n})]})};var eo=s(26067);let ei=e=>{let{actions:t}=e,{t:s,i18n:n}=(0,A.Bd)("base"),o=(0,C.C$)(R.A("selectedLanguage")),c=(0,r.useMemo)(()=>o||n.languages.find(e=>e in eo.IV)||eo.GG,[n.languages,o]);return(0,a.jsx)(z,{heading:s("Language","Language"),children:t.map(e=>{var t;return(0,a.jsx)(D,{...e,children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2 w-full",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 w-full min-w-0",children:[(0,a.jsx)(i.ATU,{className:"w-4 h-4 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-secondary whitespace-nowrap truncate",children:(0,a.jsx)(A.x6,{t:s,ns:"base",i18nKey:"Change to",defaults:"Change to <primary>{{name}}</primary>",values:{name:e.name},components:{primary:(0,a.jsx)("span",{className:"text-primary"})}})})]}),c===e.value?(0,a.jsx)(i.Jlk,{className:"w-4 h-4 text-secondary"}):(0,a.jsx)("span",{className:"text-secondary whitespace-nowrap",children:null==(t=eo.IB[e.value])?void 0:t.nativeName})]})},e.value)})})},ec=e=>{let{actions:t}=e,{t:s}=(0,A.Bd)("base"),n=(0,o.aP)(R.A("activeModelId"));return(0,a.jsx)(z,{heading:s("Models","Models"),children:t.map(e=>(0,a.jsx)(D,{...e,children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2 w-full",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,a.jsx)(i.azJ,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-secondary whitespace-nowrap truncate",children:(0,a.jsx)(A.x6,{ns:"base",i18nKey:"Switch to",defaults:"Switch to <primary>{{name}}</primary>",values:{name:e.name},components:{primary:(0,a.jsx)("span",{className:"text-primary"})}})})]}),n===e.value&&(0,a.jsx)(i.Jlk,{className:"w-4 h-4 text-secondary"})]})},e.value))})};var el=s(95158),ed=s(86639),eg=s(56907),em=s(74933);function ep(e){let{isCopied:t,setIsCopied:s,lastMessageId:n,conversationId:o,onShareLinkChange:c,onShareLinkCopy:l}=e,{t:d}=(0,A.Bd)("base"),g=(0,y.o)(),{mutate:m,data:p,isPending:u,isIdle:h,isError:f}=(0,eg.n_)({mutationKey:["share-conversation",o,n],mutationFn:()=>el.chatApi.chatShareConversation({conversationId:o,body:{responseId:n,allowIndexing:!0}}),onSuccess:e=>{let{shareLinkId:t}=e;t&&c(t)}});(0,r.useEffect)(()=>{h&&m()},[]),(0,r.useEffect)(()=>()=>{s(!1),c(null)},[]);let k=(null==p?void 0:p.shareLinkId)?window.location.origin+g(p.shareLinkId):null;return(0,a.jsxs)("div",{className:"flex flex-col gap-6 py-12",children:[(0,a.jsx)("div",{className:"w-[min(100%,460px)] mx-auto",children:(0,a.jsxs)("div",{className:"bg-red-100 dark:bg-red-500/20 border border-red-200 dark:border-red-800/50 rounded-2xl p-4 flex items-start gap-3",children:[(0,a.jsx)(i.lW3,{className:"text-fg-danger mt-0.5 flex-shrink-0",size:20}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"font-semibold text-red-900 dark:text-red-200 mb-1",children:d("share.warning.title","This link is public")}),(0,a.jsx)("div",{className:"text-sm text-red-800 dark:text-red-300",children:d("share.warning.description","Anyone with the link can read this conversation.")})]})]})}),(0,a.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,a.jsx)("div",{className:"text-lg text-center",children:d("Share this conversation","Share conversation")}),(0,a.jsx)("div",{className:"text-secondary text-center",children:d("Share this conversation.description","Anyone with the link can view this")})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-6 w-[min(100%,460px)] mx-auto",children:[u&&!f||k&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"relative border border-border-l1 rounded-2xl py-1",children:[(0,a.jsx)(em.p,{type:"text",value:k||"".concat(d("Loading","Loading"),"..."),disabled:!0,className:"flex-1 w-full rounded-xl pl-3 pr-24 py-5 text-sm text-primary border-none shadow-none"}),u?(0,a.jsx)("div",{className:"absolute inset-y-0 end-0 pr-2 flex items-center",children:(0,a.jsx)(M.y,{size:"xs"})}):(0,a.jsx)("div",{className:"absolute inset-y-0 end-0 pr-1 flex items-center",children:(0,a.jsx)(O.$n,{variant:"ghostSecondary",onClick:l,className:"text-primary",autoFocus:!0,children:t?d("Copied!","Copied!"):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.TdU,{className:"size-4"}),d("Copy link","Copy link")]})})})]}),(0,a.jsx)("div",{className:"!w-fit mx-auto",children:(0,a.jsx)("a",{href:u?void 0:"https://twitter.com/intent/tweet?url=".concat(encodeURIComponent(k)),target:u?void 0:"_blank",rel:u?void 0:"noopener noreferrer",children:(0,a.jsxs)(O.$n,{variant:"filled",className:"w-60 sm:min-w-24",disabled:u,children:[d("Post on","Post on"),(0,a.jsx)(ed.A,{size:14})]})})})]}),f&&(0,a.jsx)("div",{className:"text-red-500 text-center",children:d("Failed to share conversation","Unable to share. Try again.")})]})]})}var eu=s(88119);let eh=e=>{let{actions:t}=e,{t:s}=(0,A.Bd)("base"),{theme:n}=(0,T.D)();return(0,a.jsx)(z,{heading:s("Theme","Theme"),children:t.map(e=>(0,a.jsx)(D,{...e,children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2 w-full",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[Object.keys(eu.zG).includes(e.value)&&eu.zG[e.value]&&r.createElement(eu.zG[e.value].icon,{size:16,className:"text-subtle flex-shrink-0 h-4 w-4"}),(0,a.jsx)("span",{className:"text-secondary whitespace-nowrap truncate",children:(0,a.jsx)(A.x6,{t:s,ns:"base",i18nKey:"Switch to",defaults:"Switch to <primary>{{name}}</primary>",values:{name:e.name},components:{primary:(0,a.jsx)("span",{className:"text-primary"})}})})]}),n===e.value&&(0,a.jsx)(i.Jlk,{className:"w-4 h-4 text-secondary"})]})},e.value))})};var ef=s(95366),ek=s.n(ef);let eb=(e,t)=>t.length?e.filter(e=>Math.max(ek()("string"==typeof e.name?e.name:e.value,t),e.keywords?e.keywords.reduce((e,s)=>{let a=ek()(s,t);return a>e?a:e},0):0)>.3):e,ex=e=>{let{searchQuery:t}=e,{t:s}=(0,A.Bd)("base"),a=(0,o.aP)(R.A("conversationId")),{team:n}=(0,_.wV)(),c=(0,r.useMemo)(()=>{let e=[];return a&&!n&&e.push({name:s("Share","Share"),value:"share",keywords:["share","link","x"],icon:i.liv,onTrigger:()=>{let{addPage:e}=L.H0.getState();e({id:"share",isSearchEnabled:!1,searchQuery:""})}}),e},[a,n,s]);return{actions:(0,r.useMemo)(()=>eb(c,t),[c,t])}};var ew=s(2376),ev=s(70888),ey=s(18585),ej=s(5790),eN=s(48795);let eC=e=>{let{searchQuery:t,onClose:s}=e,{t:n}=(0,A.Bd)("base"),c=(0,L.H0)(R.A("addPage")),d=(0,L.H0)(R.A("onSearchQueryChange")),{routeToConversation:m,isChatPage:u}=(0,l.o)(),{theme:f}=(0,T.D)(),{user:k}=(0,_.wV)(),{modelById:b}=(0,h.GB)(),{route:x}=(0,v.wK)(),w=(0,g.h)(),y=(0,E.useRouter)(),j=(0,o.aP)(R.A("activeModelId")),S=(0,o.aP)(R.A("reasoningMode")),I=(0,o.aP)(R.A("setReasoningMode")),O=(0,o.aP)(R.A("conversationMode")),P=(0,o.aP)(R.A("conversationId")),M=(0,o.aP)(R.A("isDeepSearchRateLimited")),D=(0,o.aP)(R.A("isThinkingRateLimited")),B=(0,C.C$)(R.A("setIsIncognito")),z=(0,C.C$)(R.A("isIncognito")),F=(0,N.w1)(e=>P?e.byId[P]:void 0),U=(0,p._)(),V=(0,ej.iV)(R.A("toggleOpen")),H=(0,ej.iV)(R.A("open")),W=(0,r.useMemo)(()=>{if(F&&(0,ew.sS)(F.personaId))return(0,ey.pL)(F.personaId,n)},[F,n]),G=(0,r.useMemo)(()=>null==b?void 0:b[j],[j,b]),K=(0,r.useMemo)(()=>{var e;return null==G||null==(e=G.tags)?void 0:e.includes("deepsearch")},[G]),q=(0,r.useMemo)(()=>{var e;return null==G||null==(e=G.tags)?void 0:e.includes("always_show_deepsearch")},[G]),X=(0,r.useMemo)(()=>{var e;return null==G||null==(e=G.tags)?void 0:e.includes("think")},[G]),Y=(0,r.useMemo)(()=>{var e;return null==G||null==(e=G.tags)?void 0:e.includes("always_show_think")},[G]),{isThinkDisabled:Q,isDeepsearchDisabled:$,isThinkSelected:Z,isDeepsearchSelected:J}=(0,h.QG)(G),{handleVoiceModeEnter:ee}=(0,eN.F)({location:"command-menu"}),et=(0,r.useMemo)(()=>!(!G||$||W&&W.hideDeepSearch||!K&&!q||M||q&&!K),[G,$,K,q,W,M]),es=(0,r.useMemo)(()=>!(!G||Q||W&&W.hideThinking||!X&&!Y||D||Y&&!X),[G,Q,X,Y,W,D]),ea=(0,r.useCallback)(()=>{d(""),B(!1),m(void 0),s()},[s,d,B,m]),en=(0,r.useCallback)(()=>{d(""),B(!0),m(void 0),s()},[s,d,B,m]),er=(0,r.useCallback)(()=>{let e=o.aP.getState(),t=ev.x.getState();return t.removeByConversationId(e.conversationId||"no_conversation_id"),t.removeAttachByConversationId(e.conversationId||"no_conversation_id"),d(""),s(),ee()},[s,d,ee]),eo=(0,r.useCallback)(()=>{let e=o.aP.getState();return d(""),s(),e.exitVoiceMode("user_initiated")},[s,d]),ei=(0,r.useMemo)(()=>{let e=[];return k||e.push({name:n("Sign in","Sign in"),value:"sign-in",icon:i.KJW,keywords:["enter","sign","in","login"],onTrigger:()=>{U("sign_in_redirect",void 0,{location:"command-menu"}),y.push("/sign-in"),s()}}),P||!u?(e.push({name:n("Create New Chat","Create New Chat"),value:"new-chat",icon:i.cJ,keywords:["new","start","conversation"],onTrigger:ea}),k&&e.push({name:n("Create New Private Chat","Create New Private Chat"),value:"new-private-chat",icon:i.FEr,keywords:["new","start","conversation","incognito","private"],onTrigger:en})):z?e.push({name:n("Create New Chat","Create New Chat"),value:"new-chat",icon:i.cJ,keywords:["new","start","conversation"],onTrigger:ea}):k&&e.push({name:n("Create New Private Chat","Create New Private Chat"),value:"new-private-chat",icon:i.FEr,keywords:["new","start","conversation","incognito","private"],onTrigger:en}),w.ENABLE_VOICE_MODE&&!z&&"voice"!==O&&["main","chat"].includes(x.page)&&e.push({name:n("Enter Voice Mode","Enter Voice Mode"),value:"voice-mode",keywords:["enter","voice","mode","talk","companion"],icon:i.b7X,onTrigger:er}),"voice"===O&&e.push({name:n("Exit Voice Mode","Exit Voice Mode"),value:"exit-voice-mode",keywords:["exit","voice","mode"],icon:i.b7X,onTrigger:eo}),P&&k&&e.push({name:n("command-menu.move-to-workspace.label","Move conversation to project"),value:"move-to-workspace",icon:i.XRf,keywords:["workspace","move"],onTrigger:()=>c({id:"move-to-workspace",isSearchEnabled:!0,searchQuery:"",searchPlaceholder:n("command-menu.move-to-workspace.placeholder","Find project...")})}),e.push({name:n("Switch Model","Switch Model"),value:"switch-model",icon:i.azJ,keywords:["switch","model"],onTrigger:()=>c({id:"switch-model",isSearchEnabled:!0,searchQuery:"",searchPlaceholder:n("Search models...","Search models...")})},{name:n("Switch Theme","Switch Theme"),value:"switch-theme",icon:f&&Object.keys(eu.zG).includes(f)?eu.zG[f].icon:i.w2g,keywords:["switch","theme"],onTrigger:()=>c({id:"switch-theme",isSearchEnabled:!0,searchQuery:"",searchPlaceholder:n("Search themes...","Search themes...")})}),es&&(e.push({name:Z?(0,a.jsx)(A.x6,{ns:"base",i18nKey:"Disable Tool",defaults:"Disable <primary>{{name}}</primary>",values:{name:n("Think","Think")},components:{primary:(0,a.jsx)("span",{className:"font-medium"})}}):(0,a.jsx)(A.x6,{ns:"base",i18nKey:"Enable Tool",defaults:"Enable <primary>{{name}}</primary>",values:{name:n("Think","Think")},components:{primary:(0,a.jsx)("span",{className:"font-medium"})}}),value:"think",icon:i.xmO,keywords:[n("Think","Think"),"think","tool","mode","reason"].concat(Z?[n("Disable","Disable")]:[n("Enable","Enable")]),onTrigger:()=>{let e="think"==S?"none":"think";U("switch_reasoning_mode",e,{location:"command-menu:useHomeActions"}),I(e),s()}}),et&&e.push({name:J?(0,a.jsx)(A.x6,{ns:"base",i18nKey:"Disable Tool",defaults:"Disable <primary>{{name}}</primary>",values:{name:n("DeepSearch","DeepSearch")},components:{primary:(0,a.jsx)("span",{className:"font-medium"})}}):(0,a.jsx)(A.x6,{ns:"base",i18nKey:"Enable Tool",defaults:"Enable <primary>{{name}}</primary>",values:{name:n("DeepSearch","DeepSearch")},components:{primary:(0,a.jsx)("span",{className:"font-medium"})}}),value:"deepsearch",icon:i.AaN,keywords:[n("DeepSearch","DeepSearch"),"deepsearch","search","research","tool","mode","reason"].concat(J?[n("Disable","Disable")]:[n("Enable","Enable")]),onTrigger:()=>{let e="deepsearch"==S?"none":"deepsearch";U("switch_reasoning_mode",e,{location:"command-menu:useHomeActions"}),I(e),s()}}),e.push({name:n("Change Language","Change Language"),value:"change-language",icon:i.ATU,keywords:["change","language","locale"],onTrigger:()=>{c({id:"change-language",isSearchEnabled:!0,searchQuery:"",searchPlaceholder:n("Search languages...","Search languages...")})}}),H||e.push({name:n("Settings","Settings"),value:"settings",icon:i.DP5,keywords:["settings","preferences"],onTrigger:()=>{V(),s()}}),k&&e.push({name:n("Sign out","Sign out"),value:"sign-out",icon:i.nUv,keywords:["exit","sign","out","logout"],onTrigger:()=>{y.push("/sign-out"),s()}})),e},[P,ea,en,k,z,et,es,Z,J,f,S,H,V,c,u,s,y,I,U,n,er,eo,w,O,x.page]);return{actions:(0,r.useMemo)(()=>eb(ei,t),[ei,t])}},eS=e=>{let{searchQuery:t,onLanguageChange:s}=e,a=(0,r.useMemo)(()=>eo.O4.map(e=>({name:eo.IB[e].name,value:e,keywords:[eo.IB[e].nativeName,eo.IB[e].name],icon:i.ATU,onTrigger:()=>{s(e)}})),[s]);return{actions:(0,r.useMemo)(()=>eb(a,t),[a,t])}};var eI=s(3683),eT=s(58939),eE=s(14609),eR=s(82646);let eA=e=>{let{searchQuery:t,onModelSwitch:s}=e,{models:a}=(0,h.GB)(),n=(0,r.useMemo)(()=>a.filter(e=>!!e.name).map(e=>({name:e.name,type:"action",value:e.modelId,icon:eR.dNu,onTrigger:()=>{s(e.modelId)}})),[a,s]);return{actions:(0,r.useMemo)(()=>eb(n,t),[n,t])}},e_=e=>{let{searchQuery:t,onThemeSwitch:s}=e,{t:a}=(0,A.Bd)("base"),n=(0,r.useMemo)(()=>{let e={light:a("Light","Light"),dark:a("Dark","Dark"),system:a("System","System")};return Object.entries(eu.zG).map(t=>{let[a,{icon:n}]=t;return{name:e[a],value:a,icon:n,onTrigger:()=>{s(a)}}})},[a,s]);return{actions:(0,r.useMemo)(()=>eb(n,t),[n,t])}},eO=e=>{let{searchQuery:t,onSelect:s}=e,n=(0,eI._)(),o=(0,r.useMemo)(()=>n.map(e=>{var t,n;let r=null!=(t=e.name)?t:"",o=null!=(n=e.workspaceId)?n:"";return{name:r,type:"action",value:o,keywords:[r],icon:()=>(0,a.jsx)(eT.Oh,{icon:e.icon}),onTrigger:()=>{o&&s(o)}}}),[n,s]);return{actions:(0,r.useMemo)(()=>eb(o,t),[o,t])}},eP=e=>{let{actions:t}=e,{t:s}=(0,A.Bd)("base");return(0,a.jsx)(z,{heading:s("command-menu-section.workspace","Project"),children:t.map(e=>(0,a.jsx)(D,{...e},e.value))})};function eM(e){let{trigger:t}=e,{t:s,i18n:B}=(0,A.Bd)("base"),F=(0,y.o)(),V=(0,g.h)(),H={today:s("Today","Today"),yesterday:s("Yesterday","Yesterday"),"last-7-days":s("Last 7 Days","Last 7 Days"),"this-year":s("This Year","This Year"),older:s("Older","Older")},W=(0,r.useRef)(null),G=(0,p._)(),{routeToConversation:K,signInWithReturnTo:q}=(0,l.o)(),X=(0,_.wV)().user,Y=(0,E.useRouter)(),{commandPrefix:Q}=(0,f.c)(),$=(0,k.K)(),{push:Z}=(0,v.wK)(),J=(0,L.H0)(R.A("open")),ee=(0,L.H0)(R.A("selectedItem")),et=(0,L.H0)(R.A("pages")),es=(0,L.H0)(R.A("goBack")),en=(0,o.aP)(R.A("lastMessageId")),eo=(0,o.aP)(R.A("conversationId")),el=(0,o.aP)(R.A("activeModelId")),ed=(0,o.aP)(R.A("reasoningMode")),eg=(0,h.$E)(),em=(0,C.C$)(e=>e.userSettings.preferences.showConversationPreviews),eu=(0,u.Di)(),[ef,ek]=(0,r.useState)(null),[ew,ev]=(0,r.useState)(null),[ey,ej]=(0,r.useState)(""),[eN,eR]=(0,r.useState)(null),[eM,eL]=(0,r.useState)(!1),eD=(0,r.useMemo)(()=>et[et.length-1]||null,[et]),eB=(0,r.useMemo)(()=>X&&(null==eD?void 0:eD.id)==="root"&&!eu,[X,null==eD?void 0:eD.id,eu]),ez=(0,r.useMemo)(()=>eB&&em,[em,eB]),eF=(0,r.useMemo)(()=>{var e,t;return null!=(t=null==eD||null==(e=eD.searchQuery)?void 0:e.trim())?t:""},[null==eD?void 0:eD.searchQuery]),eU=(0,r.useMemo)(()=>eM||(null==eD?void 0:eD.isSearchEnabled)&&!!eF,[eM,null==eD?void 0:eD.isSearchEnabled,eF]),{groupedConversations:eV,results:eH,refetch:eW,loadMoreRef:eG,historyContainerRef:eK,isLoading:eq,isFetching:eX,isError:eY}=(0,eE.Y)({query:eF}),eQ=(0,r.useCallback)(e=>{let{goBack:t,openMenu:s}=L.H0.getState();if(e)s();else{if(ef||ew){ek(null),ev(null),ej("");return}eL(!1),t()}},[ef,ew]),{actions:e$}=eC({searchQuery:eF,onClose:(0,r.useCallback)(()=>{eQ(!1)},[eQ])}),{actions:eZ}=ex({searchQuery:eF}),eJ=(0,r.useCallback)(e=>{G("switch_model",e,{location:"comand-menu"});let{setActiveModelId:t}=o.aP.getState();t(e);let{closeMenu:s}=L.H0.getState();s()},[G]),{actions:e0}=eA({searchQuery:eF,onModelSwitch:eJ}),{mutate:e1,error:e2}=(0,b.tX)();(0,k.Y)("command-menu:addToWorkspace",e2);let{actions:e3}=function(e){let{searchQuery:t,onWorkspaceSelected:s,hasCurrentConversation:n}=e,o=(0,eI._)();return(0,r.useMemo)(()=>n?{actions:eb(o.map(e=>({name:e.name,value:"workspace-"+e.workspaceId,icon:t=>{let{size:s}=t;return(0,a.jsx)(eT.Oh,{icon:e.icon,size:s})},onTrigger:()=>{var t;null==s||s(null!=(t=e.workspaceId)?t:"")}})),t)}:{actions:[]},[n,o,t,s])}({searchQuery:eF,onWorkspaceSelected:(0,r.useCallback)(e=>{let{closeMenu:t}=L.H0.getState();t(),eo&&(e1({conversationId:eo,workspaceId:e}),G("add_conversation_to_workspace",void 0,{location:"comand-menu"}))},[e1,eo,G]),hasCurrentConversation:!!eo}),{setTheme:e4}=(0,T.D)(),e5=(0,r.useCallback)(e=>{e4(e);let{closeMenu:t}=L.H0.getState();t()},[e4]),{actions:e8}=e_({searchQuery:eF,onThemeSwitch:e5}),e6=(0,r.useCallback)(e=>{B.changeLanguage(e).then(()=>{let{setSelectedLanguage:t}=C.C$.getState();t(e)}).catch(e=>(0,x.vV)("cmdk-language-change",e));let{closeMenu:t}=L.H0.getState();t(),G("change_language",e,{location:"command-menu"})},[B,G]),{actions:e7}=eS({searchQuery:eF,onLanguageChange:e6}),{actions:e9}=eO({searchQuery:eF,onSelect:(0,r.useCallback)(e=>{let{closeMenu:t}=L.H0.getState();t(),Z({page:"workspace",workspaceId:e,tab:"attachments"})},[Z])}),te=(0,r.useMemo)(()=>ee?ee.type:null,[ee]),tt=(0,r.useMemo)(()=>ee?"home-action"===ee.type?e$.find(e=>e.value===ee.homeActionId)||null:"item-action"===ee.type&&eZ.find(e=>e.value===ee.itemActionId)||null:null,[e$,eZ,ee]),ts=(0,r.useMemo)(()=>e$[0]||null,[e$]),ta=(0,r.useCallback)(e=>{eL(e)},[]),tn=(0,r.useCallback)(e=>{let{fetchSetPreference:t}=C.C$.getState();t("showConversationPreviews",e).catch((0,x.HX)("command-menu:handleShowConversationPreviewsChange"))},[]),tr=(0,r.useCallback)(e=>{let{setSelectedItem:t}=L.H0.getState();ef||ew||t(e)},[ef,ew]),[to,ti]=(0,r.useState)(""),tc=to?(0,L.kw)(to):void 0,tl=(0,r.useCallback)(e=>{let t=(0,L.kw)(e),{setSelectedItem:s}=L.H0.getState();s(t)},[]);(0,d.s)(to,tl,100);let td=(0,r.useCallback)(e=>{let{onSearchQueryChange:t}=L.H0.getState();t(e),ek(null),ev(null),eL(!1)},[]),tg=(0,r.useCallback)(e=>{var t;let s=eH.find(t=>t.conversation.conversationId===e);ej((null==s||null==(t=s.conversation)?void 0:t.title)||""),ek(e)},[eH]),[tm,tp]=(0,r.useState)(!1),tu=(0,r.useCallback)(()=>{let e=eN?window.location.origin+F(eN):null;e&&(tp(!0),(0,w.g)(e,s("Copied share link to clipboard.","Copied share link to clipboard.")),setTimeout(()=>tp(!1),1e3),G("clicked-share-copy",e,{location:"share-form",conversationId:eo||"",responseId:en||"",shareUrl:e}))},[eN,s,G,eo,en,F]),th=(0,r.useCallback)(e=>{var t;let s,a=Array.from((null==(t=W.current)?void 0:t.querySelectorAll("[cmdk-item][data-value]:not([hidden])"))||[]);if(0===a.length)return;let n=ee?(0,L.kX)(ee):void 0,r=a.findIndex(e=>e.getAttribute("data-value")===n&&"true"===e.getAttribute("data-selected"));if(!W.current)return;s=-1!==r&&ee?"PageUp"===e?Math.max(0,r-8):Math.min(a.length-1,r+8):"PageDown"===e?0:a.length-1;let o=a[s];if(!o)return;let i=o.getAttribute("data-value"),c=o.getAttribute("data-type");i&&c&&(tr((0,L.P1)(c,i)),o.scrollIntoView({behavior:"instant",block:"PageUp"===e?"start":"end"}))},[ee,tr,W]),tf=(0,r.useCallback)(e=>{if(ef||ew)return;K(e,!1,!0);let t=N.w1.getState().byId[e];G("select_conversation",e,{conversationCreateTime:(null==t?void 0:t.createTime)||"",location:"command-menu"}),eQ(!1)},[ef,ew,K,G,eQ]),tk=(0,r.useCallback)(async e=>{var t;if(ef!==e)return;let s=ey.trim();if(""===s)return;let a=eH.find(t=>t.conversation.conversationId===e);G("update_conversation",e,{location:"search-dialog"}),ek(null);let{fetchUpdateConversation:n}=N.w1.getState();await n(e,{title:s,starred:null==a||null==(t=a.conversation)?void 0:t.starred}).catch(e=>{$("command-menu:handleEditSave",e)}),await eW()},[eH,$,ef,ey,eW,G]),tb=(0,r.useCallback)(async e=>{var t;let s=eH.find(t=>t.conversation.conversationId===e);G("favorite_conversation",e,{value:(null==s?void 0:s.conversation.starred)?"true":"false",location:"search-dialog"});let{fetchUpdateConversation:a}=N.w1.getState();await a(e,{starred:!(null==s||null==(t=s.conversation)?void 0:t.starred)}).catch(e=>{$("command-menu:handleToggleFavorite",e)}),await eW()},[eH,$,eW,G]),tx=(0,r.useCallback)(async e=>{if(ew!==e)return;G("delete_conversation",e,{location:"search-dialog"}),eo===ew&&K(),ev(null);let{fetchSoftDeleteConversation:t}=N.w1.getState();await t(e).catch(e=>{$("command-menu:handleDeleteConfirm",e)}),await eW()},[ew,G,eo,eW,K,$]),tw=(0,r.useCallback)(e=>{if(e.stopPropagation(),"Tab"===e.key&&e.preventDefault(),"PageUp"===e.key||"PageDown"===e.key){e.preventDefault(),th(e.key);return}if("Enter"===e.key&&eF&&!eq&&0===eH.length&&(null==eD?void 0:eD.id)==="root"&&0===e0.length&&0===e8.length&&0===e7.length&&0===e9.length&&0===e$.length&&0===eZ.length){if(e.preventDefault(),!X&&(!V.ENABLE_ANON_USERS||eg.includes(el))){G("sign_in","chat-new",{location:"chat-new"}),q(eF,ed);return}let{establishNewConversation:t}=o.aP.getState();t({message:eF,enableRetries:V.ENABLE_AUTO_STREAM_RETRY,ff:V}).then(()=>{eQ(!1)}).catch(e=>{$("command-menu:handleKeyDown",e)});return}if(ew&&"Enter"===e.key)return e.preventDefault(),tx(ew);if((null==eD?void 0:eD.id)==="share"&&"Enter"===e.key)return e.preventDefault(),tu();if(!(ef||ew)&&(null==ee?void 0:ee.type)==="conversation"){if("e"===e.key.toLowerCase()&&e.shiftKey&&(e.metaKey||e.ctrlKey)){e.preventDefault(),tg(ee.conversationId);return}else if("d"===e.key.toLowerCase()&&e.shiftKey&&(e.metaKey||e.ctrlKey)){e.preventDefault(),ev(ee.conversationId);return}}if(("Backspace"===e.key&&!eF||"k"===e.key.toLowerCase()&&(e.metaKey||e.ctrlKey&&e.shiftKey))&&(e.preventDefault(),eQ(!1)),eB&&"p"===e.key.toLowerCase()&&(e.metaKey||e.ctrlKey)&&e.shiftKey&&(e.preventDefault(),tn(!em)),"Enter"===e.key&&(null==ee?void 0:ee.type)==="conversation")if(e.metaKey||e.ctrlKey)window.open("/c/".concat(ee.conversationId),"_blank");else{let{fetchGetConversation:e}=N.w1.getState();e(ee.conversationId).then(e=>tf(e.conversationId)).catch((0,x.HX)("command-menu:handleConversationSelect"))}},[eF,eq,eH.length,null==eD?void 0:eD.id,e0.length,e8.length,e7.length,e9.length,e$.length,eZ.length,ew,ef,ee,eB,th,X,eg,el,G,q,ed,eQ,$,tx,tu,tg,tn,em,tf,V]),tv=(0,r.useCallback)(()=>{ek(null),ev(null),ej("")},[]),ty=(0,r.useCallback)(()=>{G("sign_in_redirect",void 0,{location:"command-menu"}),Y.push("/sign-in")},[Y,G]);(0,m.v)(c.VP,()=>{G("opened_command_menu",void 0,{location:"command-menu:hotkey"}),eQ(!J)},[J,eQ]),(0,m.v)(c._1,()=>{eB&&(J?tn(!em):(eQ(!0),tn(!0)))},[em,tn,eQ,J,eB]);let tj=(0,r.useMemo)(()=>ee?(0,L.Jo)(ee):"",[ee]);return(0,a.jsx)(P.R,{open:J,setOpen:eQ,trigger:t,contentClassName:(0,j.cn)("bg-background rounded-3xl transition-all duration-150 ease-in-out outline-none w-full md:w-5/6 lg:w-3/5 max-w-3xl flex flex-col",{"rounded-b-none":eu},{"md:w-[calc(100dvw-32px)] lg:w-5/6 max-w-[1600px]":ez}),headerClassName:"sr-only",titleClassName:"sr-only",title:s("Command Menu","Command Menu"),children:(0,a.jsxs)(n.uB,{ref:W,label:"Command Menu",loop:!0,shouldFilter:!1,value:tj,defaultValue:null==ts?void 0:ts.value,onKeyDown:tw,onValueChange:ti,className:(0,j.cn)("flex flex-col w-full focus-visible:outline-none"),children:[(0,a.jsx)("div",{className:"flex items-center gap-3 px-5 border-b border-border h-14",children:(0,a.jsxs)(S.N,{mode:"popLayout",children:[(null==eD?void 0:eD.id)!=="root"&&(0,a.jsx)(I.P.div,{layout:!0,initial:{opacity:0,translateX:-10},animate:{opacity:1,translateX:0},exit:{opacity:0,translateX:-10},transition:{duration:.15},className:"flex items-center w-8 h-8 justify-center rounded-full text-fg-secondary hover:text-fg-primary hover:bg-button-ghost-hover transition-colors -ml-3 cursor-pointer",onClick:es,role:"button",tabIndex:0,children:(0,a.jsx)(i.A60,{size:16})},"back-arrow"),(null==eD?void 0:eD.isSearchEnabled)&&(0,a.jsx)(I.P.div,{className:"flex items-center w-full gap-2",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.uB.Input,{ref:e=>{ef||null==e||e.focus()},placeholder:(null==eD?void 0:eD.searchPlaceholder)||"".concat(s("Search","Search"),"..."),value:null==eD?void 0:eD.searchQuery,className:"flex-grow w-full bg-transparent placeholder:text-fg-secondary focus-visible:outline-none",onValueChange:td}),(0,a.jsx)(S.N,{mode:"wait",children:eX&&(null==eD?void 0:eD.id)==="root"?(0,a.jsx)(I.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},className:"flex-shrink-0",children:(0,a.jsx)(M.y,{size:"sm"})},"spinner"):(0,a.jsx)(I.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},className:"flex-shrink-0",children:(0,a.jsx)(i.vji,{className:"size-5 text-fg-secondary"})},"search-icon")})]})})]})}),(0,a.jsx)(n.uB.List,{onPointerDown:e=>e.stopPropagation(),onPointerMove:e=>e.stopPropagation(),onPointerUp:e=>e.stopPropagation(),children:(0,a.jsxs)(I.P.div,{initial:{height:eu?"calc(90dvh - 64px)":ez?"80dvh":"min(460px, calc(100dvh - 56px - 48px - 32px))"},animate:{height:eu?"calc(90dvh-64px)":ez?"80dvh":"min(460px, calc(100dvh - 56px - 48px - 32px))"},transition:{duration:.15,ease:"easeInOut"},className:"w-full relative",children:[X&&(null==eD?void 0:eD.isSearchEnabled)&&(0,a.jsx)(n.uB.Empty,{className:"flex absolute inset-0 bg-background z-10 pt-24 md:pt-0 md:pb-32 flex-col items-center justify-center text-center grow",children:(0,a.jsx)(S.N,{mode:"wait",children:eY&&(null==eD?void 0:eD.id)==="root"?(0,a.jsxs)(I.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},className:"text-fg-secondary flex items-center gap-3",children:[(0,a.jsx)(i.lW3,{}),s("Error Loading Conversations","Error Loading Conversations")]},"error"):eq&&(null==eD?void 0:eD.id)==="root"?(0,a.jsx)(I.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},className:"text-fg-secondary flex items-center gap-3 animate-pulse",children:s("Loading Conversations","Loading Conversations")},"loading"):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(I.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},className:"text-fg-secondary",children:[(0,a.jsx)("div",{className:"text-fg-secondary",children:s("No results found.","No results found.")}),eF.length>0&&(null==eD?void 0:eD.id)==="root"&&(0,a.jsxs)("div",{className:"hidden mt-4 md:block",children:[(0,a.jsx)("div",{className:"text-fg-secondary",children:s("Press enter to start new chat with:","Press enter to start new chat with:")}),(0,a.jsx)("div",{className:"text-fg-primary whitespace-nowrap truncate max-w-[400px]",children:eF})]})]},"no-results")})})}),(null==eD?void 0:eD.id)==="root"?(0,a.jsxs)("div",{className:(0,j.cn)("grid h-full relative",{"grid-cols-2 xl:grid-cols-5":ez}),children:[(0,a.jsxs)("div",{className:(0,j.cn)("col-span-1 xl:col-span-2 h-full overflow-auto space-y-3 p-3",ez&&"border-r border-border"),style:{scrollPaddingBlock:"1rem"},ref:eK,children:[eU?(0,a.jsxs)(a.Fragment,{children:[(!!e$.length||!!eZ.length)&&(0,a.jsxs)(z,{heading:(0,a.jsxs)("div",{className:"flex justify-between gap-3 items-center",children:[(0,a.jsx)("div",{children:s("Actions","Actions")}),!eF&&(null==eD?void 0:eD.isSearchEnabled)&&(0,a.jsx)("div",{className:"text-xs hover:text-primary transition-colors cursor-pointer",onClick:()=>ta(!1),children:s("Show Less","Show Less")})]}),children:[e$.map(e=>(0,a.jsx)(D,{...e},e.value)),eZ.map(e=>(0,a.jsx)(D,{...e},e.value))]}),eF.length>0&&e0.length>0&&(0,a.jsx)(ec,{actions:e0}),eF.length>0&&e8.length>0&&(0,a.jsx)(eh,{actions:e8}),eF.length>0&&e7.length>0&&(0,a.jsx)(ei,{actions:e7}),eF.length>0&&e9.length>0&&(0,a.jsx)(eP,{actions:e9}),eF.length>0&&e3.length>0&&(0,a.jsx)(eP,{actions:e3})]}):ts?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(z,{heading:(0,a.jsxs)("div",{className:"flex justify-between gap-3 items-center",children:[(0,a.jsx)("div",{children:s("Actions","Actions")}),(0,a.jsx)("div",{className:"text-xs hover:text-primary transition-colors cursor-pointer",onClick:()=>ta(!0),children:s("Show All","Show All")})]}),children:(0,a.jsx)(D,{...ts},ts.value)})}):null,X?eH.length>0?(0,a.jsxs)(a.Fragment,{children:[eF?(0,a.jsx)(z,{heading:s("History","History"),children:null==eH?void 0:eH.map(e=>{let{conversation:t,matchedWords:s,matchType:n,highlight:r}=e;return(0,a.jsx)(U,{conversation:t,matchedWords:s,matchType:n,highlight:em?void 0:r,isSelected:(null==tc?void 0:tc.type)==="conversation"&&tc.conversationId==tc.conversationId,isEditing:ef===t.conversationId,isDeleting:ew===t.conversationId,newTitle:ey,onNewTitleChange:ej,onSelect:tf,onEditStart:tg,onDeleteStart:ev,onToggleFavorite:tb,onEditSave:tk,onDeleteConfirm:tx,onCancel:tv},t.conversationId)})}):eV.map(e=>{var t;return(0,a.jsx)(z,{heading:H[e.timeRange],children:null==(t=e.conversations)?void 0:t.map(e=>(0,a.jsx)(U,{conversation:e,isSelected:(null==tc?void 0:tc.type)==="conversation"&&tc.conversationId===e.conversationId,isEditing:ef===e.conversationId,isDeleting:ew===e.conversationId,newTitle:ey,onNewTitleChange:ej,onSelect:tf,onEditStart:tg,onDeleteStart:ev,onToggleFavorite:tb,onEditSave:tk,onDeleteConfirm:tx,onCancel:tv},e.conversationId))},e.timeRange)}),(0,a.jsx)("div",{ref:eG,className:"h-[1px] flex justify-center !m-0 !p-0"})]}):!eF&&(0,a.jsx)(z,{heading:s("History","History"),children:(0,a.jsx)("div",{className:"flex flex-col items-center justify-center py-12 text-center grow md:py-24",children:(0,a.jsx)(S.N,{mode:"wait",children:eY?(0,a.jsxs)(I.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},className:"text-secondary flex items-center gap-3",children:[(0,a.jsx)(i.lW3,{}),s("Error Loading Conversations","Error Loading Conversations")]},"error"):eq?(0,a.jsx)(I.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},className:"text-secondary flex items-center gap-3 animate-pulse",children:s("Loading Conversations","Loading Conversations")},"loading"):(0,a.jsx)(I.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},className:"text-secondary",children:s("History is empty","History is empty")},"empty")})})}):(0,a.jsx)(z,{heading:s("History","History"),children:(0,a.jsx)("div",{className:"flex flex-col items-center justify-center py-12 text-center grow md:py-24",children:(0,a.jsx)(O.$n,{variant:"outline",onClick:ty,children:s("Sign in to see your history","Sign in to see your history")})})})]}),ez&&(0,a.jsx)(ea,{conversationResults:eH})]}):(0,a.jsxs)("div",{className:(0,j.cn)("h-full p-3 overflow-auto"),style:{scrollPaddingBlock:"1rem"},children:[(null==eD?void 0:eD.id)==="share"&&eo&&en&&(0,a.jsx)(ep,{isCopied:tm,setIsCopied:tp,conversationId:eo,lastMessageId:en,onShareLinkChange:eR,onShareLinkCopy:tu}),(null==eD?void 0:eD.id)==="switch-model"&&e0.length>0&&(0,a.jsx)(ec,{actions:e0}),(null==eD?void 0:eD.id)==="switch-theme"&&e8.length>0&&(0,a.jsx)(eh,{actions:e8}),(null==eD?void 0:eD.id)==="change-language"&&e7.length>0&&(0,a.jsx)(ei,{actions:e7}),(null==eD?void 0:eD.id)==="workspace"&&e9.length>0&&(0,a.jsx)(eP,{actions:e9}),(null==eD?void 0:eD.id)==="move-to-workspace"&&e3.length>0&&(0,a.jsx)(eP,{actions:e3})]})]})}),!eu&&(0,a.jsxs)("div",{className:(0,j.cn)("flex items-center justify-end w-full h-12 gap-2 px-2 py-1 border-t border-border-l1",eB&&"justify-between"),children:[eB&&(0,a.jsx)(O.gx,{"aria-label":em?s("Hide Conversation Previews","Hide Conversation Previews"):s("Show Conversation Previews","Show Conversation Previews"),tooltipContent:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{children:em?s("Hide Conversation Previews","Hide Conversation Previews"):s("Show Conversation Previews","Show Conversation Previews")}),(0,a.jsx)("span",{className:"text-secondary border border-card px-1.5 rounded-md -mr-1.5",children:"".concat(Q," ⇧ P")})]}),tooltipContentProps:{side:"bottom"},tooltipProps:{delayDuration:500},variant:"ghost",size:"iconSm",rounded:!0,className:"transition-colors text-secondary hover:text-primary",onClick:()=>tn(!em),children:em?(0,a.jsx)(i.Oy_,{size:16}):(0,a.jsx)(i.MQ_,{size:16})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[te&&["home-action","item-action"].includes(te)&&tt&&(0,a.jsx)(er,{label:tt.name,shortcut:"⏎",variant:"default",onTrigger:tt.onTrigger}),(null==ee?void 0:ee.type)==="model"&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(er,{label:s("Switch","Switch"),shortcut:"⏎",variant:"default",onTrigger:()=>{eJ(ee.modelId)}})}),(null==ee?void 0:ee.type)==="theme"&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(er,{label:s("Switch","Switch"),shortcut:"⏎",variant:"default",onTrigger:()=>{e5(ee.themeId)}})}),(null==ee?void 0:ee.type)==="language"&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(er,{label:s("Change","Change"),shortcut:"⏎",variant:"default",onTrigger:()=>{e6(ee.languageId)}})}),(null==ee?void 0:ee.type)==="conversation"&&(0,a.jsx)(a.Fragment,{children:ef?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(er,{label:s("Cancel","Cancel"),shortcut:"Esc",variant:"default",onTrigger:()=>{ek(null),ej("")}}),(0,a.jsx)(er,{label:s("Confirm","Confirm"),shortcut:"⏎",variant:"default",onTrigger:()=>tk(ef)})]}):ew?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(er,{label:s("Cancel","Cancel"),shortcut:"Esc",variant:"default",onTrigger:()=>{ev(null)}}),(0,a.jsx)(er,{label:s("Delete","Delete"),shortcut:"⏎",variant:"destructive",onTrigger:()=>tx(ew)})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(er,{label:s("Go","Go"),shortcut:"⏎",variant:"default",onTrigger:()=>tf(ee.conversationId)}),(0,a.jsx)(er,{label:s("Edit","Edit"),shortcut:"".concat(Q," ⇧ E"),variant:"default",onTrigger:()=>{tg(ee.conversationId)}}),(0,a.jsx)(er,{label:s("Delete","Delete"),shortcut:"".concat(Q," ⇧ D"),variant:"default",onTrigger:()=>{ev(ee.conversationId)}})]})}),(null==eD?void 0:eD.id)==="share"&&eN&&(0,a.jsx)(er,{label:s("Copy","Copy"),shortcut:"⏎",variant:"default",onTrigger:tu})]})]})]})})}},14281:(e,t,s)=>{"use strict";s.d(t,{y:()=>f});var a=s(79342),n=s(42423),r=s(73772),o=s(23232),i=s(41320),c=s(17703),l=s(61312),d=s(93436),g=s(97960),m=s(30898);s(88382);var p=s(65146),u=s(52244);let h=[{label:(0,a.jsx)(p.x6,{i18nKey:"more-action.report",ns:"chat",defaults:"Report Issue"}),type:"report",showOnMobile:!0,showOnDesktop:!0,showInThreads:!0},{label:(0,a.jsx)(p.x6,{i18nKey:"more-action.exportToPdf",ns:"chat",defaults:"Export to PDF"}),type:"exportToPdf",showOnMobile:!0,showOnDesktop:!0,showInThreads:!0},{label:(0,a.jsx)(p.x6,{i18nKey:"more-action.referencedConversations",ns:"chat",defaults:"Referenced Conversations"}),type:"referenceMemory",showOnMobile:!0,showOnDesktop:!1,showInThreads:!0},{label:(0,a.jsx)(p.x6,{i18nKey:"more-action.share",ns:"chat",defaults:"Share"}),type:"createShareLink",showOnMobile:!0,showOnDesktop:!1,showInThreads:!1}];function f(e){let{response:t,triggerButton:s,setDropdownIsOpen:p,responseRef:f,isThread:k=!1}=e,b=(0,i.Di)(),x=(0,o._)(),w=e=>{var s,a;switch(e){case"report":{let e=t.parentResponseId?g.A3.getState().byId[t.parentResponseId]:void 0;(0,d.P.getState().openReportDialog)({responseId:t.responseId,modelId:(null==e||null==(a=e.metadata)||null==(s=a.requestModelDetails)?void 0:s.modelId)||void 0});break}case"exportToPdf":if(f.current){let e=document.createElement("div"),t=document.createElement("style");t.textContent='\n            .grok_report {\n              background-color: white !important;\n            }\n\n            .grok_report * {\n              color: black !important;\n              background-color: transparent !important;\n              border-color: black !important;\n              letter-spacing: normal !important;\n              word-spacing: normal !important;\n              font-variant-ligatures: normal !important;\n              font-feature-settings: normal !important;\n            }\n\n            /* \n               Turn off native bullets/numbers. Create custom ones. \n               Otherwise, the PDF will have bullets/numbers (likely\n               because of ::marker in the original HTML).\n            */\n            .grok_report ol, .grok_report ul {\n              list-style: none !important;\n              padding-inline-start: 0;\n              margin: 0;\n            }\n\n            /* Reserve space for marker column + gap (override prose utilities) */\n            .grok_report li {\n              position: relative;\n              display: block;\n              padding-inline-start: calc(var(--list-width, 3) * 1ch) !important;\n            }\n\n            /* Marker column: fixed width, anchored to start edge */\n            .grok_report ol > li::before,\n            .grok_report ul > li::before {\n              position: absolute;\n              inset-inline-start: 0;\n              inset-block-start: 0;\n              text-align: left;\n              white-space: nowrap;\n            }\n\n            .grok_report ol { counter-reset: g_ol !important; }\n            .grok_report ol > li { counter-increment: g_ol !important; }\n            .grok_report ol > li::before {\n              content: counter(g_ol) ".";\n              inline-size: calc(var(--list-width, 3) * 1ch);\n            }\n\n            .grok_report ul > li::before {\n              content: "•";\n              inline-size: calc(var(--list-width, 1) * 1ch);\n              display: inline-block;\n            }\n\n            /* Target both explicit and computed RTL */\n            .grok_report [dir="rtl"] ol > li::before,\n            .grok_report [dir="rtl"] ul > li::before,\n            .grok_report :dir(rtl) ol > li::before,\n            .grok_report :dir(rtl) ul > li::before {\n              text-align: right;\n            }\n          ',e.innerHTML=f.current.innerHTML,e.appendChild(t),e.classList.add("grok_report"),e.classList.add("light"),e.querySelectorAll("ol").forEach(e=>{let t=String(Array.from(e.children).filter(e=>"LI"===e.tagName).length||1).length;e.style.setProperty("--list-width",String(t+1))}),e.querySelectorAll("ul").forEach(e=>{e.style.setProperty("--list-width","1")}),m().set({margin:.7,pagebreak:{mode:["avoid-all","css"]},filename:"grok_report.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:4,ignoreElements:e=>{let t=new Set(e.classList);return t.has("x-post-chip")||t.has("web-search-result-chip")||t.has("action-buttons")||t.has("search-results")||t.has("thinking-container")||t.has("inline-media-container")||t.has("auth-notification")}},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}}).from(e).save().catch((0,c.HX)("more-actions-dropdown"))}break;case"referenceMemory":if(!t.memoryReferences)return;(0,n.iO)(()=>{x("open_memory_reference_list",t.responseId,{location:"memory"})},t.memoryReferences,t.responseId);break;default:(0,c.vV)("more-actions-dropdown","Non supported ActionType clicked in MoreActionsDropdown")}};return(0,a.jsxs)(r.rI,{onOpenChange:e=>{p(e)},children:[(0,a.jsx)(r.ty,{asChild:!0,children:s}),(0,a.jsx)(r.SQ,{side:"bottom",align:"end",sideOffset:6,className:"min-w-36 space-y-0.5",children:h.map((e,s)=>(!b||e.showOnMobile)&&(b||e.showOnDesktop)&&(!k||e.showInThreads)&&("referenceMemory"!==e.type||t.memoryReferences)?"createShareLink"===e.type?(0,a.jsx)(u.w,{variant:"ghostSecondary",size:b?"iconMd":"iconSm",rounded:!0,conversationId:t.conversationId,responseId:t.responseId,iconProps:{className:"size-4"},showLabel:!0,asDropdownItem:!0,hideIcon:!0},s):(0,a.jsx)(r._2,{className:(0,l.cn)("flex items-center gap-2"),onSelect:()=>w(e.type),children:e.label},s):null)})]})}},14609:(e,t,s)=>{"use strict";s.d(t,{Y:()=>p});var a=s(42557),n=s(48589),r=s(2376),o=s(17703),i=s(5862),c=s(95158),l=s(49972),d=s(56907),g=s(20014),m=s(88382);function p(e){let{query:t}=e,s=(0,a.wV)().user,p=(0,n.o)(t,200),u=(0,d.jE)(),h=(0,m.useRef)(null),f=(0,m.useRef)(null),[k,b]=(0,m.useState)(!1),[x,w]=(0,m.useState)(!1),[v,y]=(0,m.useState)(!1);(0,m.useEffect)(()=>{t!==p?y(!0):y(!1)},[t,p]);let j=(0,m.useCallback)(async e=>{var t,a,n;let{pageParam:o}=e;if(!s)return{conversationResults:[],nextPageToken:void 0};let i=await c.chatApi.chatListConversations({searchQuery:p||void 0,pageToken:"string"==typeof o?o:void 0,pageSize:"60"});return{conversationResults:(null==(t=i.textSearchMatches)?void 0:t.length)?null==(a=i.textSearchMatches)?void 0:a.map(e=>{var t;return{...e,conversation:{...e.conversation,personaId:(0,r._c)(null==(t=e.conversation)?void 0:t.systemPromptName),isNew:!1,state:"closed"}}}):(null==(n=i.conversations)?void 0:n.map(e=>({conversation:{...e,personaId:(0,r._c)(e.systemPromptName),isNew:!1,state:"closed"}})))||[],nextPageToken:i.nextPageToken,textSearchMatches:i.textSearchMatches||[]}},[p,s]),{data:N,fetchNextPage:C,hasNextPage:S,isFetchingNextPage:I,isFetching:T,isError:E,isLoading:R,refetch:A}=(0,d.qu)({queryKey:["conversations",p,null==s?void 0:s.userId],queryFn:j,initialPageParam:void 0,getNextPageParam:e=>e.nextPageToken,enabled:!!s,staleTime:6e5,refetchOnWindowFocus:!0}),_=(0,m.useMemo)(()=>{let e=(null==N?void 0:N.pages.flatMap(e=>e.conversationResults))||[],t=p?e:e.sort((e,t)=>new Date(t.conversation.modifyTime).getTime()-new Date(e.conversation.modifyTime).getTime());return g.A(e=>e.conversation.conversationId,t)},[null==N?void 0:N.pages,p]),O=(0,m.useMemo)(()=>{let e=i.YL.map(e=>{let{key:t}=e;return{timeRange:t,conversations:[]}});return _.forEach(t=>{let{conversation:s}=t,a=(0,i.JU)(s.modifyTime);if(a){let t=e.find(e=>e.timeRange===a);t&&t.conversations.push(s)}}),e.filter(e=>e.conversations.length>0)},[_]);return(0,m.useEffect)(()=>{let e=l.w1.subscribe(e=>e.byId,(e,t)=>{let s=!1;Object.values(e).forEach(e=>{let a=t[e.conversationId];(a||e.temporary)&&(e.temporary||(null==a?void 0:a.modifyTime)===e.modifyTime&&(null==a?void 0:a.title)===e.title&&(null==a?void 0:a.starred)===e.starred&&(null==a?void 0:a.state)===e.state)||(s=!0)}),Object.values(t).forEach(t=>{e[t.conversationId]||(s=!0)}),s&&u.invalidateQueries({queryKey:["conversations"]}).catch(e=>(0,o.vV)("conversation-store-update",e))});return()=>e()},[u]),(0,m.useEffect)(()=>{if(!(null==h?void 0:h.current)||!(null==f?void 0:f.current))return;let e=new IntersectionObserver(e=>{let[t]=e;t&&b(t.isIntersecting)},{root:f.current,rootMargin:"300px 0px 300px 0px",threshold:.1}),t=h.current;if(t)return e.observe(t),()=>{e.unobserve(t)}},[null==h?void 0:h.current,null==f?void 0:f.current]),(0,m.useLayoutEffect)(()=>{k&&S&&!I&&s&&!x&&(w(!0),C().catch(e=>(0,o.vV)("intersection-load-more",e)))},[k,S,I,C,s,x]),(0,m.useEffect)(()=>{if(x){let e=setTimeout(()=>{w(!1)},300);return()=>clearTimeout(e)}},[x]),{results:_,refetch:A,loadMoreRef:h,historyContainerRef:f,groupedConversations:O,isLoading:R,isFetching:T,isError:E,isDebouncing:v}}},14962:(e,t,s)=>{"use strict";s.d(t,{Sp:()=>N,wo:()=>M,Xs:()=>E,vO:()=>P,Zv:()=>L,BT:()=>I});var a=s(79342),n=s(38614),r=s(11750),o=s(42557),i=s(56691),c=s(1826),l=s(68332),d=s(69643),g=s(2376),m=s(95158);async function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.chatApi,s=arguments.length>2?arguments[2]:void 0,a=await t.chatGetShareLink({shareLinkId:e},{headers:s});if(!a.conversation)throw Error("Conversation not found.");if(!a.responses||0===a.responses.length)throw Error("No responses in conversation.");let n={...a.conversation,personaId:(0,g._c)(a.conversation.systemPromptName)};return{responses:a.responses.map(e=>({...e,conversationId:n.conversationId,state:"closed"})),conversation:n}}var u=s(48992),h=s(61312),f=s(97960),k=s(56907),b=s(38541),x=s.n(b),w=s(74995),v=s(88382),y=s(65146),j=s(14908);let N="HcydF4kDI5",C=["QHguYWk=","QHRlYWNoeC5haQ=="],S=new Set(["amRsb3Zlc3RoaXNAZ21haWwuY29t","bWF0dGJzcmlAZ21haWwuY29t"]);function I(){let{user:e}=(0,o.wV)(),t=null==e?void 0:e.email;return!!t&&!!(S.has(t)||C.some(e=>t.endsWith(atob(e))))}function T(){let e=I(),[t]=(0,d.M)(N,!1);return!!e&&!t}function E(){let{t:e}=(0,y.Bd)("base"),[,t]=(0,d.M)(N,!1),{isChatPage:s,isSharePage:n,pageData:o}=(0,l.o)();return T()?(0,a.jsxs)("div",{className:"absolute top-0 right-1/2 translate-x-1/2 z-50 flex items-center gap-2",children:[s&&(0,a.jsx)(_,{}),s&&(0,a.jsx)(O,{}),n&&(null==o?void 0:o.shareLinkId)&&(0,a.jsx)(A,{shareLinkId:o.shareLinkId}),(0,a.jsx)(i.$n,{variant:"none",size:"none",onClick:()=>{t(!0)},"aria-label":e("debug-menu-close.label","Close"),rounded:!0,children:(0,a.jsx)(r.X,{size:10})})]}):null}let R=e=>{let t=new URL(atob("aHR0cDovL25lYnVsYS1wcm9kdWN0aW9uLm5lYnVsYS5zdmMubGFwNS54LmFpL3Byb2QtZGVidWdnaW5n"));return t.searchParams.set("environment","prod"),t.searchParams.set("conversationId",e),t.toString()};function A(e){let{shareLinkId:t}=e,{data:s}=(0,k.IT)({queryKey:["share",t],queryFn:()=>p(t,m.chatApi)}),n=(0,v.useMemo)(()=>{if(null==s?void 0:s.conversation.conversationId)return R(s.conversation.conversationId)},[null==s?void 0:s.conversation.conversationId]);return s?(0,a.jsxs)("div",{className:"text-red-400 font-normal text-xs flex flex-row gap-1 items-center",children:[(0,a.jsx)("span",{children:"convo id: "}),(0,a.jsx)("span",{className:"block",children:null==s?void 0:s.conversation.conversationId}),(0,a.jsx)("span",{children:"|"}),(0,a.jsx)("span",{children:(0,a.jsx)(r.TdU,{size:14,className:"cursor-pointer hover:text-red-300",onClick:()=>{navigator.clipboard.writeText(null==s?void 0:s.conversation.conversationId).then(()=>{j.oR.success("Copied source conversation id to clipboard")}).catch(()=>{j.oR.error("Failed to copy source conversation id to clipboard")})}})}),(0,a.jsx)("a",{href:n,target:"_blank",children:(0,a.jsx)(r.k0t,{className:"cursor-pointer hover:text-red-300",size:14})})]}):null}function _(){let e=(0,n.aP)(w.A("lastMessageId")),t=(0,f.A3)(w.A("byId"));return(0,a.jsx)(i.$n,{className:"text-red-400 font-normal",variant:"text",size:"none",onClick:()=>{var s=e,a=t;let n=L(s,a),r=new Blob([null!=n?n:JSON.stringify({message:"No data to show"})],{type:"application/json"});if(r){let e=window.URL.createObjectURL(r);window.open(e,"_blank")}},children:"export"})}function O(){let e=(0,n.aP)(w.A("conversationId")),t=(0,v.useMemo)(()=>{if(e)return R(e)},[e]);return e?(0,a.jsx)(i.$n,{className:"text-red-400 font-normal",variant:"text",size:"none",onClick:()=>{window.open(t,"_blank")},children:"trace"}):null}function P(e){var t;let{response:s,className:n}=e,o=T(),l=(0,v.useMemo)(()=>{var e,t,a,n,r,o;let i=null==(t=s.metadata)||null==(e=t.requestModelDetails)?void 0:e.name,c=null==(n=s.metadata)||null==(a=n.requestModelDetails)?void 0:a.description,l=null==(o=s.metadata)||null==(r=o.requestModelDetails)?void 0:r.modelId;return[{label:"res id",value:s.responseId},{label:"model id",value:l},{label:"model name",value:i},{label:"model description",value:c}].filter(e=>e.value)},[s.responseId,null==(t=s.metadata)?void 0:t.requestModelDetails]),d="human"===s.sender;return o?(0,a.jsxs)(c.AM,{children:[(0,a.jsx)(c.Wv,{className:(0,h.cn)("absolute","bottom-[2.5rem]",d?"right-0":"left-0"),asChild:!0,hoverOpen:!0,children:(0,a.jsx)(i.$n,{variant:"none",size:"iconSm",className:(0,h.cn)("text-red-400","z-[1000]"),rounded:!0,tabIndex:-1,"aria-label":"Debug information",children:(0,a.jsx)(r.R2D,{size:14})})}),(0,a.jsx)(c.hl,{hoverOpen:!0,sideOffset:0,children:(0,a.jsx)("div",{className:(0,h.cn)("text-red-400 font-normal text-xs bottom-[2.5rem]","flex flex-col gap-0.5 p-3",n),children:l.map(e=>(0,a.jsxs)("div",{className:"flex flex-row gap-1",children:[(0,a.jsxs)("span",{children:[e.label,": "]}),(0,a.jsx)("span",{className:"block",children:e.value})]},e.label))})})]}):null}function M(e){let{className:t}=e,s=T(),o=(0,n.aP)(w.A("livekitRequestId"));return s&&o?(0,a.jsxs)("div",{className:(0,h.cn)("text-red-400 font-normal text-xs flex flex-row gap-3 justify-center items-center",t),children:[(0,a.jsxs)("span",{children:["Livekit request id: ",o]}),(0,a.jsx)(r.TdU,{size:14,className:"cursor-pointer hover:text-red-300",onClick:()=>{navigator.clipboard.writeText(o).then(()=>{j.oR.success("Copied livekit request id to clipboard")}).catch(()=>{j.oR.error("Failed to copy livekit request id to clipboard")})}})]}):null}function L(e,t){if(!e)return void console.error("No last message id");let s=t[e];return s?JSON.stringify((0,u.Cg)(s,t).map(e=>t[e]).filter(e=>void 0!==e).map(e=>({role:"human"===e.sender?"user":"assistant",content:e.message,...x().pick(e,"thinkingTrace","steps","generatedImageUrls","metadata")})),null,2):void console.error("No response for last message id",e)}},15041:(e,t,s)=>{"use strict";s.d(t,{m:()=>d});var a=s(38614),n=s(80574),r=s(87833),o=s(23232),i=s(24734),c=s(97960),l=s(88382);let d=(e,t)=>{let s=(0,o._)(),d=(0,i.K)(),{isBackgroundThinking:g}=(0,r.We)(),m=(0,n.JH)();return(0,l.useCallback)(async function(){let{onlyAbortStreamMessageId:n,streamedMessageId:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=a.aP.getState(),i=o.conversationId,l=null!=r?r:o.streamedMessageId;if(i&&l){if(g){var p;let e=c.A3.getState().byId[l];if((null==e||null==(p=e.uiLayout)?void 0:p.reasoningUiLayout)==="UNIFIED")return}return(s("abort_stream",void 0,{location:"chat-input:handleAbort",conversationId:null!=i?i:"",responseId:null!=l?l:""}),t)?t(()=>o.abortStream(i,l,n,m).catch(t=>{d(e,t)})):o.abortStream(i,l,n,m).catch(t=>{d(e,t)})}},[g,s,t,m,d,e])}},15665:(e,t,s)=>{"use strict";s.d(t,{F$:()=>c,UK:()=>r});var a=s(65258);class n{updateState(e){this.set(e)}constructor(e,t){this.set=e,this.get=t,this.activeId=null,this.nodes={}}}class r{get state(){return this.view.state}setNodeProps(e){i.instance.updateState(t=>{var s;let a=null!=(s=t.nodes[this.id])?s:{};return t.nodes[this.id]={...a,...e},t})}get node(){return this.state.nodes[this.id]}destroy(){this.view.removeModel(this.id),i.instance.updateState(e=>(delete e.nodes[this.id],e))}static typeId(e,t){if(e in r.types)throw Error("Duplicate use of model type "+e);return r.types[e]=t,t.prototype.type=e,t}constructor(e){if(this.id=e,!r.view)throw Error("EditorStateModel must be initialized with a valid EditorView");this.view=r.view,this.view.appendModel(this)}}r.types=Object.create(null);let o=e=>e;class i{static get instance(){return i.privateInstance||(i.privateInstance=new i),i.privateInstance}get state(){return this._state.getState()}updateState(e){this._state.setState(e)}appendModel(e){return void 0===this.models[e.id]&&(this.models[e.id]=e,!0)}removeModel(e){return!!this.models[e]&&(delete this.models[e],!0)}getModel(e){return this.models[e]}findById(e,t){e="string"==typeof e?r.types[e]:e;let s=this.models[t];if(void 0!==s&&s instanceof e)return s}useState(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this._state(e)}constructor(){this.models={},this._state=(0,a.MQ)(n,"EditorStateStore"),r.view=this}}function c(){return i.instance}},16454:(e,t,s)=>{"use strict";s.d(t,{_:()=>k});var a=s(79342),n=s(60065),r=s(23232),o=s(61312),i=s(58711),c=s(23054),l=s(74995),d=s(88382),g=s(65146),m=s(42557),p=s(5790),u=s(56691),h=s(38997),f=s(46681);let k=e=>{let{className:t}=e,{t:s}=(0,g.Bd)("upsell"),k=(0,i.e3)(l.A("setIsUpselling")),b=(0,p.iV)(l.A("setOpen")),x=(0,m.wV)(),w=(0,r._)(),v=(0,f.g)(i.U9),y=d.useCallback(()=>{w("upsell_card_clicked",x.countryCode,{location:"upsell-card",countryCode:x.countryCode||""}),k(!0),b(!1)},[w,x.countryCode,k,b]);if(v)return(0,a.jsxs)(c.P.div,{role:"button",className:(0,o.cn)("relative px-4 py-3.5 w-full items-center bg-black text-xs text-white border cursor-pointer","border-card rounded-3xl group text-left flex gap-4 dark -mb-10 sm:-mb-4 transition-all","duration-300 ease-in-out","hover:scale-[1.01] will-change-transform",t),onClick:y,children:[(0,a.jsx)(n.I,{starDensity:.001,className:"rounded-[23px]"}),(0,a.jsx)("div",{className:"absolute inset-0 flex justify-center top-0 overflow-hidden rounded-[23px]",children:(0,a.jsx)("div",{className:"size-80 bg-red-500 bg-gradient-to-r from-sunset via-breeze to-cobalt aspect-square opacity-10 absolute bottom-4 blur-[32px] rounded-full"})}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 sm:items-center z-10 mb-0.5",children:[(0,a.jsx)(h.jI,{}),(0,a.jsx)("p",{className:"text-muted-foreground ms-1 sm:ms-0 ",children:s("Fewer rate limits, more capabilities","Fewer rate limits, more capabilities")})]}),(0,a.jsx)(u.$n,{variant:"filled",rounded:!0,className:"ms-auto z-10",children:s("Go Super","Go Super")})]})}},16538:(e,t,s)=>{"use strict";let a;s.d(t,{q:()=>c,x:()=>a});var n=s(58561),r=s(2074),o=s(17703),i=s(34323);i.wG.config({paths:{vs:window.location.origin+"/vs"}});let c=()=>i.wG.init().then(e=>{a=e,e.editor.defineTheme("dark",n.a),e.editor.defineTheme("light",r._),e.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSyntaxValidation:!0,noSemanticValidation:!0}),e.languages.typescript.javascriptDefaults.setDiagnosticsOptions({noSyntaxValidation:!0,noSemanticValidation:!0})}).catch(e=>{(0,o.vV)("artifact-initMonaco",e)})},17670:(e,t,s)=>{"use strict";s.d(t,{K:()=>m});var a=s(79342),n=s(56691),r=s(75500),o=s(4295),i=s(61312),c=s(44347),l=s(88382),d=s(65146),g=s(63174);function m(e){let{initialMessage:t,onCancel:s,onSave:m}=e,{t:p}=(0,d.Bd)("chat"),u=(0,r.h)(),[h,f]=(0,l.useState)(t),k=(0,l.useRef)(null),b=(0,o.c)(),x=(0,c.C$)(e=>e.userSettings.preferences.enableTiptapEditorForQueryBar),w=(0,l.useCallback)(e=>{f(e.target.value)},[]),v=(0,l.useCallback)(()=>{m(h)},[m,h]),y=(0,l.useCallback)(e=>{let t=!e.metaKey&&!e.ctrlKey&&!e.shiftKey,s=!e.nativeEvent.isComposing&&"Process"!==e.key&&"KeyZ"!==e.code;if("Enter"===e.key&&t&&s&&!b){e.preventDefault(),v();return}},[v,b]),j=(0,l.useCallback)(e=>{let t=e.target.value;e.target.value="",e.target.value=t},[]),N=u.ENABLE_TIPTAP_EDITOR&&x;return(0,a.jsxs)("div",{className:(0,i.cn)("flex flex-col w-full gap-2",N&&"py-2"),children:[(0,a.jsx)(g.A,{dir:"auto",ref:k,autoFocus:!0,className:(0,i.cn)("w-screen max-w-[100%]","bg-transparent","focus:outline-none","text-primary"),placeholder:p("Enter prompt here","Enter prompt here"),style:{resize:"none"},onKeyDown:y,onChange:w,defaultValue:t,onFocus:j,onCopy:e=>{e.stopPropagation()}}),(0,a.jsxs)("div",{className:"flex flex-row justify-end w-full gap-2 p-1",children:[(0,a.jsx)(n.$n,{variant:"ghost",size:"sm",onClick:s,children:p("Cancel","Cancel")}),(0,a.jsx)(n.$n,{variant:"filled",size:"sm",onClick:v,children:p("Save","Save")})]})]})}},17704:(e,t,s)=>{"use strict";s.d(t,{h:()=>r});var a=s(5862),n=s(88382);function r(e,t){let[s,r]=(0,n.useState)(void 0);return(0,n.useEffect)(()=>{let s=()=>{let s;e.thinkingStartTime&&e.thinkingEndTime?s=new Date(e.thinkingEndTime).getTime()-new Date(e.thinkingStartTime).getTime():e.liveThinkingStartTime&&e.liveThinkingEndTime?s=e.liveThinkingEndTime-e.liveThinkingStartTime:!t&&e.createTime&&(s=Date.now()-new Date(e.createTime).getTime()),r(s)};s();let a=null;return"streaming"!==e.state||t||!e.createTime||e.thinkingEndTime||e.liveThinkingEndTime||(a=setInterval(s,1e3)),()=>{a&&clearInterval(a)}},[t,e.createTime,e.thinkingStartTime,e.thinkingEndTime,e.liveThinkingStartTime,e.liveThinkingEndTime,e.state]),{formattedDuration:null==s?void 0:(0,a.a3)(s),durationMs:s}}},17825:(e,t,s)=>{"use strict";s.d(t,{jo:()=>eQ,du:()=>eX,md:()=>eJ,dr:()=>eY});var a=s(79342),n=s(9037),r=s(55493),o=s(11750),i=s(56691),c=s(95739),l=s(23232),d=s(81754),g=s(17703),m=s(89482),p=s(56907),u=s(38541),h=s.n(u),f=s(88382),k=s(65146),b=s(82646),x=s(14908),w=s(39188);function v(e){let{authNotification:t,onResume:s}=e,{t:n}=(0,k.Bd)("base"),{data:r}=(0,d.H)(),i=(0,f.useMemo)(()=>{var e;return null!=(e=null==r?void 0:r.map(e=>e.provider))?e:[]},[r]),c=(0,f.useMemo)(()=>(null==t?void 0:t.providers)?h().uniq(t.providers):[],[t.providers]);return(0,f.useEffect)(()=>{s&&c.every(e=>i.includes(e))&&s()},[i,s,c]),(0,a.jsxs)(w.p,{className:"bg-surface-l2 flex flex-col gap-3 w-[340px] text-sm leading-snug",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center gap-1 font-bold",children:[(0,a.jsx)(o.sFP,{size:14}),n("auth-card.connecting-apps",{defaultValue_one:"Connecting App",defaultValue_other:"Connecting Apps",count:c.length})]}),(0,a.jsx)("div",{className:"ps-5 text-secondary",children:n("auth-card.connecting-apps-description",{defaultValue_one:"Grok needs to access an external app to proceed.",defaultValue_other:"Grok needs to access external apps to proceed.",count:c.length})})]}),(0,a.jsx)("div",{className:"flex flex-col gap-2",children:c.map((e,t)=>(0,a.jsx)(y,{provider:e},"provider_".concat(e,"_").concat(t)))})]})}function y(e){let{provider:t}=e,{t:s}=(0,k.Bd)("base"),n=(0,l._)(),{data:o,refetch:u}=(0,d.H)(),h=(0,f.useMemo)(()=>{var e;return null!=(e=null==o?void 0:o.map(e=>e.provider))?e:[]},[o]),w=(0,m.M4)(t),v=(0,m.Tr)(t),y=(0,m.Uq)(t),j=(0,p.n_)({mutationFn:async()=>{if("UNKNOWN"===t)throw Error("Unsupported provider");let e=window.location.host,s="SLACK"===t?c.td:"",a="".concat(e.startsWith("localhost")?"".concat(s,"http://"):"https://").concat(e).concat(c.WU),n=await (0,r.E)(a,t),o=Math.max(300,Math.floor(.6*screen.height)),i=Math.max(400,Math.floor(.6*screen.width)),l=Math.floor((screen.width-i)/2),d=Math.floor((screen.height-o)/2),g="width=".concat(i,",height=").concat(o,",top=").concat(d,",left=").concat(l,",toolbar=no,menubar=no,location=no,status=no");window.open(n||c.CJ,"oauthPopup",g)||window.open(n||c.CJ,"_blank")},onError:e=>{(0,g.vV)("auth-card.connect",e,{provider:t}),window.open(c.CJ,"_blank")}}),N=(0,f.useCallback)(()=>{n("connect-oauth-clicked",t,{location:"settings"}),j.mutate()},[j,t,n]);return((0,f.useEffect)(()=>{let e=async e=>{if(e.origin===window.location.origin&&e.data.type===c.mQ){let e=[...h];(await u().then(e=>{var t,s;return null!=(s=null==(t=e.data)?void 0:t.map(e=>e.provider))?s:[]})).find(t=>!e.includes(t))===t&&x.oR.success(s("auth-card.oauth-connection-success","Successfully connected {{provider}}!",{provider:w}))}};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[j,w,t,h,u,s]),null==o?void 0:o.some(e=>e.provider===t))?(0,a.jsxs)("div",{className:"flex flex-col gap-1 -ms-0.5",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center gap-1 font-bold",children:[(0,a.jsx)(b.Ykz,{size:16}),s("auth-card.connected successfully","{{provider}} connected",{provider:w})]}),(0,a.jsx)("div",{className:"ps-5 text-secondary",children:s("auth-card.connecting-apps-description","Grok can now access your {{provider}}.",{provider:w})})]}):(0,a.jsxs)("div",{className:"bg-surface-l3 rounded-md px-3 py-2.5 flex flex-col gap-1",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center gap-1.5 font-bold",children:[v&&(0,a.jsx)(v,{size:12}),w]}),(0,a.jsx)("div",{className:"text-secondary",children:y}),(0,a.jsxs)("div",{className:"w-full flex flex-row justify-end gap-1",children:[(0,a.jsx)(i.$n,{variant:"outline",size:"sm",rounded:!0,className:"hidden text-sm text-secondary hover:text-primary",children:s("auth-card.cancel","Cancel")}),(0,a.jsx)(i.$n,{variant:"filled",size:"sm",rounded:!0,className:"text-sm font-bold",onClick:N,children:s("auth-card.connect","Connect")})]})]})}var j=s(38074),N=s(61312),C=s(16506);function S(e){let{cardAttachment:t}=e,s=(0,f.useMemo)(()=>{try{let e=new URL(t.url).searchParams.get("v");return"https://www.youtube.com/embed/".concat(e)}catch(e){return null}},[t.url]);return s?(0,a.jsx)(w.p,{className:"w-[-webkit-fill-available] !p-0 overflow-hidden aspect-video mt-2",children:(0,a.jsx)("iframe",{width:"100%",height:"100%",src:s,title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})}):null}function I(e){let{cardAttachments:t}=e,{theme:s}=(0,C.D)();return(0,a.jsx)("div",{className:"flex flex-col justify-between @md/mainview:flex-row gap-2 my-3 @md/mainview:-mx-4",children:t.map(e=>{let t="https://groktpcontent.com/reddit?url=".concat(encodeURIComponent(e.url),"&height=240&theme=").concat(encodeURIComponent(null!=s?s:"dark"));return(0,a.jsxs)("div",{className:(0,N.cn)("relative overflow-hidden rounded-xl flex-1"),children:[(0,a.jsx)("div",{className:"absolute inset-0 rounded-xl border border-[#E8E8E8] dark:border-gray-800 pointer-events-none"}),(0,a.jsx)("iframe",{src:t,width:"100%",height:"240",style:{overflow:"hidden",background:"transparent",border:"none"}})]},e.url)})})}var T=s(51591),E=s(70697),R=s(30388),A=s(80226),_=s(87833),O=s(75500),P=s(41320),M=s(98100),L=s(83612),D=s(97960),B=s(44347),z=s(14941),F=s(74995),U=s(38614),V=s(88261),H=s(52619),W=s(34605),G=s(57448),K=s(57896),q=s(84969),X=s(23054),Y=s(67548),Q=s(20873),$=s(69630),Z=s(64838);let J=[],ee=e=>{var t,s,n;let{isStreaming:r,isOpen:c,step:d,stepIndex:g}=e,{t:m}=(0,k.Bd)("chat"),p=(0,l._)(),u=(0,U.aP)(F.A("setSidePanelContent")),h=r?$.Cn:$.Ad,b=(()=>{if(!d.tags||!d.text)return null;let e=d.tags.indexOf("decision");if(-1===e)return null;let t=d.text[e];return t?JSON.parse(t):null})(),x=(()=>{if(!d.tags||!d.text)return null;let e=d.tags.indexOf("summary");return -1===e?null:d.text[e]})(),w=(0,f.useMemo)(()=>{var e;return(null!=(e=d.webSearchResults)?e:[]).slice(0,5)},[d.webSearchResults]),v=(0,f.useCallback)(()=>{var e;p("show_all_research_accordion_search_results",void 0,{location:"searching-step",stepIndex:g.toString()}),d.webSearchResults&&(null==(e=d.webSearchResults)?void 0:e.length)>0&&u({type:"webSearchResults",data:{webSearchResults:d.webSearchResults}})},[d.webSearchResults,u,p,g]),y=(0,f.useCallback)(()=>{var e;d.xposts&&(null==(e=d.xposts)?void 0:e.length)>0&&u({type:"xPosts",data:d.xposts})},[d.xposts,u]),j=(0,f.useCallback)(()=>{var e,t;(null==b?void 0:b.action)==="browse_page"&&(null==(e=b.action_input)?void 0:e.url)&&window.open(null==(t=b.action_input)?void 0:t.url,"_blank")},[b]);return(0,a.jsxs)(q.N,{children:[c&&(0,a.jsx)(X.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeIn"},className:"overflow-x-auto [&>ul]:m-0 [&>div]:pb-0",children:(0,a.jsx)(h,{sender:"assistant",webSearchResults:d.webSearchResults||J,xposts:d.xposts||J,isNested:!0,shouldRenderHtml:!0,children:x||""})},"summary-".concat(g)),d.webSearchResults&&d.webSearchResults.length>0&&(0,a.jsxs)("div",{className:"w-full flex flex-col gap-3 py-3",children:[c&&(0,a.jsx)(X.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeIn"},className:"flex items-center gap-3",children:(0,a.jsx)("ul",{className:"w-full text-primary m-0",children:(0,a.jsx)("li",{children:(0,a.jsx)(k.x6,{ns:"chat",i18nKey:"super-search-searching-for",defaults:'Searching for <bold>"{{query}}"</bold>',values:{query:null==b||null==(t=b.action_input)?void 0:t.query},components:{bold:(0,a.jsx)("strong",{})}})})})},"web-search-results-".concat(g)),(0,a.jsxs)("div",{className:"relative w-full h-full -ml-4",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 w-4 pointer-events-none bg-gradient-to-r from-background to-transparent"}),(0,a.jsx)("div",{className:"absolute inset-y-0 -right-4 w-4 pointer-events-none bg-gradient-to-l from-background to-transparent"}),c&&(0,a.jsxs)("div",{className:"flex flex-col gap-3 w-[calc(100%+16px)] min-h-0 h-full items-stretch px-4 [&:has(:is(*):nth-last-child(1):not(:first-child))]:pb-2",children:[w.map((e,t)=>(0,a.jsx)(X.P.div,{className:"w-full",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeIn",delay:.05*t},children:(0,a.jsx)("div",{className:"w-full max-w-full overflow-hidden relative",children:(0,a.jsxs)("div",{className:"flex max-w-full items-start",children:[e.favicon?(0,a.jsx)("img",{src:e.favicon,alt:"favicon",className:"m-0 me-3 w-3 h-3"}):null,(0,a.jsxs)("div",{className:"max-w-full w-full text-primary text-sm whitespace-nowrap overflow-hidden text-ellipsis flex flex-col gap-1 ",children:[(0,a.jsx)("a",{href:e.url,target:"_blank",className:"w-full max-w-full !decoration-transparent leading-4  hover:!decoration-primary text-primary truncate",children:e.title}),(0,a.jsx)("div",{className:"ms-1 text-secondary text-xs leading-4 text-nowrap",children:e.url?(0,K.TG)(e.url):void 0})]})]})},e.url)},t)),(0,a.jsx)(i.$n,{onClick:v,variant:"outline",className:"text-secondary hover:text-primary h-auto hover:bg-transparent",children:d.webSearchResults.length<=w.length&&"(".concat(d.webSearchResults.length-w.length,")")?m("See all","See all"):m("See more","See more")+" (".concat(d.webSearchResults.length-w.length,")")})]})]})]}),c&&(null==b?void 0:b.action)==="browse_page"&&b.action_input.url&&(0,a.jsx)(X.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeIn"},className:"flex items-center gap-3",children:(0,a.jsx)("ul",{className:"text-primary m-0",children:(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{children:(0,a.jsx)(Y.o,{url:b.action_input.url,query:b.action_input.query})}),(0,a.jsx)(o.GrD,{className:"cursor-pointer transition-all inline me-2 flex-shrink-0 -mt-0.5 size-4 text-secondary hover:text-primary",onClick:j})]})})},"decision-".concat(g)),c&&(null==b?void 0:b.action)==="finance_data_code_executor"&&b.action_input.code&&(0,a.jsx)(X.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeIn"},children:(0,a.jsx)(Q.z,{code:b.action_input.code})},"finance_data_code_executor-".concat(g)),d.xposts&&d.xposts.length>0&&(0,a.jsxs)("div",{className:"w-full flex flex-col gap-3 py-3",children:[c&&(0,a.jsxs)(X.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeIn"},className:"flex items-center gap-3",children:[(0,a.jsx)("ul",{className:"w-full text-primary m-0",children:(0,a.jsx)("li",{children:(null==b||null==(s=b.action_input)?void 0:s.query)?(0,a.jsx)(k.x6,{ns:"chat",i18nKey:"deep-search-box-step.xposts-with-query",defaults:'Searching on X for <bold>"{{query}}"</bold>',values:{query:null==b||null==(n=b.action_input)?void 0:n.query},components:{bold:(0,a.jsx)("strong",{})}}):m("deep-search-box-step.xposts-without-query","Searching on X for")})}),(0,a.jsx)(i.$n,{variant:"ghostSecondary",size:"sm",className:"rounded-full transition-all me-0.5",onClick:y,children:m("See all","See all")})]},"xposts-".concat(g)),(0,a.jsxs)("div",{className:"relative w-full h-full -ml-4",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 w-4 pointer-events-none bg-gradient-to-r from-background to-transparent"}),(0,a.jsx)("div",{className:"absolute inset-y-0 -right-4 w-4 pointer-events-none bg-gradient-to-l from-background to-transparent"}),c&&(0,a.jsx)("div",{className:"flex gap-3 w-[calc(100%+16px)] h-full items-stretch overflow-x-auto px-4 [&:has(:is(*):nth-last-child(1):not(:first-child))]:pb-2",children:d.xposts.map((e,t)=>(0,a.jsx)(X.P.div,{className:"w-full",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeIn",delay:.05*t},children:(0,a.jsx)(Z.N,{post:e})},t))})]})]})]})};var et=s(43086);let es=e=>{let{header:t,isComplete:s}=e;return(0,a.jsxs)(H.$m,{className:"flex items-center gap-2",children:[(0,a.jsx)(q.N,{children:s?(0,a.jsx)(X.P.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},className:"flex-shrink-0 flex items-center",children:(0,a.jsx)(o.rW7,{className:"text-secondary size-[22px] flex-shrink-0"})},"check"):(0,a.jsx)(X.P.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},className:"flex-shrink-0 flex items-center",children:(0,a.jsx)(et.y,{size:"sm"})},"spinner")}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("div",{className:"truncate text-base font-medium max-w-full",children:s?t:(0,a.jsx)(X.P.div,{className:"text-transparent bg-clip-text bg-gradient-to-r from-secondary via-secondary-foreground to-secondary",style:{backgroundSize:"200% 100%"},animate:{backgroundPosition:["100% 0%","-100% 0%"]},transition:{duration:1,ease:"linear",repeat:Number.POSITIVE_INFINITY},children:t})})})]})};var ea=s(43317);function en(e){var t,s,n,r,o;let{response:i,isStreaming:c}=e,{t:d}=(0,k.Bd)("chat"),g=(0,l._)(),[m,p]=(0,f.useState)(!1),[u,h]=(0,f.useState)(""),[b,x]=(0,f.useState)(0),[w,v]=(0,f.useState)(!0),y=(0,U.aP)(F.A("setSidePanelContent")),j=(()=>{if(!i.steps)return[];let e=[];return i.steps.forEach((t,s)=>{var a,n,r,o;if(!t.text.length)return;let c=t.tags.indexOf("header")>-1;if(!c&&0===s)return void e.push({id:(0,W.P)({header:d("deepsearch-thinking","Thinking"),responseId:null!=(a=i.responseId)?a:"",index:s}),header:d("deepsearch-thinking","Thinking"),steps:[t]});if(c){let a=(null==(r=t.text)?void 0:r[(null==(n=t.tags)?void 0:n.indexOf("header"))||0])||"";e.push({id:(0,W.P)({header:a,responseId:null!=(o=i.responseId)?o:"",index:s}),header:a,steps:[t]});return}0!==e.length&&e[e.length-1].steps.push(t)}),e.filter(e=>!!e.steps.length&&e.steps.some(e=>{var t,s;return(null==(t=e.tags)?void 0:t.includes("decision"))||(null==(s=e.tags)?void 0:s.includes("summary"))}))})(),N=e=>{var t;return e!==(null==(t=j[j.length-1])?void 0:t.id)||!!i.searchingEndTime||!c},{uniqueXPosts:C,uniqueWebSearchResults:S,uniqueBrowsedUrls:I}=(0,G.W)(i),T=S.length+C.length+I.length,E=null==(o=i.steps)?void 0:o.map(e=>{var t,s,a;if(!(null==(t=e.tags)?void 0:t.includes("assistant")))return"";let n=null==(s=e.tags)?void 0:s.indexOf("assistant");return(null==(a=e.text)?void 0:a[n])||""}).join(" "),R=(0,U.aP)(F.A("sidePanelContent")),A=(null==R?void 0:R.type)==="thinkingTrace"&&R.data.responseId===i.responseId,_=(0,f.useMemo)(()=>{if(null==E?void 0:E.trim())return()=>{var e,t,s,a;if(i.responseId){if(A){g("toggle_research_thinking_trace","hidden",{location:"research-response",responseId:null!=(e=i.responseId)?e:"",conversationId:null!=(t=i.conversationId)?t:""}),y(void 0);return}g("toggle_research_thinking_trace","shown",{location:"research-response",responseId:null!=(s=i.responseId)?s:"",conversationId:null!=(a=i.conversationId)?a:""}),y({type:"thinkingTrace",data:{responseId:i.responseId}})}}},[i.responseId,i.conversationId,A,E,g,y]),O=(0,f.useCallback)(e=>{var t,s;e&&v(!1),g("expand_research_step",e||"collapsed-all",{location:"research-response",responseId:null!=(t=i.responseId)?t:"",conversationId:null!=(s=i.conversationId)?s:""}),h(e)},[v,g,i,h]);(0,f.useEffect)(()=>{c&&i.searchingStartTime&&p(!0)},[c,i.searchingStartTime]),(0,f.useEffect)(()=>{w&&j.length>0&&j.length!==b&&c&&setTimeout(()=>{h(j[j.length-1].id),x(j.length)},800)},[w,b,j,c]),(0,f.useEffect)(()=>{var e;w&&i.searchingEndTime&&u===(null==(e=j[j.length-1])?void 0:e.id)&&h("")},[w,i.searchingEndTime,u,j]);let P=i.thinkingStartTime?new Date(i.thinkingStartTime).getTime():void 0,M=i.thinkingEndTime?new Date(i.thinkingEndTime).getTime():void 0;return i.hasImages||(!i.searchingStartTime||["closed","error"].includes(null!=(s=i.state)?s:""))&&(!i.steps||(null==(t=i.steps)?void 0:t.length)===0)?null:(0,a.jsx)(ea.N,{type:"deepSearch",isThinking:!!(i.searchingStartTime&&!i.searchingEndTime)&&c,startTime:null!=(n=i.searchingStartTime)?n:P,endTime:null!=(r=i.searchingEndTime)?r:M,sourcesCount:T,open:m,setOpen:p,hasError:"error"===i.state,thinkingTrace:E,onClickShow:_,inlineButtonText:A?d("hide thinking trace","Hide Thinking"):d("show thinking trace","Show Thinking"),progressReport:i.progressReport,deepsearchPreset:i.deepsearchPreset,children:(0,a.jsx)(H.nD,{type:"single",collapsible:!0,value:u,onValueChange:O,className:"flex flex-col w-full pb-3",children:j.map(e=>(0,a.jsxs)(H.As,{value:e.id,className:"px-4 my-3 w-full",children:[(0,a.jsx)(es,{header:e.header,isComplete:N(e.id)}),(0,a.jsx)(H.ub,{className:"flex flex-col pl-7 pt-3",children:e.steps.map((t,s)=>(0,a.jsx)(ee,{isStreaming:c,step:t,stepIndex:s,isOpen:u===e.id},s))})]},e.id))})})}var er=s(79208),eo=s(46741),ei=s(86565),ec=s(39116),el=s(6980),ed=s(69458);let eg=[],em=[];function ep(e){var t,s;let{artifact:n,isStreaming:r,readOnly:c}=e,{artifact:{onOpen:d,onClear:m,active:p}}=(0,V.l3)(),u=(0,V.lk)(),h=!(0,B.C$)(e=>e.userSettings.preferences.hideArtifacts),b=(0,L.sf)(F.A("inlineSettings")),x=(0,O.h)(),w=(0,l._)(),v=!h||null!=(s=n.isInline)&&s;h&&n.id&&b[n.id]&&"boolean"==typeof(null==(t=b[n.id])?void 0:t.isInline)&&(v=b[n.id].isInline);let y=(0,L.sf)(F.A("setInlineSetting")),{t:j}=(0,k.Bd)("chat"),C=(0,f.useCallback)(()=>{!v&&h&&d({artifact:n,readOnly:c})},[n,n.content,c,h,d,v]),S=(0,f.useCallback)(async()=>{if(w("artifact_show_inline_button_clicked",void 0,{location:"artifact-card:onShowInline"}),n.id&&n.versionId){m(),y(n.id,!0);try{await (0,eo.Ok)({artifactId:n.id,artifactVersionId:n.versionId,isInline:!0})}catch(e){(0,g.vV)("artifact-onShowInline",e)}}},[n.id,n.versionId,m,y,w]),I=(0,f.useCallback)(async()=>{if(w("artifact_show_in_sidebar_button_clicked",void 0,{location:"artifact-card:onShowInASidebar"}),n.id&&n.versionId)try{await (0,eo.Ok)({artifactId:n.id,artifactVersionId:n.versionId,isInline:!1})&&(d({artifact:n,readOnly:!1}),y(n.id,!1))}catch(e){(0,g.vV)("artifact-onShowInASidebar",e)}},[n,y,d,w]),T=n.id===(null==p?void 0:p.id)&&n.versionId===(null==p?void 0:p.versionId);(0,f.useEffect)(()=>{(null==p?void 0:p.responseId)===n.responseId&&(null==p?void 0:p.id)===n.id&&C()},[null==n?void 0:n.content]),(0,f.useEffect)(()=>{let e=(null==p?void 0:p.responseId)===n.responseId&&p.id;r&&n.content&&n.autoOpen&&!e&&C()},[r,!!n.content]);let E=(0,ed.cY)(n),_=(0,ec.useRouter)(),P=(0,f.useCallback)(()=>{C(),w("artifact_card_clicked",void 0,{location:"artifact-card:onClick"})},[C,w]);if(v&&u)return(0,a.jsx)(eu,{artifact:n,onShowInASidebar:I});let M=r&&n.incomplete&&!n.title;return(0,a.jsxs)("div",{className:"flex flex-col items-start justify-start gap-1",children:[(0,a.jsx)("div",{className:(0,N.cn)("flex cursor-pointer rounded-2xl border border-border-l1 bg-surface-l2 hover:bg-surface-l4-hover dark:hover:bg-surface-l3",T?"bg-surface-l4-hover dark:bg-surface-l3 hover:bg-surface-l4-hover dark:hover:bg-surface-l3 border-border-l2 cursor-default":void 0,M?"w-[250px]":void 0),onClick:P,id:"artifact_card_".concat(n.versionId),children:M?(0,a.jsxs)("div",{className:"flex w-full items-center space-x-3 p-3",children:[(0,a.jsx)(A.E,{className:"h-8 w-8 rounded-full"}),(0,a.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,a.jsx)(A.E,{className:"h-3.5 w-11/12"}),(0,a.jsx)(A.E,{className:"h-3.5 w-8/12"})]})]}):(0,a.jsxs)("div",{className:"pl-3 pr-5 py-3 flex gap-2",children:[(0,a.jsx)("div",{className:"flex items-center justify-center text-fg-secondary",children:r&&n.incomplete?(0,a.jsx)("div",{className:"flex items-center justify-center w-7 h-8",children:(0,a.jsx)(R.d,{})}):"text/plain"===n.contentType||"text/markdown"===n.contentType?(0,a.jsx)(o.dsF,{size:28,strokeWidth:1.5}):(0,a.jsx)(o.sNu,{size:28,strokeWidth:1.5})}),(0,a.jsxs)("div",{className:"leading-[1.3]",children:[(0,a.jsx)("div",{className:"font-medium text-sm",children:n.title}),(0,a.jsx)("div",{className:"text-fg-secondary text-sm",children:E})]})]})}),u?(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[!n.incomplete&&n.versionId?(0,a.jsx)(i.$n,{variant:"text",size:"none",onClick:()=>_.push("/files?file=".concat(n.id)),className:"ms-1 text-secondary/50 hover:text-fg-primary hover:no-underline",children:j("artifact.edit-in-files","Edit in files")}):null,!n.incomplete&&n.versionId&&x.SHOW_ARTIFACTS_INLINE_BUTTON&&!n.incomplete?(0,a.jsx)("span",{className:"text-secondary/50",children:"•"}):null,x.SHOW_ARTIFACTS_INLINE_BUTTON&&!n.incomplete?(0,a.jsx)(i.$n,{variant:"text",size:"none",className:"text-secondary/50 hover:text-fg-primary hover:no-underline","aria-label":j("artifact.show.inline.button","Show inline"),onClick:S,children:j("artifact.show.inline.button","Show inline")}):null]}):null]})}let eu=e=>{let t,{artifact:s,onShowInASidebar:n}=e,{title:r,contentType:c,content:l=""}=s,d=(0,O.h)(),{t:g}=(0,k.Bd)("chat"),m=!(0,B.C$)(e=>e.userSettings.preferences.hideArtifacts),[p,u]=(0,f.useState)(!1),h="markdown"!==c&&"plain"!==c&&!!l,b=h?"```".concat(c,"\n").concat(l,"\n```"):l,x=(0,f.useCallback)(()=>{u(!0)},[]),w=(0,f.useCallback)(()=>{u(!1)},[]);return t="spreadsheet"===(0,ei.qW)({name:r,mimeType:c})&&d.ENABLE_XLSX_RENDERING?(0,a.jsx)(el.r,{id:s.id,editable:d.ENABLE_XLSX_EDITING,content:l,className:"h-96 rounded-xl max-w-breakout @md:mx-breakout w-auto"}):(0,a.jsx)($.Ad,{sender:"",xposts:eg,webSearchResults:em,shouldRenderHtml:!0,children:b}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:(0,N.cn)("transition-opacity",p?"opacity-70":void 0),children:t}),m?(0,a.jsxs)(i.$n,{variant:"secondary",size:"sm",className:"text-fg-secondary hover:text-fg-primary rounded-full my-1","aria-label":g("artifact.show.in-sidebar.button","Show in sidebar"),onClick:n,onMouseEnter:x,onMouseLeave:w,children:[h?(0,a.jsx)(o.sNu,{size:16,strokeWidth:1.5}):(0,a.jsx)(o.dsF,{size:16,strokeWidth:1.5}),g("artifact.show.in-sidebar.button","Show in sidebar"),(0,a.jsx)(o.c_$,{size:16,strokeWidth:1.5})]}):null]})};var eh=s(87992),ef=s(49554),ek=s(25859),eb=s(61884),ex=s(80295);let ew=[[{label:"sin",value:"sin(",type:"function"},{label:"cos",value:"cos(",type:"function"},{label:"tan",value:"tan(",type:"function"}],[{label:"asin",value:"asin(",type:"function"},{label:"acos",value:"acos(",type:"function"},{label:"atan",value:"atan(",type:"function"}],[{label:"log",value:"log(",type:"function"},{label:"ln",value:"ln(",type:"function"},{label:"exp",value:"exp(",type:"function"}],[{label:"√",value:"sqrt(",type:"function"},{label:"x\xb2",value:"^2",type:"operator"},{label:"(",value:"(",type:"operator"}],[{label:"π",value:"pi",type:"constant"},{label:"e",value:"e",type:"constant"},{label:")",value:")",type:"operator"}]],ev=[[{label:"%",value:"%",type:"operator"},{label:"^",value:"^",type:"operator"},{label:"C",value:"clear",type:"action",className:"text-destructive"},{label:"⌫",value:"backspace",type:"action"}],[{label:"7",value:"7",type:"number"},{label:"8",value:"8",type:"number"},{label:"9",value:"9",type:"number"},{label:"\xf7",value:"/",type:"operator"}],[{label:"4",value:"4",type:"number"},{label:"5",value:"5",type:"number"},{label:"6",value:"6",type:"number"},{label:"\xd7",value:"*",type:"operator"}],[{label:"1",value:"1",type:"number"},{label:"2",value:"2",type:"number"},{label:"3",value:"3",type:"number"},{label:"−",value:"-",type:"operator"}],[{label:"0",value:"0",type:"number"},{label:".",value:".",type:"number"},{label:"=",value:"equals",type:"primary"},{label:"+",value:"+",type:"operator"}]];function ey(e){let{calculatorTool:t}=e,{t:s}=(0,k.Bd)("chat"),[n,r]=(0,f.useState)(t.expression||""),[o,i]=(0,f.useState)(t.result||""),[c,l]=(0,f.useState)(),[d,g]=(0,f.useState)(!1),[m,p]=(0,f.useState)(!1),u=(0,f.useRef)(null),h=(0,f.useRef)(null),b=(0,f.useMemo)(()=>{if(n!==t.expression)return"".concat(n," = ").concat(o)},[n,t,o]),x=(0,U.aP)(e=>e.setQuotedText);(0,ex.s)(b,x),(0,f.useEffect)(()=>{t.expression&&r(t.expression)},[t.expression]),(0,f.useEffect)(()=>{t.result&&i(t.result)},[t.result]);let w=(0,f.useCallback)(e=>{if(l(void 0),g(!1),!e.trim())return void i("");let t=e.replace(/log/g,"log10").replace(/ln/g,"log");try{let e=(0,ef._3)(t);"number"==typeof e||"string"==typeof e?420===e?i("\uD83C\uDF3F "+String(e)):42===e?i("\uD83D\uDC2C "+String(e)):i(String(e)):"function"==typeof e||i(String(e))}catch(e){l(e instanceof Error?e:Error("Invalid expression"))}},[]),v=(0,f.useCallback)(e=>{let t=e.target.value;r(t),p(!1),w(t)},[w]),y=(0,f.useCallback)(e=>{c&&e.relatedTarget!==u.current&&(e.target===u.current&&e.relatedTarget||g(!0))},[c]),j=(0,f.useCallback)(e=>{var t,s,a,o,c;if(l(void 0),g(!1),!(null==(t=h.current)?void 0:t.contains(document.activeElement))||(null==(s=u.current)?void 0:s.contains(document.activeElement)))return;let d=e.key;if(/[0-9+\-*/().%=]/.test(d)){if(e.preventDefault(),"="===d)w(n),p(!0);else{let e=n;m&&/[0-9()]/.test(d)?(e="",p(!1)):m&&/[+\-*/]/.test(d)&&p(!1),r(e+=d),m||w(e)}null==(a=u.current)||a.focus()}if("Backspace"===d){e.preventDefault();let t=n.slice(0,-1);r(t),m||w(t),null==(o=u.current)||o.focus()}"Escape"===d&&(e.preventDefault(),r(""),i(""),p(!1),null==(c=u.current)||c.focus())},[n,m,w]);(0,f.useEffect)(()=>(document.addEventListener("keydown",j),()=>{document.removeEventListener("keydown",j)}),[j]),(0,f.useEffect)(()=>{var e;null==(e=u.current)||e.focus()},[]);let C=(0,f.useCallback)(e=>{var t,s,a,o;if(l(void 0),g(!1),"clear"===e.value){r(""),i(""),p(!1),null==(s=u.current)||s.focus();return}if("backspace"===e.value){let e=n.slice(0,-1);r(e),m||w(e),null==(a=u.current)||a.focus();return}if("equals"===e.value){w(n),p(!0),null==(o=u.current)||o.focus();return}let c=n;m&&("number"===e.type||"function"===e.type||"constant"===e.type)&&(c="",p(!1)),r(c+=e.value),m||w(c),null==(t=u.current)||t.focus()},[n,m,w]);return(0,a.jsxs)("div",{ref:h,className:"bg-surface-l1 border border-border-l1 rounded-xl p-3 my-2 max-w-2xl mx-auto",tabIndex:0,onBlur:y,children:[(0,a.jsxs)("div",{className:"mb-3 space-y-1.5",children:[(0,a.jsx)("div",{className:"space-y-1",children:(0,a.jsx)("input",{ref:u,className:(0,N.cn)("font-mono text-base text-primary","w-full py-3 px-3 rounded-xl","bg-surface-l2 border border-border-l2","focus-visible:outline-surface-l4-hover","placeholder:text-secondary","h-[44px]"),value:n,onChange:v,placeholder:s("calculator.placeholder","Enter expression...")})}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"text-xs font-medium text-secondary",children:s("calculator.result","Result")}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:(0,N.cn)("font-mono font-semibold text-base","w-full py-3 px-3 rounded-xl","bg-surface-inset","h-[44px] flex items-center justify-end","overflow-x-auto","text-fg-primary"),children:o||"0"}),d&&c&&(0,a.jsxs)(eb.m_,{children:[(0,a.jsx)(eb.k$,{asChild:!0,children:(0,a.jsx)("div",{className:(0,N.cn)("absolute inset-0 rounded-md cursor-help","bg-destructive/10 border border-destructive","flex items-center justify-center","text-destructive text-sm font-medium","backdrop-blur-sm"),children:(0,a.jsxs)("div",{className:"flex items-center gap-1 px-2 max-w-full",children:[(0,a.jsx)("span",{className:"text-xs flex-shrink-0",children:"⚠"}),(0,a.jsx)("span",{className:"truncate",children:c.message})]})})}),(0,a.jsx)(eb.ZI,{side:"bottom",className:"max-w-xs",children:(0,a.jsx)("p",{className:"text-sm",children:c.message})})]})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-row gap-3",children:[(0,a.jsx)("div",{className:"space-y-1.5 shrink-0",children:(0,a.jsx)("div",{className:"grid grid-cols-3 gap-1",children:ew.map((e,t)=>e.map((e,s)=>(0,a.jsx)(ek.$n,{variant:"none",size:"sm",shape:"rectangle",className:(0,N.cn)("h-9 min-w-[32px] font-medium text-xs px-1","text-primary border border-border-l2","transition-colors duration-150","function"===e.type&&"bg-surface-l2 hover:bg-surface-l4-hover","constant"===e.type&&"bg-surface-l3 hover:bg-surface-l4-hover","operator"===e.type&&"bg-surface-l4 hover:bg-surface-l4-hover",e.className),onClick:()=>C(e),children:e.label},"sci-".concat(t,"-").concat(s))))})}),(0,a.jsx)("div",{className:"space-y-1.5 w-full",children:(0,a.jsx)("div",{className:"grid grid-cols-4 gap-1",children:ev.map((e,t)=>e.map((e,s)=>(0,a.jsx)(ek.$n,{variant:"primary"===e.type?"primary":"secondary",size:"sm",shape:"rectangle",className:(0,N.cn)("h-9 min-w-[36px] font-medium text-sm px-1",e.className),onClick:()=>C(e),children:e.label},"calc-".concat(t,"-").concat(s))))})})]})]})}var ej=s(48082),eN=s.n(ej),eC=s(73772);let eS=new Set(eN()().list().map(e=>e.abbr));function eI(e){return!!(e&&eS.has(e))}function eT(e){let{unitConversionTool:t}=e,[s,n]=(0,f.useState)(),[r,o]=(0,f.useState)(t.sourceValue),[i,c]=(0,f.useState)(),[l,d]=(0,f.useState)(t.targetValue),[g,m]=(0,f.useState)(),p=(0,f.useMemo)(()=>{if(s!==t.sourceUnit||i!==t.targetUnit||r!==t.sourceValue)return"".concat(r," ").concat(s," = ").concat(l," ").concat(i)},[r,s,l,i,t]),u=(0,U.aP)(e=>e.setQuotedText);(0,ex.s)(p,u),(0,f.useEffect)(()=>{let e=t.sourceUnit;eI(e)&&n(e);let s=t.targetUnit;eI(s)&&c(s);let a=t.sourceValue;a&&o(a);let r=t.targetValue;r&&d(r),eI(e)&&eI(s)&&(a&&!r?d(eN()(Number(a)).from(e).to(s).toString()):!a&&r&&o(eN()(Number(r)).from(s).to(e).toString()))},[t.sourceUnit,t.targetUnit,t.sourceValue,t.targetValue]);let h=(0,f.useCallback)(e=>{let t=e.target.value;if(o(t),s&&i&&t)try{let e=eN()(Number(t)).from(s).to(i);if(isNaN(e))return;d(e.toString()),m(void 0)}catch(e){m(e instanceof Error?e:Error("Invalid conversion"))}},[s,i]),k=(0,f.useCallback)(e=>{let t=e.target.value;if(d(t),s&&i&&t)try{let e=eN()(Number(t)).from(i).to(s);if(isNaN(e))return;o(e.toString()),m(void 0)}catch(e){m(e instanceof Error?e:Error("Invalid conversion"))}},[s,i]),b=(0,f.useCallback)(e=>{if(eI(e)&&i){if(n(e),e===i){c(s),d(r),o(l);return}d(eN()(Number(r)).from(e).to(i).toString())}},[i,r,s,l]),x=(0,f.useCallback)(e=>{if(eI(e)&&s){if(c(e),e===s){n(i),o(l),d(r);return}o(eN()(Number(l)).from(e).to(s).toString())}},[s,l,i,r]);return null==r?null:(0,a.jsxs)("div",{className:"bg-surface-l1 border border-border-l1 rounded-xl p-4 my-2",children:[g&&(0,a.jsx)("div",{className:"flex items-center justify-between text-destructive",children:null==g?void 0:g.message}),(0,a.jsxs)("div",{className:"grid grid-cols-[1fr_36px_1fr] place-items-center",children:[(0,a.jsx)("input",{className:(0,N.cn)("font-semibold text-primary text-2xl","w-full py-3 px-3 rounded-xl","bg-surface-l2 border border-border-l2","focus-visible:outline-surface-l4-hover"),value:r,onChange:h}),(0,a.jsx)("div",{className:"text-secondary text-lg",children:"="}),(0,a.jsx)("input",{className:(0,N.cn)("font-semibold text-primary text-2xl","w-full py-3 px-3 rounded-xl","bg-surface-l2 border border-border-l2","focus-visible:outline-surface-l4-hover"),value:l,onChange:k}),(0,a.jsx)(eE,{className:"col-span-1 col-start-1",unit:s,value:r,onSelect:b}),(0,a.jsx)(eE,{className:"col-span-1 col-start-3",unit:i,value:l,onSelect:x})]})]})}function eE(e){let{className:t,unit:s,value:n,onSelect:r}=e,[i,c]=(0,f.useState)(!1),l=(0,f.useMemo)(()=>s?eN()().describe(s):{abbr:"m",measure:"length",system:"metric",singular:"meter",plural:"meters"},[s]),d=(0,f.useMemo)(()=>{let e=Number(n);return eA.reduce((e,t)=>e.replace(t.from,t.to),e>1||0===e?l.plural:l.singular)},[l,n]),g=(0,f.useMemo)(()=>eN()().list(l.measure).filter(e=>!eR.has(e.abbr)).map(e=>({...e,singular:eA.reduce((e,t)=>e.replace(t.from,t.to),e.singular),plural:eA.reduce((e,t)=>e.replace(t.from,t.to),e.plural)})),[l]);return(0,a.jsxs)(eC.rI,{open:i,onOpenChange:c,children:[(0,a.jsx)(eC.ty,{asChild:!0,children:(0,a.jsx)("div",{className:(0,N.cn)(t),children:(0,a.jsxs)(ek.$n,{variant:"textsecondary",size:"sm",shape:"rectangle",className:"gap-1 text-sm capitalize",children:[d,(0,a.jsx)(o.D3D,{className:(0,N.cn)("w-4 h-4 transition-transform",i&&"rotate-180")})]})})}),(0,a.jsx)(eC.SQ,{children:g.map(e=>(0,a.jsx)(eC._2,{className:"capitalize",onSelect:()=>r(e.abbr),children:e.singular},e.abbr))})]})}let eR=new Set(["krm","tsk","msk","kkp","glas","kanna","a","ha","dm2","mt","st","dm3/s","dm3/min","dm3/h","dm3/d","dm3/a","cl/s","dl/s","hPa"]),eA=[{from:/litre/,to:"liter"},{from:/Litre/,to:"Liter"},{from:/tonne/,to:"ton"},{from:/Tonne/,to:"Ton"},{from:/mitre/,to:"metre"},{from:/Mitre/,to:"Metre"}];var e_=s(47127);function eO(e){let{response:t,isStreaming:s,numImages:n,onOpen:r}=e,{generatedImageUrls:i,hasImages:c}=t,{t:l}=(0,k.Bd)("chat"),d=(0,D.A3)(F.A("byId")),g=(0,f.useMemo)(()=>d[(null==t?void 0:t.parentResponseId)||""],[d,null==t?void 0:t.parentResponseId]),m=(0,f.useMemo)(()=>g&&(null==g?void 0:g.imageEditUri),[g]);return c||i&&i.length?(0,a.jsx)("div",{"aria-label":t.message,className:"flex flex-col items-start justify-start gap-1",children:(0,a.jsxs)("div",{className:(0,N.cn)("flex items-center px-3 gap-2 rounded-2xl border border-border-l1 bg-surface-l2",{"hover:bg-surface-l4-hover dark:hover:bg-surface-l3 cursor-pointer":r&&(null==t?void 0:t.responseId)}),onClick:()=>{r&&(null==t?void 0:t.responseId)&&r(t.responseId)},children:[(0,a.jsx)(e_.p,{children:s?(0,a.jsx)(R.d,{}):(0,a.jsx)(o.Srz,{size:18,className:"text-blue-300 dark:text-blue-200"})},s?"streaming":"idle"),(0,a.jsx)(q.N,{mode:"popLayout",initial:!1,children:s?(0,a.jsx)(X.P.p,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{ease:"easeInOut"},className:"animate-pulse",children:m?l("images-status-card.editing","Editing Image"):l("images-status-card.generating",{count:n,defaultValue_one:"Generating Image",defaultValue_other:"Generating {{count}} Images"})},"streaming-message"):(0,a.jsx)(X.P.p,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{ease:"easeInOut"},className:"font-semibold",children:m?l("images-status-card.edited","Edited Image"):l("images-status-card.generated",{count:n,defaultValue_one:"Generated Image",defaultValue_other:"Generated {{count}} Images"})},"idle-message")})]})}):null}var eP=s(87906),eM=s(71307),eL=s(85710),eD=s(17704),eB=s(85467),ez=s(55925);let eF=ez.bL;f.forwardRef((e,t)=>{let{className:s,children:n,...r}=e;return(0,a.jsx)(ez.bL,{ref:t,...r,asChild:!0,children:(0,a.jsx)(X.P.div,{layout:!0,className:(0,N.cn)(s),children:n})})}).displayName=ez.bL.displayName;let eU=f.forwardRef((e,t)=>{let{className:s,children:n,...r}=e;return(0,a.jsx)(ez.R6,{ref:t,className:(0,N.cn)("flex text-sm items-center font-medium text-left",s),...r,children:n})});eU.displayName=ez.R6.displayName;let eV=f.forwardRef((e,t)=>{let{className:s,children:n,...r}=e;return(0,a.jsx)(ez.Ke,{ref:t,className:(0,N.cn)("overflow-hidden text-sm data-[state=closed]:animate-collapsible-up data-[state=open]:animate-collapsible-down",s),...r,children:n})});eV.displayName=ez.Ke.displayName;let eH=[],eW={HEAVY:function(e){let{response:t,isStreaming:s}=e;return(0,a.jsx)("div",{className:"thinking-container mb-3",children:(0,a.jsx)(eM.d,{response:t,isStreaming:s})})},UNIFIED:function(e){let{response:t,isStreaming:s,isOptimistic:n,enableAsyncChat:r}=e,{t:i}=(0,k.Bd)("chat"),c=(0,U.aP)(F.A("sidePanelContent")),l=(0,U.aP)(F.A("toggleSidePanelContent")),{formattedDuration:d}=(0,eD.h)(t,!s),g=(null==c?void 0:c.type)==="thinkingSteps"&&c.data.responseId===t.responseId,m=(0,f.useCallback)(()=>{var e;l({type:"thinkingSteps",data:{responseId:null!=(e=t.responseId)?e:"",isStreaming:"streaming"===t.state}})},[t.responseId,t.state,l]);return r?s?null:(0,a.jsxs)(ek.$n,{variant:"none",size:null,shape:null,className:"flex flex-row gap-1 items-center group/button text-md text-secondary mt-3 mb-2",onClick:m,children:[(0,a.jsx)(o.xmO,{size:18}),d?i("response-content.thought-for-duration","Thought for {{duration}}",{duration:d}):i("response-content.thoughts","Thoughts"),(0,a.jsx)(o.vKP,{size:18,className:"transition-all duration-200 ".concat(g?"opacity-100":"opacity-0 group-hover/button:opacity-100")})]}):(0,a.jsx)("div",{className:"thinking-container mb-3",children:(0,a.jsx)(eL.G,{response:t,isOptimistic:n,isStreaming:s},t.responseId)})},FUNCTION_CALL:function(e){var t;let{response:s,uniqueWebSearchResults:n,uniqueXPosts:r,isStreaming:o,visibleCount:i=3}=e,{t:c}=(0,k.Bd)("base"),[l,d]=(0,f.useState)(!1),g=(null==(t=s.traceSteps)?void 0:t.filter(e=>"tool"===e.type))||[];if(0===g.length)return null;let m=g.length>i,p=o?$.Cn:$.Ad,u=(e,t)=>(0,a.jsx)(p,{responseId:s.responseId,sender:"assistant",webSearchResults:n||eH,xposts:r||eH,toolUsageResults:Object.values(s.toolUsageResultById||{}),toolUsageResultById:s.toolUsageResultById,isNested:!1,shouldRenderHtml:!0,flattenToolUsageCards:!1,layout:eB.ksv.FunctionCall,children:e.text},"tool-usage-".concat(t)),h=[...g].reverse();return(0,a.jsx)(eF,{open:l,onOpenChange:d,className:"group/collapsible",children:(0,a.jsxs)("div",{className:"tool-usage-container relative mb-8",children:[(0,a.jsx)("div",{className:"space-y-1",children:h.slice(0,i).map(u)}),(0,a.jsx)(eV,{children:(0,a.jsx)("div",{className:"space-y-1 -mt-2 mb-5",children:h.slice(i).map((e,t)=>u(e,i+t))})}),m&&(0,a.jsxs)("div",{className:"absolute inset-x-0 bottom-0",children:[(0,a.jsx)("div",{className:"h-20 group-data-[state=open]/collapsible:h-4 bg-gradient-to-t from-background to-transparent pointer-events-none absolute inset-x-0 bottom-0"}),(0,a.jsx)("div",{className:"absolute inset-x-0 -bottom-4 group-data-[state=open]/collapsible:-bottom-5",children:l?(0,a.jsx)(eU,{className:"pointer-events-all flex items-center justify-center mx-auto py-2 px-3 flex-row h-8 gap-1 rounded-full cursor-pointer bg-transparent border border-transparent select-none","aria-label":c("tool-usage-container.collapse-tools","Collapse tool results"),children:(0,a.jsx)("span",{className:"font-sans font-semibold text-xs",children:c("tool-usage-container.show-less","Show Less")})}):(0,a.jsx)(eU,{className:"pointer-events-all flex items-center justify-center mx-auto px-3 flex-row h-8 gap-1 rounded-full cursor-pointer bg-transparent border border-transparent select-none","aria-label":c("tool-usage-container.expand-tools","Expand to see all {{ count }} tools",{count:g.length}),children:(0,a.jsx)("span",{className:"font-sans font-semibold text-sm",children:c("tool-usage-container.show-all","Show All")})})})]})]})})}};var eG=s(3218);let eK=e=>{let t=(0,O.h)(),s=e.toolUsageResultById,{hasWebSearchTool:a,hasXSearchTool:n,hideCitations:r}=(0,f.useMemo)(()=>{let e=Object.values(s||{}).some(e=>{var t,s;return!!(null==(s=e.webSearchResults)||null==(t=s.results)?void 0:t.length)}),a=Object.values(s||{}).some(e=>{var t,s;return!!(null==(s=e.xSearchResults)||null==(t=s.results)?void 0:t.length)}),n=!t.SHOW_CITATION_COUNT&&(e||a);return{hasWebSearchTool:e,hasXSearchTool:a,hideCitations:n}},[s,t.SHOW_CITATION_COUNT]);return{hasWebSearchTool:a,hasXSearchTool:n,hideCitations:r}},eq=[],eX=(0,f.createContext)(null),eY=()=>(0,f.useContext)(eX);function eQ(e){var t,s,r,i,c,l;let{response:d,isStreaming:m,showMarkdown:p,readOnly:u,isModerated:h=!1,onResume:b,allowBreakout:x=!1,isThread:w=!1,forceHideThinking:y=!1,isLastResponse:C=!1}=e,H=(0,O.h)(),{isBackgroundThinking:W}=(0,_.We)(),{t:K}=(0,k.Bd)("chat"),q=(0,P.Di)(),X=(0,V.BA)(),Y=(0,V.oJ)(),Q="human"===d.sender,Z=(0,B.C$)(e=>e.userSettings.preferences.displayUserMessageMarkdown),J=(0,B.C$)(e=>e.userSettings.preferences.enableTiptapEditorForQueryBar),ee=(0,L.sf)(F.A("inlineSettings")),et=(0,f.useMemo)(()=>Object.keys(ee),[ee]),{sender:es,message:ea,cardAttachmentsJson:eo,hasSearches:ei,conversationId:ec,responseId:el,progressReport:ed}=d,eg=H.SHOW_FAST_TOOL&&d.fastToolResponse&&C,em=function e(t){var s;let{message:a,isFromUser:n,isStreaming:r,createTime:o,conversationId:i,responseId:c}=t;if(!a)return[{type:"text",body:""}];if(n)return[{type:"text",body:a}];let l=[],d=/<xaiArtifact.*([^\/]>|$)/g.exec(a),g=null!=(s=null==d?void 0:d.index)?s:-1,m=a.slice(g);if(g>0){let e=eZ(a.slice(0,g));l.push(...e)}if(!(-1!==g&&function(e){if(0===e.length||"<"!==e[0])return!1;let t="xaiArtifact";return t.startsWith(e.substring(1).slice(0,t.length))}(m)))return[...l,...eZ(a)];{let t=m.indexOf(">"),s=m.indexOf("</xaiArtifact>");if(i&&c&&-1===t)return l.push({type:"artifact",conversationId:i,responseId:c,incomplete:-1===s,timestamp:o?(0,z.W)(o):void 0}),l;{let{title:t,language:a,id:d,contentType:g,versionId:p,content:u,autoOpen:h=!0}=(0,eh.t)(m);if(i&&c&&-1===s)return l.push({id:null!=d?d:void 0,versionId:p,type:"artifact",conversationId:i,responseId:c,incomplete:-1===s,contentType:null!=g?g:void 0,title:null!=t?t:void 0,content:u,language:null!=a?a:void 0,timestamp:o?(0,z.W)(o):void 0,autoOpen:h}),l;{let[,...f]=m.split("</xaiArtifact>"),k=f.join("</xaiArtifact>");return(i&&c&&l.push({type:"artifact",id:null!=d?d:void 0,versionId:p,incomplete:-1===s,conversationId:i,responseId:c,content:u,contentType:null!=g?g:void 0,title:null!=t?t:void 0,language:null!=a?a:void 0,timestamp:o?(0,z.W)(o):void 0,autoOpen:h}),k)?[...l,...e({message:k,isFromUser:n,isStreaming:r,createTime:o,conversationId:i,responseId:c})]:l}}}}({message:eg?"":ea||"",isFromUser:Q,isStreaming:m,createTime:d.createTime,responseId:null!=(c=d.inflightResponseId)?c:el,conversationId:ec}),eu=(0,f.useMemo)(()=>{let e={};return null==eo||eo.forEach(t=>{try{let s=JSON.parse(t);s.id&&(e[s.id]=t)}catch(e){}}),e},[eo]);(0,f.useEffect)(()=>{let e=L.D4.getState().upsertArtifact;em.forEach(t=>{"artifact"===t.type&&e(t,null!=ec?ec:"")})},[em]);let ef=m?$.Cn:$.Ad,ek="optimistic"===d.state,eb=(0,f.useMemo)(()=>{var e,t,s;return"closed"!==d.state&&"error"!==d.state&&!!d.state&&(null==(e=d.thinkingTrace)||!e.length)&&(null==(t=d.message)||!t.length)&&(null==(s=d.steps)||!s.length)&&!d.hasImages},[d.message,d.hasImages,d.state,d.thinkingTrace,null==(t=d.steps)?void 0:t.length]),ex=(0,D.Ko)(d),ew=H.ENABLE_TIPTAP_EDITOR&&J||!Q||(null!=p?p:Z),ev=(null==(s=d.generatedImageUrls)?void 0:s.length)||Object.keys(null!=(l=d.streamingImageById)?l:{}).length,ey=!Q&&!!ev,{uniqueXPosts:ej,uniqueWebSearchResults:eN,uniqueBrowsedUrls:eC}=(0,G.W)(d),{hideCitations:eS}=eK(d),eI=(0,f.useMemo)(()=>(null==ed?void 0:ed.state)==="PROGRESS_REPORT_STATUS_PENDING"&&(null==ed?void 0:ed.category)?ed.category:ei?"SEARCHING":void 0,[ei,ed]),[eT,eE]=(0,f.useState)([]),{unavailableModels:eR}=(0,M.GB)(),eA=!eR.some(e=>"grok-4"===e.modelId),e_=d.traceSteps&&d.traceSteps.length>0,eM=(0,f.useMemo)(()=>eJ(d,ed,eA),[eA,e_,null==ed?void 0:ed.category,null==(r=d.uiLayout)?void 0:r.reasoningUiLayout]),eD=(0,f.useMemo)(()=>eT.filter(e=>"youtube"===e.type),[eT]),eB=(0,f.useMemo)(()=>eT.filter(e=>"reddit"===e.type),[eT]),ez=(0,f.useMemo)(()=>eT.filter(e=>"x"===e.type),[eT]),eF=(0,f.useMemo)(()=>em.some(e=>"image_generation"===e.type||"images_search_card"===e.type||"text"===e.type&&e.body.includes(T.IN))||Object.keys(H.ENABLE_RICHCONTENT_CARDS_CONFIG.value).length>0,[H.ENABLE_RICHCONTENT_CARDS_CONFIG.value,em]),eU=(0,U.aP)(e=>e.quotePopupData),eV=(0,U.aP)(e=>e.setQuotePopupData),eH=(0,f.useCallback)(()=>{eV(void 0)},[eV]),eY=(0,f.useMemo)(()=>H.ENABLE_ADD_TO_CHAT&&eU&&eU.responseId===d.responseId&&!Q,[Q,eU,d.responseId,H.ENABLE_ADD_TO_CHAT]),[eQ,e$]=(0,f.useState)({top:0,left:0});(0,f.useEffect)(()=>{let e=e=>{let t=window.getSelection();t&&0!==t.rangeCount&&0!==t.toString().trim().length&&ew||eH()};return document.addEventListener("click",e),document.addEventListener("selectionchange",e),()=>{document.removeEventListener("click",e),document.removeEventListener("selectionchange",e)}},[eH,ew]);let e1=e=>{if(!H.ENABLE_ADD_TO_CHAT||w)return;let t=window.getSelection();if(t&&t.rangeCount>0&&d.responseId&&!Q){var s;let a=t.getRangeAt(0);if(a.collapsed||0===a.toString().trim().length)return void eH();let n=document.createRange();n.setStart(a.startContainer,a.startOffset);let r=a.startContainer.nodeType===Node.TEXT_NODE&&(null==(s=a.startContainer.textContent)?void 0:s.length)||0,o=Math.min(a.startOffset+1,r);n.setEnd(a.startContainer,o);let i=n.getBoundingClientRect(),c=e.currentTarget.getBoundingClientRect(),l=i.left-c.left,m=i.top-c.top-50;l+120>c.width&&(l=Math.max(0,c.width-120-12)),e$({top:m,left:l}),eV({range:a,responseId:d.responseId}),(0,g.iu)("add_to_chat_quote_popup_shown",void 0,{location:"response-content",responseId:d.responseId})}else eH()},e2=()=>{var e,t;if(eU){let e=eU.range.toString().trim();e&&((0,g.iu)("add_to_chat_clicked",void 0,{location:"response-content",responseId:null!=(t=d.responseId)?t:""}),U.aP.getState().setQuotedText(e))}eH(),null==(e=window.getSelection())||e.removeAllRanges()},e3=(0,eL.$)(d),e4=!m&&!ek&&!ey&&!eb&&!h&&!Q&&"FUNCTION_CALL"!==eM&&!eS;return(0,a.jsxs)(a.Fragment,{children:[(()=>{var e;if(Q||y||e3&&"FUNCTION_CALL"!==eM&&"HEAVY"!==eM)return null;let t=eM&&eM&&eW[eM]||null;return t?(0,a.jsx)(t,{response:d,isStreaming:m,isOptimistic:ek,uniqueWebSearchResults:eN,uniqueXPosts:ej,enableAsyncChat:W}):(null==(e=d.uiLayout)?void 0:e.reasoningUiLayout)==="UNSPECIFIED"?null:(0,a.jsxs)("div",{className:"thinking-container mb-3",children:[(0,a.jsx)(er.U,{response:d,isStreaming:m}),q?(0,a.jsx)(en,{response:d,isStreaming:m},d.responseId):(0,a.jsx)(eG.d,{response:d,isStreaming:m},d.responseId)]})})(),eb&&!ex&&"HEAVY"!==eM&&(0,a.jsx)("div",{className:(0,N.cn)(n.lZ),children:(0,a.jsx)(R.d,{state:eI})}),eg&&(0,a.jsx)(e0,{fastToolResponse:d.fastToolResponse}),!eF&&(0,a.jsx)(j.S,{cardAttachmentJsons:eo}),"status-card"===X?(0,a.jsx)(eO,{response:d,isStreaming:m,numImages:m?d.imageAttachmentCount||D.Jg:ev||0,onOpen:Y},d.responseId):(0,a.jsx)(eP.m,{response:d,isStreaming:m,numImages:m?d.imageAttachmentCount||D.Jg:ev||0,readOnly:u}),em.map((e,t)=>{if(ey)return null;if("artifact"===e.type){let s={...e};return s.id&&et.includes(s.id)&&(s.isInline=!0),(0,a.jsx)("div",{className:"py-1",children:(0,a.jsx)(ep,{artifact:s,isStreaming:m,readOnly:null!=u&&u})},t)}if("image_generation"===e.type||"images_search_card"===e.type){let t=eu[e.id];if(!t){let t="images_search_card"===e.type?3/4:4/3;return(0,a.jsx)(A.E,{className:(0,N.cn)("h-32","images_search_card"===e.type&&"md:h-48"),style:{aspectRatio:t}},"card-skeleton-".concat(e.id))}return(0,a.jsx)("div",{className:"py-1",children:(0,a.jsx)(j._,{cardAttachmentJson:t})},e.id)}return ew?(0,a.jsxs)("div",{className:(0,N.cn)("relative response-content-markdown markdown","[&_a:not(.not-prose)]:text-current [&_a:not(.not-prose):hover]:text-primary","[&_a:not(.not-prose):hover]:decoration-primary [&_a:not(.not-prose)]:underline","[&_a:not(.not-prose)]:decoration-primary/30 [&_a:not(.not-prose)]:underline-offset-2",0===t&&"[&_h2:not(.not-prose):first-child]:mt-0 [&_h3:not(.not-prose):first-child]:mt-0 [&_h4:not(.not-prose):first-child]:mt-0"),onMouseUp:e1,onTouchEnd:e1,children:[(0,a.jsx)(eX,{value:d,children:(0,a.jsx)(ef,{sender:es||"",webSearchResults:eN||eq,xposts:ej||eq,hideCitations:!1,cardAttachmentsJson:eo,setExtractedMedia:eE,shouldRenderHtml:!Q,allowBreakout:x,children:e.body})}),eY&&!w&&!u&&(0,a.jsx)("div",{className:"absolute bg-surface-l2 p-1 rounded-full shadow-lg ring-border-l1 ring-1 ring-inset z-50 flex items-center gap-1",style:{top:"".concat(eQ.top,"px"),left:"".concat(eQ.left,"px")},children:(0,a.jsxs)("button",{className:"px-2 text-sm py-0.5 hover:bg-surface-l3 rounded-full cursor-pointer flex items-center gap-1",onClick:e2,children:[(0,a.jsx)(o.Sbc,{className:"h-3 w-3"}),K("Add to chat","Add to chat")]})})]},t):(0,a.jsx)("span",{className:"whitespace-pre-wrap",children:null==e?void 0:e.body},t)}),(0,a.jsxs)("section",{className:"inline-media-container flex flex-col gap-1 clear-both",children:[!m&&ez.length>0&&H.SHOW_X_INLINE&&(0,a.jsx)("div",{className:"flex flex-col @md/chat:flex-row gap-2 my-3 @md/chat:-mx-4",children:ez.slice(0,3).map((e,t)=>(0,a.jsx)(E.id,{className:"bg-surface-l1 border border-border-l1 hover:bg-surface-l4-hover dark:hover:bg-surface-l2 not-prose",xPost:e},t))}),!m&&eD.length>0&&H.SHOW_YOUTUBE_EMBEDS&&(H.ONLY_USE_SINGLE_YOUTUBE?(0,a.jsx)(S,{cardAttachment:{url:eD[0].url}}):(0,a.jsx)("div",{className:"flex flex-col gap-1 justify-around",children:eD.map(e=>(0,a.jsx)(S,{cardAttachment:{url:e.url}},e.url))})),!m&&eB.length>0&&H.SHOW_REDDIT_EMBEDS&&(0,a.jsx)(I,{cardAttachments:eB.slice(0,3).map(e=>({url:e.url}))})]}),(0,a.jsx)("section",{className:"auth-notification flex flex-col gap-1",children:(null==(i=d.authNotification)?void 0:i.providers)&&d.authNotification.providers.length>0&&(0,a.jsx)(v,{authNotification:d.authNotification,onResume:b})}),!m&&!ek&&!ey&&!eb&&!h&&!eg&&!d.message&&(0,a.jsx)("p",{className:"text-secondary italic",children:K("No response","No response")+"."}),h&&(0,a.jsx)("p",{className:"text-secondary italic",children:K("Content Moderated","Content Moderated. Try a different idea.")}),"reconnecting"===d.state&&(0,a.jsx)("p",{className:"text-secondary italic",children:K("Reconnecting...","Reconnecting...")}),e4?(0,a.jsx)("div",{className:"flex gap-2 mt-1 print:hidden",children:(0,a.jsx)(E.LT,{webSearchResults:eN,xPosts:ej,browsedUrls:eC})}):void 0]})}let e$=[{opening:"<image_generation_card",closing:"</image_generation_card>",type:"image_generation"},{opening:"<images_search_card",closing:"</images_search_card>",type:"images_search_card"}];function eZ(e){let t=[],s=0;for(;s<e.length;){let a=null,n=1/0;for(let t of e$){let r=e.indexOf(t.opening,s);-1!==r&&r<n&&(n=r,a=t)}if(a&&n!==1/0){n>s&&t.push({type:"text",body:e.slice(s,n)});let r=e.indexOf(a.closing,n+a.opening.length);if(-1!==r){let o=function(e,t,s,a){let n=e;-1===n.indexOf(t)?n+=s:n=n.substring(0,n.indexOf(s)+s.length);let r=n.match(new RegExp("".concat(t,"\\s+([^>]*)"))),o=(r&&r[1]?r[1]:"").match(/id="([^"]*)"/),i=o?o[1]:"";return i?{id:i,type:a}:void 0}(e.slice(n,r+a.closing.length),a.opening,a.closing,a.type);o&&t.push({type:o.type,id:o.id}),s=r+a.closing.length}else{t.push({type:"text",body:e.slice(n)});break}}else{t.push({type:"text",body:e.slice(s)});break}}return t}function eJ(e,t,s){var a,n;let r=null==(a=e.uiLayout)?void 0:a.reasoningUiLayout;return"FUNCTION_CALL"===r?"FUNCTION_CALL":"HEAVY"===r||(null==t?void 0:t.category)==="HEAVY_ROLLOUT"||(null==(n=e.traceSteps)?void 0:n.some(e=>!!e.rolloutId))?"HEAVY":"UNIFIED"===r||s?"UNIFIED":r}function e0(e){let{fastToolResponse:t}=e;return t?t.calculatorTool?(0,a.jsx)(ey,{calculatorTool:t.calculatorTool}):t.unitConversionTool?(0,a.jsx)(eT,{unitConversionTool:t.unitConversionTool}):(0,a.jsx)(e1,{fastToolResponse:t}):null}function e1(e){let{fastToolResponse:t}=e;return(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[t.subtitle&&(0,a.jsx)("div",{className:"text-sm text-secondary",children:t.subtitle}),t.title&&(0,a.jsx)("div",{className:"text-sm text-primary font-semibold",children:t.title}),t.body&&(0,a.jsx)("div",{className:"text-sm text-secondary mt-2",children:t.body})]})}},18585:(e,t,s)=>{"use strict";s.d(t,{Ph:()=>x,e8:()=>w,pL:()=>v});var a=s(79342),n=s(38614),r=s(11750),o=s(25859),i=s(68332),c=s(23232),l=s(2376),d=s(61312),g=s(49972),m=s(44347),p=s(74995),u=s(88382),h=s(65146),f=s(28245),k=s(42557),b=s(73772);let x=e=>{let{handleSend:t}=e,{t:s}=(0,h.Bd)("base"),{personas:x}=(0,l.v5)(),{user:y}=(0,k.wV)(),j=(0,c._)(),N=(0,g.w1)(p.A("list")),{routeToConversation:C}=(0,i.o)(),S=(0,n.aP)(p.A("setReasoningMode")),{stage:I}=(0,f.S)(),T=(0,m.C$)(p.A("setShowAgeVerification")),E=(0,u.useCallback)(e=>{if(l.ru.includes(e.personaId)&&"pass"!==I&&!y)return void T(!0);S("none");let{initialQuery:a,toolOverrides:n,addToLastChat:r}=v(e.personaId,s);if(j("click_persona",e.personaId,{location:"persona-pill"}),r){let t=N.filter(t=>t.personaId===e.personaId).sort((e,t)=>new Date(t.modifyTime).getTime()-new Date(e.modifyTime).getTime())[0];if(t)return void C(t.conversationId)}t({query:a,toolOverrides:n,isPreset:!1,persona:e})},[S,t,N,T,I,y,j,C,s]),R=x.filter(e=>"news"!==e.personaId),A=x.find(e=>"news"===e.personaId);return(0,a.jsxs)(a.Fragment,{children:[A&&(0,a.jsxs)(o.$n,{variant:"secondary",size:"md",shape:"pill",onClick:()=>E(A),children:[(0,a.jsx)(r.Mdu,{size:16,strokeWidth:2,className:"text-secondary"}),A.name]}),(0,a.jsxs)(b.rI,{onOpenChange:e=>{e&&j("click_persona_pill",void 0,{location:"persona-pill"})},children:[(0,a.jsx)(b.ty,{asChild:!0,children:(0,a.jsxs)(o.$n,{variant:"secondary",size:"md",shape:"pill",className:"focus:outline-none focus:ring-0 group",children:[(0,a.jsx)(r.KJW,{size:18,strokeWidth:2,className:"text-secondary"}),s("persona-pill.label","Personas"),(0,a.jsx)(r.D3D,{className:"text-secondary group-data-[state=open]:rotate-180 transition-rotate duration-200",size:12})]})}),(0,a.jsx)(b.SQ,{align:"start",side:"bottom",className:"min-w-36 space-y-0.5",children:R.map(e=>{let{icon:t,colorClassName:s}=w(e.personaId);return(0,a.jsxs)(b._2,{onSelect:()=>E(e),className:"cursor-pointer flex items-center gap-1 ps-1.5",children:[(0,a.jsx)("span",{className:(0,d.cn)("[&>svg]:h-4",s),children:t}),(0,a.jsx)("span",{children:e.name})]},e.personaId)})})]})]})};function w(e){switch(e){case"news":return{icon:(0,a.jsx)(r.Mdu,{}),colorClassName:"text-gray-400 dark:text-gray-200"};case"doctor":return{icon:(0,a.jsx)(r.oYO,{}),colorClassName:"text-purple-400 dark:text-purple-200"};case"friend":return{icon:(0,a.jsx)(r.zWC,{}),colorClassName:"text-orange-400 dark:text-orange-200"};case"tutor":return{icon:(0,a.jsx)(r.E3I,{}),colorClassName:"text-green-400 dark:text-green-200"};case"romance":return{icon:(0,a.jsx)(r.B1N,{}),colorClassName:"text-pink-400 dark:text-pink-200"};case"unhinged":return{icon:(0,a.jsx)(r.EYr,{}),colorClassName:"text-yellow-300 dark:text-yellow-200"};case"therapist":return{icon:(0,a.jsx)(r.OAR,{}),colorClassName:"text-teal-400 dark:text-teal-200"};case"scientist":return{icon:(0,a.jsx)(r.dWV,{}),colorClassName:"text-blue-400 dark:text-blue-200"};case"coder":return{icon:(0,a.jsx)(r.CyN,{}),colorClassName:"text-lime-400 dark:text-lime-200"};default:throw Error("Unknown personaId: ".concat(e))}}function v(e,t){let s={webSearch:!1,xSearch:!1,xMediaSearch:!1,trendsSearch:!1,xPostAnalyze:!1,imageGen:!1};switch(e){case"news":return{toolOverrides:{webSearch:!0,xSearch:!0,xMediaSearch:!0,trendsSearch:!0,xPostAnalyze:!0,imageGen:!1},initialQuery:t("Tell me the latest news.","Tell me the latest news."),addToLastChat:!1,hideDeepSearch:!1,hideThinking:!1,modelMode:"expert"};case"doctor":return{toolOverrides:s,initialQuery:t("Hi, what can you help me with?","Hi, what can you help me with?"),addToLastChat:!0,hideDeepSearch:!1,hideThinking:!1,disclaimer:t("Grok is not a doctor. Please consult one. Don't share personal information that will identify you.","Grok is not a doctor. Please consult one. Don't share personal information that will identify you.")};case"friend":return{toolOverrides:s,initialQuery:t("hey, how was your day?","hey, how was your day?"),addToLastChat:!0,hideDeepSearch:!0,hideThinking:!0};case"tutor":return{toolOverrides:s,initialQuery:t("Hey, can you help me with a homework question?","Hey, can you help me with a homework question?"),addToLastChat:!0,hideDeepSearch:!1,hideThinking:!1};case"romance":return{toolOverrides:{webSearch:!1,xSearch:!1,xMediaSearch:!1,trendsSearch:!1,xPostAnalyze:!1},initialQuery:t("Hey, love. How are you?","Hey, love. How are you?"),addToLastChat:!0,hideDeepSearch:!0,hideThinking:!0,disclaimer:t("Some content may be sexual in nature.","Some content may be sexual in nature.")};case"unhinged":return{toolOverrides:s,initialQuery:t("Drop a funny hot take.","Drop a funny hot take."),addToLastChat:!0,hideDeepSearch:!0,hideThinking:!0,disclaimer:t("Content will be objectionable, inappropriate, and offensive.","Content will be objectionable, inappropriate, and offensive.")};case"therapist":return{toolOverrides:s,initialQuery:t("Hi, what can you help me with?","Hi, what can you help me with?"),addToLastChat:!0,hideDeepSearch:!1,hideThinking:!1,disclaimer:t("Grok is not a therapist. Please consult one. Don't share personal information that will identify you.","Grok is not a therapist. Please consult one. Don't share personal information that will identify you.")};case"scientist":case"coder":return{toolOverrides:s,initialQuery:t("Hello, what do you do?","Hello, what do you do?"),addToLastChat:!0,hideDeepSearch:!1,hideThinking:!1};default:var a=e;throw Error("Wrong persona id: ".concat(a))}}},18921:(e,t,s)=>{"use strict";s.d(t,{M7:()=>g,O$:()=>i,RJ:()=>o,Rf:()=>d,Yc:()=>l,ep:()=>m,mx:()=>c});var a=s(85467),n=s(70237),r=s(35589),o=function(e){return e.ACTIVE="active",e.COMPLETED="completed",e.ARCHIVED="archived",e}({});function i(e){if(e)return e.schedule.find(e=>e.cadence!==n.G7.TaskCadenceOnceInstant)}function c(e){var t,s,n,r,o,c;let l=i(e);if(!l)throw Error("Cannot create task request without valid schedule");return{name:e.name,prompt:e.prompt,modelName:e.modelName,toolset:null==(t=e.toolsDev)?void 0:t.split(",").map(e=>e.trim()),metadataJsonString:JSON.stringify({}),notificationMethod:e.notificationMethod,modelMode:null!=(o=e.modelMode)?o:a.Cge.Base,notificationDeciderEnable:e.notificationsDeciderEnabled&&!!(null==(s=e.notificationsDecider)?void 0:s.trim()),notificationDeciderGuideline:null==(n=e.notificationsDecider)?void 0:n.trim(),responseId:e.originResponseId,schedule:{taskCadence:l.cadence,isEnabled:l.isEnabled,timezone:l.ianaTimezone,timeOfDay:l.timeOfDay,dayOfWeek:l.localDayOfWeek,dayOfMonth:l.localDayOfMonth,dayOfYear:null!=(c=null==(r=l.localDayOfYear)?void 0:r.startOf("day").toISODate())?c:void 0}}}function l(e){var t,s,o,i;if(!(e&&e.task&&e.task.prompt&&e.schedules))throw Error("Could not convert api task to task definition");let c=[];return e.schedules.forEach(e=>{var t;let s;if(!(e&&e.taskCadence&&e.nextRun&&e.timeOfDay))throw Error("Could not convert api task to task definition");let[a,o]=e.timeOfDay.split(":").map(Number),i={scheduleId:e.scheduleId,isEnabled:null!=(t=e.isEnabled)&&t,ianaTimezone:Intl.DateTimeFormat().resolvedOptions().timeZone,timeOfDay:e.taskCadence===n.G7.TaskCadenceOnceInstant?r.c9.now().toFormat("HH:mm"):e.timeOfDay,isCompleted:e.isCompleted,endDate:e.endDate?r.c9.fromISO(e.endDate):void 0},l=e.taskCadence;switch(l){case"TASK_CADENCE_ONCE":case"TASK_CADENCE_ONCE_ANNUALLY":if(!e.dayOfYear)throw Error("localDayOfYear is required for cadence ".concat(l));s={...i,cadence:l,localDayOfYear:r.c9.fromISO(e.dayOfYear).set({hour:a,minute:o}).setZone(e.timezone)};break;case"TASK_CADENCE_ONCE_DAILY":case"TASK_CADENCE_ONCE_INSTANT":s={...i,cadence:l};break;case"TASK_CADENCE_ONCE_WEEKLY":case"TASK_CADENCE_ONCE_WEEKDAY":if(void 0===e.dayOfWeek)throw Error("localDayOfWeek is required for cadence ".concat(l));s={...i,cadence:l,localDayOfWeek:e.dayOfWeek};break;case"TASK_CADENCE_ONCE_MONTHLY":if(void 0===e.dayOfMonth)throw Error("localDayOfMonth is required for cadence ".concat(l));s={...i,cadence:l,localDayOfMonth:e.dayOfMonth};break;default:console.error("Unsupported schedule")}s&&c.push(s)}),{taskId:e.task.taskId,name:e.task.name&&0!==e.task.name.length?e.task.name:"Scheduled task",prompt:e.task.prompt,modelName:e.task.modelName,toolsDev:null==(t=e.task.toolset)?void 0:t.join(", "),isActive:e.task.isActive,schedule:c,notificationMethod:e.task.notificationMethod,modelMode:null!=(s=e.task.modelMode)?s:a.Cge.Base,notificationsDecider:null!=(o=e.task.notificationDeciderGuideline)?o:void 0,notificationsDeciderEnabled:null!=(i=e.task.notificationDeciderEnable)&&i}}function d(e,t){var s;let o,i=Intl.DateTimeFormat().resolvedOptions().timeZone,[c,l]=e.time_of_day.split(":").map(Number),d={isEnabled:!0,ianaTimezone:i,timeOfDay:e.time_of_day},g=e=>{let t="string"==typeof e?Number(e):e;return isNaN(t)?r.c9.fromISO(e).set({hour:c,minute:l}).setZone(i):r.c9.utc().set({hour:c,minute:l,ordinal:t}).setZone(i)},m=e=>{let t=g(e),s=r.c9.now();return 0>t.diff(s).toMillis()&&(t=r.c9.now().set({hour:c,minute:l})),0>t.diff(s).toMillis()&&(t=t.plus({days:1})),t};switch(e.cadence){case"once":if(!e.day_of_year)throw Error("localDayOfYear is required for cadence ".concat(e.cadence));o={...d,cadence:n.G7.TaskCadenceOnce,localDayOfYear:m(e.day_of_year)};break;case"annually":if(!e.day_of_year)throw Error("localDayOfYear is required for cadence ".concat(e.cadence));o={...d,cadence:n.G7.TaskCadenceOnceAnnually,localDayOfYear:m(e.day_of_year)};break;case"weekday":case"daily":o={...d,cadence:n.G7.TaskCadenceOnceDaily};break;case"weekly":if(void 0===e.day_of_week)throw Error("localDayOfWeek is required for cadence ".concat(e.cadence));o={...d,cadence:n.G7.TaskCadenceOnceWeekly,localDayOfWeek:e.day_of_week};break;case"monthly":if(void 0===e.day_of_month)throw Error("localDayOfMonth is required for cadence ".concat(e.cadence));o={...d,cadence:n.G7.TaskCadenceOnceMonthly,localDayOfMonth:e.day_of_month};break;default:throw Error("Unsupported cadence: ".concat(e.cadence))}return{name:null!=(s=e.name)?s:"Scheduled task",prompt:e.prompt,schedule:[o],modelMode:a.Cge.Base,originResponseId:t}}function g(e,t){let[s,a]=e.split(":");if(!s||!a)throw Error("Invalid time string");let n=60*parseInt(s,10)+parseInt(a,10),r=10*Math.ceil(Math.max(n-t,0)/10),o=10*Math.floor(Math.min(n+t,1439)/10);if(r>o)return e;let i=Math.floor(Math.random()*(Math.floor((o-r)/10)+1)),c=r+10*i;return("0"+Math.floor(c/60)).slice(-2)+":"+("0"+c%60).slice(-2)}function m(e){if(0===e.length)throw Error("Array is empty");return e[Math.floor(Math.random()*e.length)]}},19728:(e,t,s)=>{"use strict";s.d(t,{$O:()=>f,Er:()=>h,d2:()=>k,lX:()=>b});var a=s(79342),n=s(56691),r=s(75500),o=s(98100),i=s(61312),c=s(88382),l=s(65146),d=s(71307),g=s(17825),m=s(3218),p=s(85710),u=s(79208);let h=(0,c.forwardRef)((e,t)=>{let{children:s}=e,{t:n}=(0,l.Bd)("chat");return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("relative group flex flex-col justify-center w-full pb-2 lg:max-w-4/5 message-row","items-start"),children:(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("p",{className:"text-center text-lg font-bold mb-2",children:n("Which response do you prefer?","Which response do you prefer?")}),(0,a.jsx)("p",{className:"text-center mb-4",children:n("This will help make Grok better.","This will help make Grok better.")}),s]})})}),f=(0,c.forwardRef)((e,t)=>{let{children:s}=e;return(0,a.jsx)("div",{ref:t,className:"flex justify-center ",children:s})});function k(e){let{children:t,chosenThinkingResponseData:s}=e,{unavailableModels:n}=(0,o.GB)(),r=!n.some(e=>"grok-4"===e.modelId),i=(0,p.$)(s.response),l=(0,c.useMemo)(()=>(0,g.md)(s.response,s.response.progressReport,r),[s.response,r]),k=(0,c.useMemo)(()=>{var e;return"HEAVY"===l?(0,a.jsx)(d.d,{response:s.response,isStreaming:s.isStreaming}):i?null:"UNIFIED"===l?(0,a.jsx)(p.G,{response:s.response,isOptimistic:s.isOptimistic,isStreaming:s.isStreaming,centerTitle:!0},s.response.responseId):"FUNCTION_CALL"===l||(null==(e=s.response.uiLayout)?void 0:e.reasoningUiLayout)==="UNSPECIFIED"?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.U,{response:s.response,isStreaming:s.isStreaming}),(0,a.jsx)(m.d,{response:s.response,isStreaming:s.isStreaming},s.response.responseId)]})},[s,i,l]);return(0,a.jsxs)(h,{children:[(0,a.jsx)("div",{className:"w-1/2 mx-auto mb-12 thinking-container",children:k}),(0,a.jsx)(f,{children:t})]})}function b(e){let{index:t,response:s,isStreaming:o,onClickPrefer:d,hideThinking:m}=e,{t:p}=(0,l.Bd)("chat"),u=(0,r.h)().DISABLE_EARLY_PREFER_FOR_SBS&&o,h=(0,c.useCallback)(()=>{d(t,s)},[t,d,s]);return(0,a.jsxs)("div",{className:(0,i.cn)("@container/split-chat w-1/2 max-w-3xl flex flex-col shrink-0 grow-0 gap-2 justify-between px-6","border-r border-toggle-border last:border-r-0"),children:[(0,a.jsx)("p",{className:"font-bold text-primary text-sm",children:p("Response letter","Response {{letter}}",{letter:String.fromCharCode(65+t)})}),(0,a.jsx)("div",{className:(0,i.cn)("flex-1","prose dark:prose-invert","w-full max-w-none","text-sm"),children:(0,a.jsx)(g.jo,{response:s,isStreaming:o,showMarkdown:!0,forceHideThinking:m})}),(0,a.jsx)(n.$n,{className:"font-semibold",variant:"filled",size:"md",rounded:!0,onClick:h,disabled:u,children:p("Prefer this response","Prefer this response")})]},t)}},19841:(e,t,s)=>{"use strict";s.d(t,{w:()=>b,D:()=>y});var a=s(79342),n=s(11750),r=s(18585),o=s(25859),i=s(75500),c=s(41320),l=s(2376),d=s(87206),g=s(5862),m=s(61312),p=s(83123),u=s(61683),h=s(88382),f=s(65146);function k(e){let{conversation:t,onEditStart:s,onDeleteStart:r,disabledActions:i}=e,{t:l}=(0,f.Bd)("base"),d=(0,c.Di)(),g=(0,h.useCallback)(e=>{e.stopPropagation(),window.open("/c/".concat(t.conversationId),"_blank")},[t.conversationId]),m=(0,h.useCallback)(e=>{e.stopPropagation(),s(t.conversationId)},[s,t.conversationId]),p=(0,h.useCallback)(e=>{e.stopPropagation(),r(t.conversationId)},[r,t.conversationId]);return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[!d&&(0,a.jsx)(o.gx,{tabIndex:-1,variant:"tertiary",size:"sm",shape:"square",onClick:g,tooltipContent:l("New Tab","New Tab"),"aria-label":l("New Tab","New Tab"),children:(0,a.jsx)(n.k0t,{size:16,className:"text-primary"})}),!(null==i?void 0:i.disableEdit)&&(0,a.jsx)(o.gx,{tabIndex:-1,variant:"tertiary",size:"sm",shape:"square",onClick:m,tooltipContent:l("Rename","Rename"),"aria-label":l("Rename","Rename"),children:(0,a.jsx)(n.rZj,{size:16,className:"text-primary"})}),!(null==i?void 0:i.disableDelete)&&(0,a.jsx)(o.gx,{tabIndex:-1,variant:"tertiary",size:"sm",shape:"square","aria-label":l("Delete","Delete"),onClick:p,tooltipContent:l("Delete","Delete"),children:(0,a.jsx)(n.ucK,{size:16,className:"text-primary"})})]})}let b=(0,h.memo)(e=>{var t;let{conversation:s,highlight:o,matchType:d,matchedWords:g,isEditing:p,isDeleting:u,isSelected:b,isCurrent:N,isHovered:C,newTitle:S,onNewTitleChange:I,onSelect:T,onEditStart:E,onDeleteStart:R,onToggleFavorite:A,onEditSave:_,onDeleteConfirm:O,onCancel:P,className:M,disabledActions:L}=e,{t:D}=(0,f.Bd)("base"),B=(0,i.h)(),z=(0,c.Di)(),F=(0,h.useMemo)(()=>s.title?s.title:s.createTime?D("conversation-missing-title","Chat on {{date}}",{date:new Date(s.createTime).toLocaleDateString()}):D("Untitled Chat","Untitled Chat"),[s,D]),U=(0,h.useMemo)(()=>"MATCH_MESSAGE"===d&&!!o,[d,o]),V=(0,h.useCallback)(()=>{_(s.conversationId)},[_,s.conversationId]),H=(0,h.useCallback)(e=>{e.stopPropagation(),"Enter"===e.key?V():"Escape"===e.key&&P()},[V,P]),W=(0,h.useCallback)(()=>{O(s.conversationId)},[O,s.conversationId]),{personaById:G}=(0,l.v5)(),K=(0,h.useMemo)(()=>{if(!(0,l.sS)(s.personaId))return;let e=G[s.personaId];if(e)return{...e,...(0,r.e8)(e.personaId)}},[s.personaId,G]),q=(0,h.useCallback)(e=>{T&&(1===e.button||e.ctrlKey||e.metaKey||e.shiftKey||(e.preventDefault(),T(s.conversationId)))},[T,s.conversationId]);return(0,a.jsxs)(a.Fragment,{children:[!p&&(0,a.jsx)("a",{href:"/c/".concat(s.conversationId),className:"col-start-1 col-end-2 row-start-1 row-end-2 block z-10",onClick:q}),(0,a.jsxs)("div",{className:(0,m.cn)("flex cursor-pointer items-center gap-2 px-3 col-start-1 col-end-2 row-start-1 row-end-2",M),children:[p?(0,a.jsx)("input",{className:"w-full bg-transparent focus-visible:outline-none",value:S,onKeyDown:H,autoFocus:!0,onChange:e=>{I(e.target.value)}}):(0,a.jsxs)("div",{className:"flex-grow min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[K?(0,a.jsx)("span",{className:(0,m.cn)("[&>svg]:h-4 [&>svg]:w-4",K.colorClassName),children:K.icon}):!!((null==(t=s.mediaTypes)?void 0:t.includes("audio"))&&B.ENABLE_VOICE_MODE)&&(0,a.jsx)(n.b7X,{className:"text-secondary h-4 w-4 shrink-0"}),(0,a.jsx)("div",{className:"truncate text-primary",children:"MATCH_TITLE"===d?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t||0===t.length||"string"!=typeof e)return e;let s=t.map(e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"),n=RegExp("(".concat(s,")"),"gi"),r=e.split(n);return 1===r.length?e:r.map((e,t)=>t%2==1?(0,a.jsx)("span",{className:"text-primary font-extrabold",children:e},t):e)}(F,g):F}),N&&(0,a.jsx)(x,{children:D("Current","Current")})]}),U&&(0,a.jsx)(j,{text:o,matchedWords:g||[],className:"text-xs text-secondary mt-0.5 truncate"})]}),(0,a.jsx)("div",{className:"z-20",children:(b&&C||z)&&!p&&!u?(0,a.jsx)(k,{conversation:s,onEditStart:E,onDeleteStart:R,onToggleFavorite:A,disabledActions:L}):p?(0,a.jsx)(w,{onCancel:P,onSave:V}):u?(0,a.jsx)(v,{onCancel:P,onConfirm:W}):(0,a.jsx)(y,{conversation:s})})]})]})});function x(e){let{children:t}=e;return(0,a.jsx)("span",{className:(0,m.cn)("border border-border-l2 px-2 rounded-full","text-sm text-secondary flex flex-row items-center gap-1 text-nowrap"),children:t})}function w(e){let{onCancel:t,onSave:s}=e,{t:r}=(0,f.Bd)("base");return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.gx,{tabIndex:-1,variant:"tertiary",size:"sm",shape:"square",onClick:e=>{e.stopPropagation(),t()},tooltipContent:r("Cancel","Cancel"),"aria-label":r("Cancel","Cancel"),children:(0,a.jsx)(n.uv5,{size:16,className:"text-fg-primary"})}),(0,a.jsx)(o.gx,{tabIndex:-1,variant:"tertiary",size:"sm",shape:"square",onClick:e=>{e.stopPropagation(),s()},tooltipContent:r("Save","Save"),"aria-label":r("Save","Save"),children:(0,a.jsx)(n.Jlk,{size:16,className:"text-primary"})})]})}function v(e){let{onCancel:t,onConfirm:s}=e,{t:r}=(0,f.Bd)("base");return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.gx,{tabIndex:-1,variant:"tertiary",size:"sm",shape:"square",onClick:e=>{e.stopPropagation(),t()},tooltipContent:r("Cancel","Cancel"),"aria-label":r("Cancel","Cancel"),children:(0,a.jsx)(n.uv5,{size:16,className:"text-fg-primary"})}),(0,a.jsx)(o.gx,{tabIndex:-1,variant:"tertiary",size:"sm",shape:"square",onClick:e=>{e.stopPropagation(),s()},tooltipContent:r("Delete","Delete"),"aria-label":r("Delete","Delete"),children:(0,a.jsx)(n.ucK,{size:16,className:"text-fg-primary"})})]})}function y(e){let{conversation:t,className:s}=e,n=(0,h.useMemo)(()=>(0,g.JU)(t.modifyTime),[t.modifyTime]),r=(0,h.useMemo)(()=>{if(t.modifyTime||t.createTime)return function(e,t){let s=new Date(e);if("this-year"===t)return s.toLocaleDateString(u.Ay.language,{day:"numeric",month:"short"});{if("older"===t)return s.toLocaleDateString(u.Ay.language,{day:"numeric",month:"short",year:"numeric"});let a=(0,p.a)(e,new Date,{unit:"day",locale:"en"}),n="day";return"today"===a&&(n=void 0),"yesterday"===a&&(n="hour"),(0,d.B)((0,p.a)(e,new Date,{unit:n,locale:u.Ay.language}))}}(t.modifyTime||t.createTime,n||"older")},[t.modifyTime,t.createTime,n]);return r?(0,a.jsx)("span",{className:(0,m.cn)("text-secondary whitespace-nowrap ms-2 hidden text-sm","md:inline md:group-hover/item:hidden","md:group-focus/item:hidden md:group-active/item:hidden",s),children:r}):null}function j(e){let{text:t,matchedWords:s,className:n}=e;if(!t||!(null==s?void 0:s.length))return(0,a.jsx)(a.Fragment,{children:t});let r=s.map(e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"),o=RegExp("(".concat(r,")"),"gi"),i=t.split(o);return(0,a.jsx)("div",{className:n,children:i.map((e,t)=>s.some(t=>t.toLowerCase()===e.toLowerCase())?(0,a.jsx)("span",{className:(0,m.cn)("text-primary font-bold"),children:e},t):(0,a.jsx)(h.Fragment,{children:e},t))})}},20113:(e,t,s)=>{"use strict";s.d(t,{S:()=>J,J:()=>ee});var a=s(79342),n=s(38614),r=s(1729),o=s(60059),i=s(15041),c=s(11750),l=s(30388),d=s(56691),g=s(75500),m=s(23232),p=s(28513),u=s(61312),h=s(97960),f=s(38541),k=s.n(f),b=s(16506),x=s(88382),w=s(65146);let v=/(\w+)\[([^\]]*)\]/g,y=e=>e.replace(v,'$1["$2"]'),j=()=>"mermaid-".concat(Math.random().toString(36).substring(2,9)),N=()=>{let{t:e}=(0,w.Bd)("base");return(0,a.jsx)("div",{className:"w-full relative bg-surface-l1 rounded-xl overflow-hidden border border-border p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-center min-h-[300px]",children:[(0,a.jsx)(l.d,{}),(0,a.jsx)("span",{className:"text-md leading-8 mt-0.5 text-secondary ms-2",children:e("mermaid-diagram.generating","Generating diagram")})]})})},C=e=>{let{content:t,isStreaming:s,onViewRaw:r}=e,o=(0,g.h)(),{t:l}=(0,w.Bd)("base"),f=(0,m._)(),{resolvedTheme:v}=(0,b.D)(),[C]=(0,p._)("mermaid"),S=(0,x.useRef)(null),I=(0,x.useRef)(j()),[T,E]=(0,x.useState)(null),[R,A]=(0,x.useState)(null),_=(0,x.useCallback)(e=>{S.current&&(C.initialize({startOnLoad:!1,theme:"dark"===v?"dark":"neutral"}),C.render("mermaid-diagram-".concat(I.current),e,S.current).then(e=>{let{svg:t,bindFunctions:s}=e;S.current&&(S.current.innerHTML=t,null==s||s(S.current))}).catch(()=>{}))},[v,C]);(0,x.useEffect)(()=>{(async()=>{if(!S.current||s)return;E(null),A(null),f("mermaid-diagram-render-start",void 0,{location:"mermaid-diagram:tryRender"});let e=t.split("\n"),a=e.length>1?e.slice(0,-2).join("\n"):null,n=y(t),r=k().compact([t,a,n]),o=null,i=null;for(let e of r)try{await C.parse(e),o=e;break}catch(e){e instanceof Error&&null===i&&(i=e.message)}if(!o){f("mermaid-diagram-render-fail","invalid-syntax",{location:"mermaid-diagram:tryRender",error:null!=i?i:"",content:t}),A(null!=i?i:null),E(l("mermaid-diagram.invalid-syntax","Invalid diagram syntax."));return}try{await _(o)}catch(e){E(l("mermaid-diagram.failed-to-render","Failed to render diagram"))}})()},[t,_,s,C,l,f]);let O=(0,i.m)("mermaid-diagram:handleAbort"),P=(0,x.useCallback)(async e=>{e.stopPropagation();let t=n.aP.getState(),s=h.A3.getState(),a=t.streamedMessageId?s.byId[t.streamedMessageId]:void 0;["streaming","optimistic","reconnecting"].includes((null==a?void 0:a.state)||"closed")&&await O();let r=n.aP.getState(),i=h.A3.getState();if(!r.conversationId)return;let c=r.lastMessageId?i.byId[r.lastMessageId]:void 0;(!r.lastMessageId||c)&&(c&&"human"===c.sender||r.sendResponse({message:l("mermaid-diagram.fix-error-message","Fix the following Mermaid error:\n {{error}}",{error:R}),parentResponseId:r.lastMessageId,conversationId:r.conversationId,fileAttachmentIds:[],webpageUrls:[],setOpimisticUserResponse:!0,setUserResponse:!0,ff:o}).catch(()=>{}))},[O,R,l,o]),M=(0,u.cn)("group-hover/mermaid:opacity-100 group-hover/mermaid:scale-100 transform transition-transform duration-200 ease-in-out bg-background hover:bg-background-secondary","scale-75 opacity-0");return s?(0,a.jsx)(N,{}):(0,a.jsxs)("div",{className:"group/mermaid w-full relative bg-surface-l1 rounded-xl overflow-hidden border border-border p-4",children:[(0,a.jsx)("div",{ref:S,className:"mermaid flex flex-col items-center"}),T&&(0,a.jsxs)("div",{className:"flex min-h-[100px] flex-col items-center justify-center text-red-500 gap-2",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)(c.RIJ,{className:"h-6 w-6"}),(0,a.jsx)("p",{children:T})]}),R&&(0,a.jsx)(d.$n,{"aria-label":l("mermaid-diagram.fix-error","Fix error"),variant:"filledSecondary",onClick:P,children:l("mermaid-diagram.fix-error","Fix error")})]}),(0,a.jsxs)("div",{className:"absolute top-2 right-2 flex flex-row gap-1",children:[(0,a.jsx)(d.$n,{"aria-label":l("mermaid-diagram.view-raw","View raw"),size:"iconSm",rounded:!0,variant:"card",onClick:e=>{e.stopPropagation(),r()},className:M,children:(0,a.jsx)(c.loI,{className:"group-hover/mermaid:text-primary transition-colors"})}),!T&&(0,a.jsx)(d.$n,{"aria-label":l("mermaid-diagram.download","Download"),size:"iconSm",rounded:!0,variant:"card",onClick:e=>{var t;e.stopPropagation();let s=null==(t=S.current)?void 0:t.innerHTML;if(!s)return;let a=new Blob([s],{type:"image/svg+xml"}),n=URL.createObjectURL(a),r=document.createElement("a");r.href=n,r.download="mermaid-diagram.svg",r.click(),URL.revokeObjectURL(n)},className:M,children:(0,a.jsx)(c.s3U,{className:"group-hover/mermaid:text-primary transition-colors"})})]})]})},S=e=>(0,a.jsx)(x.Suspense,{fallback:(0,a.jsx)(N,{}),children:(0,a.jsx)(C,{...e})});var I=s(8800),T=s(44347),E=s(74995),R=s(5703),A=s(69630),_=s(47392),O=s(73772),P=s(69648),M=s(39489);let L="https://artifacts.grokusercontent.com/chartjs";function D(e){let{chartJSConfig:t,className:s,iframeRef:n,messageHandlers:r}=e,{nonce:o}=(0,M.v)(),{resolvedTheme:i}=(0,b.D)(),c=(0,x.useRef)(null),l=null!=n?n:c,[d,g]=(0,x.useState)(!1),m="dark"===i,p=m?"rgb(26, 27, 30)":"white";(0,x.useEffect)(()=>{let e=()=>g(!0),t=l.current;if(t)return t.addEventListener("load",e),()=>{t.removeEventListener("load",e)}},[l.current]);let h=(0,x.useCallback)(e=>{var t;(null==(t=l.current)?void 0:t.contentWindow)&&l.current.contentWindow.postMessage({type:"chartjs",chartJSConfig:e,isDarkTheme:m,backgroundColor:p},L)},[m,p]);return(0,x.useEffect)(()=>{d&&h(t)},[d,m,t]),(0,x.useEffect)(()=>{let e=e=>{var t,s,a;if(!d)return;let n=null==(s=l.current)||null==(t=s.contentWindow)?void 0:t.frames[0];if(e.source!==n)return;let o={};try{if(!(o=JSON.parse(e.data)))return}catch(e){return}r&&(null==(a=r[o.type])||a.call(r,o))};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[r,l,d]),(0,a.jsx)("div",{className:"flex flex-col h-full",children:(0,a.jsx)("div",{className:(0,u.cn)("flex flex-col flex-1"),children:(0,a.jsx)("iframe",{className:(0,u.cn)("w-full flex-1",s),sandbox:"allow-scripts allow-same-origin",src:L,ref:l,nonce:o})})})}let B=e=>{let{config:t,isStreaming:s}=e,{t:r}=(0,w.Bd)("chat"),o=(0,n.aP)(E.A("conversationId")),i=(0,_.g)(),g=(0,m._)(),[p,h]=(0,x.useState)(!1),[f,k]=(0,x.useState)(!1),[b,v]=(0,x.useState)(void 0),[y,j]=(0,x.useState)(void 0),N=(0,x.useRef)(null),C=(0,x.useMemo)(()=>({on_load:()=>{h(!0)},chart_image:e=>{s||g("chart_shown_success",void 0,{location:"chart-markdown-component:chart_image",conversationId:null!=o?o:""}),v(e.image),k(!1)},chart_csv:e=>{j(e.csv)},on_fail:()=>{s||g("chart_shown_fail",void 0,{location:"chart-markdown-component:on_fail",conversationId:null!=o?o:""}),k(!0),h(!0)},on_unload:()=>{h(!1)}}),[g,o,s]),S=(0,x.useCallback)(()=>{if(b){let e=document.createElement("a");e.href=b,e.download="chart.png",e.click()}},[b]),I=(0,x.useCallback)(()=>{if(y){let e=document.createElement("a");e.href="data:text/plain;charset=utf-8,"+encodeURIComponent(y),e.download="chart.csv",e.click()}},[y]);return(0,a.jsx)("div",{className:(0,u.cn)("h-[500px] bg-surface-l1 rounded-xl overflow-hidden border border-border @md/mainview:-mx-4"),children:f?(0,a.jsxs)("div",{className:"flex flex-col gap-2 h-full w-full items-center justify-center",children:[(0,a.jsx)(c.aXh,{size:100,className:"text-button-primery mb-4",opacity:.1}),(0,a.jsx)("span",{className:"text-primary",children:r("chart.failed-generation","Failed to generate chart")}),i?(0,a.jsx)(d.$n,{variant:"primary",size:"md",className:"rounded-full",onClick:()=>i(),children:r("chart.try-again","Try Again")}):null]}):s?(0,a.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,a.jsxs)("div",{className:"relatve z-10 flex items-center justify-center",children:[(0,a.jsx)(l.d,{}),(0,a.jsx)("span",{className:"text-md leading-8 mt-0.5 text-secondary ms-2",children:r("chart.generating","Generating chart")})]})}):(0,a.jsxs)("div",{className:(0,u.cn)("h-full flex flex-col w-full flex-1",t&&p?void 0:"opacity-0"),children:[(0,a.jsx)("div",{className:"h-full px-2 pt-4 pb-2",children:(0,a.jsx)(D,{chartJSConfig:t,messageHandlers:C,disableConsole:!0,iframeRef:N,className:"bg-surface-l1"})}),(0,a.jsx)(P.w,{}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 pl-4 pr-2",children:[(0,a.jsx)("span",{className:"text-sm text-secondary",children:r("chart.accuracy-warning","Grok can make mistakes. Always check original sources.")}),b||y?(0,a.jsxs)(O.rI,{children:[(0,a.jsx)(O.ty,{asChild:!0,children:(0,a.jsxs)(d.$n,{variant:"secondary",size:"sm",className:"rounded-full",children:[(0,a.jsx)(c.s3U,{size:16}),r("chart.download","Download")]})}),(0,a.jsxs)(O.SQ,{hideWhenDetached:!0,side:"bottom",sideOffset:8,className:"space-y-0.5",onWheel:e=>e.stopPropagation(),children:[b?(0,a.jsxs)(O._2,{className:"flex items-center gap-2",onSelect:S,children:[(0,a.jsx)(c.xfq,{size:18}),r("chart.download.as-image","As Image")]}):null,y?(0,a.jsxs)(O._2,{className:"flex items-center gap-2",onSelect:I,children:[(0,a.jsx)(c.c4f,{size:18}),r("chart.download.as-spreadsheet","As Spreadsheet")]}):null]})]}):void 0]})]})})};var z=s(17703),F=(s(52970),s(84969)),U=s(23054);let V=e=>{let{language:t,isCollapsed:s,setCollapsed:n,isWrapped:r,toggleWrap:o,codeString:i,isCodeExecutionAvailable:l,isCodeExecuting:g,disableCodeExecution:m,onExecuteCode:p,showPreviewToggle:h,onPreview:f,hasTopOffset:k=!0}=e,{isNested:b}=(0,x.useContext)(A.OO),[v,y]=(0,x.useState)(!1),{t:j}=(0,w.Bd)("base"),N=(0,x.useCallback)(()=>n(e=>!e),[n]),C=(0,x.useCallback)(()=>{if(""===i.trim())return;let e=i;e=e.replace(/(\n)$/,""),navigator.clipboard.writeText(e).then(()=>{y(!0),setTimeout(()=>y(!1),2e3)}).catch(e=>{(0,z.vV)("chat-markdown",e)})},[i]);return"ontouchstart"in window||navigator.maxTouchPoints,(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex flex-row px-4 py-2 h-10 items-center rounded-t-xl bg-surface-l2 border border-border-l1",children:(0,a.jsx)("span",{className:"font-mono text-xs",children:t})}),(0,a.jsx)("div",{className:(0,u.cn)("sticky w-full right-2 z-10",!b&&k&&"@[1280px]/mainview:z-40 @[1280px]/mainview:top-10 top-24 @[0px]/preview:top-5",b&&k&&"top-40","print:hidden"),children:(0,a.jsxs)("div",{className:"absolute bottom-1 right-1 flex flex-row gap-0.5",children:[(0,a.jsx)(F.N,{children:(0,a.jsxs)(U.P.div,{className:"flex flex-row gap-0.5",animate:"visible",initial:"hidden",variants:{hidden:{opacity:0},visible:{opacity:1}},transition:{duration:.1,ease:"easeInOut"},children:[h&&(0,a.jsxs)(d.$n,{onClick:f,variant:"sticky",size:"sm",className:"@[0px]/preview:hidden",children:[(0,a.jsx)(c.HQG,{className:"size-4"}),(0,a.jsx)("span",{className:"hidden @sm/code-block:block",children:j("Preview","Preview")})]}),(0,a.jsx)(d.$n,{variant:"sticky",size:"sm",onClick:N,children:s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Mls,{className:"size-4"}),(0,a.jsx)("span",{className:"hidden @sm/code-block:block",children:j("Expand","Expand")})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.WE9,{className:"size-4"}),(0,a.jsx)("span",{className:"hidden @sm/code-block:block",children:j("Collapse","Collapse")})]})}),(0,a.jsx)(d.$n,{onClick:o,variant:"sticky",size:"sm",children:r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.N$i,{className:"size-4"}),(0,a.jsx)("span",{className:"hidden @sm/code-block:block",children:j("Unwrap","Unwrap")})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.PSw,{className:"size-4"}),(0,a.jsx)("span",{className:"hidden @sm/code-block:block",children:j("Wrap","Wrap")})]})}),l?(0,a.jsx)(d.$n,{onClick:p,variant:"sticky",size:"sm",disabled:g||m,children:g?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Srz,{className:"size-4"}),(0,a.jsx)("span",{className:"hidden @sm/code-block:block",children:j("code-execution.running","Running")})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.udU,{className:"size-4"}),(0,a.jsx)("span",{className:"hidden @sm/code-block:block",children:j("code-execution.run","Run")})]})}):null]})}),!1,(0,a.jsx)(d.$n,{onMouseDown:e=>e.preventDefault(),onClick:C,variant:"sticky",size:"sm",disabled:v,children:v?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Srz,{className:"size-4"}),(0,a.jsx)("span",{className:"hidden @sm/code-block:block",children:j("Copied","Copied")})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.TdU,{className:"size-4"}),(0,a.jsx)("span",{className:"hidden @sm/code-block:block",children:j("Copy","Copy")})]})})]})})]})};var H=s(17825),W=s(18921),G=s(61349),K=s(80226),q=s(27636),X=s(95158),Y=s(73304),Q=s(56907),$=s(14908);function Z(e){var t,s;let{content:r,isStreaming:o}=e,{t:i}=(0,w.Bd)("tasks"),l=(0,m._)(),g=(0,n.aP)(E.A("conversationId")),p=(0,x.useContext)(H.du),u=(0,Y.d)(E.A("fetchUserTasks")),h=(0,x.useMemo)(()=>null==p?void 0:p.responseId,[p]),{isLoading:f,data:k}=(0,Q.IT)({queryKey:["grok-created-tasks",g],queryFn:async()=>{if(g)return X.Cs.grokTasksGetGrokCreatedTasksByConversationId({conversationId:g})},refetchOnMount:"always",enabled:!!g}),{mutate:b}=(0,Q.n_)({mutationFn:async e=>X.Cs.grokTasksCreateTask({body:(0,W.mx)(e)}),onSuccess:async()=>{$.oR.success(i("task-create.success","Task created!"));let e=(0,G.SX)();C(!1),await u(),await e.invalidateQueries({queryKey:["grok-created-tasks",g]})},onError:async e=>{$.oR.error(i("task-create.failed","Failed to create task. Please try again later")),console.error(e)}}),v=(0,x.useMemo)(()=>r&&!o?JSON.parse(r):void 0,[r,o]),y=(0,x.useMemo)(()=>v&&h?(0,W.Rf)(v,h):void 0,[v,h]),j=(0,Y.d)(E.A("setTaskToEdit")),[N,C]=(0,x.useState)(!1),{getScheduleLabel:S}=(0,q.Ay)(),I=(0,x.useMemo)(()=>(0,W.O$)(y),[y]);(0,x.useEffect)(()=>{l("inline_task_card_created",void 0,{location:"inline-tasks-card:useEffect"})},[l]),(0,x.useEffect)(()=>{var e;h&&k&&(null==(e=k.taskIdWithResponseIds)?void 0:e.find(e=>e.originResponseId===h))?C(!1):f||C(!0)},[k,f,h]);let T=(0,x.useCallback)(()=>{l("inline_task_card_edit_click",void 0,{location:"inline-tasks-card:handleEditClick"}),y&&j(y)},[j,l,y]),R=(0,x.useCallback)(()=>{l("inline_task_card_create_click",void 0,{location:"inline-tasks-card:handleCreateClick"}),y&&b(y)},[b,l,y]);return(0,a.jsx)(F.N,{mode:"wait",children:y?(0,a.jsxs)(U.P.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:0,ease:"easeInOut"},className:"rounded-2xl bg-surface-l1 p-4 border flex flex-col gap-1 w-full",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,a.jsx)("h1",{className:"text-sm font-semibold",children:y.name}),(0,a.jsx)("h2",{className:"text-sm",children:y.prompt})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsx)("h1",{className:"text-sm text-fg-secondary",children:I&&S(I.cadence,I.timeOfDay,I.ianaTimezone,I.localDayOfWeek,I.localDayOfMonth,null!=(s=null==(t=I.localDayOfYear)?void 0:t.toISO())?s:void 0)}),N?(0,a.jsxs)("div",{className:"flex items-center gap-2 h-8",children:[(0,a.jsx)(d.$n,{size:"sm",variant:"outline",className:"font-semibold",onClick:T,children:i("inline-task-card.edit","Edit")}),(0,a.jsx)(d.$n,{size:"sm",variant:"primary",className:"font-semibold",onClick:R,children:i("inline-task-card.create","Create Task")})]}):(0,a.jsxs)("p",{className:"text-secondary text-sm italic flex gap-1 items-center h-8",children:[i("task created","Task created")," ",(0,a.jsx)(c.Jlk,{size:14})]})]})]}):(0,a.jsxs)(U.P.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.3,ease:"easeInOut"},className:"rounded-2xl bg-surface-l1 p-4 border flex flex-col gap-3 w-full min-h-[105px]",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(K.E,{className:"h-5 w-[50%]"}),(0,a.jsx)(K.E,{className:"h-5 w-full"})]}),(0,a.jsx)(K.E,{className:"h-8 w-full"})]},"skeleton")})}let J=e=>{let{className:t,language:s,codeString:r,codeClassName:i,codeProps:c,hasTopOffset:l=!0,isInitiallyCollapsed:d=!1,isStreaming:p=!1,showRunCode:h=!0,disableRunCode:f=!1}=e,{t:k}=(0,w.Bd)("base"),v=(0,g.h)(),y=(0,m._)(),{resolvedTheme:j}=(0,b.D)(),N=(0,T.C$)(e=>e.userSettings.preferences.autoWrapLongLinesCode),C=(0,n.aP)(E.A("setSidePanelContent")),A=/\n/.test(r),[_,O]=(0,x.useState)(N),P=(0,x.useCallback)(()=>O(e=>!e),[]),[M,L]=(0,x.useState)(d),[D,z]=(0,x.useState)(!0),F=v.ENABLE_MERMAID_DIAGRAMS?["mermaid"]:[],U=(0,x.useRef)(null),{runCode:H,result:W,loading:G,codeExecutionAvailable:K}=(0,I.P)(r,s),q=(0,x.useCallback)(()=>{y("code_execution",r,{location:"code-block:onExecuteCode"}),setTimeout(()=>{var e;null==(e=U.current)||e.scrollIntoView({behavior:"smooth",block:"center"})},0),H()},[H,U,y,r]),X=(0,x.useMemo)(()=>{if("html"!==s)return!1;try{return!!new DOMParser().parseFromString(r,"text/html").querySelector("html")&&r.includes("<html")}catch(e){return!1}},[s,r]),Y=(0,x.useMemo)(()=>r.split("\n").length-1,[r]),Q=(0,x.useCallback)(()=>{X?C({type:"htmlPreview",data:r}):z(!0)},[X,C,r]),$=(0,x.useCallback)(()=>{z(!1)},[]);return("chartjs"===s||"chart"===s)&&r?(0,a.jsx)("div",{className:"py-2",children:(0,a.jsx)(B,{config:r,isStreaming:p})}):v.ENABLE_GROK_TASKS&&"xaitask"===s?(0,a.jsx)(Z,{content:r,isStreaming:p}):"mermaid"===s&&D&&F.includes(s)?(0,a.jsx)(S,{content:r,isStreaming:p,onViewRaw:$}):A?(0,a.jsxs)("div",{className:(0,u.cn)("relative not-prose @container/code-block",i),"data-testid":"code-block",children:[(0,a.jsx)(V,{language:s,codeString:r,isCodeExecuting:G,isCodeExecutionAvailable:h&&K(),disableCodeExecution:f,isCollapsed:M,isWrapped:_,showPreviewToggle:X||F.includes(s),onPreview:Q,onExecuteCode:q,setCollapsed:L,toggleWrap:P,hasTopOffset:l}),(0,a.jsx)(o.r,{customStyle:{borderRadius:"0px 0px 12px 12px",border:"1px solid var(--border-l1)",borderTop:"none",padding:16,marginTop:0,borderColor:"none",fontSize:".9em",fontFamily:"var(--font-ibm-plex-mono)",lineHeight:"1.5em",background:"dark"===j?"var(--surface-inset)":"var(--surface-l1)",color:"var(--fg-primary)",display:M?"none":"block",overflow:"auto"},codeTagProps:{style:{lineHeight:"inherit",fontSize:"inherit"}},wrapLongLines:_,PreTag:"div",language:s,...c,children:r.trim().replace(/\n$/,"")}),(0,a.jsx)("div",{ref:U}),M&&(0,a.jsx)("div",{className:(0,u.cn)("dark"===j?"bg-surface-inset":"bg-surface-l1","text-fg-secondary","text-[.9em] leading-[1.5em]","rounded-b-[12px] p-[16px]","italic","border border-border-l1 border-t-0"),children:k("lines",{count:Y,defaultValue_one:"{{count}} hidden line",defaultValue_other:"{{count}} hidden lines"})}),(0,a.jsx)(R.g,{className:"pt-2",runCodeResult:W,isRunningCode:G})]}):(0,a.jsx)("span",{className:(0,u.cn)("text-sm px-1 rounded-sm !font-mono","bg-orange-400/10 text-orange-500 dark:bg-orange-300/10 dark:text-orange-200",t),...c,children:r})},ee=e=>{let{node:t,className:s,negativeMargin:n=!0,hasTopOffset:o=!0,children:i,isInitiallyCollapsed:c=!1,hideRunCode:l,...d}=e,{isNested:g,sender:m,isStreaming:p}=(0,x.useContext)(A.OO),h=String(i||""),f=null==s?void 0:s.includes(":disable-run"),k=function(e){var t,s,a,n;if(!e)return"text";let o=null==(t=/language-([a-z-+]+)(:disable-run)?/.exec(e||""))?void 0:t[1];return null!=(n=null!=(a=null!=(s=(0,r.ND)(o))?s:o)?a:e)?n:"text"}(s),b=(0,u.cn)(n&&"[&_div+div]:!mt-0 mt-3 mb-3","human"!==m&&!g&&n&&"@md:-mx-4","human"!==m&&n&&"@md:-mr-4","human"===m&&"-mx-0 mt-2 mb-2 min-w-52 @sm/mainview:min-w-[500px] @lg/mainview:min-w-[650px] dark:border-0 border rounded-xl");return(0,a.jsx)(J,{className:s,codeString:h,codeClassName:b,codeProps:d,language:k,hasTopOffset:o,isInitiallyCollapsed:c,isStreaming:p,showRunCode:!l,disableRunCode:f})}},20301:(e,t,s)=>{"use strict";s.d(t,{hx:()=>eu,C9:()=>ef,oE:()=>ep,n9:()=>eh});var a=s(79342),n=s(10953),r=s(42557),o=s(56691),i=s(56),c=s(625),l=s(11750),d=s(12001),g=s(18585),m=s(67153),p=s(35692),u=s(34500),h=s(73772),f=s(47127),k=s(97225),b=s(61079),x=s(26676),w=s(5663),v=s(68332),y=s(21782),j=s(75500),N=s(33231),C=s(23232),S=s(41320),I=s(91102),T=s(2376),E=s(12065),R=s(44552),A=s(35181),_=s(24734),O=s(2280),P=s(95158),M=s(56907);let L=e=>{var t;let s=null==(t=(0,r.wV)().user)?void 0:t.userId,{data:a,isLoading:n,error:o,refetch:i}=(0,M.IT)({queryKey:["conversation-share-links",e],queryFn:async()=>{if(!e)return null;let t=(await P.chatApi.chatListShareLinks({conversationId:e,pageSize:"100"})).shareLinks||[],a=!!s&&t.some(e=>e.xaiUserId===s);return{shareLinks:t,isOwner:a}},enabled:!!e,staleTime:3e5});return{shareLinks:(null==a?void 0:a.shareLinks)||[],isOwner:(null==a?void 0:a.isOwner)||!1,isLoading:n,error:o,refetchShareLinks:i}};var D=s(24429),B=s(88382),z=s(39890);let F=e=>{let{conversationId:t,location:s="unshare-conversation",onSuccess:a,onError:n}=e,{user:o}=(0,r.wV)(),i=(0,C._)(),{deleteShareLink:c,isPending:l}=(0,z.Y)(),{shareLinks:d}=L(t),g=(0,B.useMemo)(()=>d.some(e=>e.xaiUserId===(null==o?void 0:o.userId)),[d,null==o?void 0:o.userId]);return{handleUnshare:(0,B.useCallback)(async()=>{let e=d.filter(e=>e.xaiUserId===(null==o?void 0:o.userId)&&e.shareLinkId);if(0===e.length)return;i("unshare_conversation_action",void 0,{location:s,conversationId:t,shareLinksCount:String(e.length)});let r=await Promise.allSettled(e.map(e=>c(e.shareLinkId))),l=r.filter(e=>"rejected"===e.status);0===l.length?null==a||a():null==n||n(Error("Failed to remove ".concat(l.length," of ").concat(r.length," links")))},[d,null==o?void 0:o.userId,t,c,i,s,a,n]),isDeleting:l,hasOwnedShareLinks:g}};var U=s(7658),V=s(83626),H=s(17703),W=s(84499),G=s(61312),K=s(49972),q=s(44347),X=s(73304),Y=s(3683),Q=s(23054),$=s(39116),Z=s(74995),J=s(65146),ee=s(17517),et=s(14908),es=s(38614),ea=s(52244);let en=e=>{let{conversationId:t,variant:s="outline",size:n="sm",rounded:r,iconProps:i,showLabel:c,className:d,disabled:g,onSuccess:m,onError:p}=e,{t:u}=(0,J.Bd)("base"),{handleUnshare:h,isDeleting:k,hasOwnedShareLinks:b}=F({conversationId:t,location:"unshare-button",onSuccess:m,onError:p});return b?(0,a.jsx)(f.p,{children:(0,a.jsxs)(o.gx,{variant:s,size:n,rounded:r,"aria-label":u("unshare-button.aria-label","Unshare link"),onClick:h,className:(0,G.cn)("rounded-full",d),tooltipContent:k?u("unshare-button.removing","Removing..."):u("unshare-button.tooltip","Unshare link"),tooltipContentProps:{side:"bottom"},disabled:k||g,children:[(0,a.jsx)(l.qdY,{...i}),c&&(0,a.jsx)("span",{className:"font-semibold",children:u("unshare-button.label","Unshare")})]})},"unshare-button"):null};var er=s(58939);let eo=(0,B.memo)(e=>{let{conversation:t}=e,s=(0,C._)(),{conversationId:n}=t,{data:r,error:o}=(0,U.$1)(n);(0,_.Y)("conversation-workspace-pill",o);let i=null==r?void 0:r[0];if(!i)return null;let{name:c,icon:l,workspaceId:d}=i;return(0,a.jsx)(W.N_,{className:"overflow-hidden",route:{page:"workspace",workspaceId:null!=d?d:""},onClick:()=>{s("ws_pill_click",void 0,{location:"conversation-workspace-pill:handleClick"})},children:(0,a.jsxs)(Q.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:(0,G.cn)("border border-border-l2 px-3 py-1 rounded-full","text-sm text-secondary flex flex-row items-center gap-1","ml-2 mt-0.5"),children:[(0,a.jsx)("span",{className:(0,G.cn)("[&>svg]:h-3.5 [&>svg]:w-3.5"),children:(0,a.jsx)(er.Oh,{icon:l})}),(0,a.jsx)("span",{className:(0,G.cn)("max-w-[0px] @[340px]/nav:max-w-[75px] @[375px]/nav:max-w-[100px] @[430px]/nav:max-w-[150px] @[500px]/nav:max-w-[200px] truncate"),children:c})]})})}),ei={size:20,strokeWidth:2};function ec(e){let{hash:t,isIncognito:s,showLabel:n,onLinkClick:r}=e,{t:i}=(0,J.Bd)("chat"),{commandPrefix:c}=(0,I.c)(),d=s?i("Switch to Default Chat","Switch to Default Chat"):i("Switch to Private Chat","Switch to Private Chat"),g=s?"".concat(c,"J"):"".concat(c,"⇧J");return(0,a.jsx)(o.gx,{rounded:!0,variant:"ghost",size:n?"md":"iconMd",overideIconStyle:!0,"aria-label":d,stayOpenOnClick:!0,tooltipAsChild:!0,tooltipContent:(0,a.jsxs)("div",{className:"flex flex-row gap-1",children:[d,c&&(0,a.jsx)("span",{className:"text-secondary",children:g})]}),tooltipContentProps:{side:"bottom"},asChild:!0,className:s?"text-purple-400 dark:text-purple-300":"text-secondary",children:(0,a.jsxs)("a",{href:"/c".concat(s?"":t),onClick:r,children:[s?(0,a.jsx)(l.fz0,{...ei,"data-testid":"pi-ghost-fill"}):(0,a.jsx)(l.FEr,{...ei,"data-testid":"pi-ghost"}),n&&(0,a.jsx)("span",{className:"font-semibold",children:i("private","Private")})]})})}var el=s(92207),ed=s(72712);let eg=e=>(0,a.jsxs)(ed.I,{viewBox:"2 2 21 21",...e,children:[(0,a.jsx)("path",{d:"M3 5L19 5",stroke:"currentColor",strokeLinecap:"square",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M3 12H7",stroke:"currentColor",strokeLinecap:"square",strokeLinejoin:"round"}),(0,a.jsx)("circle",{cx:"16",cy:"15",r:"4",stroke:"currentColor"}),(0,a.jsx)("path",{d:"M19 18L21 20",stroke:"currentColor",strokeLinecap:"square"}),(0,a.jsx)("path",{d:"M3 19H7",stroke:"currentColor",strokeLinecap:"square",strokeLinejoin:"round"})]});var em=s(35848);let ep="#private";function eu(e){var t;let{title:s,conversationIsLoading:n,conversation:i,label:c,shared:u,isOptimisticConversation:k,hideIncognito:b,showTasks:x,extraLeftContent:y,disableBackgroundGradient:A}=e,{t:O}=(0,J.Bd)("base"),{routeToConversation:P}=(0,v.o)(),[M,D]=(0,ee.Q)(),z=(0,r.wV)().user,{push:V}=(0,W.wK)(),{commandPrefix:Y,os:Q}=(0,I.c)(),$=(0,C._)(),et=(0,B.useRef)(null),er=(0,es.aP)(Z.A("setReasoningMode")),eo=(0,es.aP)(Z.A("establishNewConversation")),ei=(0,es.aP)(Z.A("conversationMode")),ed=(0,q.C$)(Z.A("isIncognito")),eu=(0,q.C$)(Z.A("setIsIncognito")),{handlePinConversation:ef}=(0,E.c)(),ek=(0,K.w1)(Z.A("fetchSoftDeleteConversation")),ew=(0,_.K)(),ev=(0,S.Di)();(0,B.useEffect)(()=>{let e=()=>{let e=window.innerWidth<1280;document.documentElement.style.setProperty("--scroll-margin-top",e?"64px":"0px")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let ey=(0,j.h)(),ej=(0,m.L)(),eN=(0,es.aP)(Z.A("lastMessageId")),{shareLinks:eC,isOwner:eS}=L(null==i?void 0:i.conversationId);(0,B.useEffect)(()=>{M===ep&&(eu(!0),D(""))},[M]);let{data:eI}=(0,U.$1)(null!=(t=null==i?void 0:i.conversationId)?t:""),eT=null==eI?void 0:eI[0],eE=null==eT?void 0:eT.workspaceId,{pivotNewChat:eR}=(0,R.u)(),eA=(0,B.useCallback)(e=>{e.ctrlKey||e.metaKey||eR().catch((0,H.HX)("Failed to pivot to new chat"))},[eR]);(0,N.v)(w.Ib,e=>{e.preventDefault(),e.stopPropagation(),$("pressed_cmd_j",void 0,{location:"chat-top-nav:useHotkeys",insideWorkspace:String(!!eT)}),eR().catch((0,H.HX)("Failed to pivot to new chat"))},[eR,$]);let e_=(0,B.useCallback)(()=>{eu(!0),P(void 0)},[eu,P]),eO=!!z&&!b;(0,N.v)(w.Xo,e=>{eO&&(e.preventDefault(),e.stopPropagation(),$("pressed_cmd_shift_j",void 0,{location:"chat-top-nav:useHotkeys"}),e_())},[eO,e_,$]);let eP=(0,B.useCallback)(e=>{if(!e.ctrlKey&&!e.metaKey){e.preventDefault();let t=!ed;eu(t),$("toggle_incognito",String(t),{location:"chat-top-nav"})}},[ed,eu,$]),eM=k?ed:i?!!z&&i.temporary:ed,{getPersonaForConversation:eL}=(0,T.v5)(),eD=eL(i),eB=(0,B.useCallback)(()=>{$("clicked_tasks",void 0,{location:"chat-top-nav"}),V({page:"tasks",taskId:null,tab:"active"})},[V,$]),ez=(0,B.useCallback)(async()=>{if(!eD)return;er("none");let{initialQuery:e,toolOverrides:t}=(0,g.pL)(eD.personaId,O);$("click_persona",eD.personaId,{location:"chat-top-nav"}),$("new_persona_chat",e,{location:"chat-top-nav",toolOverrides:JSON.stringify(t)}),await ej(),await eo({message:e,toolOverrides:t,persona:eD,enableRetries:ey.ENABLE_AUTO_STREAM_RETRY,ff:ey}).catch((0,H.HX)("chat-top-nav:establishNewConversation"))},[eD,er,O,$,ej,eo,ey]),eF=(0,B.useCallback)(()=>{i&&ef(i.conversationId,!i.starred,"chat-top-nav")},[i,ef]),eU=(0,B.useCallback)(()=>{i&&ek(i.conversationId).then(()=>{V({page:"main"})}).catch(e=>ew("chat-top-nav:handleDeleteClick",e))},[i,ek,V,ew]),eV=(0,B.useCallback)(()=>{V({page:"main"})},[V]),{handleUnshare:eH,isDeleting:eW}=F({conversationId:null==i?void 0:i.conversationId,location:"chat-top-nav:handleUnshareClick",onSuccess:eV,onError:e=>ew("chat-top-nav:handleUnshareClick",e)}),eG=function(){var e;let t=(0,X.d)(Z.A("unreadResults"));return t&&t.length>0&&(null==t||null==(e=t.at(0))?void 0:e.isRead)===!1}(),eK=!ev,[eq,eX]=(0,B.useState)(!1),eY=(0,el.H0)(Z.A("openMenu"));return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{ref:et,className:(0,G.cn)("w-full relative @container/nav z-[25] flex-shrink-0","print:hidden"),children:[s&&(0,a.jsx)("div",{className:"h-full",children:s}),(0,a.jsxs)("div",{className:(0,G.cn)("h-16 top-0 @[80rem]/nav:h-0 @[80rem]/nav:top-8","absolute z-10 flex flex-row items-center justify-center w-full bg-gradient-to-b",!A&&"from-background via-background via-80% to-transparent @[80rem]/nav:from-transparent @[80rem]/nav:via-transparent"),children:[(0,a.jsxs)("div",{className:"absolute start-1 flex gap-1 items-center",children:[(0,a.jsx)(eh,{shared:u}),y]}),(0,a.jsx)("div",{className:(0,G.cn)("grow justify-center hidden max-w-[50%] @[640px]/nav:flex"),children:c?(0,a.jsx)("div",{className:"text-muted-foreground",children:c}):null}),(0,a.jsxs)("div",{className:"absolute flex flex-row items-center gap-0.5 ms-auto end-3",children:[ey.ENABLE_CONVERSATION_PAGE_ACTIONS&&i&&!n&&!u&&!eM&&(0,a.jsxs)(h.rI,{children:[(0,a.jsx)(h.ty,{asChild:!0,children:(0,a.jsx)(o.gx,{className:"rounded-full",variant:"ghost",size:"icon","aria-label":O("chat-top-nav.more","More"),onClick:eF,tooltipContent:O("chat-top-nav.more","More"),children:(0,a.jsx)(l.gyB,{size:20})})}),(0,a.jsxs)(h.SQ,{side:"bottom",align:"end",sideOffset:6,className:"min-w-36 space-y-0.5",children:[(0,a.jsx)(ex,{conversation:i,setDrawerOpen:eX}),eS&&eC.length>0&&(0,a.jsxs)(h._2,{onSelect:eH,disabled:eW,children:[(0,a.jsx)(l.qdY,{className:"size-4 me-2"}),O("chat-top-nav.unshare-chat","Unshare Chat")]}),(0,a.jsxs)(h._2,{onSelect:eU,children:[(0,a.jsx)(l.ucK,{className:"size-4 me-2"}),O("chat-top-nav.delete-chat","Delete Chat")]})]})]}),i&&eN&&!u&&!eM&&(0,a.jsx)(ea.w,{variant:eK?"outline":"ghost",size:eK?"md":"icon",conversationId:i.conversationId,responseId:eN,rounded:eK,showLabel:eK,iconProps:{size:20,strokeWidth:2}}),!eK&&u&&i&&(0,a.jsx)(en,{conversationId:i.conversationId,onSuccess:eV,onError:e=>ew("chat-top-nav:handleUnshareClick",e),variant:"ghost",size:"icon"}),eK&&u&&i&&(0,a.jsx)(en,{conversationId:i.conversationId,onSuccess:eV,onError:e=>ew("chat-top-nav:handleUnshareClick",e),variant:"outline",size:"md",rounded:!0,showLabel:!0}),i&&!n&&!u&&!eM&&(0,a.jsx)(o.gx,{className:"rounded-full",variant:"ghost",size:"icon","aria-label":i.starred?O("Unpin","Unpin"):O("Pin","Pin"),onClick:eF,tooltipContent:i.starred?O("Unpin","Unpin"):O("Pin","Pin"),children:(0,a.jsx)(f.p,{children:i.starred?(0,a.jsx)(d.A,{size:18}):(0,a.jsx)(l.tsw,{size:18})},i.starred?"pinned":"unpinned")}),eD&&!n&&i&&(0,a.jsx)(f.p,{children:(0,a.jsx)(o.gx,{className:(0,G.cn)("rounded-full",(0,g.e8)(eD.personaId).colorClassName),variant:"ghost",size:"icon",tooltipContent:(0,a.jsxs)("p",{children:[O("New Persona Chat","New Persona Chat",{ns:"chat"}),Y&&(0,a.jsxs)("span",{className:"ms-1 text-secondary",children:[Y,"J"]})]}),tooltipContentProps:{side:"bottom"},onClick:ez,asChild:!0,children:(0,a.jsx)("div",{onClick:ez,children:(0,a.jsx)(l.cJ,{size:20,strokeWidth:2})})})},"new-persona-chat-button"),!eD&&(!n&&i||u)&&(0,a.jsx)(f.p,{children:(0,a.jsx)(o.gx,{className:"rounded-full",variant:"ghost",size:"icon",tooltipContent:(0,a.jsxs)("p",{children:[eT?O("top-nav-new-chat.tooltip","New chat in project",{ns:"chat"}):O("start new chat","New Chat",{ns:"chat"}),Y&&(0,a.jsxs)("span",{className:"ms-1 text-secondary",children:[Y,"J"]})]}),tooltipContentProps:{side:"bottom"},asChild:!0,children:eE?(0,a.jsx)(W.N_,{route:{page:"workspace",workspaceId:eE,conversationId:null},onClick:()=>{$("new_chat_action",void 0,{location:"chat-top-nav:handleClickNewChatWorkspace",insideWorkspace:"true"})},children:(0,a.jsx)(l.cJ,{size:20,strokeWidth:2})}):(0,a.jsx)(W.N_,{route:{page:"main"},onClick:eA,children:(0,a.jsx)(l.cJ,{size:20,strokeWidth:2})})})},"new-chat-button"),ey.ENABLE_GROK_TASKS&&!!z&&x&&(0,a.jsx)(f.p,{children:(0,a.jsx)(o.gx,{variant:"ghost",size:"icon",className:"rounded-full","aria-label":O("Top-nav-tasks-label","Tasks",{ns:"tasks"}),onClick:eB,tooltipContent:(0,a.jsx)("div",{className:"flex flex-row gap-1",children:O("Top-nav-tasks-label","Tasks",{ns:"tasks"})}),children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(l.aMq,{size:20}),eG&&(0,a.jsx)(p.x,{variant:"sm",className:"absolute top-[50%] translate-y-[-50%] -left-2"})]})})},"tasks-nav-button"),eO&&!n&&!i&&!u&&"voice"!==ei&&(0,a.jsx)(f.p,{children:(0,a.jsx)(ec,{hash:ep,isIncognito:ed,onLinkClick:eP,showLabel:!ev})},"incognito-nav-button"),!z&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.gx,{variant:"ghost",size:"icon",className:"rounded-full","aria-label":O("History","History",{ns:"chat"}),onClick:()=>{$("opened_command_menu",void 0,{location:"chat-top-nav:button"}),eY()},tooltipContent:(0,a.jsxs)("div",{className:"flex flex-row gap-1",children:[O("History","History",{ns:"chat"}),Y&&(0,a.jsxs)("span",{className:"text-secondary",children:["macos"===Q?Y:"".concat(Y,"⇧"),"K"]})]}),children:(0,a.jsx)(eg,{size:20})}),(0,a.jsx)(em.I,{})]})]})]})]}),i&&(0,a.jsx)(eb,{conversation:i,drawerOpen:eq,setDrawerOpen:eX})]})}function eh(e){let{shared:t}=e,s=(0,K.w1)(Z.A("fetchGetConversation")),n=(0,es.aP)(Z.A("conversationId")),{data:r}=(0,A.v)((0,V.F)(n,s)),{toggleSidebar:i}=(0,k.cL)(),{t:c}=(0,J.Bd)("base"),d=(0,S.Di)(),{route:g}=(0,W.wK)();return(0,a.jsxs)("div",{className:"flex flex-row items-center",children:[d&&(0,a.jsx)(o.$n,{"aria-label":c("side-nav-toggle-button","Toggle sidebar"),className:"ms-2",variant:"ghost",size:"iconMd",rounded:!0,onClick:i,children:(0,a.jsx)(l.mTT,{})}),(0,a.jsx)(ek,{conversation:r}),!t&&r&&["main","chat"].includes(g.page)&&(0,a.jsx)(eo,{conversation:r})]})}function ef(e){var t;let{alwaysSmall:s,className:r,onClick:o}=e,{t:i}=(0,J.Bd)("base"),l=(0,C._)(),d=(0,y.f)(),{isSuperGrokUser:g,isEnterpriseUser:m,isSuperGrokProUser:p}=(0,D.Q2)(),{currentTeam:u}=(0,c.hd)(),h=s?n.$r:(0,n.a8)({isSuperGrokPro:p,isSuperGrok:g,isEnterprise:m,isTeamInSession:!!u,language:d}),f=(0,$.usePathname)(),{route:b}=(0,W.wK)(),x=(0,K.w1)(Z.A("fetchGetConversation")),w=(0,es.aP)(Z.A("conversationId")),{data:v}=(0,A.v)((0,V.F)(w,x)),{data:j}=(0,U.$1)(null!=(t=null==v?void 0:v.conversationId)?t:""),N=null==j?void 0:j[0],S=(0,B.useCallback)(e=>{l("clicked_logo",void 0,{location:"chat-top-nav:TopLeftButton",insideWorkspace:String(!!N),fromRoute:b.page}),e.stopPropagation(),null==o||o(e)},[l,N,b.page,o]);return(0,a.jsx)(W.N_,{route:{page:"main"},"aria-label":i("Home page","Home page",{ns:"chat"}),onClick:S,className:(0,G.cn)("rounded-lg focus:outline-none focus-visible:ring-1 focus-visible:ring-ring",s?"":"ms-2 me-[0.5]",r),children:(0,a.jsx)(h,{className:(0,G.cn)("fill-primary max-w-full","[&>path]:hidden sm:[&>path]:block [&>#mark]:block [&>#furigana]:opacity-60 [&>#subtitle]:opacity-60","/"===f&&!w&&"sm:[&>path]:hidden",s&&k.vu)})})}function ek(e){let{conversation:t}=e,{getPersonaFromId:s}=(0,T.v5)();if(!t)return null;let n=s(t.personaId);if(!n)return null;let{icon:r,colorClassName:o}=(0,g.e8)(n.personaId);return(0,a.jsxs)(Q.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:(0,G.cn)("border border-border-l2 px-3 py-1 rounded-full","text-sm text-secondary flex flex-row items-center gap-1","ml-2 mt-0.5","overflow-hidden"),children:[(0,a.jsx)("span",{className:(0,G.cn)("[&>svg]:h-3.5 [&>svg]:w-3.5",o),children:r}),(0,a.jsx)("span",{className:(0,G.cn)("max-w-[0px] @[340px]/nav:max-w-[75px] @[375px]/nav:max-w-[100px]","@[430px]/nav:max-w-[150px] truncate"),children:n.name})]})}function eb(e){let{conversation:t,drawerOpen:s,setDrawerOpen:n}=e,{t:r}=(0,J.Bd)("base"),o=(0,Y.M)(e=>e.listStatus),c=(0,Y.M)(e=>e.loadFirstPage);(0,B.useEffect)(()=>{"ready"!==o&&c()},[o,c]);let l=(0,Y._)(),d=(0,Y.M)(e=>e.createWorkspace),g=(0,B.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),d({name:r("chat-top-nav.new-project","New Project"),icon:(0,b.I)()}).catch((0,H.HX)("conversation-actions:create-project"))},[d,r]);return(0,a.jsx)(u._s,{open:s,onOpenChange:n,children:(0,a.jsxs)(u.zj,{className:"max-h-[80%]",children:[(0,a.jsx)(u.gk,{className:"px-5 pt-4",children:r("chat-top-nav.move-to-project","Move to Project")}),(0,a.jsx)("div",{className:"overflow-auto p-4",children:(null==l?void 0:l.length)?(0,a.jsx)("div",{className:"flex flex-col gap-2",children:l.map(e=>(0,a.jsx)("div",{className:"py-2 cursor-pointer hover:bg-button-secondary-hover rounded-lg",children:(0,a.jsx)(ew,{projectId:e.workspaceId,conversation:t,onClick:()=>n(!1)})},e.workspaceId))}):(0,a.jsx)(i.C,{content:r("chat-top-nav.no-projects","No projects yet"),ctaText:r("chat-top-nav.create-project","Create Project"),onClickCta:g},"no-projects")})]})})}function ex(e){let{conversation:t,setDrawerOpen:s}=e,{t:n}=(0,J.Bd)("base"),r=(0,Y.M)(e=>e.listStatus),o=(0,Y.M)(e=>e.loadFirstPage),c=(0,S.Di)();(0,B.useEffect)(()=>{"ready"!==r&&o()},[r,o]);let d=(0,Y._)(),g=(0,Y.M)(e=>e.createWorkspace),m=(0,B.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),g({name:n("chat-top-nav.new-project","New Project"),icon:(0,b.I)()}).catch((0,H.HX)("conversation-actions:create-project"))},[g,n]);return c?(0,a.jsx)(h._2,{onSelect:()=>s(!0),children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(l.XRf,{size:17}),n("chat-top-nav.move-to-project","Move to Project")]})}):(0,a.jsxs)(h.lv,{children:[(0,a.jsx)(h.nV,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(l.XRf,{size:17}),n("chat-top-nav.move-to-project","Move to Project")]})}),(0,a.jsx)(h.dc,{children:(0,a.jsx)(h.M5,{className:"w-[250px]",children:(null==d?void 0:d.length)?(0,a.jsx)(a.Fragment,{children:d.map(e=>(0,a.jsx)(h._2,{children:(0,a.jsx)(ew,{projectId:e.workspaceId,conversation:t},e.workspaceId)},e.workspaceId))}):(0,a.jsx)(i.C,{content:n("chat-top-nav.no-projects","No projects yet"),ctaText:n("chat-top-nav.create-project","Create Project"),onClickCta:m},"no-projects")})})]},"add-to-workspace-button")}let ew=e=>{var t;let{projectId:s,conversation:n,onClick:r}=e,{t:o}=(0,J.Bd)("base"),i=(0,Y.M)(e=>{var t;return null==(t=e.byId[s])?void 0:t.data}),{mutate:c,error:l}=(0,U.tX)({onSuccess:()=>{et.oR.success(o("chat-top-nav.moved-chat-to-project","Moved chat to project"))}});(0,_.Y)("chat-top-nav:workspace-item",l);let d=(0,B.useCallback)(()=>{null==r||r(),c({conversationId:n.conversationId,workspaceId:s})},[c,n.conversationId,s,r]);return(0,a.jsxs)("div",{className:(0,G.cn)("w-full flex flex-row items-center gap-2"),onClick:d,children:[(0,a.jsx)(x.n,{icon:null==i?void 0:i.icon,sizeClass:"size-4",rounded:!0,buttonSize:"iconXs",disabled:!0}),(0,a.jsxs)("span",{className:(0,G.cn)("flex-1 select-none text-nowrap max-w-full overflow-hidden text-left"),style:{maskImage:O.uU,WebkitMaskImage:O.uU},children:[null!=(t=null==i?void 0:i.name)?t:"Unnamed Project"," "]})]})}},20873:(e,t,s)=>{"use strict";s.d(t,{z:()=>c});var a=s(79342),n=s(20113),r=s(61312),o=s(11750),i=s(65146);let c=e=>{let{code:t,className:s}=e,{t:c}=(0,i.Bd)("chat");return(0,a.jsxs)("div",{className:(0,r.cn)("flex flex-col items-start gap-3 pb-2",s),children:[(0,a.jsxs)("div",{className:"text-primary flex justify-start items-start",children:[(0,a.jsx)("div",{className:"min-w-[26px] mt-2",children:(0,a.jsx)(o.loI,{size:12,className:"text-secondary"})}),(0,a.jsx)("span",{children:c("think-box-step.code-executor","Executing code")})]}),(0,a.jsx)(n.S,{codeString:t,codeClassName:"w-full",language:"python",hasTopOffset:!1,isInitiallyCollapsed:!0,showRunCode:!1})]})}},21492:(e,t,s)=>{"use strict";s.d(t,{v:()=>x});var a=s(39489),n=s(37469),r=s(4878),o=s(56521),i=s(86822),c=s(97960),l=s(74995),d=s(88382),g=s(86530).hp;let m="officedocument.spreadsheetml",p=e=>{let[t,s]=(0,d.useState)({}),a=(0,c.A3)(e=>e.byConversationId),r=(0,d.useMemo)(()=>a[e]||[],[a,e]),o=(0,i.d)(l.A("fetchGetAsset"));return(0,d.useEffect)(()=>{let e=new Set;r.forEach(t=>{(t.fileAttachments||[]).forEach(t=>e.add(t))}),e.forEach(e=>{e in t||o({assetId:e}).then(t=>{s(s=>({...s,[e]:(0,n.B)(t)}))}).catch(()=>{console.error("Error fetching asset metadata",e)})})},[o,r,t,e]),t},u=e=>{let t=p(e),s=(0,c.A3)(e=>e.byConversationId),a=(0,d.useMemo)(()=>s[e]||[],[s,e]),n=(0,d.useRef)([]);return(0,d.useMemo)(()=>{let e=a.flatMap(e=>(e.fileAttachments||[]).map(e=>t[e]).filter(e=>void 0!==e));return e.length===n.current.length&&e.every((e,t)=>e===n.current[t])?n.current:(n.current=e,e)},[a,t])},h=/loadFileData\((['"])([^'"]+)\1\)/g,f=[],k=e=>{let t=(0,d.useRef)(f);return(0,d.useMemo)(()=>{if(!e)return t.current=f,f;let s=[...e.matchAll(h)].map(e=>e[2]).filter(e=>void 0!==e),a=t.current;return s.length===a.length&&s.every((e,t)=>e===a[t])?a:(t.current=s,s)},[e])},b=(e,t)=>{let[s,a]=(0,d.useState)({}),[n,i]=(0,d.useState)(!1),[c,l]=(0,d.useState)(!1),p=(0,d.useMemo)(()=>e.map(e=>({url:(0,r.sU)(t,e.fileUri),fileName:e.fileName,fileMimeType:e.fileMimeType})),[e,t]);return(0,d.useEffect)(()=>{let e=async()=>{i(!0),l(!1);try{let e=p.map(async e=>{let{url:t,fileName:s,fileMimeType:a}=e,n=await (0,o.h)(null!=t?t:"",{method:"GET",credentials:"include"});if((null==s?void 0:s.endsWith(".xlsx"))||(null==a?void 0:a.includes(m))){let e=await n.arrayBuffer(),t=g.from(e).toString("base64");return[s,t]}let r=await n.text();return[s,r]}),t=await Promise.all(e);a(Object.fromEntries(t))}catch(e){console.error(e),l(!0)}finally{i(!1)}};p.length>0&&setTimeout(e,0)},[p]),{fileData:s,loading:n,error:c}};function x(e,t){var s;let n=!e.incomplete&&(null==(s=e.contentType)?void 0:s.includes("text/html")),r=k(n&&null!=t?t:""),o=u(n?e.conversationId:""),i=(0,d.useMemo)(()=>o.filter(e=>{var t;return r.includes(null!=(t=null==e?void 0:e.fileName)?t:"")}),[o,r]),{ASSET_SERVER_URL:c}=(0,a.v)(),{fileData:l,loading:g}=b(i,c),[p,h]=(0,d.useMemo)(()=>{let e=!1,t=i.reduce((t,s)=>{var a,n,r;let o=(null==s||null==(a=s.fileMimeType)?void 0:a.includes(m))||(null==s||null==(n=s.fileName)?void 0:n.endsWith(".xlsx"));return t[null!=(r=null==s?void 0:s.fileName)?r:""]=o,e=e||o,t},{});return[e,JSON.stringify(t)]},[i]);return{script:(0,d.useMemo)(()=>{let e=JSON.stringify(l);return(p?'<script type="text/javascript" src="https://cdn.sheetjs.com/xlsx-0.20.3/package/dist/xlsx.full.min.js"><\/script>':"")+'<script type="text/javascript">\n        var gk_isXlsx = '.concat(p,";\n        var gk_xlsxFileLookup = ").concat(h,";\n        var gk_fileData = ").concat(e,";\n        function filledCell(cell) {\n          return cell !== '' && cell != null;\n        }\n        function loadFileData(filename) {\n        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {\n            try {\n                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });\n                var firstSheetName = workbook.SheetNames[0];\n                var worksheet = workbook.Sheets[firstSheetName];\n\n                // Convert sheet to JSON to filter blank rows\n                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });\n                // Filter out blank rows (rows where all cells are empty, null, or undefined)\n                var filteredData = jsonData.filter(row => row.some(filledCell));\n\n                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row\n                var headerRowIndex = filteredData.findIndex((row, index) =>\n                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length\n                );\n                // Fallback\n                if (headerRowIndex === -1 || headerRowIndex > 25) {\n                  headerRowIndex = 0;\n                }\n\n                // Convert filtered JSON back to CSV\n                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays\n                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });\n                return csv;\n            } catch (e) {\n                console.error(e);\n                return \"\";\n            }\n        }\n        return gk_fileData[filename] || \"\";\n        }\n        <\/script>")},[l,p,h]),loading:g,loaded:Object.keys(l).length>0}}},21782:(e,t,s)=>{"use strict";s.d(t,{f:()=>c});var a=s(93649),n=s(26067),r=s(44347),o=s(74995),i=s(88382);function c(){let e=(0,r.C$)(o.A("selectedLanguage"));return(0,i.useMemo)(()=>e||a.A.languages.find(e=>e in n.IV)||n.GG,[e])}},23233:(e,t,s)=>{"use strict";s.d(t,{S:()=>w});var a=s(79342),n=s(28503),r=s(48304),o=s(65146),i=s(19093),c=s(25859),l=s(68332),d=s(23232),g=s(17703),m=s(84499),p=s(95158),u=s(88382),h=s(14908);function f(e){let{conversationId:t}=e,{t:s}=(0,o.Bd)("chat"),[r,i]=(0,u.useState)(!1),{routeToConversation:f}=(0,l.o)(),k=(0,d._)(),b=(0,u.useCallback)(()=>{f(void 0)},[f]);(0,u.useEffect)(()=>{k("private_chat_error_opened",void 0,{location:"private-chat-error"})},[k]);let x=(0,u.useCallback)(()=>{p.chatApi.chatAskToShareConversation({conversationId:t,body:{}}).then(()=>{k("private_chat_error_request_share_pressed",void 0,{location:"private-chat-error"}),h.oR.success(s("request-permission-to-share-success","Share request sent!")),i(!0)}).catch(e=>{k("private_chat_error_request_share_error",e,{location:"private-chat-error"}),(0,g.vV)("chat-page:askToShareConversation",e),h.oR.error(s("request-permission-to-share-error","Failed to send share request, please try again later"))})},[t,s,k]),w=(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.$n,{variant:"secondary",size:"md",shape:"rectangle",children:(0,a.jsx)(m.N_,{route:{page:"main"},onClick:b,children:(0,a.jsx)("div",{children:s("chat-not-found-error.cta","Start a new chat")})})}),(0,a.jsx)(c.$n,{variant:"primary",size:"md",shape:"rectangle",onClick:x,disabled:r,children:r?(0,a.jsx)("div",{children:s("request-permission-to-share-success","Share request sent")},"request-permission-to-share-success"):(0,a.jsx)("div",{children:s("request-permission-to-share","Request access")},"request-permission-to-access")})]});return(0,a.jsx)("div",{className:"flex flex-col items-center justify-center min-h-dvh",children:(0,a.jsx)(n.J,{title:s("private-chat-error.you-need-access","You need access"),description:s("private-chat-error.private-conversation-link-description","This is a private conversation link. Please request access from the person who sent you this to view the conversation."),cta:w})})}var k=s(43086),b=s(39116),x=s(98579);function w(e){let{conversationId:t,conversationError:s}=e,{t:c}=(0,o.Bd)("chat"),{anonUser:l}=(0,i.useSession)(),d=(0,b.useRouter)(),g=(0,x.o)();return((0,u.useEffect)(()=>{s instanceof r.K$&&d.push(g(s.shareLinkPath))},[s,d,g]),s)?s instanceof r.Mh&&!l&&t?(0,a.jsx)(f,{conversationId:t}):s instanceof r.K$?(0,a.jsxs)("div",{className:"h-dvh flex items-center justify-center gap-3",children:[(0,a.jsx)(k.y,{size:"sm"}),(0,a.jsx)("h1",{className:"font-semibold text-lg text-secondary",children:c("redirecting-to-share-link","Redirecting to share...")})]}):(0,a.jsx)("div",{className:"flex flex-col items-center justify-center min-h-dvh",children:(0,a.jsx)(n.J,{title:c("chat-not-found-error.title","Chat not found"),description:c("chat-not-found-error.description","If this was a link someone shared with you, please ask the sender to explicitly send a share link."),cta:c("chat-not-found-error.cta","Start a new chat")})}):(0,a.jsx)("div",{className:"h-dvh flex items-center justify-center",children:(0,a.jsx)(k.y,{size:"lg"})})}},23332:(e,t,s)=>{"use strict";s.d(t,{X:()=>J});var a=s(79342),n=s(11750),r=s(56691),o=s(52371),i=s(61312),c=s(36889),l=s(88382),d=s(23232),g=s(65146);function m(e){let{t}=(0,g.Bd)("base"),s=(0,c.wk)(),o=(0,d._)();return(0,a.jsxs)(r.gx,{variant:"ghost",size:"iconSm",tooltipContent:"Add sheet","aria-label":"Add sheet",onClick:()=>{s.createSheet().then(e=>{e&&s.setNodeProps({activeSheet:s.sheets.length-1})}).catch(console.error),o("spreadsheet_manual_create","1",{location:"spreadsheet-workbench"})},className:e.className,children:[(0,a.jsx)(n.c11,{size:16}),(0,a.jsx)("span",{className:"sr-only",children:t("add-sheet","Add sheet")})]})}var p=s(7130),u=s(46481);let h=e=>{let{ctx:t,theme:s,rect:{x:a,y:n,width:r,height:o},column:i,isSelected:c}=e,l=c?s.textHeaderSelected:s.textHeader,d=(0,u.G5)(i.title,t).width;t.fillStyle=l;let g=n+o/2+(0,u.iV)(t,"".concat(s.headerFontStyle," ").concat(s.fontFamily));return t.fillText(i.title,a+(r-d)/2+.5,g),!0};var f=s(48521),k=s(63502),b=s(38541),x=s.n(b);let w={undoHistory:[],redoHistory:[],canUndo:!1,canRedo:!1,isApplyingUndo:!1,isApplyingRedo:!1};function v(e,t){let s={...e};switch(t.type){case"undo":if(e.canUndo){s.undoHistory=[...e.undoHistory];let t=s.undoHistory.pop();return s.operation=t,s.canUndo=s.undoHistory.length>0,s.isApplyingUndo=!0,s}return e;case"redo":if(e.canRedo){s.redoHistory=[...e.redoHistory];let t=s.redoHistory.pop();return s.operation=t,s.canRedo=s.redoHistory.length>0,s.isApplyingRedo=!0,s}return e;case"operation":return s.operation=void 0,s.isApplyingRedo=!1,s.isApplyingUndo=!1,s;case"edit":return e.isApplyingRedo||e.isApplyingUndo||(s.undoHistory=[...e.undoHistory,t.batch],s.redoHistory=[],s.canUndo=!0,s.canRedo=!1),e.isApplyingUndo&&(s.redoHistory=[...e.redoHistory,t.batch],s.canRedo=!0),e.isApplyingRedo&&(s.undoHistory=[...e.undoHistory,t.batch],s.canUndo=!0),s;default:throw Error("Invalid action")}}var y=s(92181),j=s(28513),N=s(17703),C=s(28372);s(4075);var S=s(64332),I=s(16506),T=s(87853),E=s(32568),R=s(91870),A=s(52970);let _=R.bL,O=R.l9;R.YJ,R.ZL;let P=R.Pb;R.z6;let M=l.forwardRef((e,t)=>{let{className:s,inset:n,children:r,...o}=e;return(0,a.jsxs)(R.ZP,{ref:t,className:(0,i.cn)("flex cursor-default select-none items-center rounded-xl px-3 py-1.5 text-sm outline-none focus:bg-button-ghost-hover data-[state=open]:bg-button-ghost-hover [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2",n&&"pl-8",s),...o,children:[r,(0,a.jsx)(A.vKP,{className:"ms-auto text-fg-secondary"})]})});M.displayName=R.ZP.displayName;let L=l.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(R.G5,{ref:t,className:(0,i.cn)("rounded-2xl border bg-surface-l4 border-border-l1 p-1 text-primary shadow-sm shadow-black/5 backdrop-blur-md","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})});L.displayName=R.G5.displayName;let D=l.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(R.ZL,{children:(0,a.jsx)(R.UC,{ref:t,className:(0,i.cn)("overflow-visible rounded-2xl bg-surface-l4 border border-border-l1 text-primary backdrop-blur-md p-1 shadow-sm shadow-black/5","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 max-h-[--radix-context-menu-content-available-height]",s),...n})})});D.displayName=R.UC.displayName;let B=l.forwardRef((e,t)=>{let{className:s,inset:n,...r}=e;return(0,a.jsx)(R.q7,{ref:t,className:(0,i.cn)("relative flex select-none items-center cursor-default px-3 py-2 rounded-xl text-sm outline-none focus:bg-button-ghost-hover aria-disabled:opacity-50 aria-disabled:cursor-not-allowed gap-2",n&&"pl-8",s),...r})});B.displayName=R.q7.displayName,l.forwardRef((e,t)=>{let{className:s,children:n,checked:r,...o}=e;return(0,a.jsxs)(R.H_,{ref:t,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-xl py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-button-ghost-hover focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:r,...o,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(R.VF,{children:(0,a.jsx)(A.Srz,{className:"w-4 h-4"})})}),n]})}).displayName=R.H_.displayName,l.forwardRef((e,t)=>{let{className:s,children:r,...o}=e;return(0,a.jsxs)(R.hN,{ref:t,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-xl py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-button-ghost-hover focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...o,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(R.VF,{children:(0,a.jsx)(n.jlt,{className:"w-2 h-2 fill-current"})})}),r]})}).displayName=R.hN.displayName,l.forwardRef((e,t)=>{let{className:s,inset:n,...r}=e;return(0,a.jsx)(R.JU,{ref:t,className:(0,i.cn)("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",s),...r})}).displayName=R.JU.displayName;let z=l.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(R.wv,{ref:t,className:(0,i.cn)("mx-2 my-1 h-px bg-border-l1",s),...n})});z.displayName=R.wv.displayName;let F=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(e.type){case"item":if(e.hide)return null;return(0,a.jsxs)(B,{onSelect:e.onSelect,children:[(0,a.jsx)("span",{className:"text-secondary",children:e.icon}),e.label]},e.label);case"separator":if(e.hide)return null;return(0,a.jsx)(z,{},t);case"submenu":if(e.hide)return null;return(0,a.jsxs)(P,{children:[(0,a.jsxs)(M,{children:[(0,a.jsx)("span",{className:"text-secondary",children:e.icon}),e.label]}),(0,a.jsx)(L,{sideOffset:12,alignOffset:-4,className:"min-w-36",children:e.items.map((e,t)=>F(e,t,s+1))})]},e.label);default:return null}},U=l.memo(function(e){let t=(0,c.wk)(),{t:s}=(0,g.Bd)(),r=l.useMemo(()=>(function(e,t){let s=e.selection,r=null==s?void 0:s.rect;return r?[{type:"item",icon:(0,a.jsx)(n.TdU,{className:"size-4"}),label:"Copy",onSelect:()=>{e.copyCellsInRange(s.sheet,r)}},{type:"separator",hide:"col"==r.type||"row"==r.type},{type:"submenu",label:"Insert",icon:(0,a.jsx)(n.ooC,{className:"size-4"}),items:[{type:"item",label:t("edit-spreadsheet.insert-rows-above",{count:r.numRows,defaultValue:"Insert {{count}} rows above",defaultValue_one:"Insert {{count}} row above",keyWithCount_many:"Insert {{count}} rows above"}),icon:(0,a.jsx)(n.Eb0,{className:"size-4"}),onSelect:()=>{e.insertRows(s.sheet,r.rowStart,r.numRows)},hide:"col"==r.type},{type:"item",label:t("edit-spreadsheet.insert-rows-below",{count:r.numRows,defaultValue:"Insert {{count}} rows below",defaultValue_one:"Insert {{count}} row below",keyWithCount_many:"Insert {{count}} rows below"}),icon:(0,a.jsx)(n.Eb0,{className:"size-4"}),onSelect:()=>{e.insertRows(s.sheet,r.rowStart+r.numRows,r.numRows)},hide:"col"==r.type},{type:"separator",hide:"row"==r.type||"col"==r.type},{type:"item",label:t("edit-spreadsheet.insert-columns-left",{count:r.numCols,defaultValue:"Insert {{count}} columns left",defaultValue_one:"Insert {{count}} column left",keyWithCount_many:"Insert {{count}} columns left"}),icon:(0,a.jsx)(n.sWf,{className:"size-4"}),onSelect:()=>{e.insertCols(s.sheet,r.colStart,r.numCols)},hide:"row"==r.type},{type:"item",label:t("edit-spreadsheet.insert-columns-right",{count:r.numCols,defaultValue:"Insert {{count}} columns right",defaultValue_one:"Insert {{count}} column right",keyWithCount_many:"Insert {{count}} columns right"}),icon:(0,a.jsx)(n.sWf,{className:"size-4"}),onSelect:()=>{e.insertCols(s.sheet,r.colStart+r.numCols,r.numCols)},hide:"row"==r.type}]},{type:"submenu",label:"Delete",icon:(0,a.jsx)(n.iAT,{className:"size-4"}),items:[{type:"item",label:t("edit-spreadsheet.delete-rows",{count:r.numRows,defaultValue:"Delete {{count}} rows",defaultValue_one:"Delete {{count}} row",keyWithCount_many:"Delete {{count}} rows"}),icon:(0,a.jsx)(n.iAT,{className:"size-4"}),onSelect:()=>{e.deleteRows(s.sheet,r.rowStart,r.numRows)},hide:"col"==r.type},{type:"item",label:t("edit-spreadsheet.delete-columns",{count:r.numCols,defaultValue:"Delete {{count}} columns",defaultValue_one:"Delete {{count}} column",keyWithCount_many:"Delete {{count}} columns"}),icon:(0,a.jsx)(n.iAT,{className:"size-4"}),onSelect:()=>{e.deleteCols(s.sheet,r.colStart,r.numCols)},hide:"row"==r.type}]},{type:"separator"},{type:"item",icon:(0,a.jsx)(n.A5W,{className:"size-4"}),label:"Clear Contents",onSelect:()=>{e.clearCellsInRange(s.sheet,r)}}]:[]})(t,s),[null==t?void 0:t.selection,s]);return(0,a.jsxs)(_,{children:[(0,a.jsx)(O,{disabled:0==r.length,children:e.children}),r.length>0&&(0,a.jsx)(D,{className:"w-40",children:r.map((e,t)=>F(e,t))})]})});var V=s(11396);let H=new Set(["setCellValue","cellClearAll","insertColumn","deleteColumn","insertRow","deleteRow"]),W=l.memo(function(e){let{sheet:t,sheetId:s,readOnly:n=!1,editable:r=!n,autoFocus:o=!1,allowOverlay:g=r,displayFormulas:m=!0,onCellsChange:u,className:b,minRows:R=256,minCols:A=26,width:_="full",height:O="full",initialSize:P}=e,{resolvedTheme:M}=(0,I.D)(),L="dark"===M,D=(0,i.cn)("size-full",b),B=(0,d._)(),z=(0,c.wk)(),F=z.highlights,W=z.calcEngine,[G]=(0,j._)("xlsx"),[{formulaEditorProvider:K}]=(0,j._)("data-grid-editor"),q=l.useRef(null),X=l.useCallback(e=>{q.current=e,z.gridRefs[s]=e},[s,z]);l.useEffect(function(){if(!o)return;let e=window.requestAnimationFrame(()=>{var e;return null==(e=q.current)?void 0:e.focus()});return()=>window.cancelAnimationFrame(e)},[o]);let Y=l.useMemo(()=>L?f.R6:f.b,[L]),Q=l.useMemo(()=>L?f.__:f.mX,[L]),$=l.useMemo(()=>Math.max(t.colCount,A),[t.colCount,A]),[Z,J]=l.useState((0,V.GH)($)),ee=l.useRef(Z);ee.current=Z,l.useEffect(function(){J((0,V.GH)($,ee.current))},[$]);let et=l.useCallback((e,t)=>{J(s=>s.map(s=>e===s?{...s,width:t}:s))},[]);l.useEffect(function(){z.setNodeProps({sheets:z.sheets.map(e=>e.name===t.name?{...e,rowCount:t.rowCount,colCount:t.colCount}:e)})},[t.name,z,t.rowCount,t.colCount]);let es=l.useCallback(e=>{let[t,a]=e;z.setNodeProps({editingCell:{sheet:s,col:t,row:a}}),B("spreadsheet_manual_edit_cell","1",{location:"spreadsheet-data-grid"})},[s,z,B]),ea=l.useCallback(async function(e){let[t,a]=e;return W?W.getCellsInRange(s,{rowStart:t,rowEnd:a-1,colStart:0,colEnd:$}):(0,V.wB)(t,a,$)},[s,W,$]),en=l.useCallback((e,t)=>{var s,a,r,o,i;return{kind:k.dd.Text,data:null!=(o=m?null==(s=e[t])?void 0:s.serialized:null==(a=e[t])?void 0:a.value)?o:"",allowOverlay:g,displayData:null!=(i=null==(r=e[t])?void 0:r.value)?i:"",readonly:n}},[m,g,n]),er=l.useCallback((e,t)=>{if(!r||!u)return!1;for(let{location:[s,a],value:n}of(B("spreadsheet_manual_update",e.length.toString(),{location:"spreadsheet-data-grid"}),e)){if(n.kind!==k.dd.Text)continue;let e=t.current[a];e&&void 0!==e[s]&&(e[s]={...e[s],value:n.data,serialized:n.data})}return null==W||W.setCellValues(s,e.map(e=>{var t;let{location:[s,a],value:n}=e;return{row:a,col:s,value:null!=(t=n.data)?t:""}})).then(e=>{u(e.result.map(e=>{let{serialized:t,...s}=e;return{...s,formula:t}}));let t=(0,y.YC)(e);t.length>0&&((0,N.vV)("spreadsheet:manual-update:not-implemented",Error("#N/IMPL – formula not implemented"),{cells:JSON.stringify(t)}),B("spreadsheet_error","not-implemented",{location:"spreadsheet-data-grid",cells:JSON.stringify(t)}))}).catch(e=>{if(e instanceof Error){var t;B("spreadsheet_error",null!=(t=e.name)?t:"unknown",{location:"spreadsheet-data-grid",error:e.message})}console.error(e)}),!0},[r,W,u,s,B]),{dataRef:eo,refresh:ei,getCellContent:ec,onVisibleRegionChanged:el,getCellsForSelection:ed}=function(e,t,s,a,n,r){e=Math.max(e,1);let o=l.useRef([]),i=l.useRef(k.I1.empty()),[c,d]=l.useState({x:0,y:0,width:0,height:0}),g=l.useRef(c);g.current=c;let m=l.useCallback(e=>{d(t=>e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height?t:e)},[]),p=l.useCallback(e=>{let[t,s]=e,n=o.current[s];return void 0!==n?a(n,t):{kind:k.dd.Loading,allowOverlay:!1}},[a]),u=l.useCallback(async t=>{var a;i.current=i.current.add(t);let r=t*e,c=await s([r,(t+1)*e]),l=g.current,d=[],m=o.current;for(let e=0;e<c.length;e++){m[e+r]=c[e];for(let t=l.x;t<=l.x+l.width;t++)d.push({cell:[t,e+r]})}null==(a=n.current)||a.updateCells(d)},[s,n,e]),h=l.useCallback(t=>async()=>{let s=Math.max(0,Math.floor(t.y/e)),a=Math.floor((t.y+t.height)/e);for(let e of x().chunk(x().range(s,a+1).filter(e=>!i.current.hasIndex(e)),4))await Promise.all(e.map(u));let n=[];for(let e=t.y;e<t.y+t.height;e++){let s=[];for(let a=t.x;a<t.x+t.width;a++)s.push(p([a,e]));n.push(s)}return n},[p,u,4,e]);return l.useEffect(()=>{let t=Math.max(0,Math.floor((c.y-e/2)/e)),s=Math.floor((c.y+c.height+e/2)/e);for(let e of x().range(t,s+1))i.current.hasIndex(e)||u(e)},[u,e,c]),{getCellContent:p,onVisibleRegionChanged:m,onCellsEdited:l.useCallback(e=>null==r?void 0:r(e,o),[r]),getCellsForSelection:h,dataRef:o,loadingRef:i,refresh:l.useCallback(function(){let t=Math.max(0,Math.floor((c.y-e/2)/e)),s=Math.floor((c.y+c.height+e/2)/e);for(let e of x().range(t,s+1))u(e)},[u,e,c])}}(32,4,ea,en,q,er),{gridSelection:eg,onGridSelectionChange:em,onCellsEdited:ep}=function(e,t,s,a){let[n,r]=(0,l.useReducer)(v,w),o=(0,l.useRef)(!1),i=(0,l.useRef)(!1);(0,l.useEffect)(()=>{o.current=n.isApplyingUndo,i.current=n.isApplyingRedo},[n.isApplyingUndo,n.isApplyingRedo]);let[c,d]=(0,l.useState)(null),g=(0,l.useRef)(null),m=(0,l.useCallback)(e=>{d(e),g.current=e},[void 0]),p=(0,l.useCallback)(e=>{if(!(o.current||i.current)&&g.current&&e.length>0){let s={edits:[],selection:g.current};for(let{location:a}of e){let e=t(a);s.edits.push({cell:a,newValue:e})}r({type:"edit",batch:s})}null==s||s(e)},[t,s]),u=(0,l.useCallback)(()=>{r({type:"undo"})},[r]),h=(0,l.useCallback)(()=>{r({type:"redo"})},[r]);return(0,l.useEffect)(()=>{if(n.operation&&g.current&&e.current){let a=[],o={edits:[],selection:g.current},i=[];for(let e of n.operation.edits){let s=t(e.cell);o.edits.push({cell:e.cell,newValue:s}),i.push({location:e.cell,value:e.newValue}),a.push({cell:e.cell})}null==s||s(i),d(n.operation.selection),g.current=n.operation.selection,e.current.updateCells(a),r({type:"edit",batch:o}),r({type:"operation"})}},[n.operation,e,s,d,t]),(0,l.useEffect)(()=>{let e=e=>{"z"===e.key&&(e.metaKey||e.ctrlKey)&&(e.shiftKey?h():u()),"y"===e.key&&(e.metaKey||e.ctrlKey)&&h()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[u,h]),(0,l.useMemo)(()=>({undo:u,redo:h,canUndo:n.canUndo,canRedo:n.canRedo,onGridSelectionChange:m,onCellsEdited:p,gridSelection:c}),[u,h,p,n.canUndo,n.canRedo,m,c])}(q,ec,l.useCallback(e=>er(e,eo),[er,eo]));l.useEffect(()=>{z.selection&&em((0,V.bB)(z.selection))},[z.selection,em]),l.useEffect(()=>{if(!eg)return;let e=(0,V.ec)(s,eg);z.selection&&e.eq(z.selection)||z.setNodeProps({selection:e,editingCell:e.editingCell})},[eg,z,s]),l.useEffect(function(){ei()},[s,W,ei]),l.useEffect(function(){let e,t;if(W)return W.onCells(S.BX(e=>{e.map(e=>({cell:[e.col,e.row]})).length>0&&ei()})).then(t=>{e=t}).catch(e=>{console.error("SpreadsheetDataGrid: onCellsChange",e)}),W.onDiffs(S.BX(e=>{e.some(e=>H.has(e.type))&&ei(),null==u||u([])})).then(e=>{t=e}).catch(e=>{console.error("SpreadsheetDataGrid: onDiffsChange",e)}),()=>{null==e||e(),null==t||t()}},[W,ei,u]);let eu=l.useCallback((e,t)=>{if(!t||!W)return;let a=[...t.files].find(e=>"text/csv"===e.type);if(!a)return;let n=new FileReader;n.onload=e=>{var t;let a=null==(t=e.target)?void 0:t.result,{data:n}=(0,T.Hj)(G,a),r=n.map(e=>e.map(e=>String(null!=e?e:"")));W.setCellsInRange(s,0,0,r).then(e=>{let{result:t}=e;null==u||u(t.flat().map(e=>{let{serialized:t,...s}=e;return{...s,formula:t}}))}).catch(console.error)},n.onerror=console.error,n.readAsText(a)},[G,W,s,u]),eh=l.useCallback(e=>{if(!W||!r)return;e.preventDefault();let{patternSource:t,fillDestination:a}=e,n=(0,V.Jk)(t,a);if(!n)return void console.error("Invalid fill pattern");(0,V.l5)(W,s,n)},[W,r,s]);return(0,a.jsx)("div",{className:D,"data-sheet-id":s,children:(0,a.jsx)(U,{children:(0,a.jsx)(p.H,{className:"overscroll-contain",ref:X,width:"auto"===_?void 0:"100%",height:"auto"===O?void 0:"100%",initialSize:P,columns:Z,rows:Math.max(t.rowCount,R),onColumnResize:et,theme:Y,verticalBorder:!0,provideEditor:K,rowMarkers:{kind:"clickable-number",theme:Q},drawHeader:h,highlightRegions:null!=F?F:[],keybindings:{clear:!1,activateCell:"|Enter|shift+Enter|F2",delete:"Backspace|Delete"},onCellActivated:es,getCellsForSelection:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return B("spreadsheet_manual_copy",void 0,{location:"spreadsheet-data-grid"}),null==ed?void 0:ed(...t)},getCellContent:ec,onVisibleRegionChanged:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];el(...t),(0,C.debouncedLogEvent)("spreadsheet_manual_scroll")},onCellsEdited:ep,gridSelection:null!=eg?eg:V.NC,onGridSelectionChange:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];em((0,V.sI)(...t)),B("spreadsheet_manual_select",void 0,{location:"spreadsheet-data-grid"})},onDrop:eu,isOutsideClick:e=>!(z.editor&&(0,E.x3)(z.editor,e))||(e.stopPropagation(),e.preventDefault(),!1),fillHandle:!0,onFillPattern:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];eh(...t),B("spreadsheet_manual_fill",void 0,{location:"spreadsheet-data-grid"})}})})})});var G=s(90662),K=s(27853);let q=l.memo(()=>{var e,t,s,n,r;let{t:o}=(0,g.Bd)("base"),i=(0,c.wk)(),d=i.selection,[m,p]=l.useState(()=>(0,K.A)()),[u,h]=l.useState(null),f=l.useRef(null);f.current=d&&null!=(t=i.gridRefs[d.sheet])?t:null,l.useEffect(function(){let e=i.editingCell;if(!e||!i.calcEngine){h(null),p((0,K.A)());return}i.calcEngine.getCellValue(e.sheet,e.row,e.col).then(e=>{h(e),p((0,K.A)())}).catch(console.error)},[i.editingCell,p]);let k=(0,l.useCallback)(function(e){var t,s,a,n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0],o=null==(t=i.selection)?void 0:t.sheet,c=null==(s=i.selection)?void 0:s.cell;if(void 0===o||void 0===c)return;i.calcEngine.setCellValue(o,c.row,c.col,e);let l={sheet:o,col:x().clamp(c.col+r[0],0,Number.MAX_SAFE_INTEGER),row:x().clamp(c.row+r[1],0,Number.MAX_SAFE_INTEGER)},d=null==(a=i.selection)?void 0:a.setCell(l);i.setNodeProps({selection:d,editingCell:null==d?void 0:d.editingCell}),null==(n=f.current)||n.focus()},[i.selection,i.calcEngine]),b=(0,l.useCallback)(function(){var e;p((0,K.A)()),null==(e=f.current)||e.focus()},[p]);return(0,a.jsxs)("div",{className:"w-full text-xs text-fg-primary h-8 flex items-center justify-start gap-4 grow",children:[(0,a.jsx)("span",{className:"shrink-0 tabular-nums min-w-1 font-mono font-medium select-none",children:null!=(s=null==(e=i.selection)?void 0:e.cellLabel)?s:""}),(0,a.jsx)("div",{className:"w-px h-6 bg-border-l1"}),(0,a.jsx)("div",{className:"flex items-center gap-1 rounded-sm bg-surface-l1 h-full grow text-primary",children:(0,a.jsx)(G.FormulaTextEditor,{className:"w-full",cell:null!=(n=i.editingCell)?n:{sheet:0,col:0,row:0},initialValue:null!=(r=null==u?void 0:u.serialized)?r:"",onSubmit:k,onCancel:b,onHighlightRegions:e=>i.setNodeProps({highlights:e}),selectAllAtStart:!1,placeholder:i.selection?o("formula-editor.placeholder.empty-cell","Empty"):o("formula-editor.placeholder.empty-selection","Select a cell to edit")},m)})]})});var X=s(93154),Y=s(73772),Q=s(80354),$=s(52265);function Z(e){let{readOnly:t,sheetId:s,onSheetRename:r}=e,{t:o}=(0,g.Bd)("base"),i=(0,d._)(),l=(0,c.wk)(),m=l.sheets,p=[{type:"item",label:o("Rename","Rename"),icon:(0,a.jsx)(n.rZj,{size:16,className:"me-2"}),onSelect:(e,t)=>{r(t)}},{type:"item",label:o("Duplicate","Duplicate"),icon:(0,a.jsx)(n.TdU,{size:16,className:"me-2"}),onSelect:(e,t)=>{l.duplicateSheet(t).then(e=>{e&&l.setNodeProps({activeSheet:l.sheets.length-1})}).catch(console.error)},disabled:t},{type:"separator"},{type:"item",label:o("Copy Table","Copy Table"),icon:(0,a.jsx)(n.CkZ,{size:16,className:"me-2"}),onSelect:(e,t)=>{l.copySheet(t),i("spreadsheet_manual_copy",void 0,{location:"spreadsheet-viewer"})}},{type:"item",label:o("Download","Download"),icon:(0,a.jsx)(n.s3U,{size:16,className:"me-2"}),onSelect:(e,t)=>{var s;let a=null==(s=m[t])?void 0:s.name;l.delimitSheet(t).then(e=>{if(!e)return;let t=new Blob([e],{type:"text/csv"}),[s]=(0,X.s)(l.name);(0,$.W)(t,"".concat(s," - ").concat(a,".csv"))}).catch(console.error),i("spreadsheet_manual_csv_export",void 0,{location:"spreadsheet-viewer"})}},{type:"separator"},{type:"item",label:o("Delete","Delete"),icon:(0,a.jsx)(n.ucK,{size:16,className:"me-2"}),onSelect:(e,t)=>{l.deleteSheet(t),i("spreadsheet_manual_delete","1",{location:"spreadsheet-viewer"})},disabled:t||1===m.length}];return(0,a.jsxs)(Y.rI,{children:[(0,a.jsx)(Y.ty,{asChild:!0,children:e.children}),(0,a.jsx)(Y.SQ,{side:"top",align:"center",sideOffset:8,className:"min-w-40 space-y-0.5",onClick:Q.Y,children:p.map((e,t)=>"item"===e.type?(0,a.jsxs)(Y._2,{onSelect:t=>e.onSelect(t,s),disabled:e.disabled,children:[e.icon,e.label]},e.label):(0,a.jsx)(Y.mB,{className:"bg-border-l1 mx-2"},t))})]})}function J(e){return(0,a.jsx)(l.Suspense,{fallback:(0,a.jsx)("div",{}),children:(0,a.jsx)(ee,{...e})})}function ee(e){let{readOnly:t=!1,editable:s=!t,autoFocus:d=!1,onCellsChange:g,className:p}=e,u=(0,c.wk)(),h=u.activeSheet,f=u.sheets,[k,b]=l.useState(null),{value:x,setValue:w,...v}=et({onSave:e=>{null!==k&&(u.renameSheet(k,e),b(null))},onCancel:()=>{b(null)}}),[y,j]=l.useState(),N=(0,l.useCallback)(e=>{e&&j([e.offsetWidth,e.offsetHeight])},[]);return(0,a.jsxs)("div",{className:(0,i.cn)("size-full grow flex flex-col",p),children:[(0,a.jsx)("div",{className:"bg-surface-l2 text-sm text-fg-secondary px-4 h-subheader-height flex items-center border-b border-border-l1 divide-x divide-border-l1 gap-2 w-full",children:(0,a.jsx)(q,{})}),(0,a.jsxs)(o.tU,{defaultValue:"0",value:h+"",className:"flex flex-col grow w-full divide-y divide-border-l1",onValueChange:e=>{u.setNodeProps({activeSheet:parseInt(e)})},ref:N,children:[(0,a.jsx)("div",{className:"grow",children:f.map((e,n)=>(0,a.jsx)(o.av,{value:String(n),className:"mt-0 size-full grow overflow-hidden",children:(0,a.jsx)(W,{sheet:e,sheetId:n,readOnly:t,editable:s,onCellsChange:g,className:"",allowOverlay:!0,autoFocus:d,initialSize:y})},n))}),(0,a.jsxs)("div",{className:"flex justify-start items-center p-1 gap-1 bg-surface-base box-content h-8",children:[s&&(0,a.jsx)(m,{className:"shrink-0"}),(0,a.jsx)(o.j7,{className:"grow flex justify-start rounded-none border-none gap-1 p-0 overflow-x-auto",loop:!1,children:f.map((e,s)=>(0,a.jsx)("div",{className:(0,i.cn)("flex flex-row text-secondary text-sm bg-surface-l2 border border-border-l1 rounded-lg items-center group/sheet-tab px-1","data-[state=active]:border-border-l2"),children:k==s?(0,a.jsx)(es,{className:"w-full bg-transparent focus-visible:outline-none text-sm font-semibold h-8 px-1 text-fg-primary",value:null!=x?x:"",placeholder:e.name,autoFocus:!0,...v}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Xi,{className:(0,i.cn)("text-sm font-semibold h-8 data-[state=active]:shadow-none focus-visible:ring-0 focus-visible:border-ring transition-colors peer px-1","data-[state=active]:text-fg-primary group-hover/sheet-tab:text-fg-primary"),value:String(s),"aria-label":e.name,"data-sheet-name":e.name,children:(0,a.jsx)("span",{className:(0,i.cn)("flex-1 select-none text-nowrap max-w-full overflow-hidden inline-block"),onDoubleClick:t=>{t.stopPropagation(),t.preventDefault(),w(e.name),b(s)},children:e.name})}),!t&&(0,a.jsx)(Z,{readOnly:t,sheetId:s,onSheetRename:e=>{f[e]&&(w(f[e].name),b(e))},children:(0,a.jsx)(r.$n,{variant:"ghost",size:"iconXs",className:(0,i.cn)("text-secondary group-hover/sheet-tab:text-fg-primary aria-expanded:text-fg-primary","peer-data-[state=active]:text-fg-primary","aria-expanded:bg-button-ghost-active"),rounded:!0,"aria-label":"Sheet Dropdown Menu",children:(0,a.jsx)(n.yQN,{size:16})})})]})},s))})]})]})]})}let et=e=>{let{onSave:t,onCancel:s}=e,[a,n]=l.useState(""),r=(0,l.useCallback)(()=>{let e=null==a?void 0:a.trim();e&&!1!==t(e)&&n("")},[a,t]),o=(0,l.useCallback)(()=>{null==s||s(),n("")},[s]),i=(0,l.useCallback)(e=>{e.stopPropagation(),e.preventDefault(),n(e.target.value)},[]),c=(0,l.useCallback)(e=>{"Enter"===e.key?r():"Escape"===e.key&&o()},[o,r]);return{value:a,setValue:n,onChange:i,onKeyDown:c,onClick:(0,l.useCallback)(e=>{e.stopPropagation(),e.preventDefault()},[]),onBlur:(0,l.useCallback)(e=>{e.stopPropagation(),e.preventDefault(),o()},[o])}},es=e=>{let t=l.useRef(null),[s,n]=l.useState(void 0);return l.useLayoutEffect(()=>{t.current&&n(t.current.scrollWidth+"px")},[e.value,e.placeholder]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{...e,style:{width:s}}),(0,a.jsx)("span",{className:(0,i.cn)(e.className,"opacity-0 absolute pointer-events-none overflow-auto whitespace-pre w-fit max-w-none"),ref:t,"aria-hidden":"true",children:e.value||e.placeholder})]})}},24734:(e,t,s)=>{"use strict";s.d(t,{K:()=>u,Y:()=>h});var a=s(79342),n=s(56691),r=s(23232),o=s(33960),i=s(84499),c=s(56907),l=s(88382),d=s(65146),g=s(14908);let m=/[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}/g;function p(e){return e.replace(m,"{ID}").replace(/\d{4,}/g,"###")}function u(){let{t:e}=(0,d.Bd)("base"),t=(0,r._)(),{push:s}=(0,i.wK)(),m=(0,l.useCallback)(r=>{r.wellKnownErrorSet.has(c.hc)?g.oR.error(e("error-toast.file-storage-exhausted","Storage limit exceeded"),{action:(0,a.jsx)(n.$n,{variant:"filledSecondary",size:"sm",onClick:()=>{s({page:"files",sort:"size",fileId:null}),t("error-toast-button-clicked","file-storage-exhausted",{location:"use-request-error-toast"})},children:e("error-toast.manage","Manage")})}):r.message.includes("received message larger than max")||413===r.status?g.oR.error(e("error-toast.content-too-large","Content too large to load")):r.message&&r.message.length>0?g.oR.error(r.message):g.oR.error(e("error-toast.unknown-error","Something went wrong"))},[e,s,t]);return(0,l.useCallback)((s,a,n)=>{t("error-toast-shown",s,{location:s}),(0,o.XQ)(a).then(a=>{if((0,o.u2)(a))m(a),t("error-toast-detailed-response-error",p(a.message),{error:a.message,location:s,...a.extra});else if((0,o.NF)(a))g.oR.error(e("error-toast.fetch-error","Network error occurred")),t("error-toast-fetch-error",p(a.message),{error:a.message,cause:a.cause.message,location:s});else if(a instanceof Error)g.oR.error(a.message),t("error-toast-error",p(a.message),{error:a.message,location:s});else{let r=null!=n?n:e("error-toast.unknown-error","Something went wrong");g.oR.error(r),t("error-toast-unknown-error",p(r),{error:JSON.stringify(a),location:s})}})},[e,m,t])}function h(e,t){let s=u();(0,l.useEffect)(()=>{t&&s(e,t)},[e,t,s])}},25859:(e,t,s)=>{"use strict";s.d(t,{$n:()=>d,bJ:()=>m,gx:()=>g});var a=s(79342),n=s(7287),r=s(61884),o=s(17338),i=s(61312),c=s(88382);let l=(0,o.F)(["inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium leading-[normal] cursor-pointer","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:opacity-60 disabled:cursor-not-allowed","transition-colors duration-100","[&_svg]:shrink-0","select-none"],{variants:{variant:{primary:"bg-button-filled text-fg-invert hover:bg-button-filled-hover disabled:hover:bg-button-filled",secondary:"border border-border-l2 text-fg-primary hover:bg-button-ghost-hover disabled:hover:bg-transparent",tertiary:"text-fg-secondary hover:bg-button-ghost-hover disabled:hover:bg-transparent border border-transparent",danger:"border border-border-l2 text-fg-primary hover:bg-button-ghost-hover disabled:hover:bg-transparent text-red-400 dark:text-red-300 hover:text-red-500 dark:text-red-200 hover:bg-red-400/10",text:"text-fg-primary bg-transparent hover:text-fg-secondary disabled:hover:text-fg-primary",textsecondary:"text-fg-secondary bg-transparent hover:text-fg-primary disabled:hover:text-fg-secondary",none:""},size:{xs:"h-6 rounded-lg px-2.5 text-xs",sm:"h-8 rounded-xl gap-1.5 px-3",md:"h-10 rounded-xl px-4 py-2",xl:"h-16 rounded-xl px-8 py-3"},shape:{rectangle:"",pill:"rounded-full",square:"overflow-hidden",circle:"rounded-full overflow-hidden"}},compoundVariants:[{shape:["square","circle"],size:"xs",class:"w-6"},{shape:["square","circle"],size:"sm",class:"w-8 px-1.5 py-1.5"},{shape:["square","circle"],size:"md",class:"h-10 w-10 p-2"},{shape:["square","circle"],size:"xl",class:"h-16 w-16 p-3"}],defaultVariants:{}});function d(e){let{className:t,variant:s,size:r,shape:o,asChild:c=!1,...d}=e,g=c?n.DX:"button";return(0,a.jsx)(g,{"data-slot":"button",className:(0,i.cn)(l({variant:s,size:r,shape:o,className:t})),...d})}let g=(0,c.forwardRef)((e,t)=>{let{className:s,variant:o,size:c,shape:d,asChild:g=!1,tooltipProps:m={},tooltipContent:p,tooltipContentProps:u={},stayOpenOnClick:h=!1,...f}=e,k=g?n.DX:"button",b=f["aria-label"];return void 0===b&&"string"==typeof p&&(b=p),(0,a.jsxs)(r.m_,{delayDuration:100,...m,children:[(0,a.jsx)(r.k$,{asChild:!0,onClick:h?e=>e.preventDefault():void 0,children:(0,a.jsx)(k,{className:(0,i.cn)(l({variant:o,size:c,shape:d,className:s})),ref:t,...!g&&{type:"button"},"aria-label":b,...f})}),p?(0,a.jsx)(r.ZI,{onPointerDownOutside:h?e=>e.preventDefault():void 0,...u,children:p}):null]})}),m=(0,c.forwardRef)((e,t)=>{let{className:s,variant:o,size:d,shape:g,asChild:m=!1,tooltipProps:p={},tooltipContent:u,tooltipContentProps:h={},stayOpenOnClick:f=!1,...k}=e,b=m?n.DX:"button",[x,w]=(0,c.useState)(!1),v=k["aria-label"];return(void 0===v&&"string"==typeof u&&(v=u),x)?(0,a.jsxs)(r.m_,{delayDuration:100,...p,children:[(0,a.jsx)(r.k$,{asChild:!0,onClick:f?e=>e.preventDefault():void 0,children:(0,a.jsx)(b,{className:(0,i.cn)(l({variant:o,size:d,shape:g,className:s})),ref:t,...!m&&{type:"button"},"aria-label":v,...k})}),u?(0,a.jsx)(r.ZI,{onPointerDownOutside:f?e=>e.preventDefault():void 0,...h,children:u}):null]}):(0,a.jsx)("div",{onMouseEnter:()=>w(!0),children:(0,a.jsx)(b,{className:(0,i.cn)(l({variant:o,size:d,shape:g,className:s})),ref:t,...!m&&{type:"button"},"aria-label":v,...k})})})},26067:(e,t,s)=>{"use strict";s.d(t,{GG:()=>n,IB:()=>r,IV:()=>o,O4:()=>a,SR:()=>i,il:()=>l});let a=["ar","bn","cs","de","en","es","fa","fil","fr","hi","hu","id","it","ja","ko","mr","nl","pl","pt","ro","ru","sv","ta","te","tr","uk-UA","vi","zh","zh-TW"],n="en",r={ar:{nativeName:"العربية",name:"Arabic"},bn:{nativeName:"বাংলা",name:"Bengali"},cs:{nativeName:"Čeština",name:"Czech"},de:{nativeName:"Deutsch",name:"German"},en:{nativeName:"English",name:"English"},es:{nativeName:"Espa\xf1ol",name:"Spanish"},fa:{nativeName:"فارسی",name:"Persian"},fil:{nativeName:"Filipino",name:"Filipino"},fr:{nativeName:"Fran\xe7ais",name:"French"},hi:{nativeName:"हिन्दी",name:"Hindi"},hu:{nativeName:"Magyar",name:"Hungarian"},id:{nativeName:"Bahasa Indonesia",name:"Indonesian"},it:{nativeName:"Italiano",name:"Italian"},ja:{nativeName:"日本語",name:"Japanese"},ko:{nativeName:"한국어",name:"Korean"},mr:{nativeName:"मराठी",name:"Marathi"},nl:{nativeName:"Nederlands",name:"Dutch"},pl:{nativeName:"Polski",name:"Polish"},pt:{nativeName:"Portugu\xeas",name:"Portuguese"},ro:{nativeName:"Rom\xe2nă",name:"Romanian"},ru:{nativeName:"Русский",name:"Russian"},sv:{nativeName:"Svenska",name:"Swedish"},ta:{nativeName:"தமிழ்",name:"Tamil"},te:{nativeName:"తెలుగు",name:"Telugu"},tr:{nativeName:"T\xfcrk\xe7e",name:"Turkish"},"uk-UA":{nativeName:"Українська мова",name:"Ukrainian"},vi:{nativeName:"Tiếng Việt",name:"Vietnamese"},zh:{nativeName:"简体中文",name:"Simplified Chinese"},"zh-TW":{nativeName:"繁體中文",name:"Traditional Chinese"}},o=Object.entries(r).reduce((e,t)=>{let[s,a]=t;return e[s]=a.nativeName,e},{}),i=Object.entries(o),c=new Set(["ar","he","fa","ur","ps","sd","ug","ha","ks","ku"]);function l(e){var t;if(!e)return"ltr";let s=null==(t=e.split("-")[0])?void 0:t.toLowerCase();return s&&c.has(s)?"rtl":"ltr"}},26676:(e,t,s)=>{"use strict";s.d(t,{n:()=>h});var a=s(79342),n=s(3547),r=s(11750),o=s(56691),i=s(34500),c=s(1826),l=s(41320),d=s(61312),g=s(88382),m=s(65146),p=s(31651),u=s(47095);let h=(0,g.memo)(e=>{let{icon:t,sizeClass:s="size-6",rounded:h=!1,buttonSize:f="iconMd",onChange:k,disabled:b=!1}=e,{t:x}=(0,m.Bd)("workspace"),[w,v]=(0,g.useState)(!1),y=(0,l.Di)();(0,g.useEffect)(()=>{v(!1)},[t]);let j=(0,g.useCallback)(e=>{v(!1),null==k||k((0,p.K)(e))},[k]),N=(0,a.jsx)(o.$n,{variant:"ghost",size:f,rounded:h,overideIconStyle:!0,className:"text-2xl","aria-label":x("workspace-icon.change","Change icon"),children:(0,a.jsx)(u.O,{icon:t,className:s})});return b?(0,a.jsx)("div",{className:(0,d.cn)((0,o.ru)({size:f,rounded:h}),"cursor-default"),children:(0,a.jsx)(u.O,{icon:t,className:s})}):y?(0,a.jsxs)(i._s,{open:w,onOpenChange:v,children:[(0,a.jsx)(i.Uz,{asChild:!0,children:N}),(0,a.jsxs)(i.zj,{className:"p-1 max-h-[70dvh]",children:[(0,a.jsxs)(i.BE,{className:"text-left flex justify-between items-center ",children:[(0,a.jsxs)(i.gk,{className:"flex gap-2",children:[(0,a.jsx)(r.XRf,{size:16,className:"text-secondary"}),x("workspace-icon-drawer.title","Pick new icon")]}),(0,a.jsx)(o.$n,{variant:"ghostSecondary","aria-label":x("close","Close"),onClick:()=>v(!1),children:(0,a.jsx)(r.X,{size:16})})]}),(0,a.jsx)(n.ar,{onSelect:j})]})]}):(0,a.jsxs)(c.AM,{open:w,onOpenChange:v,children:[(0,a.jsx)(c.Wv,{asChild:!0,children:N}),(0,a.jsx)(c.hl,{className:"p-0 border",align:"start",children:(0,a.jsx)(n.ar,{onSelect:j})})]})})},27636:(e,t,s)=>{"use strict";s.d(t,{Ay:()=>v,ek:()=>x,hB:()=>w});var a=s(79342),n=s(38614),r=s(45471),o=s(18921),i=s(61349),c=s(56691),l=s(84499),d=s(95158),g=s(85467),m=s(70237),p=s(73304),u=s(56907),h=s(35589),f=s(74995),k=s(88382),b=s(65146);function x(){let{t:e}=(0,b.Bd)("tasks"),t=(0,n.aP)(f.A("conversationId")),s=(0,p.d)(f.A("setSelectedTaskIdForSidePanel")),g=(0,p.d)(f.A("setTaskPageTabMode")),x=(0,p.d)(f.A("fetchUserTasks")),{route:w}=(0,l.wK)(),v=(0,k.useMemo)(()=>"tasks"===w.page,[w.page]),{push:y}=(0,l.wK)(),{mutate:j}=(0,u.n_)({mutationFn:async e=>{let t=(0,o.mx)(e);return d.Cs.grokTasksCreateTask({body:t})},onSuccess:async n=>{var l;let d=null==(l=n.task)?void 0:l.taskId;v&&(s(d),g(o.RJ.ACTIVE)),r.z.success((0,a.jsxs)(a.Fragment,{children:[e("task-create.success","Successfully created task!"),!v&&(0,a.jsx)(c.$n,{onClick:()=>y({page:"tasks",taskId:d||null,tab:null}),variant:"outline",size:"sm",rounded:!0,className:"font-bold",children:e("task-create.see-task","See task")})]}));let m=(0,i.SX)();await x(),await m.invalidateQueries({queryKey:["grok-created-tasks",t]})},onError:async t=>{r.z.error(e("task-create.failed","Failed to create task. Please try again later")),console.error(t)}}),{mutate:N}=(0,u.n_)({mutationFn:async e=>{let{task:t,taskId:s,scheduleId:a}=e;if(!s||!a)throw Error("No task id");let n=(0,o.mx)(t);return d.Cs.grokTasksUpdateTask({body:{taskId:s,scheduleId:a,updatedTask:n}})},onSuccess:async()=>{r.z.success(e("task-update.success","Task successfully updated!")),await x()},onError:async t=>{r.z.error(e("task-update.failed","Failed to update task. Please try again later")),console.error(t)}}),{mutate:C}=(0,u.n_)({mutationFn:async e=>{let{enabled:t,scheduleId:s}=e;if(!s)throw Error("No schedule id");return d.Cs.grokTasksPauseTaskSchedule({body:{scheduleId:s,isEnabled:t}})},onSuccess:async(t,s)=>{await x(),s&&s.enabled?r.z.success(e("task-unpause.success","Task resumed!")):r.z.success(e("task-pause.success","Task paused!"))},onError:(t,s)=>{s&&s.enabled?r.z.error(e("task-unpause.fail","Failed to resume task")):r.z.error(e("task-pause.fail","Failed to pause task")),console.error(t)}}),{mutate:S}=(0,u.n_)({mutationFn:async e=>{let{taskId:t}=e;if(!t)throw Error("No task id");return d.Cs.grokTasksArchiveTask({body:{taskId:t,isEnabled:!1}})},onSuccess:async()=>{r.z.success(e("task-archive.success","Task archived!")),await x()},onError:t=>{r.z.error(e("task-archive.fail","Failed to archive task")),console.error(t)}}),{mutate:I}=(0,u.n_)({mutationFn:async e=>{let{taskResultIds:t,value:s}=e;return await d.Cs.grokTasksBatchSetIsReadForTaskResult({value:s,taskResultIds:t})},onError:e=>{console.error(e)}}),{mutate:T}=(0,u.n_)({mutationFn:async e=>{let{taskId:t}=e;if(!t)throw Error("No task id");let s={taskId:t,schedule:{taskCadence:m.G7.TaskCadenceOnceInstant,isEnabled:!0,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,timeOfDay:h.c9.now().toFormat("HH:mm")}};return d.Cs.grokTasksAddTaskScheduleToTask({body:s})},onSuccess:async()=>{r.z.success(e("task-test.success","Starting test run for task. Please wait a few minutes to see results")),await x()},onError:t=>{r.z.error(e("task-test.fail","Failed to start task test run")),console.error(t)}});return{createTask:j,updateTask:N,pauseOrUnpauseTaskSchedule:C,archiveTask:S,setIsReadForTaskResultsList:I,addInstantTaskScheduleForTask:T}}function w(){let{t:e}=(0,b.Bd)("tasks");return{taskPresets:(0,k.useMemo)(()=>{let t,s,a,n,r,i;return[(t=e("task-preset.stock-performance.stocksymbols","{{$TSLA, $BTC, $NVDA, $PLTR, $ETH}}"),{id:"stock-performance",cta:e("task-preset.stock-performance.cta","Create a Daily Stock Tracker"),name:e("task-preset.stock-performance.name","Stock Performance"),prompt:e("task-preset.stock-performance.prompt","Give me the latest updates on {{stocksymbols}}, including current price, recent changes, and projections. Analyze sentiment, market indicators, and possible reasons for movements. Organize the information to be easily digestible and readable.",{stocksymbols:t}),modelMode:g.Cge.Deepsearch,isPresetTemplate:!0,schedule:[{isEnabled:!0,ianaTimezone:Intl.DateTimeFormat().resolvedOptions().timeZone,timeOfDay:(0,o.M7)("14:00",60),cadence:m.G7.TaskCadenceOnceDaily}]}),(s=e("task-preset.productivity-boost.placeholder","{{working in a fast-paced environment}}"),{id:"productivity-boost",cta:e("task-preset.productivity-boost.cta","Receive a Daily Productivity Boost"),name:e("task-preset.productivity-boost.name","Productivity Boost"),prompt:e("task-preset.productivity-boost.prompt","Suggest 1 actionable productivity tip for the day, tailored to someone {{situation}}. Include a motivational quote to start the day.",{situation:s}),modelMode:g.Cge.Base,isPresetTemplate:!0,schedule:[{isEnabled:!0,ianaTimezone:Intl.DateTimeFormat().resolvedOptions().timeZone,timeOfDay:(0,o.M7)("9:00",90),cadence:m.G7.TaskCadenceOnceDaily}]}),(a=e("task-preset.newsletter.topics","{{politics, technology, and science}}"),{id:"newsletter",cta:e("task-preset.newsletter.cta","Create a Custom Newsletter"),name:e("task-preset.newsletter.name","Newsletter"),prompt:e("task-preset.newsletter.prompt","Provide a concise summary of the top news stories from the past 24 hours, focusing on {{topics}}. Include one key takeaway for each story. Format as a Custom Newsletter with date, edition, and sources from Grok's web lookups. Organize the newsletter to be easily digestible and readable.",{topics:a}),modelMode:g.Cge.Deepsearch,isPresetTemplate:!0,schedule:[{isEnabled:!0,ianaTimezone:Intl.DateTimeFormat().resolvedOptions().timeZone,cadence:m.G7.TaskCadenceOnceWeekly,timeOfDay:(0,o.M7)("9:00",90),localDayOfWeek:(0,o.ep)([0,1,6])}]}),(n=e("task-preset.daily-tech-digest.placeholder","{{model releases, new papers, and open-source projects}}"),{id:"daily-tech-digest",cta:e("task-preset.daily-tech-digest.cta","Receive a Daily Tech Digest"),name:e("task-preset.daily-tech-digest.name","Daily Tech Digest"),prompt:e("task-preset.daily-tech-digest.prompt","Summarize the most important AI & Tech developments from the past 24 hours, including new tools, updates, and announcements. Prioritize {{priorities}} and include source links from web searches. Organize the information to be easily digestible and readable.",{priorities:n}),modelMode:g.Cge.Deepsearch,isPresetTemplate:!0,schedule:[{isEnabled:!0,ianaTimezone:Intl.DateTimeFormat().resolvedOptions().timeZone,timeOfDay:(0,o.M7)("17:00",90),cadence:m.G7.TaskCadenceOnceDaily}]}),(r=e("task-preset.weekly-sports-update.placeholder","{{must-watch soccer games}}"),{id:"weekly-sports-update",cta:e("task-preset.weekly-sports-update.cta","Receive a Weekly Sports Update"),name:e("task-preset.weekly-sports-update.name","Weekly Sports Update"),prompt:e("task-preset.weekly-sports-update.prompt","Tell me about upcoming {{sports}}, including location, schedule, and key highlights.",{sports:r}),modelMode:g.Cge.Base,isPresetTemplate:!0,schedule:[{isEnabled:!0,ianaTimezone:Intl.DateTimeFormat().resolvedOptions().timeZone,timeOfDay:(0,o.M7)("19:00",90),cadence:m.G7.TaskCadenceOnceWeekly,localDayOfWeek:(0,o.ep)([3,4,5])}]}),(i=e("task-preset.daily-weather-forecast.placeholder","{{Palo Alto, CA}}"),{id:"daily-weather-forecast",cta:e("task-preset.daily-weather-forecast.cta","Receive a Daily Weather Forecast"),name:e("task-preset.daily-weather-forecast.name","Daily Weather Forecast"),prompt:e("task-preset.daily-weather-forecast.prompt","Provide today's weather forecast for {{location}}, including temperature, precipitation, and any alerts — search for real-time data.",{location:i}),modelMode:g.Cge.Base,isPresetTemplate:!0,schedule:[{isEnabled:!0,ianaTimezone:Intl.DateTimeFormat().resolvedOptions().timeZone,timeOfDay:(0,o.M7)("07:00",60),cadence:m.G7.TaskCadenceOnceDaily}]})]},[e])}}function v(){let{t:e}=(0,b.Bd)("tasks"),t=[e("task-schedule.sunday-plural","Sundays"),e("task-schedule.monday-plural","Mondays"),e("task-schedule.tuesday-plural","Tuesdays"),e("task-schedule.wednesday-plural","Wednesdays"),e("task-schedule.thursday-plural","Thursdays"),e("task-schedule.friday-plural","Fridays"),e("task-schedule.saturday-plural","Saturdays")];return{getTaskCadenceToReadableLabel:function(t){switch(t){case"TASK_CADENCE_ONCE_INSTANT":return e("task-cadence.instant","Instant");case"TASK_CADENCE_ONCE":return e("task-cadence.once","Once");case"TASK_CADENCE_ONCE_DAILY":return e("task-cadence.daily","Daily");case"TASK_CADENCE_ONCE_WEEKDAY":return e("task-cadence.weekday","Weekday");case"TASK_CADENCE_ONCE_WEEKLY":return e("task-cadence.weekly","Weekly");case"TASK_CADENCE_ONCE_MONTHLY":return e("task-cadence.monthly","Monthly");case"TASK_CADENCE_ONCE_ANNUALLY":return e("task-cadence.yearly","Yearly");default:return t}},getNextRunLabel:function(t,s){if(s)return e("task-schedule-completed-label","Task completed");let a=Intl.DateTimeFormat().resolvedOptions().timeZone,n=h.c9.fromISO(t).setZone(a,{keepLocalTime:!1}),r=", "+h.c9.now().year;return n.toLocaleString(h.c9.DATETIME_FULL).replace(r,"").replace(" PM","pm").replace(" AM","am")},getScheduleLabel:function(s,a,n,r,o,i){let c=Intl.DateTimeFormat().resolvedOptions().timeZone,[l,d]=a.split(":").map(Number),g=h.c9.now().set({hour:l,minute:d}).setZone(n).setZone(c,{keepLocalTime:!1}).toLocaleString(h.c9.TIME_SIMPLE).toLowerCase().replace(" ","");switch(s){case m.G7.TaskCadenceOnceInstant:return e("task-schedule-info-label.instant","Now");case m.G7.TaskCadenceOnce:if(!i)return;return e("task-schedule-info-label.once","Once on {{dateTime}}",{dateTime:h.c9.fromISO(i,{zone:n}).set({hour:l,minute:d}).setZone(c,{keepLocalTime:!1}).toLocaleString(h.c9.DATE_FULL)});case m.G7.TaskCadenceOnceAnnually:if(!i)return;return e("task-schedule-info-label.annual","Annually on {{dateTime}}",{dateTime:h.c9.fromISO(i,{zone:n}).set({hour:l,minute:d}).setZone(c,{keepLocalTime:!1}).toLocaleString(h.c9.DATE_FULL)});case m.G7.TaskCadenceOnceDaily:return e("task-schedule-info-label.daily","Daily at {{time}}",{time:g});case m.G7.TaskCadenceOnceWeekly:case m.G7.TaskCadenceOnceWeekday:if(0!==r&&!r)return;return e("task-schedule-info-label.weekly","{{dayOfWeek}} at {{time}}",{dayOfWeek:t.at(r),time:g});case m.G7.TaskCadenceOnceMonthly:if(!o)return;return e("task-schedule-info-label.monthly","{{day}}{{suffix}} of the month",{day:o,suffix:o%10==1&&11!==o?"st":o%10==2&&12!==o?"nd":o%10==3&&13!==o?"rd":"th"})}}}}},28372:(e,t,s)=>{"use strict";s.d(t,{debouncedLogEvent:()=>l,logEventGlobal:()=>i});var a=s(17703),n=s(38541),r=s.n(n),o=s(4075);function i(e,t,s){if(!o.statsigClient&&(null==s?void 0:s.reason)!=="missing_client")return void(0,a.vV)("statsig-global","Trying to log statsig event before client is ready",{reason:"missing_client"});null===o.statsigClient||void 0===o.statsigClient||o.statsigClient.logEvent(e,t,s)}let c={};function l(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3,n="string"==typeof e?e:e.eventName;c[n]||(c[n]=r().debounce((t,s)=>i(e,t,s),a,{leading:!0,trailing:!1})),c[n](t,s)}},28503:(e,t,s)=>{"use strict";s.d(t,{J:()=>i});var a=s(79342),n=s(68332),r=s(84499),o=s(88382);let i=e=>{let{title:t,description:s,cta:i}=e,{routeToConversation:c}=(0,n.o)(),l=(0,o.useCallback)(()=>{c(void 0)},[c]);return(0,a.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:(0,a.jsxs)("div",{className:"flex flex-col max-w-xl text-center items-center justify-center px-4",children:[(0,a.jsx)("div",{className:"text-3xl font-medium",children:t}),(0,a.jsx)("div",{className:"mt-6 text-secondary",children:s}),(0,a.jsx)("div",{className:"mt-8",children:"string"==typeof i?(0,a.jsx)(r.N_,{route:{page:"main"},onClick:l,className:"focus:outline-none focus-visible:ring-1 focus-visible:ring-ring py-2 px-3 rounded-lg bg-button-secondary hover:bg-button-secondary-hover",children:i}):i})]})})}},28513:(e,t,s)=>{"use strict";s.d(t,{H:()=>i,_:()=>c});var a=s(88382);let n={"react-syntax-highlighter/dist/esm/default-highlight":()=>s.e(97761).then(s.bind(s,97761)).then(o),"react-syntax-highlighter/dist/esm/styles/hljs/atom-one-light":()=>s.e(30220).then(s.bind(s,30220)).then(o),"react-syntax-highlighter/dist/esm/styles/hljs/atom-one-dark":()=>s.e(96700).then(s.bind(s,96700)).then(o),"react-shiki":()=>Promise.all([s.e(45976),s.e(96573),s.e(18944)]).then(s.bind(s,18944)),"ag-grid-community":()=>s.e(54841).then(s.bind(s,17388)),"ag-grid-react":()=>Promise.all([s.e(54841),s.e(34658)]).then(s.bind(s,34658)),xlsx:()=>Promise.all([s.e(34408),s.e(77670)]).then(s.bind(s,24106)),mermaid:()=>Promise.all([s.e(75760),s.e(27902)]).then(s.bind(s,27902)).then(o),"@glideapps/glide-data-grid":()=>s.e(24211).then(s.bind(s,24211)),"data-grid-editor":()=>Promise.resolve().then(s.bind(s,90662)),"katex/contrib/copy-tex":()=>s.e(54615).then(s.bind(s,54615)),"katex/contrib/mhchem":()=>s.e(856).then(s.bind(s,856)),"axe-core":()=>s.e(60429).then(s.t.bind(s,94557,23)),"react-scan":()=>s.e(59928).then(s.bind(s,59928))},r=new Map;for(let[e,t]of Object.entries(n))n[e]=function(e,t){return()=>{let s=r.get(e);return s||(s=t(),r.set(e,s)),s}}(e,t);function o(e){return e.default}function i(e){return n[e]()}function c(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.map(i).map(a.use)}},28951:(e,t,s)=>{"use strict";s.d(t,{L:()=>i});var a=s(79342),n=s(61312),r=s(11750),o=s(88382);let i=e=>{var t;let{status:s,expectedChunks:i=[.25,.5,.75,1],intermediateResults:l=[],aspectRatio:d,isModerated:g,iconSize:m=60,className:p}=e,u=(0,o.useRef)("streaming"===s),h=null==(t=l.find(e=>1===e.progress))?void 0:t.imageUrl,[f,k]=(0,o.useState)(0),b=c({expectedChunks:i,progress:f}),x=(0,o.useMemo)(()=>[...l].sort((e,t)=>e.progress-t.progress).map((e,t)=>f>e.progress?null:(0,a.jsx)("img",{onLoad:()=>{k(t=>Math.max(t,e.progress))},onError:()=>{k(t=>Math.max(t,e.progress))},src:e.imageUrl,className:"absolute object-cover w-full m-0",alt:""},"".concat(t,":progress_").concat(e.progress))),[l,f,k]),w=(0,o.useMemo)(()=>({top:0,height:"".concat(100*f,"%"),overflow:"hidden",transitionProperty:"height, mask",transitionDuration:"".concat(b,"ms"),transitionTimingFunction:1===f?"ease-in":"linear",zIndex:50,mask:f<1?"linear-gradient(\n        to bottom,\n        rgba(0, 0, 0, 1) 0%,\n        rgba(0, 0, 0, 1) calc(100% - 5px),\n        rgba(0, 0, 0, 0) 100%\n      )":void 0}),[f,b]),v=(0,o.useMemo)(()=>({top:0,height:"".concat(100*f,"%"),overflow:"hidden",transform:"translate3d(0,0,0)",transitionProperty:"height",transitionDuration:"".concat(b/1.5,"ms"),transitionTimingFunction:"linear",filter:"blur(70px) contrast(2)",zIndex:10}),[f,b]);return(0,a.jsxs)("div",{className:(0,n.cn)("relative rounded-2xl overflow-hidden transform-gpu bg-primary/5",p),children:[u.current&&"streaming"===s?(0,a.jsx)("div",{className:"absolute left-0 top-0 h-full w-full flex items-center justify-center animate-pulse-lg",children:(0,a.jsx)(r.xfq,{size:m,strokeWidth:1.3,className:"opacity-30 rotate-[-10deg]"})}):null,g?(0,a.jsx)("div",{className:"absolute left-0 top-0 h-full w-full flex items-center justify-center",children:(0,a.jsx)(r.aRK,{size:m,className:"opacity-20"})}):null,x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{style:w,className:"absolute h-full w-full z-[60]",children:(0,a.jsx)("div",{className:(0,n.cn)(g?"transition-opacity opacity-0 ":void 0),children:x})}),(0,a.jsx)("div",{style:v,className:"absolute h-full w-full z-[50]",children:x})]}):null,(0,a.jsx)("img",{className:(0,n.cn)("object-cover relative z-[200] w-full m-0",g||"streaming"===s?"opacity-0":void 0),src:h,style:{aspectRatio:d||4/3},alt:""},"progress_1")]})},c=e=>{let{expectedChunks:t,progress:s}=e,a=(0,o.useRef)(Date.now());return(0,o.useMemo)(()=>{let e=Date.now()-a.current,n=0===s?1e4:e/s,r=t.findIndex(e=>e>=s),o=t[r+1];return -1===r?0:o?n*(o-s)*1.2:200},[s,t])}},29658:(e,t,s)=>{"use strict";s.d(t,{x:()=>F});var a=s(79342),n=s(1729),r=s(11750),o=s(56691),i=s(61884),c=s(8800),l=s(75500),d=s(23232),g=s(24734),m=s(17703),p=s(95158),u=s(83612),h=s(56907),f=s(88382),k=s(65146),b=s(14908),x=s(69458),w=s(80640),v=s(21492),y=s(43086),j=s(52371);function N(e){let{artifact:t}=e,{mode:s,setMode:n}=(0,u.D4)(),{t:o}=(0,k.Bd)("chat"),i=(0,l.h)(),c=(0,x.j$)(t,i),d=(0,x.s3)(t)&&i.ENABLE_REPORT_LOADING_SCREEN,g=(0,x.rv)(t);return(0,f.useEffect)(()=>{n(!t.incomplete&&c||d?"preview":"code")},[t.id,t.incomplete,c,d,n]),(0,a.jsx)(j.tU,{className:"flex-1 flex-row justify-center flex",defaultValue:"code",value:s,onValueChange:e=>n(e),children:(0,a.jsxs)(j.j7,{children:[(0,a.jsxs)(j.Xi,{className:"gap-1",value:"code","aria-label":o("Code","Code"),children:[(0,a.jsx)(r.CyN,{className:"size-4"}),(0,a.jsx)("span",{className:"hidden md:inline",children:o("Code","Code")})]}),(0,a.jsxs)(j.Xi,{className:"gap-1",value:"preview","aria-label":o("Preview","Preview"),disabled:t.incomplete&&!d,children:[t.incomplete?(0,a.jsx)(y.y,{size:"xxs"}):(0,a.jsx)(r.udU,{className:"size-3"}),(0,a.jsx)("span",{className:"hidden md:inline",children:d?o("artifact.preview.document","Document"):o("Preview","Preview")+(g?" (Beta)":"")})]})]})})}var C=s(42419),S=s(44566),I=s(7658),T=s(93038);function E(e){var t;let s=e.contentType||"plain/text",a=null==(t=e.title)?void 0:t.replace(/\.[^/.]+$/,""),n=T.extension(s)||A[s]||R,r=a||e.id||"".concat(Date.now().toString());return"".concat(r,".").concat(n)}let R="txt",A={"text/python":"py","text/go":"go","text/rust":"rs","text/javascript":"js","text/typescript":"ts","text/jsx":"js","text/tsx":"ts","text/cpp":"cpp","text/java":"java","text/latex":"tex"},_=(0,f.memo)(e=>{var t;let{t:s}=(0,k.Bd)("chat"),{artifact:n,iconProps:c}=e,{SHOW_ARTIFACT_TO_WORKSPACE_BUTTON:d}=(0,l.h)(),{content:m}=(0,w.S)({artifact:n}),p=!!(d&&m),{data:u,error:h,isPending:f}=(0,I.$1)(n.conversationId,p);(0,g.Y)("save-to-workspace-button",h);let x=null==u?void 0:u[0],v=null!=(t=null==x?void 0:x.workspaceId)?t:"",{data:j,isPending:N}=(0,I.UL)(v),C=(0,S.x)(v),T=(0,l.Ne)(),{mutate:R}=(0,I.Iv)(v);if(!p||!x)return null;let A=x.name,_=s("artifact-save-to-workspace-button.label",'Save to project "{{workspaceName}}"',{workspaceName:A});return(0,a.jsxs)(i.m_,{delayDuration:300,children:[(0,a.jsx)(i.k$,{asChild:!0,children:(0,a.jsx)(o.$n,{variant:"ghost",size:"icon",className:"rounded-full hidden sm:flex",onClick:()=>{var e,t;if((null!=(t=null==j||null==(e=j.assets)?void 0:e.length)?t:0)>=T)return void C();R(function(e,t){let s=e.contentType||"plain/text";return new File([null!=t?t:""],E(e),{type:s})}(n,m),{onSuccess(){b.oR.success(s("artifact-save-to-workspace.success",'File added to project "{{workspaceName}}"',{workspaceName:A}))}})},"aria-label":_,children:f||N?(0,a.jsx)(y.y,{size:"xs","aria-busy":"true"}):(0,a.jsx)(r.NGU,{...c})})}),(0,a.jsx)(i.ZI,{children:(0,a.jsx)("p",{children:_})})]})});var O=s(38614),P=s(73772),M=s(93649),L=s(61312),D=s(83123),B=s(87992);let z=e=>{let{artifact:t,readOnly:s}=e,{setSidePanelContent:n,sidePanelContent:i}=(0,O.aP)(),c=(0,d._)(),{versions:l,isLoading:g}=(0,w.S)({artifact:t}),{t:m}=(0,k.Bd)("chat"),p=(0,f.useMemo)(()=>[...null!=l?l:[]].reverse().filter(e=>"string"==typeof e.fullArtifact).map(e=>({...e,artifact:(0,B.t)(e.fullArtifact)})),[l]),u=(0,f.useCallback)(e=>{if(e){var s;c("artifact_versions_open",void 0,{location:"version-picker",contentType:null!=(s=t.contentType)?s:"undefined"})}},[t.contentType,c]),h=g||!l||l.length<2;return(0,a.jsxs)(P.rI,{onOpenChange:u,children:[(0,a.jsx)(P.ty,{asChild:!0,disabled:h,children:(0,a.jsx)(o.gx,{variant:"ghost",size:"iconMd",rounded:!0,disabled:h,tooltipContent:(0,a.jsx)("p",{children:m("Version History","Version History")}),"aria-label":m("Version History","Version History"),tooltipProps:{delayDuration:300},children:g?(0,a.jsx)(y.y,{size:"xs"}):(0,a.jsx)(r.osr,{strokeWidth:2,size:18})})}),(0,a.jsx)(P.SQ,{side:"bottom",align:"end",sideOffset:6,className:"min-w-36 space-y-0.5",children:p.map((e,t)=>{var r,o;let c;if(e.createTime){let t=Date.parse(e.createTime);c=(0,D.a)(t,Date.now(),{locale:M.A.language})}let l=(null==i?void 0:i.type)==="artifact"&&e.artifact.id===(null==i||null==(r=i.data)?void 0:r.artifact.id)&&e.artifact.versionId===(null==i||null==(o=i.data)?void 0:o.artifact.versionId);return(0,a.jsxs)(P._2,{onSelect:()=>{n({type:"artifact",data:{artifact:e.artifact,readOnly:s}});let t=document.getElementById("artifact_card_".concat(e.artifact.versionId));t&&t.scrollIntoView({behavior:"smooth",block:"center"})},className:(0,L.cn)("flex flex-col items-start px-3 py-2",l?"bg-toggle-hover":void 0),children:[(0,a.jsx)("div",{className:"font-medium text-sm",children:m("artifact.version.number","Version {{version_number}}",{version_number:p.length-t})}),c?(0,a.jsx)("div",{className:"text-xs text-secondary",children:c}):void 0]},"version_".concat(t))})})]})};function F(e){var t,s,y;let{artifact:j,contentButtons:S,readOnly:I,standalone:T}=e,{t:R}=(0,k.Bd)("chat"),A=(0,d._)(),{content:O}=(0,w.S)({artifact:j}),{refresh:P,mode:M}=(0,u.D4)(),L=(0,l.h)(),D=(0,g.K)(),[B,F]=(0,f.useState)(!1),[V,H]=(0,f.useState)(!1),W=(0,f.useRef)(void 0),{mutate:G}=(0,h.n_)({mutationKey:["share-artifact",j.conversationId,j.responseId],mutationFn:()=>p.chatApi.chatShareArtifact({conversationId:j.conversationId,body:{responseId:j.responseId}})}),K=(0,f.useCallback)(e=>{e instanceof Error&&((0,m.vV)("artifact-controls:handlePublish",e),D("artifact-controls:handlePublish",e,R("artifact-controls.error.share-artifact","Failed to share artifact")))},[R,D]),q=(0,f.useCallback)(async()=>{var e;A("artifact_publish_click",void 0,{location:"artifact-controls",contentType:null!=(e=j.contentType)?e:"undefined"});let t=async()=>new Promise((e,t)=>{G(void 0,{onSuccess:s=>{if(!s.sharedArtifactId)return K(Error("Could't find sharedArtifactId")),t();e("".concat(window.location.origin,"/artifact/").concat(s.sharedArtifactId))},onError:e=>{K(e),t()}})});try{let e=await t(),s=new ClipboardItem({"text/plain":new Blob([e],{type:"text/plain"})});navigator.clipboard.write([s]).then(()=>{b.oR.success(R("Copied public artifact link to clipboard.","Copied public artifact link to clipboard.")),H(!0),setTimeout(()=>H(!1),1e3)}).catch(e=>b.oR.error(e.message))}catch(e){K(e)}},[A,j.contentType,G,K,R]),X=(0,n.I5)(j.contentType),{result:Y,codeExecutionAvailable:Q}=(0,c.P)(O,null!=(s=j.language)?s:X),$="preview"===M&&(0,x.rv)(j)&&Object.values(null!=(y=null==Y?void 0:Y.outputFiles)?y:{}).find(e=>e.endsWith(".pdf")||e.includes(".pdf?")),Z=!L.DISABLE_PYTHON_ARTIFACTS,J=(null==(t=j.contentType)?void 0:t.includes("text/html"))||Z&&(0,x.gq)(j)||Q(),ee=(0,f.useCallback)(async()=>{var e;A("artifact_copy_click",void 0,{location:"artifact-controls",contentType:null!=(e=j.contentType)?e:"undefined"}),O&&("text/markdown"===j.contentType?await (0,C.L)(O):await navigator.clipboard.writeText(O),F(!0),W.current&&(clearTimeout(W.current),W.current=void 0),W.current=setTimeout(()=>F(!1),2e3))},[O,j.contentType,A]),et=(0,v.v)(j,null!=O?O:""),es=(0,f.useCallback)(()=>{var e;if(A("artifact_download_click",void 0,{location:"artifact-controls",contentType:null!=(e=j.contentType)?e:"undefined"}),$){let e=document.createElement("a");e.href=$,e.target="_blank",e.download=E(j).replace(".tex",".pdf").replace(".txt",".pdf"),document.body.appendChild(e),e.click(),document.body.removeChild(e)}else if(O){let e=j.contentType||"plain/text",t=new Blob([(e.includes("text/html")?et.script:"")+O],{type:e}),s=window.URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download=E(j),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(s)}},[A,j,O,$,et.script]);return j.id?(0,a.jsxs)("div",{className:"flex w-full justify-between items-center me-2",children:[null!=S?S:null,J?(0,a.jsx)("div",{className:"pr-4",children:(0,a.jsx)(N,{artifact:j})}):null,(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[J&&"preview"===M?(0,a.jsxs)(i.m_,{delayDuration:300,children:[(0,a.jsx)(i.k$,{asChild:!0,children:(0,a.jsx)(o.$n,{variant:"ghost",size:"iconMd",rounded:!0,onClick:P,"aria-label":R("Refresh","Refresh"),children:(0,a.jsx)(r.V$7,{...U})})}),(0,a.jsx)(i.ZI,{children:(0,a.jsx)("p",{children:R("Refresh","Refresh")})})]}):null,(0,a.jsx)(z,{artifact:j,readOnly:I}),(0,a.jsxs)(i.m_,{delayDuration:300,children:[(0,a.jsx)(i.k$,{asChild:!0,children:(0,a.jsx)(o.$n,{variant:"ghost",size:"iconMd",rounded:!0,onClick:ee,"aria-label":R("Copy Contents","Copy Contents"),children:B?(0,a.jsx)(r.rAV,{...U}):(0,a.jsx)(r.TdU,{...U,size:16})})}),(0,a.jsx)(i.ZI,{children:(0,a.jsx)("p",{children:R("Copy Contents","Copy Contents")})})]}),(0,a.jsxs)(i.m_,{delayDuration:300,children:[(0,a.jsx)(i.k$,{asChild:!0,children:(0,a.jsx)(o.$n,{variant:"ghost",size:"iconMd",rounded:!0,onClick:es,"aria-label":R("Download to file","Download to file"),children:(0,a.jsx)(r.s3U,{...U,size:20})})}),(0,a.jsx)(i.ZI,{children:(0,a.jsx)("p",{children:R("Download to file","Download to file")})})]}),(0,a.jsx)(_,{artifact:j,iconProps:U}),!T&&L.SHOW_ARTIFACTS_SHARE_BUTTON?(0,a.jsxs)(i.m_,{delayDuration:300,children:[(0,a.jsx)(i.k$,{asChild:!0,children:(0,a.jsx)(o.$n,{variant:"ghost",size:"iconMd",rounded:!0,onClick:q,"aria-label":R("Publish artifact","Publish artifact"),children:(0,a.jsx)(r.liv,{...U})})}),(0,a.jsx)(i.ZI,{children:(0,a.jsx)("p",{children:V?R("Copied public link!","Copied public link!"):R("Publish artifact","Publish artifact")})})]}):null]})]}):null}let U={size:18,strokeWidth:2}},30388:(e,t,s)=>{"use strict";s.d(t,{X:()=>m,d:()=>d});var a=s(79342),n=s(85467),r=s(54314),o=s(84969),i=s(23054),c=s(65146);let l={SEARCHING:(0,a.jsx)(c.x6,{i18nKey:"loading.searching.label",defaults:"Searching",ns:"loading"}),RUNNING:(0,a.jsx)(c.x6,{i18nKey:"loading.running.label",defaults:"Running",ns:"loading"}),[n.boM.ProgressReportCategoryAttachmentsPreprocessing]:(0,a.jsx)(c.x6,{i18nKey:"loading.reading-attachments.label",defaults:"Reading attachments",ns:"loading"}),[n.boM.ProgressReportCategoryHistoryAttachmentsPreprocessing]:(0,a.jsx)(c.x6,{i18nKey:"loading.rereading-past-attachments.label",defaults:"Re-reading past attachments",ns:"loading"}),[n.boM.ProgressReportCategoryWebpageAttachmentsPreprocessing]:(0,a.jsx)(c.x6,{i18nKey:"loading.reading-webpages.label",defaults:"Reading webpages",ns:"loading"}),[n.boM.ProgressReportCategoryHistoryWebpageAttachmentsPreprocessing]:(0,a.jsx)(c.x6,{i18nKey:"loading.rereading-past-webpages.label",defaults:"Re-reading past webpages",ns:"loading"})};function d(e){let{state:t}=e;return(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,a.jsx)(g,{}),(0,a.jsx)(o.N,{children:t&&t!==n.boM.ProgressReportCategoryUnknown&&t!==n.boM.ToolProcessing&&t!==n.boM.HeavyRollout&&l[t]&&(0,a.jsx)(i.P.div,{initial:{width:0},animate:{width:"auto"},exit:{width:0},transition:{duration:.15},className:"overflow-hidden",children:(0,a.jsxs)("p",{className:"my-0 text-secondary text-base inline-block whitespace-nowrap",children:[l[t],"..."]})})})]})}let g=()=>{let{View:e}=(0,r.useLottie)({animationData:m,loop:!0});return(0,a.jsx)("div",{className:"w-[24px] h-[24px]",children:e})},m={v:"5.5.2",nm:"grok-thinking",ddd:0,assets:[],w:1024,h:988,ip:0,op:78,fr:30,fonts:{list:[]},layers:[{ty:4,st:0,ip:0,op:123,ks:{},shapes:[{ty:"gr",it:[{ty:"rc",p:{a:0,k:[569.810595,241.714867]},s:{a:0,k:[1139.62119,483.429734]},r:{a:0,k:0},d:1},{ty:"fl",o:{a:0,k:100},c:{a:0,k:[0,0,0]}},{ty:"tr",o:{a:0,k:100},a:{a:0,k:[569.810595,241.714867]},p:{a:1,k:[{t:0,s:[113.733773,564.995966],i:{x:1,y:1},o:{x:0,y:0}},{t:15,s:[113.733773,564.995966],i:{x:1,y:1},o:{x:0,y:0}},{t:36,s:[-676.07,1442.39],i:{x:1,y:1},o:{x:0,y:0}},{t:57,s:[113.733773,564.995966],i:{x:1,y:1},o:{x:0,y:0}}]},s:{a:0,k:[137.4256,99.6022]},r:{a:0,k:-45.378203}}]}],ind:4,parent:3,td:1},{ty:4,st:0,ip:0,op:123,ks:{a:{a:0,k:[512,551.470657]},p:{a:0,k:[512,551.470657]},s:{a:0,k:[85.8824,85.8824]}},shapes:[{ty:"gr",it:[{ty:"gr",it:[{ty:"sh",ks:{a:0,k:{v:[[325.226,695.251],[328.285,301.668],[634.026,240.596],[749.454,186.994],[671.424,144.2],[255.323,228.382],[171.613,646.833],[71.7385,904.916],[0,987.429],[325.139,695.339]],i:[[0,0],[-101.623,102.108],[-107.477,-45.342],[0,0],[30.583,11.423],[112.37,-112.917],[-58.369,-142.618],[72.0005,-76.098],[20.6216,-28.559],[0,0]],o:[[-119.098,-114.411],[75.146,-75.571],[0,0],[-20.797,-15.114],[-138.234,-57.2058],[-108.089,108.699],[43.603,106.59],[-25.5148,26.977],[0,0],[0,0]],c:!1}}},{ty:"fl",o:{a:0,k:100},c:{a:0,k:[.392157,.392157,.388235]}},{ty:"tr",o:{a:0,k:100},a:{a:0,k:[374.72699,551.468048]},p:{a:0,k:[374.72699,551.468048]}}]},{ty:"tr",o:{a:0,k:100}}]}],ind:3,tt:1,tp:4},{ty:4,st:0,ip:0,op:123,ks:{},shapes:[{ty:"gr",it:[{ty:"rc",p:{a:0,k:[582.994165,168.286976]},s:{a:0,k:[1165.988329,336.573951]},r:{a:0,k:0},d:1},{ty:"fl",o:{a:0,k:100},c:{a:0,k:[0,0,0]}},{ty:"tr",o:{a:0,k:100},a:{a:0,k:[582.994164,168.286975]},p:{a:1,k:[{t:0,s:[805.657936,505.258749],i:{x:1,y:1},o:{x:0,y:0}},{t:15,s:[805.657936,505.258749],i:{x:1,y:1},o:{x:0,y:0}},{t:36,s:[1622.776687,-337.800281],i:{x:1,y:1},o:{x:0,y:0}},{t:57,s:[805.657936,505.258749],i:{x:1,y:1},o:{x:0,y:0}}]},s:{a:0,k:[110.4386,134.7241]},r:{a:0,k:-48.435236}}]}],ind:2,parent:1,td:1},{ty:4,st:0,ip:0,op:123,ks:{a:{a:0,k:[512,494]},p:{a:0,k:[512,494]},s:{a:0,k:[85.8824,85.8824]}},shapes:[{ty:"gr",it:[{ty:"gr",it:[{ty:"sh",ks:{a:0,k:{v:[[395.479,633.828],[735.91,381.105],[784.406,392.792],[724.288,699.996],[419.247,760.277],[303.556,814.143],[796.901,773.282],[898.785,412.476],[899.047,412.739],[1016.4,10.6326],[1024,0],[883.144,141.651],[883.144,141.212],[395.392,633.916]],i:[[0,0],[0,0],[-7.952,-19.244],[83.273,-83.743],[105.904,41.827],[0,0],[-125.914,126.713],[28.923,123.461],[0,0],[-107.042,148.2414],[-2.53,3.60279],[0,0],[0,0],[0,0]],o:[[0,0],[16.689,-12.39],[41.854,101.493],[-83.272,83.743],[0,0],[165.934,114.059],[99.875,-100.439],[0,0],[-41.942,-181.369],[2.53,-3.51489],[0,0],[0,0],[0,0],[0,0]],c:!1}}},{ty:"fl",o:{a:0,k:100},c:{a:0,k:[.392157,.392157,.388235]}},{ty:"tr",o:{a:0,k:100},a:{a:0,k:[663.777985,442.921814]},p:{a:0,k:[663.777985,442.921814]}}]},{ty:"tr",o:{a:0,k:100}}]}],ind:1,tt:1,tp:2},{ty:4,st:0,ip:0,op:123,ks:{a:{a:0,k:[562.691091,556.173434]},p:{a:0,k:[541.363613,533.491393]}},shapes:[{ty:"rc",p:{a:0,k:[562.691092,556.173434]},s:{a:0,k:[1125.382183,1112.346868]},r:{a:0,k:0},d:1}]}]}},30532:(e,t,s)=>{"use strict";s.d(t,{s:()=>d});var a=s(79342),n=s(75500),r=s(61312),o=s(44347),i=s(88382),c=s(23054);function l(e){let{bubbleRef:t,isHighlighted:s,isUser:n,onHighlightEnd:o}=e,[l,d]=(0,i.useState)(!1);(0,i.useLayoutEffect)(()=>{s?d(!0):d(!1)},[s]);let[g,m]=(0,i.useState)(null);(0,i.useLayoutEffect)(()=>{if(l&&t.current){let e=t.current.getBoundingClientRect();m({width:e.width+32,height:e.height})}},[l,t]);let p=n?8:24,u=+!n,h="",f="",k=0,b=0,x="0 0 0 0";if(g){let{width:e,height:t}=g;x="0 0 ".concat(e," ").concat(t);let s=Math.max(0,t-24-p-2*u),a=Math.max(0,t-48-2*u),n=Math.max(0,e/2-24-u),r=Math.max(0,e/2-p-u);h="M ".concat(e/2," ").concat(u," H ").concat(e-24-u," Q ").concat(e-u," ").concat(u," ").concat(e-u," ").concat(24+u," V ").concat(t-p-u," Q ").concat(e-u," ").concat(t-u," ").concat(e-p-u," ").concat(t-u," H ").concat(e/2+.5),f="M ".concat(e/2," ").concat(u," H ").concat(24+u," Q ").concat(u," ").concat(u," ").concat(u," ").concat(24+u," V ").concat(t-24-u," Q ").concat(u," ").concat(t-u," ").concat(24+u," ").concat(t-u," H ").concat(e/2-.5),k=2*n+s+Math.PI/2*(24+p)+r-n+1,b=2*n+a+24*Math.PI+1}return l&&g?(0,a.jsxs)(c.P.svg,{className:(0,r.cn)("absolute h-full pointer-events-none text-secondary",n?"w-full inset-0":"w-[calc(100%+32px)] inset-y-0 inset-x-[-16px]"),viewBox:x,preserveAspectRatio:"none",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,a.jsx)(c.P.path,{d:h,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"".concat(k," ").concat(k),animate:{strokeDashoffset:[k,0,0,-k]},transition:{duration:1.8,ease:"easeInOut",times:[0,.222,.778,1]},onAnimationComplete:o,style:{vectorEffect:"non-scaling-stroke",strokeLinecap:"square"}}),(0,a.jsx)(c.P.path,{d:f,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"".concat(b," ").concat(b),animate:{strokeDashoffset:[b,0,0,-b]},transition:{duration:1.8,ease:"easeInOut",times:[0,.222,.778,1]},style:{vectorEffect:"non-scaling-stroke",strokeLinecap:"square"}})]}):null}function d(e){let{isUser:t,isIncognito:s,children:c,responseId:d}=e,[m,u]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=e=>{e.detail===d&&u(!0)};return window.addEventListener("highlightResponse",e),()=>{window.removeEventListener("highlightResponse",e)}},[d]);let h=(0,n.h)(),f=(0,o.C$)(e=>e.userSettings.preferences.enableTiptapEditorForQueryBar),k=h.ENABLE_TIPTAP_EDITOR&&f,b=(0,i.useCallback)(e=>{var t,s;if(!window)return;let a=window.getSelection();if(!a||!a.rangeCount)return;let n=a.getRangeAt(0),r=n.cloneContents(),o=document.createElement("div");o.appendChild(r);let i=o.querySelector(".message-bubble"),c=null!=i?i:o;c.querySelectorAll("*").forEach(e=>{g(e)&&e.remove()}),c.className="",Array.from(c.querySelectorAll("[class]")).forEach(e=>{e.removeAttribute("class")});let l=!!c.querySelector("p, div, h1, h2, h3, h4, h5, h6, ul, ol, li"),d=c.cloneNode(!0),m=p(n),u=l?d.innerHTML:function(e){let t=e.split("\n"),s=[],a="";for(let e=0;e<t.length;e++){let n=t[e];(null==n?void 0:n.trim())===""?a&&(s.push(a),a=""):a+=a?"\n".concat(n):n}return a&&s.push(a),s.filter(e=>""!==e).map(e=>'<p dir="auto" style="white-space: pre-wrap;">'.concat(e,"</p>")).join("\n")}(m);null==(t=e.clipboardData)||t.setData("text/plain",m),null==(s=e.clipboardData)||s.setData("text/html",u),e.preventDefault()},[]),x=(0,i.useRef)(null);return(0,a.jsxs)("div",{dir:"auto",ref:x,className:(0,r.cn)("message-bubble relative","rounded-3xl text-primary min-h-7","prose dark:prose-invert break-words","prose-p:opacity-100 prose-strong:opacity-100","prose-li:opacity-100 prose-ul:opacity-100 prose-ol:opacity-100","prose-ul:my-1 prose-ol:my-1 prose-li:my-2 last:prose-li:mb-3","prose-li:ps-1 prose-li:ms-1",t?"bg-surface-l2 border border-border-l1 max-w-[100%] sm:max-w-[90%] px-4 py-2.5 rounded-br-lg":"w-full max-w-none",t&&s&&"bg-purple-100 dark:bg-purple-800 dark:border-purple-700",t&&k&&"py-0"),onCopy:b,suppressHydrationWarning:!0,children:[c,(0,a.jsx)(l,{bubbleRef:x,isHighlighted:m,isUser:t,onHighlightEnd:()=>u(!1)})]})}let g=e=>{let t=window.getComputedStyle(e),s=e.tagName.toLowerCase();return"none"===t.userSelect||"none"===t.display||"hidden"===t.visibility||"button"===s||"input"===s||"select"===s||"textarea"===s||"button"===e.getAttribute("role")||e.classList.contains("no-copy")||e.hasAttribute("data-no-copy")},m=e=>"block"===window.getComputedStyle(e).display,p=e=>{let t=e.toString();if(!t.trim())return t;let s=e.cloneContents(),a=document.createElement("div");a.appendChild(s),a.querySelectorAll("*").forEach(e=>{g(e)&&e.remove()});let n="";return Array.from(a.childNodes).forEach(e=>{!function e(t){if(t.nodeType===Node.TEXT_NODE){let e=t.textContent||"";n+=e}else if(t.nodeType===Node.ELEMENT_NODE){let s=t.tagName.toLowerCase();Array.from(t.childNodes).forEach(t=>{e(t)}),m(t)?t.nextSibling&&n&&!n.endsWith("\n")&&(n+="\n"):"br"===s&&(n+="\n")}}(e)}),n.trim()}},30964:(e,t,s)=>{"use strict";s.d(t,{U:()=>b});var a=s(79342),n=s(38614),r=s(82591),o=s(11750),i=s(25859),c=s(69643),l=s(61312),d=s(87891),g=s(74995),m=s(88382),p=s(65146),u=s(91631),h=s(90210),f=s(5828),k=s(35501);function b(e){let{editor:t,editorHeader:s,editorSubheader:l,chat:b,assetId:w,conversationId:v,chatHeader:y,headerButtons:j,disableClear:N=!1}=e,[C,S]=(0,c.M)("files-tab-is-chat-open",!0),{t:I}=(0,p.Bd)("files"),T=(0,d.R)(e=>e.resetConversation),E=(0,n.aP)(e=>e.setConversationId),R=(0,n.aP)(g.A("conversationId")),A=(0,m.useCallback)(async()=>{w&&(await T(w),E(void 0))},[w,T,E]),_=(0,m.useMemo)(()=>[...j||[],!1===C?(0,a.jsx)(i.gx,{tooltipContent:I("Open Chat","Open Chat"),tooltipContentProps:{className:"text-xs"},tooltipProps:{delayDuration:300},onClick:()=>S(!0),shape:"square",variant:"tertiary",size:"sm","aria-label":I("Open Chat","Open Chat"),children:(0,a.jsx)(o.PBN,{size:18})},"open-chat-button"):null],[j,C,I,S]);return(0,a.jsxs)(u.YZ,{direction:"horizontal",autoSaveId:"workbench",className:"bg-surface-l1 dark:bg-surface-inset",children:[(0,a.jsx)(u.Zk,{order:1,minSize:50,defaultSize:100,className:"flex flex-col max-h-[100vh] h-[100vh] relative",children:(0,a.jsxs)("div",{className:"flex flex-col h-full max-h-full",children:[s?(0,a.jsxs)("div",{className:"min-h-header-height flex items-center justify-between px-4 h-16",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center gap-2 w-full",children:[(0,a.jsx)(f.e,{variant:"tertiary",size:"sm",shape:"square"}),s]}),_.length>0?(0,a.jsx)("div",{className:"flex gap-2 items-center",children:m.Children.toArray(_)}):null]}):(0,a.jsx)(f.e,{variant:"tertiary",size:"sm",shape:"square"}),l?(0,a.jsx)("div",{className:"h-subheader-height px-2 flex items-center justify-between border-b-[1px] border-border",children:l}):null,(0,a.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,a.jsx)("div",{className:"w-full max-w-full h-full max-h-full",children:(0,a.jsx)(r.t,{fallbackRender:()=>(0,a.jsx)(k.f,{}),children:t})})})]})}),(0,a.jsx)(h.X,{className:"my-10 border-transparent"}),(0,a.jsxs)(x,{isOpen:C,minSize:36,defaultSize:36,children:[(0,a.jsxs)("header",{className:"px-4 flex items-center justify-between gap-2 h-header-height",children:[null!=y?y:(0,a.jsx)("div",{className:"font-semibold select-none px-1",children:I("files-tab-conversation-header","File Chat")}),(0,a.jsxs)("div",{className:"flex gap-1",children:[N?null:(0,a.jsx)(i.gx,{tooltipContent:I("New Chat","New Chat"),tooltipContentProps:{className:"text-xs"},tooltipProps:{delayDuration:300},shape:"square",variant:"tertiary",size:"sm",disabled:!(null!=v?v:R),className:"rounded-full no-a11y-check text-secondary",onClick:A,children:(0,a.jsx)(o.cJ,{size:18})}),(0,a.jsx)(i.gx,{tooltipContent:I("Close Chat","Close Chat"),tooltipContentProps:{className:"text-xs"},tooltipProps:{delayDuration:300},shape:"square",variant:"tertiary",size:"sm",className:"no-a11y-check text-secondary",onClick:()=>S(!1),children:(0,a.jsx)(o.uv5,{size:18})})]})]}),(0,a.jsx)("section",{className:"flex-1 overflow-hidden [&_.chat-input-backdrop]:bg-background dark:[&_.chat-input-backdrop]:bg-surface-l1",children:b})]})]})}let x=e=>{let{children:t,isOpen:s,minSize:n,defaultSize:r}=e,o=(0,m.useRef)(!1);return(0,m.useEffect)(()=>{let e=setTimeout(()=>{o.current=!0},1e3);return()=>clearTimeout(e)},[]),(0,a.jsx)(u.Zk,{order:2,minSize:n,defaultSize:r,className:(0,l.cn)("h-full right-0",o.current?"transition-all duration-300":void 0,s?"max-w-full w-full opacity-100":"w-0 max-w-0 opacity-0 py-0 pr-0"),children:(0,a.jsx)("div",{className:"dark:bg-surface-l1 bg-background h-full flex flex-col justify-between overflow-hidden border-l border-border-l1",children:t})})}},31651:(e,t,s)=>{"use strict";s.d(t,{K:()=>n,c:()=>r});var a=s(3547);function n(e){return"l:".concat(e.icon,":").concat(e.color)}function r(e){let t=RegExp("^l:(?<icon>[^:]+):(?<color>[^:]+)$"),s=e.match(t);if(null==s?void 0:s.groups){let{color:e,icon:t}=s.groups;if(a.Tj.includes(e)&&a.Pt[t])return{color:e,icon:t}}return null}},32519:(e,t,s)=>{"use strict";s.d(t,{q:()=>o});var a=s(79342),n=s(61312),r=s(65146);function o(e){let{className:t}=e,{t:s}=(0,r.Bd)("base");return(0,a.jsx)("span",{className:(0,n.cn)("inline-flex items-center justify-center rounded-full bg-gray-100 px-1.5 py-0.5 text-[9px] font-medium text-gray-800 border border-grey-200",t),children:s("beta","beta")})}},32568:(e,t,s)=>{"use strict";s.d(t,{Ns:()=>x,Ol:()=>N,Qc:()=>d,US:()=>u,bE:()=>f,rn:()=>p,vs:()=>g,x3:()=>y});var a=s(36210),n=s(71540),r=s(25603),o=s(6753),i=s(83522),c=s(36928);let l=new Set(["CellToken","RangeToken","RowRangeToken","ColRangeToken","ReferenceItem","Reference"]);function d(){return[f,c.kZ,n.Nb.highest(v)]}let g=n.Pe.define(),m=e=>-1===e||e===Number.MAX_SAFE_INTEGER||e===1/0;class p{get isColSelection(){let[e,t]=this.anchor,[s,a]=this.head;return m(t)||m(a)}get isRowSelection(){let[e,t]=this.anchor,[s,a]=this.head;return m(e)||m(s)}get isAllSelection(){return this.isColSelection&&this.isRowSelection}get isCellSelection(){let[e,t]=this.anchor,[s,a]=this.head;return!this.isColSelection&&!this.isRowSelection&&e===s&&t===a}get isRangeSelection(){let[e,t]=this.anchor,[s,a]=this.head;return!this.isCellSelection&&e!==s||t!==a}eq(e){return e.anchor[0]===this.anchor[0]&&e.anchor[1]===this.anchor[1]&&e.head[0]===this.head[0]&&e.head[1]===this.head[1]}get address(){let[e,t]=this.anchor,[s,a]=this.head;return this.isRowSelection?"".concat((0,o.g_)(t),":").concat((0,o.g_)(a)):this.isColSelection?"".concat((0,o.c5)(e),":").concat((0,o.c5)(s)):this.isCellSelection?"".concat((0,o.c5)(e)).concat((0,o.g_)(t)):this.isRangeSelection?"".concat((0,o.c5)(e)).concat((0,o.g_)(t),":").concat((0,o.c5)(s)).concat((0,o.g_)(a)):""}get rect(){let[e,t]=this.anchor,[s,a]=this.head;return this.isAllSelection?{x:0,y:0,width:Number.MAX_SAFE_INTEGER,height:Number.MAX_SAFE_INTEGER}:this.isColSelection?{x:Math.min(e,s),y:0,width:Math.abs(s-e)+1,height:Number.MAX_SAFE_INTEGER}:this.isRowSelection?{x:0,y:Math.min(t,a),width:Number.MAX_SAFE_INTEGER,height:Math.abs(a-t)+1}:{x:Math.min(e,s),y:Math.min(t,a),width:Math.abs(s-e)+1,height:Math.abs(a-t)+1}}get rangeId(){return JSON.stringify(this.rect)}get reversed(){return new p(this.head,this.anchor)}eqRange(e){return this.rangeId===e.rangeId}constructor(e,t=e){this.anchor=e,this.head=t}}var u=function(e){return e.Ready="Ready",e.Enter="Enter",e.Point="Point",e.Edit="Edit",e}({});let h={mode:"Enter"},f=n.sU.define({create:()=>({mode:"Enter"}),update(e,t){for(let e of t.effects)if(e.is(g))return e.value;return(t.docChanged||t.selection)&&("Enter"===e.mode||"Point"===e.mode)?j(t.state):e},provide:e=>i._7.from(e,e=>{if("Point"!==e.mode)return[];let{anchor:t,head:s}=e.cellSelection,a=new p(t,s);return[{from:e.range.from,to:e.range.to,selection:a}]})}),k=r.NZ.widget({widget:new class extends r.xO{toDOM(){let e=document.createElement("span");return e.textContent="⎵",e.className="cm-cell-range-marker",e}ignoreEvent(){return!1}},side:1}),b=r.NZ.mark({class:"cm-underline"});function x(e){let t=e.field(f,!1);return!!t&&"Enter"===t.mode&&e.selection.main.empty&&function(e,t){let s=(0,a.mv)(e).resolve(t,-1);for(;s;){let e=s.name;if("TextToken"===e||"Number"===e||"BoolToken"===e||"ErrorToken"===e)break;if("CellToken"===e||"RowRangeToken"===e||"ColRangeToken"===e||"RangeToken"===e||"ReferenceItem"===e||"Reference"===e||"ArithOp"===e||"ArgList"===e||"Separator"===e||"FormulaWithEq"===e||"Formula"===e)return!0;s=s.parent}return!1}(e,e.selection.main.head)}class w{update(e){this.decorations=this.buildDeco(e.view)}buildDeco(e){let t=e.state,s=e.state.field(f,!1),a=new n.vB;if(!s||!e.hasFocus)return a.finish();if("Point"===s.mode&&a.add(s.range.from,s.range.to,b),x(e.state)){let e=t.selection.main.to;a.add(e,e,k)}return a.finish()}constructor(e){this.view=e,this.decorations=this.buildDeco(e)}}let v=r.Z9.fromClass(w,{decorations:e=>e.decorations});function y(e,t){let s=e.state.field(f,!1);return!(!s||!e.hasFocus||e.dom.contains(t.target))&&("Point"===s.mode||x(e.state))}function j(e){let t=e.selection.main;if(!t.empty)return h;let s=function(e,t){let s=s=>{let n,r=(0,a.mv)(e).resolve(t,s);for(;r;)l.has(r.name)&&(n=r),r=r.parent;return n};return s(-1)||s(1)}(e,t.head);if(!s)return h;let n=e.sliceDoc(s.from,s.to),r=(0,o.tf)(n);return r?{mode:"Point",range:s,cellSelection:{sheet:0,anchor:[...r.anchor],head:[...r.head]}}:h}function N(e){let t=e.state.field(f,!1);if(!t)return!1;switch(t.mode){case"Ready":case"Edit":{let t=j(e.state);return e.dispatch({effects:g.of(t)}),!0}case"Point":case"Enter":return e.dispatch({effects:g.of({mode:"Edit"})}),!0;default:return!1}}},33018:(e,t,s)=>{"use strict";s.d(t,{H:()=>Y});var a=s(79342),n=s(39489),r=s(11750),o=s(10084),i=s(56691),c=s(80226),l=s(75500),d=s(4878),g=s(12220),m=s(17703),p=s(6063),u=s(61312),h=s(56907),f=s(16506),k=s(88382),b=s(65146),x=s(14486),w=s(93192),v=s(6980),y=s(60059),j=s(4169),N=s(82591),C=s(38541),S=s.n(C),I=s(31353),T=s(12112);s(72115);var E=s(38614),R=s(84969),A=s(23054),_=s(54314),O=s(30388),P=s(56521),M=s(44347),L=s(70888),D=s(84499),B=function(e){return e.LOADING="LOADING",e.ERROR="ERROR",e.READY="READY",e}(B||{});let z={currentScale:"auto",currentPage:1,totalPages:0,loadingState:"LOADING",searchQuery:"",matchCount:0,currentMatch:0};I.EA.workerSrc=new s.U(s(87361)).toString();let F=e=>function(){let{t}=(0,b.Bd)("chat");return(0,a.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2 select-none",children:[t("Could not load document.","Could not load document."),e&&(0,a.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",children:(0,a.jsxs)(i.$n,{variant:"secondary",children:[t("Open in new tab","Open in new tab")," ",(0,a.jsx)(r.pTT,{className:"w-4 h-4"})]})})]})};function U(e){let{assetUrl:t}=e;return(0,a.jsx)(N.t,{FallbackComponent:F(t),children:(0,a.jsx)(V,{assetUrl:t})})}function V(e){let{assetUrl:t}=e,{t:s}=(0,b.Bd)("chat"),[n,r]=(0,k.useState)(z),o=function(e){let t=(0,k.useRef)(null);return(0,k.useEffect)(()=>{let s=t.current,a=new ResizeObserver(t=>{if(0===t.length||void 0===t[0])return;let{width:s,height:a}=t[0].contentRect;e({width:s,height:a})});return s&&a.observe(s),()=>{s&&a.unobserve(s)}},[e]),t}((0,k.useMemo)(()=>S().debounce(()=>{c.current&&"auto"===n.currentScale&&(c.current.currentScaleValue="auto")},100),[n.currentScale])),i=(0,k.useRef)(null),c=(0,k.useRef)(null),d=(0,k.useRef)(null),[g,p]=(0,k.useState)(null),u=(0,k.useRef)(null),h=(0,l.h)(),f=(0,L.x)(e=>e.listByConversationId),x=(0,L.x)(e=>e.attachListByConversationId),{route:w}=(0,D.wK)(),v="files"===w.page,y=v?w.fileId:null,[j,N]=(0,k.useState)(!1),[C,R]=(0,k.useState)(),[A,_]=(0,k.useState)({top:0,left:0}),[O,B]=(0,k.useState)(160),F=(0,k.useRef)(null);(0,k.useEffect)(()=>{if(j&&F.current){let e=F.current.offsetWidth;e>0&&e!==O&&B(e)}},[j,O]);let[U,V]=(0,k.useState)(!1),H=(0,k.useRef)(null),q=(0,k.useCallback)(e=>{!c.current||e<1||e>n.totalPages||(c.current.currentPageNumber=e)},[n.totalPages]),[Y,Q]=(0,k.useState)(!1),[$,Z]=(0,k.useState)("1"),J=(0,k.useRef)(null),ee=(0,k.useCallback)(()=>{Q(!0),Z(n.currentPage.toString()),setTimeout(()=>{var e,t;null==(e=J.current)||e.focus(),null==(t=J.current)||t.select()},0)},[n.currentPage]),et=(0,k.useCallback)(e=>{let t=e.target.value;/^\d*$/.test(t)&&Z(t)},[]),es=(0,k.useCallback)(e=>{if("Enter"===e.key){let e=parseInt($);!isNaN(e)&&e>=1&&e<=n.totalPages&&q(e),Q(!1)}else"Escape"===e.key&&Q(!1)},[$,n.totalPages,q]),ea=(0,k.useCallback)(()=>{Q(!1)},[]),en=(0,k.useCallback)(e=>{if(!c.current||!i.current)return;let t=c.current,s=t.currentPageNumber,a="auto"===e?"auto":t.currentScale+e;t.currentScaleValue=a.toString(),setTimeout(()=>{t.currentPageNumber!==s&&(t.currentPageNumber=s),t.scrollPageIntoView({pageNumber:s,destArray:[null,{name:"XYZ"},0,null,null]})},0),r(e=>({...e,currentScale:a}))},[]),er=(0,k.useCallback)(()=>{en(.1)},[en]),eo=(0,k.useCallback)(()=>{en(-.1)},[en]),ei=(0,k.useMemo)(()=>S().debounce(e=>{if(!d.current||!e.trim()){d.current&&d.current.dispatch("find",{query:"",phraseSearch:!1,caseSensitive:!1,entireWord:!1,highlightAll:!1,findPrevious:!1});return}d.current.dispatch("find",{query:e.trim(),source:c.current,type:"find",phraseSearch:!1,caseSensitive:!1,entireWord:!1,highlightAll:!0,findPrevious:!1})},300),[d]),ec=(0,k.useCallback)(e=>{let t=e.target.value;r(e=>({...e,searchQuery:t})),ei(t)},[ei]),el=(0,k.useCallback)(()=>{V(e=>{let t=!e;return t?setTimeout(()=>{var e;null==(e=H.current)||e.focus()},0):(r(e=>({...e,searchQuery:""})),ei("")),t})},[ei]),ed=(0,k.useCallback)(e=>{"Escape"===e.key?el():"Enter"===e.key&&(e.preventDefault(),d.current&&n.searchQuery.trim()&&d.current.dispatch("find",{source:c.current,type:"again",query:n.searchQuery.trim(),phraseSearch:!1,caseSensitive:!1,entireWord:!1,highlightAll:!0,findPrevious:e.shiftKey}))},[n.searchQuery,el]),eg=(0,k.useCallback)(()=>{d.current&&n.searchQuery.trim()&&d.current.dispatch("find",{source:c.current,type:"again",query:n.searchQuery.trim(),phraseSearch:!1,caseSensitive:!1,entireWord:!1,highlightAll:!0,findPrevious:!1})},[n.searchQuery]),em=(0,k.useCallback)(()=>{d.current&&n.searchQuery.trim()&&d.current.dispatch("find",{source:c.current,type:"again",query:n.searchQuery.trim(),phraseSearch:!1,caseSensitive:!1,entireWord:!1,highlightAll:!0,findPrevious:!0})},[n.searchQuery]);(0,k.useEffect)(()=>{if(i.current&&g&&o.current){if(!c.current){let e=d.current=new T.l7,t=new T.uU({eventBus:e});u.current=t;let s=new T.yL({eventBus:e,linkService:t});c.current=new T.TO({container:i.current,eventBus:e,linkService:t,findController:s,removePageBorders:!0,enableDetailCanvas:!0}),c.current.currentScaleValue="auto",t.setViewer(c.current),e.on("pagesinit",()=>{en("auto"),c.current&&r(e=>{var t,s;return{...e,totalPages:null!=(s=null==(t=c.current)?void 0:t.pagesCount)?s:0,loadingState:"READY"}})}),e.on("pagechanging",e=>{r(t=>({...t,currentPage:e.pageNumber})),Z(e.pageNumber.toString())}),e.on("updatefindmatchescount",e=>{r(t=>({...t,matchCount:e.matchesCount.total,currentMatch:e.matchesCount.current}))}),e.on("updatefindcontrolstate",e=>{r(t=>({...t,matchCount:e.matchesCount.total,currentMatch:e.matchesCount.current}))})}c.current&&u.current&&(c.current.currentScaleValue="auto",c.current.setDocument(g),u.current.setDocument(g,null))}},[g,en,o]),(0,k.useEffect)(()=>{let e=e=>{let t=window.getSelection();t&&0!==t.rangeCount&&0!==t.toString().trim().length||(N(!1),R(void 0))};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[]);let ep=(0,k.useCallback)(e=>{(0,m.iu)("text-selection",void 0,{assetUrl:t||"unknown",location:"chat-pdf-viewer"});let s=window.getSelection();if(s&&s.rangeCount>0){var a;let t=s.getRangeAt(0);if(t.collapsed||0===t.toString().trim().length){N(!1),R(void 0);return}let n=document.createRange();n.setStart(t.startContainer,t.startOffset);let r=t.startContainer.nodeType===Node.TEXT_NODE&&(null==(a=t.startContainer.textContent)?void 0:a.length)||0,o=Math.min(t.startOffset+1,r);n.setEnd(t.startContainer,o);let i=n.getBoundingClientRect(),c=e.currentTarget.getBoundingClientRect(),l=e.currentTarget.scrollTop,d=e.currentTarget.scrollLeft,g=i.left-c.left+d,m=i.top-c.top+l-40,p=c.width,u=g,h=p-O-16;_({top:m,left:u=Math.min(u=Math.max(u,16),h)}),R(t),N(!0)}else N(!1),R(void 0)},[O,t]),eu=(0,k.useCallback)(()=>{if((0,m.iu)("add_to_chat_clicked",void 0,{location:"chat-pdf-viewer"}),C){var e;let t=C.toString().trim();t&&E.aP.getState().setQuotedText(t),N(!1),R(void 0),null==(e=window.getSelection())||e.removeAllRanges()}},[C]),eh=(0,k.useMemo)(()=>s("Explain this","Explain this"),[s]),ef=(0,k.useMemo)(()=>s("Explain this from the document:","Explain this from the document:"),[s]),ek=(0,k.useCallback)(async()=>{var e;(0,m.iu)("explain_clicked",void 0,{location:"chat-pdf-viewer"});let t=null;if(C&&(t=C.toString().trim()),N(!1),R(void 0),null==(e=window.getSelection())||e.removeAllRanges(),t){let e=E.aP.getState(),s=M.C$.getState(),a=e.conversationId||"no_conversation_id",n=f[a]||[],r=x[a]||[],o=n.map(e=>e.metadata).filter(e=>e&&!(e instanceof Error)),i=[...r],c=[...o.map(e=>e.fileMetadataId),...i.map(e=>e.assetId)];y&&c.push(y);let l=L.x.getState();l.removeByConversationId(a),l.removeAttachByConversationId(a),e.conversationId?await e.sendResponse({message:eh,parentQuotedText:t,enableRetries:h.ENABLE_AUTO_STREAM_RETRY,parentResponseId:e.lastMessageId,conversationId:e.conversationId,fileAttachmentIds:c,webpageUrls:[],setOpimisticUserResponse:!0,setUserResponse:!0,isFromGrokFiles:v,ff:h}):await e.establishNewConversation({message:ef+" "+t,fileAttachmentIds:c,webpageUrls:[],toolOverrides:void 0,temporary:s.isIncognito,enableRetries:h.ENABLE_AUTO_STREAM_RETRY,isFromGrokFiles:v,ff:h,persona:void 0,disableMemory:!1}).catch(e=>{(0,m.vV)("chat-pdf-viewer:establishNewConversation",e)})}},[C,h,eh,x,f,ef,v,y]),eb=(0,k.useCallback)(async()=>{if(t){r(z),V(!1);let e=await (0,P.h)(t,{credentials:"include"});if(!e.ok){console.error("Failed to fetch PDF:",e.statusText),(0,m.vV)("Failed to fetch PDF:",e.statusText),r(e=>({...e,loadingState:"ERROR"}));return}let s=await e.arrayBuffer();p(await (0,I.YE)({data:s}).promise)}},[t]);return(0,k.useEffect)(()=>{(0,m.iu)("load_pdf",void 0,{location:"chat-pdf-viewer"}),eb()},[t,eb]),(0,a.jsxs)("div",{className:"w-full h-full overflow-hidden",children:[(0,a.jsx)(W,{loadingState:n.loadingState,assetUrl:t,onRetry:eb}),(0,a.jsx)(G,{showSearchBox:U,searchQuery:n.searchQuery,matchCount:n.matchCount,currentMatch:n.currentMatch,searchInputRef:H,onSearchChange:ec,onSearchKeyDown:ed,onFindPrevious:em,onFindNext:eg,onToggleSearchBox:el}),(0,a.jsx)(K,{isEditingPage:Y,pageInputValue:$,loadingState:n.loadingState,currentPage:n.currentPage,totalPages:n.totalPages,currentScale:n.currentScale,pageInputRef:J,onToggleSearchBox:el,onPageClick:ee,onPageInputChange:et,onPageInputKeyDown:es,onPageInputBlur:ea,onZoomIn:er,onZoomOut:eo}),(0,a.jsx)(X,{outerRef:o,containerNodeRef:i,showQuotePopup:j,selectionRange:C,popupPosition:A,popupRef:F,onMouseUp:ep,onAddToChat:eu,onExplain:ek})]})}let H=()=>{let{View:e}=(0,_.useLottie)({animationData:O.X,loop:!0});return(0,a.jsx)("div",{className:"w-[64px] h-[64px]",children:e})},W=e=>{let{loadingState:t,assetUrl:s,onRetry:n}=e,{t:o}=(0,b.Bd)("chat");return(0,a.jsxs)(R.N,{children:["LOADING"===t&&(0,a.jsx)(A.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 bg-surface-l1 flex items-center justify-center z-50",children:(0,a.jsx)(H,{})}),"ERROR"===t&&(0,a.jsxs)(A.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 bg-surface-l1 flex flex-col items-center justify-center z-50 gap-3",children:[(0,a.jsx)("p",{children:o("Something went wrong when loading the document.","Something went wrong when loading the document.")}),(0,a.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,a.jsx)(i.$n,{variant:"filledSecondary",onClick:n,children:o("Retry","Retry")}),s&&(0,a.jsx)("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:(0,a.jsxs)(i.$n,{variant:"filledSecondary",children:[o("Open in New Tab","Open in New Tab"),(0,a.jsx)(r.pTT,{className:"h-4 w-4"})]})})]})]})]})},G=e=>{let{showSearchBox:t,searchQuery:s,matchCount:n,currentMatch:o,searchInputRef:i,onSearchChange:c,onSearchKeyDown:l,onFindPrevious:d,onFindNext:g,onToggleSearchBox:m}=e,{t:p}=(0,b.Bd)("chat");return(0,a.jsx)(R.N,{children:t&&(0,a.jsx)(A.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.1},className:"absolute top-14 left-4 z-40 bg-surface-l2 border border-border-l1 rounded-lg p-2 shadow-sm w-[min(325px,calc(100%-1rem))]",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[(0,a.jsx)(r.vji,{className:"h-4 w-4 text-text-secondary flex-shrink-0"}),(0,a.jsx)("input",{ref:i,type:"text",value:s,onChange:c,onKeyDown:l,placeholder:p("Search","Search"),className:"bg-transparent border-none outline-none text-sm placeholder-text-secondary flex-grow min-w-0"}),(0,a.jsx)("div",{className:"flex items-center gap-1 text-xs text-secondary w-[50px] justify-end flex-shrink-0 select-none",children:n>0?(0,a.jsxs)("span",{children:[o,"/",n]}):(0,a.jsx)("span",{className:"invisible",children:"0/0"})}),(0,a.jsx)("button",{onClick:d,className:"p-1 hover:bg-surface-l3 rounded transition-colors flex-shrink-0",title:p("Previous result","Previous result"),disabled:!s.trim(),children:(0,a.jsx)(r.rXn,{className:"h-3 w-3"})}),(0,a.jsx)("button",{onClick:g,className:"p-1 hover:bg-surface-l3 rounded transition-colors flex-shrink-0",title:p("Next result","Next result"),disabled:!s.trim(),children:(0,a.jsx)(r.yQN,{className:"h-3 w-3"})}),(0,a.jsx)("button",{onClick:m,className:"p-1 hover:bg-surface-l3 rounded transition-colors flex-shrink-0",title:p("Close search","Close search"),children:(0,a.jsx)(r.X,{className:"h-3 w-3"})})]})})})},K=e=>{let{isEditingPage:t,pageInputValue:s,loadingState:n,currentPage:o,totalPages:c,currentScale:l,pageInputRef:d,onToggleSearchBox:g,onPageClick:m,onPageInputChange:p,onPageInputKeyDown:u,onPageInputBlur:h,onZoomIn:f,onZoomOut:k}=e,{t:x}=(0,b.Bd)("chat");return(0,a.jsxs)("div",{className:"absolute xs:top-1 sm:top-3 right-[50%] translate-x-1/2 flex gap-1 items-center z-40 bg-surface-l2 rounded-full",children:[(0,a.jsx)(i.gx,{onClick:g,variant:"ghost",size:"icon",className:"rounded-full",tooltipContent:x("Search","Search"),children:(0,a.jsx)(r.vji,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"w-px h-6 bg-border-l1"}),(0,a.jsx)("div",{className:"flex items-center gap-1 px-1",children:t?(0,a.jsx)("input",{ref:d,type:"text","aria-label":x("Page number","Page number"),placeholder:x("Page","Page"),value:s,onChange:p,onKeyDown:u,onBlur:h,className:"w-[75px] bg-chip rounded-md border-none outline-none text-sm text-center py-1 min-w-[60px]"}):(0,a.jsx)(i.gx,{variant:"ghost",size:"default",className:"text-sm text-text-secondary min-w-[75px] px-1 text-center select-none cursor-pointer",onClick:m,tooltipContent:x("Go to page","Go to page"),children:"LOADING"===n?"...":"".concat(o," / ").concat(c)})}),(0,a.jsx)("div",{className:"w-px h-6 bg-border-l1"})]}),(0,a.jsx)(i.gx,{variant:"ghost",size:"icon",className:"rounded-full",tooltipContent:x("Zoom out","Zoom out"),onClick:k,disabled:"number"==typeof l&&l<=.2,children:(0,a.jsx)(r.Hsy,{className:"h-4 w-4"})}),(0,a.jsx)(i.gx,{onClick:f,variant:"ghost",size:"icon",className:"rounded-full",tooltipContent:x("Zoom in","Zoom in"),disabled:"number"==typeof l&&l>=5,children:(0,a.jsx)(r.FWt,{className:"h-4 w-4"})})]})},q=e=>{let{showQuotePopup:t,selectionRange:s,popupPosition:n,popupRef:o,onAddToChat:i,onExplain:c}=e,{t:l}=(0,b.Bd)("chat");return(0,a.jsx)(R.N,{children:t&&s&&(0,a.jsxs)(A.P.div,{ref:o,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.1},className:"absolute bg-surface-l2 px-1 py-1 rounded-full text-sm shadow-sm ring-border-l1 ring-1 ring-inset z-50 flex items-center whitespace-nowrap",style:{top:"".concat(n.top,"px"),left:"".concat(n.left,"px")},children:[(0,a.jsxs)("button",{className:"pl-2 pr-1 py-1 rounded-l-full hover:bg-surface-l1 transition-colors flex items-center cursor-pointer",onClick:i,children:[(0,a.jsx)(j.u,{className:"me-1.5 h-4 w-4 flex-shrink-0"}),l("Quote","Quote")]}),(0,a.jsx)("div",{className:"w-px h-4 bg-border-l1 mx-1"}),(0,a.jsxs)("button",{className:"pr-2 pl-1 py-1 rounded-r-full hover:bg-surface-l1 transition-colors flex items-center cursor-pointer",onClick:c,children:[(0,a.jsx)(r.TUP,{className:"me-1.5 h-4 w-4 flex-shrink-0"}),l("Explain","Explain")]})]})})},X=e=>{let{outerRef:t,containerNodeRef:s,showQuotePopup:n,selectionRange:r,popupPosition:o,popupRef:i,onMouseUp:c,onAddToChat:l,onExplain:d}=e;return(0,a.jsx)("div",{className:"relative w-full h-full",ref:t,children:(0,a.jsxs)("div",{ref:s,onMouseUp:c,className:"absolute left-0 top-0 right-0 bottom-0 overflow-auto",children:[(0,a.jsx)("div",{className:"pdfViewer"}),(0,a.jsx)(q,{showQuotePopup:n,selectionRange:r,popupPosition:o,popupRef:i,onAddToChat:l,onExplain:d})]})})};function Y(e){let{fileMetadata:t,onClose:s,useRawFileURI:r,hideEdit:o,className:i}=e,c=(0,l.h)(),{ASSET_SERVER_URL:g}=(0,n.v)(),m=r?t.fileUri:(0,d.sU)(g,t.fileUri);if(c.ENABLE_CSV_RENDERING&&p.Ig.includes(t.fileMimeType)){let e=(0,u.cn)("flex flex-col items-center justify-center size-full mx-auto",i);return(0,a.jsx)(w.fE,{assetUrl:m,className:e})}if(c.ENABLE_XLSX_RENDERING&&p.f9.includes(t.fileMimeType)){let e=(0,u.cn)("flex flex-col items-center justify-center size-full mx-auto",i);return(0,a.jsx)(v.f,{assetUrl:m,fileMetadata:t,className:e})}if(t.fileMimeType.startsWith("text/"))return(0,a.jsx)($,{assetUrl:m,fileMetadata:t,className:i});switch(t.fileMimeType){case"image/jpeg":case"image/png":case"image/webp":return(0,a.jsx)(Q,{assetUrl:m,fileMetadata:t,onClose:s,hideEdit:o});case"application/json":case"application/csv":case"application/x-yaml":case"application/xml":case"application/toml":case"":return(0,a.jsx)($,{className:i,assetUrl:m,fileMetadata:t});case"image/heic":case"image/heif":case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":case"application/vnd.ms-powerpoint":return(0,a.jsx)(Z,{assetUrl:m,fileMetadata:t});case"application/pdf":if(c.ENABLE_PDF_READER)return(0,a.jsx)(U,{assetUrl:m});return(0,a.jsx)(J,{assetUrl:m,fileMetadata:t});default:return(0,a.jsx)(J,{assetUrl:m,fileMetadata:t})}}function Q(e){let{assetUrl:t,fileMetadata:s,showControls:n=!1,onClose:l,hideEdit:d}=e,[p,u]=(0,k.useState)(!0),{t:h}=(0,b.Bd)("chat");(0,k.useEffect)(()=>{if(!t)return void u(!1);let e=new Image;return e.src=t,e.onload=()=>u(!1),e.onerror=()=>{var e;(e=t).startsWith("https://assets.grokusercontent.com/")&&(0,P.h)(e,{method:"GET",credentials:"include"}),u(!1)},()=>{e.onload=null,e.onerror=null}},[t]);let f=(0,k.useCallback)(()=>{t&&(0,g.G)(t,s.fileName).catch((0,m.HX)("chat-asset-viewer:handleDownloadImage"))},[t,s]);return n?(0,a.jsx)("div",{className:"flex flex-col items-center justify-center w-full max-w-4xl mx-auto","data-vaul-no-drag":!0,children:(0,a.jsx)("div",{className:"relative w-full max-w-4xl mx-auto",children:(0,a.jsx)(x.GT,{initialScale:1,initialPositionX:0,initialPositionY:0,children:e=>{let{zoomIn:n,zoomOut:o,resetTransform:l}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"absolute end-4 bottom-4 z-10 flex space-x-1 rounded-full bg-background p-1 opacity-80",children:[(0,a.jsx)(i.$n,{onClick:()=>n(),variant:"ghost",size:"iconSm",className:"text-primary hover:bg-foreground","aria-label":"Zoom In",children:(0,a.jsx)(r.$Zd,{className:"h-4 w-4"})}),(0,a.jsx)(i.$n,{onClick:()=>o(),variant:"ghost",size:"iconSm",className:"text-primary hover:bg-foreground","aria-label":"Zoom Out",children:(0,a.jsx)(r.enP,{className:"h-4 w-4"})}),(0,a.jsx)(i.$n,{onClick:()=>l(),variant:"ghost",size:"iconSm",className:"text-primary hover:bg-foreground","aria-label":"Reset Zoom",children:(0,a.jsx)(r.Hbd,{className:"h-4 w-4"})}),(0,a.jsx)(i.$n,{onClick:f,variant:"ghost",size:"iconSm",className:"text-primary hover:bg-foreground","aria-label":"Reset Zoom",children:(0,a.jsx)(r.s3U,{className:"h-4 w-4"})})]}),(0,a.jsx)(x.WZ,{wrapperClass:"!w-full bg-primary/50 rounded-lg",children:(0,a.jsx)("img",{src:t,alt:s.fileName,className:"w-full h-auto shadow-md",onLoad:()=>o(),style:{maxHeight:"70vh"}})}),p&&(0,a.jsx)(c.E,{className:"w-full h-[70vh] rounded-lg"})]})}})})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{src:t,alt:s.fileName,className:"w-[94vw] max-h-[calc(100vh-10rem)] max-w-5xl xl:max-w-6xl shadow cursor-pointer rounded-xl lg:w-fit object-contain"}),t&&!d&&(0,a.jsx)("div",{className:"w-full flex justify-center absolute bottom-3 p-3",children:(0,a.jsxs)(o.R,{className:"px-4 py-3 h-auto",buttonProps:{variant:"card",size:"pill"},editingImage:{url:t,metadata:s},location:"chat-asset-viewer",onClick:e=>{e.stopPropagation(),l()},children:[(0,a.jsx)(r.mgJ,{className:"size-5 text-secondary"}),h("Edit Image","Edit Image")]})})]})}let $=k.memo(function(e){let{assetUrl:t,fileMetadata:s,className:n}=e,{t:r}=(0,b.Bd)("chat"),{resolvedTheme:o}=(0,f.D)(),{isLoading:i,error:c,data:l}=(0,h.IT)({queryKey:["text-asset",t],queryFn:async()=>{if(!t)throw Error("Asset URL is required");let e=await (0,P.h)(t,{method:"GET",credentials:"include"});if(!e.ok)throw Error("Failed to fetch: ".concat(e.statusText));return await e.text()},enabled:!!t});if(i)return(0,a.jsx)("div",{className:"p-4",children:r("Loading text…","Loading text…")});if(c)return(0,a.jsx)("div",{className:"p-4",children:r("errorMessage","Error: {{error}}",{error:c.message})});if(!l)return(0,a.jsx)("div",{className:"p-4 w-full h-full flex items-center justify-center text-secondary",children:r("Content is empty","Content is empty")});let d=l.length>16384,g=p.rU.includes(s.fileMimeType),m=d||g?(0,a.jsx)("pre",{className:(0,u.cn)("w-full p-4 rounded-lg shadow-md text-sm font-mono overflow-auto max-h-[50dvh] sm:max-h-[calc(100dvh-6rem)] mb-4 bg-foreground",n),children:l}):(0,a.jsx)("div",{className:(0,u.cn)("w-full rounded-lg shadow-md text-sm font-mono overflow-auto max-h-[50dvh] sm:max-h-[calc(100dvh-6rem)] mb-4",n),children:(0,a.jsx)(y.r,{customStyle:{background:"dark"===o?"#121314":"var(--foreground)",fontFamily:"var(--font-ibm-plex-mono)"},children:l})});return(0,a.jsx)("div",{className:(0,u.cn)("flex flex-col items-center justify-center w-full max-w-4xl mx-auto",n),children:m})});function Z(e){let{assetUrl:t,fileMetadata:s}=e,{t:n}=(0,b.Bd)("chat");return t?(0,a.jsxs)("div",{className:"flex flex-col min-h-full w-full items-center justify-center rounded-2xl mb-4 gap-6 p-4",children:[(0,a.jsx)(r.dsF,{size:100,className:"text-muted"}),(0,a.jsx)("a",{href:t,download:s.fileName||"download",children:(0,a.jsx)(i.$n,{variant:"filledSecondary",rounded:!0,children:n("Download Asset","Download Asset")})})]}):null}function J(e){let{assetUrl:t,fileMetadata:s}=e,n=(0,k.useRef)(null);return(0,a.jsx)("div",{className:"flex flex-col items-center justify-center rounded-lg w-full h-full",children:(0,a.jsx)("iframe",{ref:n,src:t,title:s.fileName,className:"rounded-lg shadow-md h-full w-full"})})}$.displayName="MemoizedTextAssetViewer"},33231:(e,t,s)=>{"use strict";s.d(t,{v:()=>r});var a=s(46994),n=s(88382);function r(e,t,s){(0,n.useEffect)(()=>((0,a.A)(e,t),()=>a.A.unbind(e,t)),[...s,e])}a.A.filter=()=>!0},33880:(e,t,s)=>{"use strict";s.d(t,{E:()=>f});var a=s(79342),n=s(23232),r=s(27636),o=s(84499),i=s(26983),c=s(11750),l=s(88382),d=s(18921),g=s(73304),m=s(74995),p=s(61349),u=s(16506),h=s(61312);function f(e){var t,s;let{task:f,originalPrompt:k}=e,{getScheduleLabel:b}=(0,r.Ay)(),{push:x}=(0,o.wK)(),w=(0,n._)(),v=(0,g.d)(m.A("fetchUserTasks"));(0,l.useEffect)(()=>{w("task_result_viewed",void 0,{location:"task-info"}),v(),(0,p.SX)().invalidateQueries({queryKey:["task-results",null==f?void 0:f.taskId]})},[v,w,null==f?void 0:f.taskId]);let y=(0,l.useCallback)(()=>{w("goto_task_from_conversation_clicked",void 0,{location:"task-info"}),f.taskId&&f.isActive&&x({page:"tasks",taskId:f.taskId,tab:f.isActive?"active":"archived"})},[x,w,f.isActive,f.taskId]),j=(0,l.useMemo)(()=>(0,d.O$)(f),[f]),N=(0,l.useMemo)(()=>f.schedule.some(e=>e.cadence!==i.G7.TaskCadenceOnce&&e.cadence!==i.G7.TaskCadenceOnceInstant),[f.schedule]),{resolvedTheme:C}=(0,u.D)();return(0,a.jsxs)("div",{onClick:y,className:(0,h.cn)("max-w-3xl mb-4 hover:bg-surface-l2 cursor-pointer rounded-3xl bg-surface-l1 px-5 py-3 pb-2.5 border flex flex-col gap-1 w-full whitespace-normal break-all",{"hover:bg-surface-base":"light"===C}),children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsxs)("div",{className:"flex justify-between gap-2 items-center",children:[(0,a.jsxs)("div",{className:"flex flex-row gap-1 items-center",children:[(0,a.jsx)("h1",{className:"text-sm font-semibold line-clamp-1",children:f.name}),(0,a.jsx)(c.IvL,{size:14,className:"text-fg-secondary "})]}),(0,a.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,a.jsx)("h1",{className:"text-sm font-semibold line-clamp-1",children:j&&b(j.cadence,j.timeOfDay,j.ianaTimezone,j.localDayOfWeek,j.localDayOfMonth,null!=(s=null==(t=j.localDayOfYear)?void 0:t.toISO())?s:void 0)}),N?(0,a.jsx)(c.kM6,{size:14}):(0,a.jsx)(c.$fI,{size:14})]})]}),(0,a.jsx)("h2",{className:"text-sm font-normal line-clamp-2 text-fg-secondary",children:k.message})]}),(0,a.jsx)("div",{className:"flex items-center justify-between w-full text-fg-secondary",children:(0,a.jsx)("div",{className:"flex items-center gap-1"})})]})}},34140:(e,t,s)=>{"use strict";s.d(t,{m:()=>r});var a=s(30112),n=s.n(a);function r(e){let{chatPageState:t,query:s,fileAttachmentIds:a,webpageUrls:r,location:i,personalityId:c,personaId:l,sessionStartTime:d,conversationDepth:g,isMobile:m,bestSubscription:p,user:u,compositionTime:h=0,backspaceCount:f=0,avgKeystrokeLatency:k=0,...b}=e,x={parentResponseId:t.lastMessageId,conversationId:t.conversationId,selectedModel:t.activeModelId,modelMode:t.modelMode,outputMode:t.outputMode,reasoningMode:t.reasoningMode,location:i,personalityId:c,personaId:l,bestSubscription:p||"free",user:u,deviceType:m?"mobile":"desktop",messageLength:s.length,fileAttachments:(null==a?void 0:a.length)||0,webpageUrls:(null==r?void 0:r.length)||0,queryTimestamp:Date.now(),sessionStartTimestamp:d,conversationDepth:g,compositionTime:h,backspaceCount:f,avgKeystrokeLatency:k,fileIds:(null==a?void 0:a.length)?a.slice().sort().join(","):void 0,...b};return n()(x,o)}function o(e){if(null===e)return"null";if(void 0===e)return"undefined";if("bigint"==typeof e||"symbol"==typeof e)return e.toString();if("function"==typeof e)return"[Function]";if("object"==typeof e)try{return JSON.stringify(e)}catch(e){return"[Circular]"}return String(e)}},34605:(e,t,s)=>{"use strict";s.d(t,{P:()=>a});let a=e=>{let{header:t,responseId:s,index:a}=e,n=t.replace(/[^a-zA-Z0-9\u00C0-\u024F\u0400-\u04FF\u0900-\u097F\u0E00-\u0E7F\u4E00-\u9FFF]/g,"-").toLowerCase();return"".concat(n,"-").concat(s,"-").concat(a)}},34839:(e,t,s)=>{"use strict";s.d(t,{g5:()=>N,x1:()=>C,Fs:()=>S});let a=e=>{let t=e;return(t=t.replace(/(\(\[.+\]\((https?:\/\/[^\s)]+)\)\))/g,"[]($2)")).replace(/([^\]]\((https?:\/\/[^\s)]+)\))/g,"[]($2)")};var n=s(17703),r=s(84448),o=s(6132);let i=o.z.object({name:o.z.string(),args:o.z.record(o.z.string(),o.z.any()),toolUsageCardId:o.z.string().optional()}),c="</xai:tool_usage_card>",l="</xai:tool_args>";var d=s(51591);function g(e){return e.replace(/\\text\{([^}]*)\}/g,(e,t)=>{let s=t.replace(RegExp("(?<!\\\\)([_^&%#])","g"),"\\$1");return"\\text{".concat(s,"}")})}let m=e=>{let t=[],s=e.replace(/(```[^\n]*\n[\s\S]*?```)|(```[^\n]*\n[\s\S]*$)|(`[^`\n]+`)/g,e=>(t.push(e),"<<CODE_BLOCK_".concat(t.length-1,">>")));return{codeBlocks:t,processedContent:s}},p=e=>{let t=e.replace(/\\begin\{equation\}([\s\S]*?)\\end\{equation\}/g,(e,t)=>"\\[ ".concat(t," \\]"));t=(t=t.replace(/\\\[\s*\\boxed\{.*\}\s*\\\]/g,e=>e+"\n")).replace(/\$\$([\s\S]*?)\$\$/g,(e,t)=>"\\[ ".concat(t," \\]"));let s=[];return t=t.replace(/(\\\[)([\s\S]*?)\\\]|\\\(([\s\S]*?)\\\)/g,(e,t,a,n)=>t?(s.push(g(a)),"<<LATEX_BLOCK_".concat(s.length-1,">>")):void 0!==n?(s.push(g(n)),"<<LATEX_BLOCK_".concat(s.length-1,">>")):e),{latexBlockExpressions:s,processedContent:t}},u=e=>{let t=[],s=e.replace(/<xai:tool_usage_card>[\s\S]*?<\/xai:tool_usage_card>|<xai:tool_usage_card>[\s\S]*/g,e=>(t.push(e),"<<TOOL_USAGE_".concat(t.length-1,">>")));return{toolUsages:t,processedContent:s}},h=[],f=e=>{let t=[],s=(e,s,a)=>{var n;let r=null==(n=e.match(/card_type="([^"]+)"/))?void 0:n[1];t.push(e);let o="<<RENDER_".concat(t.length-1,">>");if(r&&h.includes(r)){let t=s>0?a[s-1]:"",n=s+e.length<a.length?a[s+e.length]:"";return"".concat("\n"!==t?"\n\n":"").concat(o).concat("\n"!==n?"\n\n":"")}return o};return{renders:t,processedContent:e.replace(/<grok:render\b[^>]*>[\s\S]*?(?:<\/grok:render>)/g,s).replace(/<grok:richcontent\b[^>]*>[\s\S]*?(?:<\/grok:richcontent>)/g,s)}};function k(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return e.replace(/^([ \t]+)/gm,(e,s)=>s.split("").map(e=>" "===e?"&nbsp;":"&nbsp;".repeat(t)).join(""))}let b=/!\[([^\]()]*?)\]\((.+?)\)|!\[([^\]()]*?)\]\([A-Za-z0-9\-._~:/?#[\]@!$&'*+,;=]+\)?/,x=e=>{let t=[],s=e.replace(RegExp(b,"g"),e=>(t.push(e),"<<IMAGE_MARKDOWN_".concat(t.length-1,">>")));return{imageMarkdowns:t,processedContent:s}},w=/\[\]\(([^[\]()]+?)\)/,v=e=>{let t=[],s=e.replace(RegExp(w,"g"),e=>(t.push(e),"<<CITATION_MARKDOWN_".concat(t.length-1,">>")));return{citationMarkdowns:t,processedContent:s}};function y(e){var t;if(!e.includes("\n"))return e;let s=e.slice(e.indexOf("\n")+1),a=null==(t=e.match(/^```([\w-]+)/))?void 0:t[1];if(!a)return e;let n=s.match(/```$/);return"```".concat(a).concat(n?"":":disable-run","\n").concat(s).concat(n?"":"\n```")}let j=e=>{let{content:t,latexBlockExpressions:s=[],codeBlocks:a=[],toolUsages:o=[],renders:g=[],citationMarkdowns:m=[],imageMarkdowns:p=[],isStreaming:u=!1,responseId:h}=e,f=t.replace(/<<LATEX_BLOCK_(\d+)>>/g,(e,t)=>"$$ ".concat(s[parseInt(t,10)]||""," $$"));return(f=(f=(f=(f=f.replace(/<<CODE_BLOCK_(\d+)>>/g,(e,t)=>y(a[parseInt(t,10)]||""))).replace(/<<TOOL_USAGE_(\d+)>>/g,(e,t)=>{let{notification:s="",calls:a=[]}=function(e){var t,s;let a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{isStreaming:d=!1,responseId:g}=o,m=e,p=(m.match(RegExp("<xai:tool_args>","g"))||[]).length-(m.match(RegExp(l,"g"))||[]).length,u=((m+=l.repeat(p)).match(RegExp("<xai:tool_usage_card>","g"))||[]).length-(m.match(RegExp(c,"g"))||[]).length;m+=c.repeat(u);let h=new r.vf({ignoreAttributes:!1,alwaysCreateTextNode:!0,attributeNamePrefix:"xai:"}),f=!0;for(;f;){f=!1;try{a=h.parse(m)}catch(e){if(!(e instanceof Error))break;if(d||(0,n.vV)("tool-usage.xml-parse",e,{xmlText:m,...g?{responseId:g}:{}}),"CDATA is not closed."===e.message){m+="]]>",f=!0;continue}}}let k=null!=(s=a["xai:tool_usage_card"])?s:[];Array.isArray(k)||(k=[k]);let b=(null==(t=k[0])?void 0:t.xai_notification)||"",x=[],w=e=>{var t;return"object"==typeof e?null!=(t=e["#text"])?t:"":null!=e?e:""};for(let e of k){let t,s=w(e["xai:tool_usage_card_id"]),a=w(e["xai:tool_name"]),r=w(e["xai:tool_args"]);try{t=JSON.parse(r)}catch(e){try{t=JSON.parse(function(e){let t=["ROOT"],s=-1,a=null;function n(e,n,r){switch(e){case'"':s=n,t.pop(),t.push(r),t.push("INSIDE_STRING");break;case"f":case"t":case"n":s=n,a=n,t.pop(),t.push(r),t.push("INSIDE_LITERAL");break;case"-":t.pop(),t.push(r),t.push("INSIDE_NUMBER");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":s=n,t.pop(),t.push(r),t.push("INSIDE_NUMBER");break;case"{":s=n,t.pop(),t.push(r),t.push("INSIDE_OBJECT_START");break;case"[":s=n,t.pop(),t.push(r),t.push("INSIDE_ARRAY_START")}}function r(e,a){switch(e){case",":t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":s=a,t.pop()}}function o(e,a){switch(e){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":s=a,t.pop()}}for(let i=0;i<e.length;i++){let c=e[i];switch(t[t.length-1]){case"ROOT":n(c,i,"FINISH");break;case"INSIDE_OBJECT_START":switch(c){case'"':t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"}":s=i,t.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":'"'===c&&(t.pop(),t.push("INSIDE_OBJECT_KEY"));break;case"INSIDE_OBJECT_KEY":'"'===c&&(t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY"));break;case"INSIDE_OBJECT_AFTER_KEY":":"===c&&(t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE"));break;case"INSIDE_OBJECT_BEFORE_VALUE":n(c,i,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":r(c,i);break;case"INSIDE_STRING":switch(c){case'"':t.pop(),s=i;break;case"\\":t.push("INSIDE_STRING_ESCAPE");break;default:s=i}break;case"INSIDE_ARRAY_START":"]"===c?(s=i,t.pop()):(s=i,n(c,i,"INSIDE_ARRAY_AFTER_VALUE"));break;case"INSIDE_ARRAY_AFTER_VALUE":switch(c){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":s=i,t.pop();break;default:s=i}break;case"INSIDE_ARRAY_AFTER_COMMA":n(c,i,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":t.pop(),s=i;break;case"INSIDE_NUMBER":switch(c){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":s=i;break;case"e":case"E":case"-":case".":break;case",":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&o(c,i),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&r(c,i);break;case"}":t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&r(c,i);break;case"]":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&o(c,i);break;default:t.pop()}break;case"INSIDE_LITERAL":{let n=e.substring(a,i+1);"false".startsWith(n)||"true".startsWith(n)||"null".startsWith(n)?s=i:(t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]?r(c,i):"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&o(c,i))}}}let i=e.slice(0,s+1);for(let s=t.length-1;s>=0;s--)switch(t[s]){case"INSIDE_STRING":i+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":i+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":i+="]";break;case"INSIDE_LITERAL":{let t=e.substring(a,e.length);"true".startsWith(t)?i+="true".slice(t.length):"false".startsWith(t)?i+="false".slice(t.length):"null".startsWith(t)&&(i+="null".slice(t.length))}}return i}(r||"{}"))}catch(e){d||(0,n.vV)("tool-usage.fix-json",e,{args:r,...g?{responseId:g}:{}}),t={}}}let o=i.safeParse({name:a,args:t,toolUsageCardId:s});o.success?x.push(o.data):(0,n.vV)("tool-usage.parse",o.error)}return{notification:b,calls:x}}(o[parseInt(t,10)]||"",{isStreaming:u,responseId:h}),d=encodeURIComponent(s),g=encodeURIComponent(JSON.stringify(a));return'<tool-usage-card data-notification="'.concat(d,'" data-calls="').concat(g,'"></tool-usage-card>')})).replace(/<<RENDER_(\d+)>>/g,(e,t)=>{let s=g[parseInt(t,10)]||"",{id:a,type:n}=(0,d.ZD)(s);if(a&&n||({id:a,type:n}=(0,d.wW)(s)),!a||!n)return"";let r=encodeURIComponent(a),o=encodeURIComponent(n);return'<grok-card data-id="'.concat(r,'" data-type="').concat(o,'"></grok-card>')})).replace(/<<CITATION_MARKDOWN_(\d+)>>/g,(e,t)=>{let s=(m[parseInt(t,10)]||"").match(w);if(!s)return"";let[,a=""]=s;return'<a href="'.concat(a,'" target="_blank" rel="noopener noreferrer nofollow"></a>')})).replace(/<<IMAGE_MARKDOWN_(\d+)>>/g,(e,t)=>{let s=(p[parseInt(t,10)]||"").match(b);if(!s)return"";let[,a="",n="",r=""]=s;return'<image-card alt="'.concat(a||r,'" src="').concat(n,'" ').concat(r?'streaming="true"':"","></image-card>")})};function N(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{renders:s,processedContent:a}=f(e),{processedContent:n}=u(a),{codeBlocks:r,processedContent:o}=m(n),{latexBlockExpressions:i}=p(o);return function(e){let{content:t,latexBlockExpressions:s=[],codeBlocks:a=[],renders:n=[]}=e,r=t.replace(/<<LATEX_BLOCK_(\d+)>>/g,(e,t)=>"$$ ".concat(s[parseInt(t,10)]||""," $$"));return(r=(r=(r=(r=r.replace(/<<CODE_BLOCK_(\d+)>>/g,(e,t)=>y(a[parseInt(t,10)]||""))).replace(/<<RENDER_(\d+)>>/g,(e,t)=>{var s;let a=(n[parseInt(t,10)]||"").match(/<grok:(render|richcontent)[^>]*>([\s\S]*?)<\/grok:\1>/),r=a&&(null==(s=a[2])?void 0:s.trim())?a[2].trim():"";return r.match(/<[^>]*>/g)?"":r.trim()})).replace(/<<TOOL_USAGE_\d+>>/g,"")).replace(/<<[A-Z0-9_]+>>/g,"")).trim()}({content:t?k(o):o,latexBlockExpressions:i,codeBlocks:r,renders:s})}function C(e){let{content:t,hideCitations:s,shouldPreserveLeadingWhitespace:n,responseId:r}=e,{renders:o,processedContent:i}=f(s?t:a(t)),{toolUsages:c,processedContent:l}=u(i),{codeBlocks:d,processedContent:g}=m(l),{latexBlockExpressions:h,processedContent:b}=p(g),{citationMarkdowns:w,processedContent:y}=v(b),{imageMarkdowns:N,processedContent:C}=x(y);return j({content:n?k(C):C,latexBlockExpressions:h,codeBlocks:d,toolUsages:c,renders:o,citationMarkdowns:w,imageMarkdowns:N,isStreaming:!1,responseId:r})}function S(e,t,s){let{renders:n,processedContent:r}=f(t?e:a(e)),{toolUsages:o,processedContent:i}=u(r),{codeBlocks:c,processedContent:l}=m(i),{latexBlockExpressions:d,processedContent:g}=p(l),{citationMarkdowns:h,processedContent:k}=v(g),{imageMarkdowns:b,processedContent:w}=x(k);return w.split(/\n\n+/).map(e=>j({content:e,latexBlockExpressions:d,codeBlocks:c,toolUsages:o,renders:n,citationMarkdowns:h,imageMarkdowns:b,isStreaming:!0,responseId:s}))}},34865:(e,t,s)=>{"use strict";s.d(t,{Z:()=>g,v:()=>m});var a=s(39489),n=s(4878),r=s(95158),o=s(88382),i=s(65146),c=s(14908),l=s(86530).hp;let d=["image/jpeg","image/png"],g=e=>{let t=m(e);return(0,o.useCallback)(async e=>{e.preventDefault(),e.stopPropagation();let s=e.dataTransfer.files;await t([...s])},[t])},m=e=>{let{t}=(0,i.Bd)("base"),{ASSET_SERVER_URL:s}=(0,a.v)();return async a=>{if(!e)return;let r=[...a].filter(e=>d.includes(e.type));if(0===r.length)return;let o=r[0];if(o)try{let t=await p(o),a=(0,n.sU)(s,t.fileUri);if(!a)throw Error("No file uri");e.chain().focus().setImage({src:a}).run()}catch(e){c.oR.error(t("Failed to upload file","Failed to upload file")),console.error(e)}}},p=e=>e.arrayBuffer().then(t=>r.chatApi.chatUploadFile({body:{fileName:e.name,fileMimeType:e.type,content:l.from(t).toString("base64")}}).then(e=>e).catch(e=>{if(e.message.includes("OUT_OF_RANGE"))throw Error("File was too large.");throw e}))},35181:(e,t,s)=>{"use strict";s.d(t,{v:()=>n});var a=s(88382);function n(e){let{preserveValue:t=!1,defaultValue:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,a.useRef)(void 0);n.current=e;let[r,o]=(0,a.useState)(s),[i,c]=(0,a.useState)(),[l,d]=(0,a.useState)(!1),[g,m]=(0,a.useState)(!1),[p,u]=(0,a.useState)(!1),[h,f]=(0,a.useState)(!1),[k,b]=(0,a.useState)(!0);return(0,a.useLayoutEffect)(()=>{if(!e){o(void 0),c(void 0),d(!0),m(!1),u(!1),f(!0),b(!1);return}if(!h)return void f(!0);let s={status:"UNSET",value:void 0,error:void 0};e.then(t=>{n.current===e&&("PASSED"===s.status?(o(t),c(void 0),d(!0),m(!1),u(!1)):(s.status="SETVALUE",s.value=t))}).catch(t=>{n.current===e&&("PASSED"===s.status?(o(void 0),c(t),d(!1),m(!0),u(!1)):(s.status="SETERROR",s.error=t))}),setTimeout(()=>{if(n.current===e){switch(b(!1),s.status){case"UNSET":t||o(void 0),c(void 0),d(!1),m(!1),u(!0);break;case"SETVALUE":o(s.value),c(void 0),d(!0),m(!1),u(!1);break;case"SETERROR":o(void 0),c(s.error),d(!1),m(!0),u(!1)}s.status="PASSED"}})},[h,e]),{data:r,error:i,isResolved:l,isErrored:g,isLoading:p,isUninitialized:k}}},35501:(e,t,s)=>{"use strict";s.d(t,{f:()=>c});var a=s(79342),n=s(56691),r=s(61312),o=s(11750),i=s(65146);function c(e){let{onRetryRequested:t,title:s,message:c}=e,{t:l}=(0,i.Bd)("files");return(0,a.jsxs)("div",{className:(0,r.cn)("flex flex-col items-center justify-center h-full w-full p-4"),children:[(0,a.jsx)(o.hcu,{className:"mb-4",size:24}),(0,a.jsx)("h2",{className:"text-md font-semibold mb-2",children:s||l("file-open-error.title","Could not open file")}),(0,a.jsx)("p",{className:"text-sm text-fg-secondary mb-4 text-center max-w-sm",children:c||l("file-open-error.message","Something went wrong while trying to load the document. Please check your connection and try again.")}),t&&(0,a.jsxs)(n.$n,{variant:"outline",size:"md",onClick:t,className:"flex items-center gap-2",children:[(0,a.jsx)(o.e9t,{size:16,className:"text-fg-secondary"}),(0,a.jsx)("span",{className:"text-fg-primary font-semibold",children:l("file-open-error.retry","Retry")})]})]})}},35692:(e,t,s)=>{"use strict";s.d(t,{x:()=>r});var a=s(79342),n=s(61312);function r(e){let{className:t,variant:s="reg"}=e;return(0,a.jsx)("div",{className:(0,n.cn)("size-2 rounded-full bg-blue-400",{"size-1.5":"sm"===s},t)})}},35819:(e,t,s)=>{"use strict";s.d(t,{d:()=>i});var a=s(79342),n=s(38930),r=s(88382),o=s(61312);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.bL,{className:(0,o.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full","border-[1px] border-transparent transition-colors","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring","focus-visible:ring-offset-2 focus-visible:ring-offset-background","ring-card-border ring-1","disabled:cursor-not-allowed disabled:opacity-50","data-[state=checked]:bg-primary data-[state=unchecked]:bg-dove","dark:data-[state=checked]:bg-ivory dark:data-[state=unchecked]:bg-button-secondary-selected",s),...r,ref:t,children:(0,a.jsx)(n.zi,{className:(0,o.cn)("pointer-events-none block h-4 w-4 rounded-full bg-white dark:bg-background shadow-lg ring-0 transition-transform","data-[state=unchecked]:translate-x-0 ms-0.5","data-[state=checked]:translate-x-5 rtl:data-[state=checked]:-translate-x-5","dark:data-[state=unchecked]:bg-overlay")})})});i.displayName=n.bL.displayName},35848:(e,t,s)=>{"use strict";s.d(t,{I:()=>F});var a=s(79342),n=s(625),r=s(71865),o=s(39489),i=s(10953),c=s(11750),l=s(58655),d=s(42557),g=s(79026),m=s(5790),p=s(88119),u=s(41284),h=s(56691),f=s(73772),k=s(43086),b=s(21782),x=s(75500),w=s(23232),v=s(24429),y=s(6132),j=s(65258);let N=y.z.object({teamIdsVisited:y.z.array(y.z.string()).default([])}),C={teamIdsVisited:[]};class S{constructor(e,t){this.set=e,this.get=t,this.tourGuideState=C,this.setTourGuideState=(e,t)=>{this.set(s=>({tourGuideState:{...s.tourGuideState,[e]:t}}))},this.upsertTeamIdsVisited=e=>{let t=this.get().tourGuideState.teamIdsVisited;t.includes(e)||this.setTourGuideState("teamIdsVisited",[...t,e])}}}let I=(0,j.y$)(S,"useTourGuideStore");(0,j.CP)(I,"tourGuideState","tour-guide-state",I.getInitialState().tourGuideState,function(e){let t=N.safeParse(e);return t.success?t.data:C});var T=s(88382);function E(){let{teamIdsVisited:e}=I(e=>e.tourGuideState),{teams:t,currentTeam:s}=(0,n.hd)();return new Set((0,T.useMemo)(()=>t?t.filter(t=>!e.includes(t.teamId)&&t.teamId!==(null==s?void 0:s.teamId)):[],[t,e,null==s?void 0:s.teamId]).map(e=>e.teamId))}var R=s(17703),A=s(84499),_=s(61312),O=s(95158),P=s(93436),M=s(44347),L=s(58711),D=s(39116),B=s(74995),z=s(65146);function F(){let{t:e}=(0,z.Bd)("base"),{SUPPORT_URL:t,CLOUD_CONSOLE_URL:s,GROK_COM_URL:l}=(0,o.v)(),g=(0,D.useRouter)(),p=(0,A.wK)(),k=(0,d.wV)(),w=(0,m.iV)(B.A("toggleOpen")),y=(0,x.h)(),j=E().size>0,N=(0,T.useCallback)(e=>{e.stopPropagation(),(0,P.P.getState().openReportDialog)({})},[]),{isEnterpriseUser:C,isSuperGrokUser:S,isSuperGrokProUser:O,activeSubscriptions:M}=(0,v.Q2)(),{currentTeam:F,switchTeam:G}=(0,n.hd)(),[K,q]=(0,T.useState)(void 0),X=(0,L.e3)(B.A("setIsUpselling")),Y=I(B.A("upsertTeamIdsVisited")),Q=(0,T.useCallback)(e=>{e.stopPropagation(),g.push("/sign-out")},[g]),$=(0,b.f)(),Z=(0,T.useCallback)(e=>{e.stopPropagation(),w()},[w]),J=(0,T.useCallback)(e=>{e.stopPropagation(),(null==F?void 0:F.teamId)&&g.push("".concat(s,"/team/").concat(null==F?void 0:F.teamId,"/grok-teams"))},[g,null==F?void 0:F.teamId,s]),ee=(0,T.useCallback)(e=>{e.stopPropagation(),X(!0)},[X]),et=(0,T.useCallback)(e=>{if(void 0===K&&e!==((null==F?void 0:F.teamId)||null))return q(e),(0,R.iu)("switch_team",e||void 0,{location:"avatar-dropdown-menu"}),e&&Y(e),G({teamId:e,baseUrl:l,router:p}).catch((0,R.HX)("avatar-dropdown-menu:switchTeam")).finally(()=>{q(void 0)})},[G,p,K,q,null==F?void 0:F.teamId,l,Y]),es=(0,T.useMemo)(()=>{let e=k.team?{fallbackText:k.team.name}:{user:k.user};return y.USE_PRELOADED_AVATAR?(0,a.jsx)(u.n,{className:"w-8 h-8",...e}):(0,a.jsx)(u.e,{className:"w-8 h-8",...e})},[y.USE_PRELOADED_AVATAR,k.user,k.team]);return k.user?(0,a.jsxs)(f.rI,{children:[(0,a.jsx)(f.ty,{asChild:!0,children:(0,a.jsx)(h.$n,{variant:"ghost",size:"icon",className:(0,_.cn)("flex p-1 rounded-full",{"animate-border-pulse":j}),children:es})}),(0,a.jsxs)(f.SQ,{side:"bottom",align:"end",sideOffset:6,className:"min-w-36 space-y-0.5",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)(r.d,{requireTeams:!0,errorFallback:(null==F?void 0:F.teamId)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(f._2,{disabled:!0,className:"text-fg-secondary pb-2 cursor-default",children:[(0,a.jsx)(c.lW3,{size:16,className:"me-2"}),(0,a.jsx)("span",{className:"text-sm",children:e("enterprise.failed-to-load-teams","Failed to load teams")})]}),(0,a.jsx)(W,{})]}),children:(0,a.jsx)(H,{switchingToTeamId:K,onSwitchTeam:et})}),(0,a.jsxs)(f._2,{onSelect:Z,children:[(0,a.jsx)(c.DP5,{className:"size-4 me-2"}),e("user-dropdown.settings","Settings")]}),(0,a.jsx)(r.d,{requireSelectedTeam:!0,children:(0,a.jsxs)(f._2,{onSelect:J,className:"flex items-center justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center flex-grow",children:[(0,a.jsx)(c.lgv,{className:"size-4 me-2"}),e("user-dropdown.team-settings","Team Settings")]}),(0,a.jsx)(c.F1e,{className:"size-4 ms-1 text-fg-secondary"})]})}),(0,a.jsxs)(f._2,{onSelect:N,children:[(0,a.jsx)(c.VAL,{className:"size-4 me-2"}),e("user-dropdown.report-issue","Report Issue")]}),(0,a.jsx)(f._2,{asChild:!0,children:(0,a.jsxs)("a",{href:t,target:"_blank",children:[(0,a.jsx)(c.zWC,{height:16,width:16,className:"text-neutral-400 me-2"}),e("user-dropdown.community","Community")]})}),(0,a.jsx)(f._2,{asChild:!0,children:(0,a.jsxs)(A.N_,{route:{page:"faq",anchor:null},children:[(0,a.jsx)(c.V7M,{height:16,width:16,className:"text-neutral-400 me-2"}),e("user-dropdown.faq","FAQ")]})}),(0,a.jsx)(f._2,{asChild:!0,children:(0,a.jsxs)(A.N_,{route:{page:"changelog",anchor:null},children:[(0,a.jsx)(c.BZB,{height:16,width:16,className:"text-neutral-400 me-2"}),e("user-dropdown.changelog","Changelog")]})}),(0,a.jsx)(f._2,{asChild:!0,children:(0,a.jsxs)(A.N_,{route:{page:"share-links"},children:[(0,a.jsx)(c._HI,{height:16,width:16,className:"text-neutral-400 me-2"}),e("user-dropdown.shared-links","Shared Links")]})}),C?null:S||O?(0,a.jsx)(U,{subscriptions:M}):(0,a.jsxs)(f._2,{onSelect:ee,children:[(0,a.jsx)(i.$r,{className:"size-4 me-2"}),e("user-dropdown.upgrade","Upgrade plan")]}),(0,a.jsxs)(f._2,{onSelect:Q,children:[(0,a.jsx)(c.aKm,{className:"size-4 me-2"}),e("user-dropdown.sign-out","Sign Out")]})]})]}):(0,a.jsx)(V,{currentLanguage:$})}function U(e){let{subscriptions:t}=e,{t:s}=(0,z.Bd)("base"),[n,r]=(0,T.useState)(!1),o=null==t?void 0:t[0];return o?(0,a.jsxs)(f._2,{onSelect:e=>{e.preventDefault(),e.stopPropagation(),o.stripe?(r(!0),O.$W.subscriptionsCreateBillingPortalSession({body:{returnUrl:window.location.href}}).then(e=>{window.open(e.url,"_blank")}).catch((0,R.HX)("avatar-dropdown-menu:manage-subscription")).finally(()=>{r(!1)})):window.open((0,g.M)(o),"_blank")},children:[n?(0,a.jsx)(c.krw,{height:16,width:16,className:"text-neutral-400 animate-spin !duration-1000 me-2"}):(0,a.jsx)(c.YQh,{height:16,width:16,className:"text-neutral-400 me-2"}),s("user-dropdown.manage-subscription","Manage Subscription")]}):null}function V(e){let{currentLanguage:t}=e,s=(0,D.useRouter)(),{t:n,i18n:r}=(0,z.Bd)("base"),o=(0,w._)(),[i,d]=(0,T.useState)(!1),g=(0,T.useCallback)(()=>{o("sign_in_redirect",void 0,{location:"avatar-dropdown-menu"}),s.push("/sign-in")},[s,o]),m=(0,T.useCallback)(()=>{o("sign_up_redirect",void 0,{location:"avatar-dropdown-menu"}),s.push("/sign-up")},[s,o]),u=(0,T.useCallback)(e=>{r.changeLanguage(e).then(()=>{M.C$.getState().setSelectedLanguage(e),d(!1)}).catch((0,R.HX)("settings-account")),o("change_language",e,{location:"avatar-dropdown-menu"})},[r,o]);return(0,a.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,a.jsxs)(f.rI,{children:[(0,a.jsx)(f.ty,{asChild:!0,children:(0,a.jsx)(h.gx,{variant:"ghost",size:"icon",className:"rounded-full hidden @sm:flex",tooltipContent:n("Settings","Settings"),children:(0,a.jsx)(c.DP5,{size:20})})}),(0,a.jsxs)(f.SQ,{side:"bottom",align:"end",sideOffset:6,className:"min-w-36 space-y-0.5",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)(p.Uk,{}),(0,a.jsx)(f._2,{onSelect:()=>d(!0),children:n("Language","Language")})]})]}),(0,a.jsxs)(h.$n,{size:"pill",variant:"primary",className:"h-8 px-3 text-sm",onClick:m,children:[(0,a.jsx)(c.KJW,{size:16,strokeWidth:2}),(0,a.jsx)("div",{children:n("Sign up","Sign up")})]}),(0,a.jsx)(h.$n,{size:"pill",variant:"none",className:(0,_.cn)("hidden @sm:flex","h-8 px-3 text-sm text-primary bg-transparent ring-1 ring-inset ring-toggle-border","hover:bg-button-secondary-hover hover:border-text-secondary"),onClick:g,children:(0,a.jsx)("div",{children:n("Sign in","Sign in")})}),(0,a.jsx)(l.C,{locale:t,open:i,onLocaleChange:u,onOpenChange:d})]})}function H(e){let{switchingToTeamId:t,onSwitchTeam:s}=e,{user:r}=(0,d.wV)(),{t:o}=(0,z.Bd)("base"),{teams:i,currentTeam:l}=(0,n.hd)(),g=E(),m=(0,T.useRef)(null),[p,h]=(0,T.useState)(!1),b=(0,T.useCallback)(()=>{if(m.current){let{scrollHeight:e,clientHeight:t}=m.current;h(e>t)}},[]),x=(0,T.useCallback)(()=>{if(!m.current||!p)return;let e=m.current.querySelector('[data-selected="true"]');e&&e.scrollIntoView({behavior:"instant",block:"center",inline:"nearest"})},[p]);(0,T.useEffect)(()=>{b()},[i,b]),(0,T.useLayoutEffect)(()=>{x()},[i,null==l?void 0:l.teamId,x]);let w=(0,T.useCallback)((e,t)=>{e.stopPropagation(),s(t)},[s]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:(0,_.cn)("relative pb-2",{"pb-0":p}),children:[p&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"absolute inset-x-0 bottom-0 h-3 bg-gradient-to-t from-surface-l4 to-transparent z-10"}),(0,a.jsx)("div",{className:"absolute inset-x-0 top-0 h-3 bg-gradient-to-b from-surface-l4 to-transparent z-10"})]}),(0,a.jsxs)("div",{ref:m,className:(0,_.cn)("overflow-y-auto max-h-[296px] max-w-[400px]",{"py-1":p}),children:[(0,a.jsxs)(f._2,{"data-selected":(null==l?void 0:l.teamId)===null?"true":void 0,disabled:void 0!==t,onSelect:e=>w(e,null),className:"flex items-center justify-between gap-5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-grow",children:[(0,a.jsx)(u.e,{user:r,className:"size-8 -ml-1 shrink-0 border-border-l2"}),(0,a.jsx)("span",{className:"text-sm truncate",children:"".concat(null==r?void 0:r.givenName," ").concat(null==r?void 0:r.familyName)})]}),(0,a.jsx)("div",{className:"flex justify-end items-center w-12",children:null===t?(0,a.jsx)("div",{className:"flex justify-center items-center",children:(0,a.jsx)(k.y,{size:"xs"})}):(null==l?void 0:l.teamId)||t?(0,a.jsx)("span",{className:"text-xs text-fg-secondary",children:o("enterprise.personal-team","Personal")}):(0,a.jsx)(c.Jlk,{className:"size-4 text-fg-primary"})})]},"personal-team"),i.map(e=>(0,a.jsxs)(f._2,{"data-selected":(null==l?void 0:l.teamId)===e.teamId?"true":void 0,onSelect:t=>w(t,e.teamId),disabled:void 0!==t,className:"flex items-center justify-between gap-5 w-full min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-grow min-w-0",children:[(0,a.jsx)(u.e,{fallbackText:e.name,className:"size-8 -ml-1 shrink-0 border-border-l2"}),(0,a.jsx)("span",{className:"text-sm truncate flex-grow",children:e.name})]}),(0,a.jsx)("div",{className:"flex justify-end items-center w-12",children:t===e.teamId?(0,a.jsx)("div",{className:"flex justify-center items-center",children:(0,a.jsx)(k.y,{size:"xs"})}):void 0===t&&e.teamId===(null==l?void 0:l.teamId)?(0,a.jsx)(c.Jlk,{className:"size-4 text-fg-primary"}):g.has(e.teamId)?(0,a.jsx)("div",{className:"size-2 rounded-full bg-blue-400 mx-1"}):(0,a.jsx)("span",{className:"text-xs text-fg-secondary",children:o("enterprise.team","Team")})})]},e.teamId))]})]}),(0,a.jsx)(W,{})]})}function W(){return(0,a.jsx)("div",{className:"flex items-center justify-center px-2 pb-2 relative z-20",children:(0,a.jsx)("div",{className:"h-[1px] w-full bg-border-l1"})})}},36401:(e,t,s)=>{"use strict";s.d(t,{T:()=>t9});var a=s(79342),n=s(69358),r=s(44428),o=s(82591),i=s(10953),c=s(11750),l=s(18585),d=s(82767),g=s(61495),m=s(19093),p=s(56691),u=s(43086),h=s(55060),f=s(38614),k=s(61312),b=s(23261),x=s(97944),w=s(83318),v=s(84969),y=s(23054),j=s(74995),N=s(88382),C=s(65146),S=s(47127);let I=e=>{var t,s;let{className:n}=e,{t:r}=(0,C.Bd)("base"),o=(0,f.aP)(j.A("toggleScreenSharing")),i=(0,N.useRef)(null),{localParticipant:l,isScreenShareEnabled:d}=(0,b.C)(),g=(0,b.t)([w.CC.Source.ScreenShare],{onlySubscribed:!1}),[m,u]=(0,N.useState)(!1),[h,I]=(0,N.useState)(!0),T=(0,N.useMemo)(()=>g.find(e=>e.participant.identity===(null==l?void 0:l.identity)),[g,l]),E=(0,N.useCallback)(async()=>{if(l&&!m)return u(!0),o().finally(()=>u(!1))},[l,m,u,o]),R=(0,N.useCallback)(()=>{I(e=>!e)},[]),A=(0,N.useMemo)(()=>{var e,t;let s=null==T||null==(t=T.publication)||null==(e=t.track)?void 0:e.mediaStreamTrack;if(!s)return null;try{let e=null==s?void 0:s.getSettings();switch(null==e?void 0:e.displaySurface){case"monitor":return"screen";case"window":return"window";case"browser":return"tab";default:return null}}catch(e){return null}},[T]),_=(0,N.useMemo)(()=>{switch(A){case"screen":return r("voice.share-type.screen","Entire screen");case"window":return r("voice.share-type.window","Window");case"tab":return r("voice.share-type.tab","Browser tab");default:return""}},[A,r]);return(0,N.useEffect)(()=>{d||I(!0)},[d]),(0,a.jsx)(v.N,{mode:"wait",children:d&&T&&(0,a.jsx)(y.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeInOut"},className:(0,k.cn)("h-fit w-fit bg-surface-l3 overflow-hidden border border-border-l1 rounded-[24px] shadow-lg z-50",n),children:(0,a.jsxs)(y.P.div,{animate:{height:h?"auto":Math.max((null==(t=i.current)?void 0:t.offsetHeight)||0,72),width:h?"auto":(null==(s=i.current)?void 0:s.offsetWidth)||"auto"},transition:{duration:.15,type:"spring",stiffness:300,damping:30},className:"relative",children:[(0,a.jsx)(y.P.div,{initial:{bottom:"8px",left:"8px"},animate:{bottom:h?"8px":"16px",left:h?"8px":"16px"},transition:{duration:.15,type:"spring",stiffness:300,damping:30},className:"absolute z-20",children:(0,a.jsx)(p.gx,{"aria-label":h?r("voice.expand-preview","Expand preview"):r("voice.minize-preview","Minimize preview"),tooltipContent:h?r("voice.expand-preview","Expand preview"):r("voice.minize-preview","Minimize preview"),tooltipContentProps:{side:"bottom"},tooltipProps:{delayDuration:500},size:"iconMd",variant:h?"outline":"filledSecondary",rounded:!0,onClick:R,children:(0,a.jsx)(S.p,{children:h?(0,a.jsx)(c.MQ_,{size:18}):(0,a.jsx)(c.Oy_,{size:18})},h?"expand":"minimize")})}),(0,a.jsxs)(y.P.div,{animate:h?{opacity:1,transition:{delay:.15,duration:.15,ease:"easeInOut"}}:{opacity:0,transition:{duration:.15,ease:"easeInOut"}},className:"h-[56px] flex flex-col items-center justify-center mx-[calc(40px+1.5rem)]",children:[(0,a.jsx)("p",{className:"font-semibold text-fg-primary text-sm whitespace-nowrap select-none",children:A?r("voice.sharing-with-grok","Sharing with Grok"):r("voice.sharing-screen","Sharing screen with Grok")}),A&&(0,a.jsx)("p",{className:"text-blue-400 dark:text-blue-200 text-sm whitespace-nowrap select-none",children:_})]}),(0,a.jsx)(y.P.div,{initial:{bottom:"8px",right:"8px"},animate:{bottom:h?"8px":"16px",right:h?"8px":"16px"},transition:{duration:.2,ease:"easeInOut"},className:"absolute z-20",children:(0,a.jsx)(p.gx,{"aria-label":r("voice.stop-sharing","Stop Sharing"),tooltipContent:r("voice.stop-sharing","Stop Sharing"),tooltipContentProps:{side:"bottom"},tooltipProps:{delayDuration:500},size:"iconMd",variant:h?"outline":"filledSecondary",rounded:!0,disabled:m,onClick:E,children:(0,a.jsx)(c.wr8,{size:18})})}),(0,a.jsx)(y.P.div,{ref:i,initial:{opacity:0},animate:h?{opacity:0,transition:{duration:.1,ease:"easeInOut"}}:{opacity:1,transition:{delay:.15,duration:.2,ease:"easeInOut"}},className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-10 w-80 sm:w-[400px] h-fit p-2",children:(0,a.jsx)(x.V,{trackRef:T,className:"w-full h-auto overflow-hidden rounded-2xl"})})]})},"screen-sharing-preview")})};var T=s(87833),E=s(20337),R=function(e){return e.BELOW_RESPONSE="below_response",e.ABOVE_INPUT="above_input",e}({});let A=()=>(0,E.useExperiment)("chat_survey_layout").get("showBelowResponse",!1)?"below_response":"above_input";var _=s(75500),O=s(23232),P=s(4295),M=s(2376),L=s(35181),D=s(24734),B=s(24429),z=s(48992),F=s(17703),U=s(84499),V=s(97960),H=s(44347),W=s(77657),G=s(17338),K=s(38541),q=s.n(K),X=s(4461),Y=s(3275),Q=s(81353),$=s(92099),Z=s(18921),J=s(96784),ee=s(15041),et=s(14962),es=s(10084),ea=s(51459),en=s(42557),er=s(67153),eo=s(48795),ei=s(5663),ec=s(33231),el=s(92294),ed=s(41320),eg=s(70526),em=s(63174),ep=s(14908);let eu=()=>{let{t:e}=(0,C.Bd)("base"),[t,s]=(0,N.useState)(!1),n=(0,b.L)({identity:"grok-agent"}),r=(0,N.useMemo)(()=>(null==n?void 0:n.getTrackPublicationByName("grok_audio"))||null,[n]),o=(0,N.useCallback)(()=>{r&&s(e=>!e)},[r,s]);return(0,a.jsxs)(a.Fragment,{children:[r&&(0,a.jsx)(x.s,{trackRef:{participant:n,source:w.CC.Source.Microphone},muted:t}),(0,a.jsx)(p.$n,{variant:"outline",size:"iconMd",rounded:!0,"aria-label":t?e("voice.activate-audio","Activate audio"):e("voice.deactivate-audio","Deactivate audio"),className:(0,k.cn)("flex-shrink-0",{"dark:[&_svg]:text-orange-200 dark:[&_svg]:hover:text-orange-200 [&_svg]:text-orange-300 [&_svg]:hover:text-orange-300 ":t}),onClick:o,children:(0,a.jsx)(S.p,{children:t?(0,a.jsx)(c.ec6,{size:18}):(0,a.jsx)(c.caQ,{size:18})},t?"off":"on")})]})},eh=e=>{let{audioTrack:t,barCount:s=5,className:n}=e,{bars:r}=(0,b.S)(t,{barCount:s,volMultiplier:5}),o=(0,N.useCallback)(e=>{let t=r[e]?r[e]+.125:.125,a=Math.round(8*t)/8,n=Math.floor(s/2),o=Math.abs(e-n);return a<.5?.125:Math.min(a,1.5)*(1-o/n*.5)},[r,s]);return(0,a.jsx)("div",{className:(0,k.cn)("flex items-center gap-0.5",n),children:[...Array(s)].map((e,s)=>(0,a.jsx)(y.P.div,{initial:{height:"0.125rem"},animate:{height:"".concat(o(s),"rem"),transition:{duration:.1,ease:"easeInOut"}},className:(0,k.cn)("w-0.5",{"bg-blue-300 dark:bg-blue-200":!(null==t?void 0:t.isMuted),"bg-fg-secondary":null==t?void 0:t.isMuted})},s))})},ef=()=>{var e;let{t}=(0,C.Bd)("base"),s=(0,b.C)(),{enabled:n,toggle:r}=(0,b.h)({source:w.CC.Source.Microphone});return(0,a.jsxs)(p.$n,{variant:"outline",rounded:!0,"aria-label":n?t("voice.deactivate-audio","Deactivate audio"):t("voice.activate-audio","Activate audio"),className:(0,k.cn)({"dark:[&_svg]:text-orange-200 dark:[&_svg]:hover:text-orange-200 [&_svg]:text-orange-300 [&_svg]:hover:text-orange-300":!n}),onClick:()=>r(),children:[(0,a.jsx)(eh,{audioTrack:null==s||null==(e=s.microphoneTrack)?void 0:e.track,barCount:5,className:"me-1 hidden @[360px]/voice-bar:flex"}),(0,a.jsx)(S.p,{children:n?(0,a.jsx)(c.L9v,{size:18}):(0,a.jsx)(c.KA7,{size:18})},n?"on":"off")]})},ek=()=>{let{t:e}=(0,C.Bd)("base"),{localParticipant:t,isScreenShareEnabled:s}=(0,b.C)(),n=(0,f.aP)(j.A("toggleScreenSharing")),[r,o]=(0,N.useState)(!1),i=(0,N.useCallback)(async()=>{if(t&&!r)return o(!0),n().finally(()=>o(!1))},[t,r,o,n]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(p.$n,{variant:"outline",size:"iconMd",rounded:!0,disabled:r||!t,"aria-label":s?e("voice.deactivate-screen-share","Deactivate screen share"):e("voice.activate-screen-share","Activate screen share"),className:(0,k.cn)("flex-shrink-0",{"dark:[&_svg]:text-blue-200 dark:[&_svg]:hover:text-blue-200 [&_svg]:text-blue-300 [&_svg]:hover:text-blue-300":s}),onClick:i,children:(0,a.jsx)(S.p,{children:s?(0,a.jsx)(c.Df$,{size:18}):(0,a.jsx)(c.zzJ,{size:18})},s?"off":"on")})})};var eb=s(16506);let ex=()=>{let e=(0,b.L)({identity:"grok-agent"}),{resolvedTheme:t}=(0,eb.D)(),s=(0,N.useMemo)(()=>{var t;return null==e||null==(t=e.getTrackPublicationByName("grok_audio"))?void 0:t.track},[e]),{bars:n}=(0,b.S)(s,{updateInterval:100,barCount:100,volMultiplier:2}),r=(0,N.useMemo)(()=>Math.round(100*Math.min(n.reduce((e,t)=>e+t,0)/n.length,1))/100,[n]);return(0,a.jsxs)(y.P.div,{initial:{scale:1,opacity:0},animate:"dark"===t?r>.1?{scale:1.1,opacity:.75}:{scale:1,opacity:.45}:r>.1?{scale:1.15,opacity:1}:{scale:1,opacity:.75},transition:{duration:.25,ease:"easeOut"},className:"absolute h-20 bottom-0 -inset-x-12 blur-2xl overflow-hidden",children:[(0,a.jsx)(y.P.div,{className:"absolute w-[60%] h-full bg-[#97C4FF] dark:opacity-50 opacity-70",animate:{x:["0%","20%","0%"]},transition:{duration:12,repeat:1/0,ease:"easeInOut"}}),(0,a.jsx)(y.P.div,{className:"absolute w-[100%] h-full bg-[#FF6308] dark:opacity-50 opacity-50",animate:{x:["10%","70%","10%"]},transition:{duration:12,repeat:1/0,ease:"easeInOut"}}),(0,a.jsx)(y.P.div,{className:"absolute w-[60%] h-full bg-[#BDC9E6] dark:opacity-50 opacity-70",animate:{x:["80%","60%","80%"]},transition:{duration:12,repeat:1/0,ease:"easeInOut"}})]})};var ew=s(72712),ev=s(50089);let ey={assistant:c.tm1,translator:c.jlV,therapist:c.dJj,storyteller:c.RuZ,"kids-stories":e=>(0,a.jsxs)(ew.I,{...e,children:[(0,a.jsx)("path",{stroke:"currentColor",d:"M12 1v13M2 5h20M5 5v3.5M19 5v5"}),(0,a.jsx)("circle",{cx:"5",cy:"11",r:"2",stroke:"currentColor"}),(0,a.jsx)("circle",{cx:"19",cy:"11",r:"2",stroke:"currentColor"}),(0,a.jsx)("path",{stroke:"currentColor",d:"m12 13.5 1.374 2.359 2.668.578-1.819 2.035.275 2.716-2.498-1.1-2.498 1.1.275-2.716-1.819-2.035 2.668-.578z"})]}),"kids-trivia":c.OR,meditation:ev.A,conspiracy:e=>(0,a.jsxs)(ew.I,{...e,children:[(0,a.jsx)("path",{stroke:"currentColor",d:"M6.273 13 3 19h18l-3.273-6M7.5 10.75 12 2.5l4.5 8.25"}),(0,a.jsx)("path",{stroke:"currentColor",d:"M12 8.75c-2.75 0-6.5 3.5-6.5 3.5s3.75 3.5 6.5 3.5 6.5-3.5 6.5-3.5-3.75-3.5-6.5-3.5Z"})]}),doctor:c.XOY,unhinged:e=>(0,a.jsx)(ew.I,{...e,children:(0,a.jsx)("path",{stroke:"currentColor",strokeLinejoin:"round",d:"M13.185 2.25c-2.691.192-5.293 1.452-7.06 3.453-1.668 1.89-2.57 4.433-2.375 6.926a8.94 8.94 0 0 0 3.184 6.133c1.72 1.416 4.015 2.157 6.25 1.955 2.082-.187 4.084-1.196 5.409-2.782 1.226-1.468 1.851-3.419 1.644-5.306-.19-1.735-1.091-3.396-2.487-4.48-1.274-.988-2.954-1.479-4.565-1.27-1.457.188-2.834.95-3.723 2.097-.8 1.03-1.195 2.373-.995 3.653a4.28 4.28 0 0 0 1.803 2.86c.841.567 1.917.81 2.915.6.849-.178 1.632-.692 2.072-1.427.364-.606.482-1.363.263-2.033a1.98 1.98 0 0 0-1.105-1.206c-.437-.182-1.528-.382-2.265.785"})}),sexy:c.hQY,motivation:e=>(0,a.jsxs)(ew.I,{...e,children:[(0,a.jsx)("path",{stroke:"currentColor",d:"M12 9.5v-4m0 0v-4c2.058.568 3.942.568 6 0v4c-2.058.568-3.942.568-6 0ZM21 21H3v-.75L12 9l9 11.25z"}),(0,a.jsx)("path",{stroke:"currentColor",d:"m8 14.5 2 2 2-2 1.5.5 1.5-1"})]}),romantic:e=>(0,a.jsx)(ew.I,{...e,children:(0,a.jsx)("path",{stroke:"currentColor",d:"M17 8c0-2.761-5-5-5-5S7 5.239 7 8M14 20.748V18c0-2.252-.744-4.33-2-6.001m2 8.749A8 8 0 0 1 4 13V8a9.99 9.99 0 0 1 8 3.999m2 8.749c3.45-.888 6-4.02 6-7.748V8a9.99 9.99 0 0 0-8 3.999"})}),argumentative:c.hGI};var ej=s(59109),eN=s(89720),eC=s(84852),eS=s(28245);let eI=e=>(0,a.jsxs)(ew.I,{...e,children:[(0,a.jsx)("path",{stroke:"currentColor",d:"M13 18.938A8.001 8.001 0 1 0 4.252 9"}),(0,a.jsx)("path",{stroke:"currentColor",strokeLinecap:"square",d:"M18.5 17.5 21 20"}),(0,a.jsx)("path",{fill:"currentColor",d:"M2 17.875 7.786 11l-.643 4.125H11L5.214 22l.643-4.125z"})]});var eT=s(34500),eE=s(73772);let eR=()=>{let{t:e}=(0,C.Bd)("base"),t=(0,_.h)(),s=(0,f.aP)(j.A("voiceId")),n=(0,f.aP)(j.A("voicePersonalityId")),r=(0,f.aP)(j.A("voiceCustomInstructions")),o=(0,f.aP)(j.A("sendVoiceSettingsUpdate")),i=(0,f.aP)(j.A("voicePlaybackSpeed")),c=(0,ed.Di)(),l=(0,H.C$)(j.A("setShowAgeVerification")),{stage:d}=(0,eS.S)(),{user:g}=(0,en.wV)(),{voices:m,personalities:p}=function(){var e,t;let s=(0,_.h)();return{personalities:(0,N.useMemo)(()=>{var e,t;return Array.isArray(null==(e=s.VOICE_MODE_CONFIG.value)?void 0:e.personalities)?null==(t=s.VOICE_MODE_CONFIG.value)?void 0:t.personalities:[]},[null==(e=s.VOICE_MODE_CONFIG.value)?void 0:e.personalities]),voices:(0,N.useMemo)(()=>{var e,t;return Array.isArray(null==(e=s.VOICE_MODE_CONFIG.value)?void 0:e.voices)?null==(t=s.VOICE_MODE_CONFIG.value)?void 0:t.voices:[]},[null==(t=s.VOICE_MODE_CONFIG.value)?void 0:t.voices])}}(),[u,h]=(0,N.useState)(!1),[k,b]=(0,N.useState)(!1),x=(0,N.useMemo)(()=>p.find(e=>e.id===n),[p,n]),w=(0,N.useMemo)(()=>m.find(e=>e.id===s),[m,s]),S=(0,N.useCallback)(s=>{o({voiceId:s,voicePersonalityId:n,voiceCustomInstructions:r,voicePlaybackSpeed:i,ff:t}).catch(()=>{ep.oR.error(e("voice.failed-to-update-settings","Failed to update voice settings"))})},[t,o,n,r,i,e]),I=(0,N.useCallback)(()=>{o({voiceId:s,voicePersonalityId:null,voiceCustomInstructions:null,voicePlaybackSpeed:i,ff:t}).catch(()=>{ep.oR.error(e("voice.failed-to-update-settings","Failed to update voice settings"))})},[t,o,s,i,e]),T=(0,N.useCallback)(a=>{let n=p.find(e=>e.id===a);if((null==n?void 0:n.mature)&&"pass"!==d&&!g)return void l(!0);o({voiceId:s,voicePersonalityId:a,voiceCustomInstructions:null,voicePlaybackSpeed:i,ff:t}).catch(()=>{ep.oR.error(e("voice.failed-to-update-settings","Failed to update voice settings"))}),b(!1)},[t,p,l,o,i,s,e,d,g]),E=(0,N.useCallback)(e=>o({voiceId:s,voicePersonalityId:null,voiceCustomInstructions:e,voicePlaybackSpeed:i,ff:t}),[t,o,i,s]),R=(0,N.useCallback)(e=>o({voiceId:s,voicePersonalityId:n,voiceCustomInstructions:r,voicePlaybackSpeed:e,ff:t}),[t,o,s,n,r]);return c?(0,a.jsxs)(eT._s,{open:u,onOpenChange:h,children:[(0,a.jsx)(eT.Uz,{asChild:!0,children:(0,a.jsx)(eA,{voiceName:(null==w?void 0:w.name)||"",personalityTitle:(null==w?void 0:w.disablePersonalities)?void 0:n?(null==x?void 0:x.title)||"":r?e("voice.custom-instructions","Custom"):void 0,isOpen:u})}),(0,a.jsxs)(eT.zj,{className:"flex flex-col gap-2 max-h-[90dvh] min-h-[60dvh] p-3",children:[(0,a.jsx)(eC.s,{children:(0,a.jsx)(eT.gk,{children:e("voice.settings","Voice settings")})}),(0,a.jsx)(e_,{voiceId:s,voices:m,handleVoiceChange:S}),(0,a.jsx)(v.N,{initial:!1,children:!(null==w?void 0:w.disablePersonalities)&&(0,a.jsx)(y.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15,ease:"easeInOut"},children:(0,a.jsx)(eO,{isMobile:!0,disablePersonalities:null==w?void 0:w.disablePersonalities,isOpen:k,onOpenChange:b,personalityId:n,customInstructions:r,personalities:p,handleCustomInstructionsChange:E,handleCustomInstructionsClick:I,handlePersonalityChange:T})},"personality-options-mobile")}),(0,a.jsx)(eM,{playbackSpeed:i,onPlaybackSpeedChange:R})]})]}):(0,a.jsxs)(eE.rI,{open:u,onOpenChange:h,children:[(0,a.jsx)(eE.ty,{asChild:!0,children:(0,a.jsx)(eA,{voiceName:(null==w?void 0:w.name)||"",personalityTitle:(null==w?void 0:w.disablePersonalities)?void 0:n?(null==x?void 0:x.title)||"":r?e("voice.custom-instructions","Custom"):void 0,isOpen:u})}),(0,a.jsxs)(eE.SQ,{side:"top",align:"start",alignOffset:t.ENABLE_SCREEN_SHARING?-190:-142,sideOffset:72,className:"flex flex-col gap-2 overflow-hidden bg-surface-l2 border-border-l1 p-1.5 pb-4 w-[420px] max-w-[420px]",children:[(0,a.jsx)(e_,{voiceId:s,voices:m,handleVoiceChange:S}),(0,a.jsx)(eO,{isMobile:!1,disablePersonalities:null==w?void 0:w.disablePersonalities,isOpen:k,onOpenChange:b,personalityId:n,customInstructions:r,personalities:p,handleCustomInstructionsChange:E,handleCustomInstructionsClick:I,handlePersonalityChange:T}),(0,a.jsx)(eM,{playbackSpeed:i,onPlaybackSpeedChange:R})]})]},"voice-settings-dropdown")},eA=(0,N.forwardRef)((e,t)=>{let{voiceName:s,personalityTitle:n,isOpen:r,...o}=e,{t:i}=(0,C.Bd)("base");return(0,a.jsxs)(p.$n,{ref:t,variant:"outline","aria-label":i("voice.settings","Voice settings"),rounded:!0,...o,children:[(0,a.jsx)(c.f6R,{className:"text-fg-primary size-4"}),(0,a.jsxs)("div",{className:"hidden @[360px]/voice-bar:block",children:[(0,a.jsx)("span",{className:"font-semibold",children:s}),n&&(0,a.jsxs)("div",{className:"hidden @[480px]/voice-bar:contents",children:[(0,a.jsx)("span",{className:"text-fg-secondary text-xs mx-0.5",children:" \xb7 "}),(0,a.jsx)("span",{className:"text-fg-secondary text-xs",children:n})]})]}),(0,a.jsx)(c.D3D,{className:(0,k.cn)("size-3 text-secondary transition-transform",{"rotate-180":r,"-ml-1":n})})]})}),e_=e=>{let{voiceId:t,voices:s,handleVoiceChange:n}=e,{t:r}=(0,C.Bd)("base");return(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"py-2.5 px-3 font-semibold text-xs",children:r("voice.voice","Voice")}),(0,a.jsx)("div",{className:"grid gap-2 grid-cols-3 px-2",children:s.map(e=>(0,a.jsxs)(p.$n,{variant:"outline",className:(0,k.cn)("col-span-1 flex-col gap-0 items-start h-auto flex-grow w-full p-3 rounded-2xl",{"bg-button-ghost-hover text-fg-primary":e.id===t}),onClick:()=>{n(e.id)},children:[(0,a.jsx)("p",{className:"font-semibold text-sm",children:e.name}),(0,a.jsx)("p",{className:"text-fg-secondary text-xs",children:e.description})]},e.id))})]})},eO=e=>{let{disablePersonalities:t,isMobile:s,isOpen:n,onOpenChange:r,personalityId:o,customInstructions:i,personalities:l,handleCustomInstructionsChange:d,handleCustomInstructionsClick:g,handlePersonalityChange:m}=e,{t:u}=(0,C.Bd)("base"),h=(0,N.useMemo)(()=>l.find(e=>e.id===o),[l,o]);return(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"py-2.5 px-3 font-semibold text-xs",children:u("voice.personality","Personality")}),(0,a.jsx)("div",{className:"px-2",children:s?(0,a.jsxs)("div",{className:"relative -mx-3",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 -right-3 bg-gradient-to-l w-6 from-bg-surface-base via-bg-surface-base dark:from-surface-base dark:via-surface-base to-transparent z-40"}),(0,a.jsx)("div",{className:"absolute inset-y-0 -left-3 bg-gradient-to-r w-6 from-bg-surface-base via-bg-surface-base dark:from-surface-base dark:via-surface-base to-transparent z-40"}),(0,a.jsxs)("div",{className:"flex gap-2 overflow-x-auto px-3 pb-1",style:{scrollbarWidth:"none"},children:[(0,a.jsxs)(p.$n,{variant:"outline",className:(0,k.cn)("flex-col gap-2 items-start h-auto flex-grow w-full p-3 rounded-2xl",{"bg-button-ghost-hover text-fg-primary":!o||!!i}),onClick:g,children:[(0,a.jsx)(c.f6R,{className:"text-fg-primary size-[18px]"}),(0,a.jsx)("p",{className:"text-fg-secondary min-w-[100px] text-start",children:u("voice.custom-instructions","Custom")})]}),l.map(e=>(0,a.jsxs)(p.$n,{variant:"outline",className:(0,k.cn)("flex-col gap-2 items-start h-auto flex-grow w-full relative p-3 rounded-2xl",{"bg-button-ghost-hover text-fg-primary":e.id===o}),onClick:()=>{m(e.id)},children:[N.createElement(ey[e.id]||c.nys,{className:"text-fg-primary size-[18px]"}),(0,a.jsxs)("p",{className:"text-fg-primary min-w-[100px] text-start",children:[(0,a.jsx)("span",{children:e.title}),e.mature&&(0,a.jsx)("span",{className:"text-fg-secondary text-xs ms-1.5",children:u("voice.mature-personality","18+")})]}),e.enableSearch&&(0,a.jsx)(eI,{className:"text-blue-400 dark:text-blue-300 size-4 absolute top-2 right-3"})]},e.id))]})]}):(0,a.jsxs)(eE.rI,{open:n,onOpenChange:r,children:[(0,a.jsx)(eE.ty,{asChild:!0,disabled:t,children:(0,a.jsxs)(p.$n,{variant:"outline",className:"w-full rounded-2xl",disabled:t,onClick:g,children:[(0,a.jsx)("div",{className:"flex flex-grow items-center gap-2",children:t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.b7X,{className:(0,k.cn)("size-4 text-fg-secondary",t&&"!text-fg-secondary")}),(0,a.jsx)("p",{children:u("voice.pre-defined-personality","Pre-defined")})]}):!o||i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.f6R,{className:(0,k.cn)("size-4 text-fg-secondary",t&&"!text-fg-secondary")}),(0,a.jsx)("p",{children:u("voice.custom-instructions","Custom")})]}):(0,a.jsxs)(a.Fragment,{children:[N.createElement(ey[o]||c.nys,{className:(0,k.cn)("text-fg-secondary size-4",t&&"!text-fg-secondary")}),(0,a.jsx)("p",{children:null==h?void 0:h.title})]})}),(0,a.jsx)(c.D3D,{className:"size-3 text-secondary transition-transform ".concat(n&&"rotate-180")})]})}),(0,a.jsxs)(eE.SQ,{hideWhenDetached:!0,side:"right",sideOffset:22,children:[(0,a.jsxs)(eE._2,{className:"flex items-center gap-2 justify-between",onSelect:g,children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-grow",children:[(0,a.jsx)(c.f6R,{className:"text-secondary flex-shrink-0 size-4"}),(0,a.jsx)("p",{children:u("voice.custom-instructions","Custom")})]}),(!o||!!i)&&(0,a.jsx)(c.Srz,{className:"text-fg-primary size-4"})]}),l.map(e=>(0,a.jsxs)(eE._2,{className:"flex items-center gap-2 justify-between",onSelect:()=>{m(e.id)},children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-grow",children:[N.createElement(ey[e.id]||c.nys,{className:"text-secondary flex-shrink-0 size-4"}),(0,a.jsx)("p",{children:e.title}),e.mature&&(0,a.jsx)("span",{className:"text-fg-secondary text-xs",children:u("voice.mature-personality","18+")})]}),o===e.id?(0,a.jsx)(c.Srz,{className:"text-fg-primary size-4"}):e.enableSearch&&(0,a.jsx)(eI,{className:"text-blue-400 dark:text-blue-300 size-4"})]},e.id))]})]},"personality-dropdown")}),!t&&(!o||!!i)&&(0,a.jsx)(eP,{initialValue:i,onSubmit:d})]})},eP=e=>{let{initialValue:t,onSubmit:s}=e,{t:n}=(0,C.Bd)("base"),[r,o]=(0,N.useState)(t||""),[i,c]=(0,N.useState)(!1),l=(0,N.useCallback)(e=>{e.preventDefault(),c(!1),s(r).catch(()=>{o(t||""),ep.oR.error(n("voice.failed-to-update-settings","Failed to update voice settings"))})},[s,r,t,n]);return(0,a.jsx)("div",{className:"px-2",children:(0,a.jsxs)("form",{onSubmit:l,className:"flex flex-col gap-2 mt-2.5 p-3 rounded-xl border border-border-l2 focus-visible:ring-1 focus-visible:ring-ring transition-colors duration-100",children:[(0,a.jsx)("p",{className:"text-sm",children:n("voice.custom-instructions.label","Instructions")}),(0,a.jsx)(em.A,{value:r,onChange:e=>{o(e.target.value),c(!0)},placeholder:n("voice.custom-instructions.placeholder","Describe the behavior, tone, and response you want Grok to adopt."),className:"resize-none bg-transparent text-sm p-0 shadow-none focus:outline-none focus-visible:ring-0 border-0 focus-visible:ring-transparent",minRows:3,maxRows:5}),(0,a.jsx)(p.$n,{type:"submit",size:"sm",variant:"filled",rounded:!0,disabled:!i,className:"self-end transition-all duration-100",children:n("voice.save","Save")})]})})},eM=e=>{let{playbackSpeed:t,onPlaybackSpeedChange:s}=e,{t:n}=(0,C.Bd)("base"),r=(0,ej.XH)(),o=(0,N.useRef)(null),[i,c]=(0,N.useState)(t),l=(0,N.useCallback)(e=>{c(e),o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{s(e).catch(()=>{ep.oR.error(n("voice.failed-to-update-settings","Failed to update voice settings")),c(t)})},500)},[s,t,n]);return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3 pr-1",children:[(0,a.jsx)("p",{className:"py-2.5 px-3 font-semibold text-xs",children:n("voice.playback-speed","Speed")}),(0,a.jsx)(v.N,{initial:!1,children:1!==i&&(0,a.jsx)(y.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15,ease:"easeInOut"},children:(0,a.jsx)(p.$n,{variant:"textSecondary",size:"xs",onClick:()=>l(1),children:n("voice.reset-playback-speed","reset")})},"reset-speed-button")})]}),(0,a.jsxs)("div",{className:"px-2 flex items-center gap-3",children:[(0,a.jsx)("div",{className:"py-2 px-1 flex-grow",children:(0,a.jsx)(eL,{min:.5,max:2,step:.1,value:[i],onValueChange:e=>{let[t]=e;void 0!==t&&l(t)}})}),(0,a.jsx)(ej.Ay,{value:i,animated:r,format:{style:"decimal",minimumFractionDigits:1,maximumFractionDigits:1},suffix:"x",className:"py-2.5 text-sm font-semibold w-8"})]})]})},eL=N.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsxs)("div",{className:"flex relative items-center h-10 p-1 w-full overflow-hidden border border-border-l1 rounded-[32px] touch-none select-none",children:[(0,a.jsxs)(eN.bL,{ref:t,className:(0,k.cn)("relative z-10 h-8 rounded-full overflow-hidden flex w-full items-center",s),...n,children:[(0,a.jsx)(eN.CC,{className:"relative -z-30 h-full w-full grow rounded-s-full overflow-hidden",children:(0,a.jsx)(eN.Q6,{className:"absolute z-10 h-full bg-fg-primary rounded-s-full"})}),(0,a.jsxs)(eN.zi,{className:"h-8 w-8 flex items-center justify-center bg-surface-l2 focus-visible:outline-none focus:outline-none",children:[(0,a.jsx)("div",{className:"bg-fg-primary rounded-e-full absolute inset-0"}),(0,a.jsx)(y.P.div,{whileTap:{scale:.9},className:"h-5 w-5 absolute z-50 rounded-full cursor-pointer bg-fg-invert disabled:pointer-events-none disabled:opacity-50"})]}),(0,a.jsx)("div",{className:"absolute  inset-0 ltr:bg-gradient-to-r rtl:bg-gradient-to-l from-surface-l2 to-transparent opacity-50"}),void 0!==n.min&&void 0!==n.max&&void 0!==n.step&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-between px-3.5",children:[...Array(Math.floor((n.max-n.min)/n.step)+1)||0].map((e,t)=>(0,a.jsx)("div",{className:"h-1 w-1 bg-fg-invert dark:opacity-20 opacity-50 rounded-full"},t))})]}),(0,a.jsx)("div",{className:"absolute inset-0 bg-surface-l2"})]})}),eD=e=>{let{placeholder:t,className:s,onVoiceModeExit:n}=e,r=(0,_.h)(),o=(0,f.aP)(j.A("sendVoiceManualMessage")),i=(0,f.aP)(j.A("conversationId")),l=(0,f.aP)(j.A("lastMessageId")),g=(0,f.aP)(j.A("queryByConversationId")),m=(0,f.aP)(j.A("idsetQueryByConversationId")),u=(0,V.A3)(j.A("byId")),{t:h}=(0,C.Bd)("base"),b=(0,P.c)(),x=(0,ed.Di)(),w=(0,N.useRef)(null),v=(0,el.t)(w),[I,T]=(0,N.useState)(!1),E=i||"no_conversation_id",R=(0,N.useMemo)(()=>g[E],[g,E]),A=(0,N.useCallback)(e=>m(e,E),[E,m]),O=(0,N.useMemo)(()=>!!(null==R?void 0:R.trim())&&!I,[R,I]),M=(0,N.useMemo)(()=>l?u[l]:void 0,[l,u]),L=(0,N.useCallback)(()=>{var e;let t=V.A3.getState(),s=!!((null==M?void 0:M.suggestions)&&(null==M||null==(e=M.suggestions)?void 0:e.length)>0),a=!!(null==M?void 0:M.followUpSuggestedMode);(s||a)&&t.upsertResponse({...M,suggestions:[],followUpSuggestedMode:void 0})},[M]),D=(0,N.useCallback)(async()=>{if(!R||!R.trim())return;let e=R.length;return e>eg.H4?(ep.oR.error(h("query-bar.too-long","Character Limit Exceeded: {{currentLength, number(maximumFractionDigits: 0)}}/{{maxLength, number(maximumFractionDigits: 0)}}",{maxLength:eg.H4.toFixed(0),currentLength:e.toFixed(0)})),!1):(L(),A(""),T(!0),o({message:R}).catch(()=>{ep.oR.error(h("voice.failed-to-send-message","Failed to send message")),A(R)}).finally(()=>{T(!1)}))},[o,R,h,L,A]),B=(0,N.useCallback)(e=>{let t=!e.metaKey&&!e.ctrlKey&&!e.shiftKey,s=!e.nativeEvent.isComposing&&"Process"!==e.key&&"KeyZ"!==e.code&&!v.current;if("Enter"===e.key&&t&&s&&!b){e.preventDefault(),D().catch(e=>{(0,F.vV)("voice-bar:handleKeyDown",e)});return}},[b,D,v]),z=(0,N.useCallback)(()=>{var e;A(null==(e=w.current)?void 0:e.value)},[A]);return(0,ec.v)(ei.Bq,()=>{D().catch(e=>{(0,F.vV)("voice-bar:hotkeys",e)})},[D]),(0,a.jsx)("form",{className:(0,k.cn)("w-full text-base flex flex-col gap-2 items-center justify-center relative z-10",s),onSubmit:D,children:(0,a.jsxs)("div",{onClick:()=>{var e;return null==(e=w.current)?void 0:e.focus()},className:(0,k.cn)("flex flex-row justify-center w-full relative","bg-surface-l2 rounded-3xl","shadow shadow-black/5"),children:[(0,a.jsx)(y.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,ease:"easeInOut",delay:.2},className:"absolute inset-x-0 -bottom-12",children:(0,a.jsx)(ex,{})}),(0,a.jsxs)("div",{className:(0,k.cn)("@container/voice-bar","pb-12 px-2 rounded-3xl",d.Q,"relative w-full overflow-hidden z-10","ring-1 ring-inset focus-within:ring-1 duration-100 ","ring-border-l1 hover:ring-border-l2 focus-within:ring-border-l2 hover:focus-within:ring-border-l2","backdrop-brightness-[1.05]"),children:[(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsx)("span",{className:(0,k.cn)("absolute px-2 @[480px]/voice-bar:px-3 py-5 text-fg-secondary pointer-events-none select-none",R||!t?"hidden":""),children:t}),(0,a.jsx)(em.A,{ref:w,dir:"auto","aria-label":t,className:(0,k.cn)("w-full px-2 @[480px]/voice-bar:px-3","pt-5 mb-5","bg-transparent","focus:outline-none","text-fg-primary","align-bottom"),style:{resize:"none"},onKeyDown:B,onChange:z,value:R,maxRows:x?4:12,autoFocus:!b,minRows:1})]}),(0,a.jsxs)(y.P.div,{variants:{visible:{opacity:1},hidden:{opacity:0}},initial:"hidden",exit:"hidden",animate:"visible",transition:{duration:.1,ease:"easeInOut"},className:"flex justify-between gap-2 absolute inset-x-0 bottom-0 border-2 border-transparent p-2 max-w-full",children:[(0,a.jsxs)("div",{className:"flex gap-2 max-w-full",children:[(0,a.jsx)(ef,{}),(0,a.jsx)(eu,{}),r.ENABLE_SCREEN_SHARING&&(0,a.jsx)(ek,{}),(0,a.jsx)(eR,{})]}),(0,a.jsx)(y.P.div,{variants:{send:{width:40},exit:{width:52}},initial:"exit",animate:O?"send":"exit",transition:{duration:.15,ease:"easeInOut"},whileHover:{scale:1.1},whileTap:{scale:.95},children:(0,a.jsx)(p.$n,{variant:"filled",rounded:!0,size:"iconMd","aria-label":O?h("voice.send-message","Send message"):h("voice.exit-voice-mode","Exit voice mode"),className:"w-full flex items-center flex-shrink-0 hover:bg-button-filled",onClick:O?D:n,children:(0,a.jsx)(S.p,{children:O?(0,a.jsx)(c.Kpk,{size:20}):(0,a.jsx)(c.uv5,{size:20})},O?"send":"exit")})})]})]})]})})};var eB=s(65912),ez=s(68332),eF=s(98100),eU=s(49972),eV=s(70888),eH=s(71019),eW=s(25859),eG=s(74933),eK=s(85937),eq=s(85467),eX=s(80574);function eY(e){var t;let{className:s}=e,{client:n}=(0,E.useStatsigClient)(),r=(0,ed.Di)(),{t:o}=(0,C.Bd)("chat"),i=(0,O._)(),l=(0,eX.i5)(),d=(0,eX.MW)(),g=A(),{runOnce:m}=function(){let e=(0,N.useRef)(!1);return{runOnce:function(t){e.current||(t(),e.current=!0)},runOnceAsync:async function(t){e.current||(await t(),e.current=!0)}}}(),[p,u]=(0,N.useState)(0),h=l?function(e){var t;if(!e.statsigSurveyName||!e.elements||0==e.elements.length)return;let s=e.elements.map(e=>{var t,s,a,n,r,o,i;if(e.textBox){let a={[eq.h9K.TextBoxSizeUnspecified]:"md",[eq.h9K.TextBoxSizeSm]:"sm",[eq.h9K.TextBoxSizeMd]:"md",[eq.h9K.TextBoxSizeLg]:"lg"};return void 0===e.textBox.id?null:{type:"textBox",id:null!=(t=e.textBox.id)?t:"no_id_specified",placeholder:e.textBox.placeholder,size:a[null!=(s=e.textBox.size)?s:eq.h9K.TextBoxSizeUnspecified]}}return e.likert?e.likert.id&&(null==(a=e.likert.values)?void 0:a.every(e=>!!e.valueId))?{type:"likert",id:null!=(n=e.likert.id)?n:"no_id_specified",labels:null!=(r=e.likert.labels)?r:[],values:e.likert.values?e.likert.values.map(e=>{var t;return{valueId:e.valueId,label:null!=(t=e.label)?t:"no_label_specified"}}):[]}:null:e.thumbs?e.thumbs.id&&(null==(o=e.thumbs.values)?void 0:o.every(e=>!!e.valueId&&!!e.label&&("thumbs_up"===e.label||"thumbs_down"===e.label)))?{type:"thumbs",id:null!=(i=e.thumbs.id)?i:"no_id_specified",values:e.thumbs.values?e.thumbs.values.map(e=>({valueId:e.valueId,label:e.label})):[]}:null:null}).filter(e=>null!==e);return{surveyTitle:null!=(t=e.surveyTitle)?t:"Survey",statsigSurveyName:e.statsigSurveyName,elements:s}}(l):void 0,f=null!=(t=null==h?void 0:h.elements)?t:[];(0,N.useEffect)(()=>{h&&m(()=>i("survey_shown",void 0,{location:"chat-input",surveyLocation:g,surveyName:h.statsigSurveyName}))},[i,m,h,g]);let b=(0,N.useCallback)(()=>{var e;p<(null!=(e=f.length)?e:1)-1?u(p+1):d(void 0)},[d,p,f.length]),x=(0,N.useCallback)(e=>{var t,s;h&&(null==n||n.logEvent(h.statsigSurveyName,void 0,{responseData:e})),i("survey_submitted",void 0,{location:"chat-input",surveyLocation:g,surveyName:null!=(t=null==h?void 0:h.statsigSurveyName)?t:"",surveyType:e.type});let r=(0,a.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,a.jsx)("h1",{className:"text-sm font-bold",children:o("chat-survey.success.title","Thanks for your feedback")}),(0,a.jsx)("p",{className:"text-sm font-normal text-fg-secondary",children:o("chat-survey.success.description","It helps us make Grok even better for you")})]});p<(null!=(s=f.length)?s:1)-1?u(p+1):(eH.j.success(r),d(void 0))},[h,i,g,o,p,f.length,n,d]),w=f[p],y=(0,N.useCallback)(()=>h&&w?"thumbs"===w.type?(0,a.jsx)(eQ,{...w,survey:h,onSubmit:x},"thumbs-".concat(w.id)):"likert"===w.type?(0,a.jsx)(e$,{...w,survey:h,onSubmit:x},"likert-".concat(w.id)):"textBox"===w.type?(0,a.jsx)(eZ,{...w,survey:h,onSubmit:x,onClose:b},"textBox-".concat(w.id)):void 0:null,[w,x,b,h]);return h&&y?(0,a.jsx)("div",{className:(0,k.cn)("relative rounded-3xl w-full h-full overflow-hidden","bg-background backdrop-blur-lg","border border-border-l1",s),children:(0,a.jsxs)("div",{className:"flex items-center h-full",children:[(0,a.jsx)("div",{className:(0,k.cn)("grow flex gap-2 px-4 py-2.5"),children:(0,a.jsx)(v.N,{children:y()})}),(0,a.jsx)("div",{className:(0,k.cn)("px-3 border-l border-l-border-l1 h-full flex items-center",{"px-1":r}),children:(0,a.jsx)(eW.$n,{variant:"tertiary",size:"sm",shape:"circle",onClick:b,"aria-label":o("chat-survey.close",{defaultValue:"Close"}),children:(0,a.jsx)(c.X,{size:14})})})]})}):null}function eQ(e){let{values:t,survey:s,onSubmit:n,type:r,id:o}=e,i=(0,ed.Di)(),{t:l}=(0,C.Bd)("chat"),d=(0,N.useCallback)(e=>{n({responseChatItemId:f.aP.getState().lastMessageId,conversationId:f.aP.getState().conversationId,type:r,id:o,value:t.map(t=>({valueId:t.valueId,value:e===t.valueId}))})},[o,n,r,t]);return(0,a.jsxs)("div",{className:"flex justify-between w-full items-center",children:[(0,a.jsx)("h1",{className:"text-sm",children:s.surveyTitle}),(0,a.jsx)("div",{className:"flex flex-col gap-2",children:(0,a.jsx)("div",{className:"flex items-center gap-2",children:t.map(e=>(0,a.jsx)(eW.$n,{variant:"secondary",size:"sm",shape:"rectangle",className:"flex-grow",onClick:()=>d(e.valueId),children:"thumbs_up"===e.label?(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(c.twC,{size:14,className:"text-fg-secondary","aria-label":"Thumbs Up"}),!i&&(0,a.jsx)("span",{className:"text-sm",children:l("chat-survey.thumbs_up",{defaultValue:"Like"})})]}):"thumbs_down"===e.label?(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(c.SuN,{size:14,className:"text-fg-secondary","aria-label":"Thumbs Down"}),!i&&(0,a.jsx)("span",{className:"text-sm",children:l("chat-survey.thumbs_down",{defaultValue:"Dislike"})})]}):null},e.valueId))})})]})}function e$(e){let{labels:t,values:s,survey:n,onSubmit:r,type:o,id:i}=e,c=(0,N.useCallback)(e=>{r({responseChatItemId:f.aP.getState().lastMessageId,conversationId:f.aP.getState().conversationId,type:o,id:i,value:s.map(t=>({valueId:t.valueId,value:e===t.valueId}))})},[i,r,o,s]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h1",{className:"text-sm",children:n.surveyTitle}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:t.map(e=>(0,a.jsx)("span",{className:"text-xs text-fg-secondary",children:e},e))}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:s.map(e=>(0,a.jsx)(eW.$n,{variant:"secondary",size:"sm",shape:"rectangle",className:"flex-grow",onClick:()=>c(e.valueId),children:e.label},e.valueId))})]})]})}function eZ(e){let{placeholder:t,size:s="sm",survey:n,onSubmit:r,onClose:o,type:i,id:c}=e,[l,d]=(0,N.useState)(""),{t:g}=(0,C.Bd)("chat"),m=N.useRef(null);(0,N.useEffect)(()=>{m.current&&m.current.focus()},[m]),(0,N.useEffect)(()=>{m.current&&m.current.scrollHeight<=96&&(m.current.style.height="auto",m.current.style.height=m.current.scrollHeight+"px")},[l]);let p=(0,N.useCallback)(()=>{let e=f.aP.getState().lastMessageId;r({responseChatItemId:e,conversationId:f.aP.getState().conversationId,type:i,id:c,value:l})},[c,r,i,l]);return(0,a.jsxs)("div",{className:"flex gap-2 w-full items-center",children:["sm"===s?(0,a.jsx)(eG.p,{className:"!border-transparent rounded-xl",placeholder:t,value:l,onChange:e=>d(e.target.value)}):(0,a.jsx)(eK.T,{ref:m,className:"!border-transparent !min-h-[24px] rounded-xl",placeholder:t,value:l,rows:1,onChange:e=>d(e.target.value)}),(0,a.jsx)("div",{className:"flex justify-between",children:(0,a.jsx)(eW.$n,{variant:"secondary",size:"sm",shape:"rectangle",onClick:p,children:g("chat-survey.send-feedback",{defaultValue:"Send Feedback"})})})]})}function eJ(e){let{children:t,onClickClearContent:s}=e;return(0,a.jsxs)(y.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3,ease:"easeOut"},className:(0,k.cn)("w-full flex justify-start sm:justify-center gap-2 pb-3 overflow-x-auto",d.Q,"no-scrollbar absolute inset-x-0 bottom-full"),children:[t,s&&(0,a.jsx)("button",{className:(0,k.cn)("rounded-full px-2 py-1","bg-input backdrop-blur-lg","ring-1 ring-input-border ring-inset","focus-within:ring-input-border-focus focus-within:bg-input-hover","hover:ring-input-border-focus hover:bg-input-hover"),onClick:s,children:(0,a.jsx)(c.X,{className:"!size-4"})})]})}var e0=s(50222),e1=s(6132);let e2=e1.z.union([e1.z.literal("SEARCH"),e1.z.literal("DEEPERSEARCH"),e1.z.literal("THINK"),e1.z.literal("THINK_HARDER")]),e3={SEARCH:(0,a.jsx)(C.x6,{i18nKey:"follow-up-suggested-mode.deepsearch",defaults:"Search deeper",ns:"base"}),DEEPERSEARCH:(0,a.jsx)(C.x6,{i18nKey:"follow-up-suggested-mode.deepersearch",defaults:"DeeperSearch",ns:"base"}),THINK:(0,a.jsx)(C.x6,{i18nKey:"follow-up-suggested-mode.think",defaults:"Think deeper",ns:"base"}),THINK_HARDER:(0,a.jsx)(C.x6,{i18nKey:"follow-up-suggested-mode.thinkharder",defaults:"Think harder",ns:"base"})},e4={SEARCH:(0,a.jsx)(e0.A,{size:18}),DEEPERSEARCH:(0,a.jsx)(c.C$2,{size:18}),THINK:(0,a.jsx)(c.xmO,{size:18}),THINK_HARDER:(0,a.jsx)(c.xmO,{size:18})};function e5(e){var t;let{response:s,followUpSuggestedMode:n,onClose:r}=e,{t:o}=(0,C.Bd)("base"),i=(0,_.h)(),l=(0,O._)(),d=(0,ed.Di)(),g=(0,er.L)(),m=(0,D.K)(),u=(0,f.aP)(j.A("isDeepSearchRateLimited")),h=(0,f.aP)(j.A("isThinkingRateLimited")),b=(0,f.aP)(j.A("lastMessageId")),{mode:x,mobile:w,web:v}=n,y=(0,N.useMemo)(()=>{let e=e2.safeParse(x);return e.success?e.data:null},[x]),S=(0,N.useCallback)(async()=>{try{var e;let t,a,n=f.aP.getState(),r=V.A3.getState();if(await g(),!n.conversationId)throw Error("No conversation id");let c=s.parentResponseId?r.byId[s.parentResponseId]:void 0;if(!c)throw Error("No source parent response message");let d=c.message;return"SEARCH"===y?a="deepsearch":"DEEPERSEARCH"===y?a="deepersearch":"THINK"===y?a="think":"THINK_HARDER"===y?(t="THINK_HARDER",d=null!=v?v:o("follow-up-suggested-mode.thinkharder","Think harder")):(0,F.vV)("follow-up-suggested-mode-button","Invalid follow up suggested mode: ".concat(y)),l("follow_up_suggested_mode_button_clicked",s.responseId,{location:"follow-up-suggested-mode-button:sendQuery",responseId:null!=(e=s.responseId)?e:"",parentResponseId:c.responseId,conversationId:n.conversationId,followUpSuggestedMode:y||""}),n.sendResponse({message:d,enableRetries:i.ENABLE_AUTO_STREAM_RETRY,parentResponseId:n.lastMessageId,conversationId:n.conversationId,fileAttachmentIds:c.fileAttachments,webpageUrls:c.webpageUrls,setOpimisticUserResponse:!0,setUserResponse:!0,followUpType:t,reasoningMode:a,ff:i})}catch(e){(0,F.vV)("follow-up-suggested-mode-button",e),m("follow-up-suggested-mode-button",e,o("follow-up-suggested-mode.error","Something went wrong while following up"))}},[s,l,y,i,g,o,m,v]),I=(0,N.useCallback)(e=>{e.stopPropagation(),r()},[r]);if(s.responseId!==b||!y||["SEARCH","DEEPERSEARCH"].includes(y)&&u||["THINK","THINK_HARDER"].includes(y)&&h)return null;let T=null!=(t=d?w:v)?t:e3[y],E=e3[y],R=e4[y];return(0,a.jsxs)(p.$n,{className:(0,k.cn)("font-semibold pointer-events-auto"),variant:"filledSecondary",size:"md",rounded:!0,onClick:S,children:[R,(0,a.jsx)("span",{children:i.USE_DYNAMIC_SUGGESTED_MODE_TEXT?T:E}),(0,a.jsx)("span",{className:(0,k.cn)("flex justify-center items-center hover:bg-button-ghost-hover rounded-full","-m-1.5 -ml-1 p-1.5 w-[25px] h-[25px] aspect-square"),onClick:I,children:(0,a.jsx)(c.uv5,{size:16})})]})}var e8=s(34140),e6=s(82127);let e7=[],e9={};function te(e){var t;let{onSubmit:s,isIncognito:n,disabled:r,extraAssetIds:o=e7,enableVoiceMode:i=!1,queryBarRef:l,hideFollowUps:d,restrictedModel:g=!1,threadMode:m=!1,threadParentId:p}=e,{t:u}=(0,C.Bd)("chat"),h=(0,O._)(),k=(0,_.h)(),{isBackgroundThinking:b}=(0,T.We)(),{user:x}=(0,en.wV)(),w=(0,f.aP)(j.A("activeModelId")),S=(0,f.aP)(j.A("reasoningMode")),I=(0,eF.$E)(),{signInWithReturnTo:E}=(0,ez.o)(),L=(0,er.L)(),{handleVoiceModeEnter:D}=(0,eo.F)({location:"chat-input"}),z=(0,eX.JH)(),G=(0,f.aP)(j.A("conversationId")),K=(0,eU.w1)(e=>G?e.byId[G]:void 0),q=(0,eX.OJ)(),X=(0,f.aP)(j.A("exitVoiceMode")),Y=(0,eX.rS)(),Q=(0,V.A3)(j.A("byId")),$=(0,f.aP)(j.A("conversationMode")),Z=(0,f.aP)(j.A("livekitRoom")),J=(0,f.aP)(j.A("voiceConnectionStatus")),ei=(0,f.aP)(j.A("sendVoiceManualMessage")),[ec,el]=(0,N.useState)(!1),{sessionStartTime:ed,conversationDepth:eg}=(0,e6.T)(G),em=(0,P.c)(),{bestSubscription:ep}=(0,B.Q2)(),eu=(0,eV.x)(j.A("listByConversationId")),eh=(0,eV.x)(j.A("attachListByConversationId")),ef=(0,N.useMemo)(()=>G&&eu[G]||[],[G,eu]),ek=(0,N.useMemo)(()=>G&&eh[G]||[],[G,eh]),eb=(0,N.useMemo)(()=>!n&&(ef.length>0&&!!ef.every(e=>e.file.type.includes("image"))||(null==ek?void 0:ek.length)>0&&!!ek.every(e=>e.mimeType.includes("image"))),[ef,ek,n]),ex=(null==(t=(0,f.aP)(j.A("sidePanelContent")))?void 0:t.type)==="messageThread",ew=(0,ee.m)("chat-input:handleAbort"),ev=(0,N.useCallback)(()=>ew({onlyAbortStreamMessageId:ec||b||ex,streamedMessageId:m?Y:void 0}),[m,Y,ew,ec,b,ex]),ey=(0,N.useMemo)(()=>q?Q[q]:void 0,[q,Q]),ej=(0,N.useMemo)(()=>{let e=Y?Q[Y]:void 0;return e?m&&p?e.threadParentId===p?e:void 0:(null==e?void 0:e.parentResponseId)===q?e:void 0:void 0},[Y,Q,q,m,p]),eN=(0,N.useCallback)(()=>{el(!0)},[]),eC=(0,N.useCallback)(()=>{var e;let t=V.A3.getState(),s=!!((null==ey?void 0:ey.suggestions)&&(null==ey||null==(e=ey.suggestions)?void 0:e.length)>0),a=!!(null==ey?void 0:ey.followUpSuggestedMode);(s||a)&&t.upsertResponse({...ey,suggestions:[],followUpSuggestedMode:void 0})},[ey]),{getPersonaForConversation:eS}=(0,M.v5)(),eI=eS(K),{handleKeyDown:eT,consumeCompositionTimeMs:eE,consumeBackspaceCount:eR,consumeAvgKeystrokeLatency:eA,reset:e_}=(0,eB.T)();(0,N.useEffect)(()=>{e_()},[G]);let{route:eO}=(0,U.wK)(),eP="files"===eO.page,eM=(0,eX.i5)(),eL=(0,eX.MW)(),eH=A(),eW=k.SHOW_SURVEYS&&eM&&eH===R.ABOVE_INPUT,eG=(0,V.A3)(j.A("byConversationId")),eK=(0,N.useCallback)(async e=>{let{query:t,parentQuotedText:a,fileAttachmentIds:r,webpageUrls:i,toolOverrides:c,persona:l,isIncognitoOverride:d,disableMemory:u}=e;if(!t||!t.trim())return!1;let v=f.aP.getState(),y=V.A3.getState();if(!x&&(!k.ENABLE_ANON_USERS||I.includes(w)))return h("sign_in","chat-new",{location:"chat-new"}),E(t,S),!1;if(await L(),r=[...o,...null!=r?r:[]],!v.conversationId)return await v.establishNewConversation({message:t,fileAttachmentIds:r,webpageUrls:i,toolOverrides:c,temporary:null!=d?d:n,enableRetries:k.ENABLE_AUTO_STREAM_RETRY,isFromGrokFiles:eP,ff:k,persona:l,disableMemory:u}).catch(e=>{(0,F.vV)("chat-input:establishNewConversation",e)}),!0;eL(void 0),el(!1),eC();let j=(z?z.getState():f.aP.getState()).lastMessageId;if(!j&&m&&p&&z&&(j=(0,f.OF)(v.conversationId,p,eG,z)),!j)return(0,F.vV)("chat-input:ChatInput:handleSend:lastMessage","No last message id"),!1;let N=y.byId[j];if(!b){if(!N)return(0,F.vV)("chat-input:ChatInput:handleSend:lastMessage","Last message is missing"),!1;if(N&&"human"===N.sender)return(0,F.vV)("chat-input:ChatInput:handleSend:lastMessage","Last message is human"),!1}let C=H.C$.getState(),T=(0,e8.m)({chatPageState:v,query:t,fileAttachmentIds:r,webpageUrls:i,location:"chat-input",personalityId:C.userSettings.preferences.selectedSystemPromptId||"",personaId:(null==eI?void 0:eI.personaId)||"",sessionStartTime:ed,conversationDepth:eg,isMobile:em,bestSubscription:ep,user:!!x,compositionTime:eE(),backspaceCount:eR(),avgKeystrokeLatency:eA(),isThreadMessage:m,hadQuotedText:!!a});return h("send_query","",T),new Promise((e,n)=>{if(!v.conversationId)return(0,F.vV)("chat-input:ChatInput:handleSend:promise","No conversation found"),e(!1);let o={message:t,parentResponseId:j,parentQuotedText:a,conversationId:v.conversationId,fileAttachmentIds:r||[],webpageUrls:i||[],toolOverrides:c,setOpimisticUserResponse:!0,setUserResponse:!0,persona:eI,enableRetries:k.ENABLE_AUTO_STREAM_RETRY,onOptimisticUserResponse:()=>e(!0),onError:n,isFromGrokFiles:eP,ff:k,modelIdOverride:"string"==typeof g?g:void 0,threadParentId:m?p:void 0,ctx:z,disableArtifact:m,skipCancelCurrentInflightRequests:ex};return s?s(o).then(v.sendResponse).catch(n):v.sendResponse(o).catch(n)})},[x,k,I,w,L,o,eL,eC,m,p,z,b,eI,ed,eg,em,ep,eE,eR,eA,h,E,S,n,eP,eG,g,ex,s]),eq=(0,N.useCallback)(e=>{h("clicked_follow_up",e.label,{location:"chat-input",parentResponseId:q||"",conversationId:G||"",conversationMode:$}),"chat"===$?eK({query:e.label,toolOverrides:e.toolOverrides?e.toolOverrides:void 0}).catch(e=>{(0,F.vV)("chat-input:ChatInput:suggestion:handleSend",e)}):"voice"===$&&"ready"===J&&ei({message:e.label||""}).catch(e=>{(0,F.vV)("chat-input:ChatInput:suggestion:sendVoiceManualMessage",e)})},[eK,h,q,G,$,J,ei]),eQ=(0,N.useCallback)(()=>{h("clicked_clear_follow_ups",void 0,{location:"chat-input",parentResponseId:q||"",conversationId:G||""}),eC()},[eC,h,q,G]),e$=(0,N.useMemo)(()=>k.ENABLE_VOICE_MODE&&"voice"===$&&!!Z&&"ready"===J,[$,Z,J,k.ENABLE_VOICE_MODE]),eZ=(0,f.aP)(j.A("queryByConversationId")),e0=(0,f.aP)(j.A("idsetQueryByConversationId")),e1=m&&p?"".concat(G,"_thread_").concat(p):G,e2=eZ[e1||""],e3=(0,N.useCallback)(e=>{e1&&e0(e,e1)},[e1,e0]),e4=(0,N.useCallback)(()=>X("user_initiated"),[X]),e5=(0,N.useMemo)(()=>{var e;return null==ej||null==(e=ej.responseId)?void 0:e.startsWith("streaming_")},[null==ej?void 0:ej.responseId]);return(0,a.jsxs)("div",{className:"relative z-40 flex flex-col items-center w-full",children:[(0,a.jsxs)(v.N,{mode:"popLayout",initial:!1,children:[eW&&(0,a.jsx)(eJ,{children:(0,a.jsx)("div",{className:"w-full h-full flex justify-center",children:(0,a.jsx)(eY,{className:"bg-input max-w-[90%]"})})}),!d&&!m&&!eb&&!(null==ej?void 0:ej.uiLayout)&&!eW&&(0,a.jsx)(ta,{lastMessage:ey,conversationMode:$,onClickFollowUp:eq,onClickClearFollowUps:eQ}),!m&&!eW&&(0,a.jsx)(tt,{streamedResponse:null!=ej?ej:ey,hideSteering:ec||!!eb||!!g,onClick:eN,onAbort:ev},"model-steer-option"),eb&&!eW&&(0,a.jsx)(y.P.div,{variants:{hidden:{opacity:0,scale:.9},visible:{opacity:1,scale:1}},initial:"hidden",animate:"visible",exit:"hidden",className:"mb-2 bg-background rounded-full",children:(0,a.jsxs)(es.R,{conversationId:G,shouldGetFromStore:!0,buttonProps:{variant:"card",size:"pill"},location:"chat-input",className:"py-3 px-4 h-auto",children:[(0,a.jsx)(c.mgJ,{className:"size-5 text-secondary"}),u("Edit Image","Edit Image")]})},"edit")]},"followups-animate"),(0,a.jsxs)("div",{className:"relative w-full px-gutter @md:px-0 pb-2 sm:pb-4",children:["disconnected"!==J&&(0,a.jsx)(et.wo,{className:"absolute -top-8 inset-x-0"}),e$?(0,a.jsx)(W.R.Provider,{value:Z,children:(0,a.jsx)(eD,{placeholder:u("query-bar.input-placeholder","How can Grok help?"),onVoiceModeExit:e4},"voice-bar")}):(0,a.jsx)(ea.s,{placeholder:m?u("Reply to thread...","Reply to thread..."):u("query-bar.input-placeholder","How can Grok help?"),conversationId:e1,initialValue:e2,onChange:e3,onQuery:eK,streamState:(null==ej?void 0:ej.state)||"closed",onAbort:ev,isIncognito:n,disabled:r||e5,enableVoiceMode:i&&!m,onKeyDown:eT,onVoiceModeEnter:D,ref:l,restrictedModel:g},"query-bar-".concat(e1))]})]})}function tt(e){var t;let{streamedResponse:s,hideSteering:n,onAbort:r,onClick:o}=e,[i,c]=(0,N.useState)(s);(0,N.useEffect)(()=>{if(!s){let e=setTimeout(()=>{c(void 0)},6e3);return()=>clearTimeout(e)}if("optimistic"===s.state)return void c(s);"streaming"===s.state&&c(s)},[null==s?void 0:s.uiLayout,null==s?void 0:s.responseId,!s]);let{effort:l,steerModelId:d}=null!=(t=null==i?void 0:i.uiLayout)?t:e9,[g,m]=(0,N.useState)(!1);(0,N.useEffect)(()=>{m(!1)},[null==s?void 0:s.responseId]);let p=!n&&!g&&i&&d&&l&&"UNSPECIFIED"!==l&&"AUTO"!==l&&!("HIGH"===l&&(null==s?void 0:s.message));return(0,a.jsx)(v.N,{children:p&&(0,a.jsx)(ts,{streamedResponse:i,effort:l,steerModelId:d,onAbort:r,onClick:o,onClose:()=>m(!0)})})}function ts(e){let{streamedResponse:t,effort:s,steerModelId:n,onClick:r,onClose:o}=e,{t:i}=(0,C.Bd)("base"),l=(0,_.h)(),g=(0,O._)(),{route:m}=(0,U.wK)(),u=(0,eU.w1)(e=>t.conversationId?e.byId[t.conversationId]:void 0),{getPersonaForConversation:h}=(0,M.v5)(),b=h(u);(0,N.useEffect)(()=>{var e,a;let r=f.aP.getState();g("steer_model_option_shown",n,{location:"chat-input:model-steer-option",responseId:t.responseId,conversationId:t.conversationId,fileAttachments:String((null==(e=t.fileAttachments)?void 0:e.length)||0),webpageUrls:String((null==(a=t.webpageUrls)?void 0:a.length)||0),personaId:(null==b?void 0:b.personaId)||"",modelMode:r.modelMode,effort:s,steerModelId:n})},[]);let x=(0,N.useCallback)(()=>{var e,a;let o=f.aP.getState(),i=V.A3.getState();if(!t.parentResponseId)return void(0,F.vV)("chat-input:model-steer-option:sendSteerQuery","No parent response id");let c=i.byId[t.parentResponseId];if(!c)return void(0,F.vV)("chat-input:model-steer-option:sendSteerQuery","No user response");g("steer_model",n,{location:"chat-input:model-steer-option",responseId:c.responseId,conversationId:c.conversationId,fileAttachments:String((null==(e=c.fileAttachments)?void 0:e.length)||0),webpageUrls:String((null==(a=c.webpageUrls)?void 0:a.length)||0),personaId:(null==b?void 0:b.personaId)||"",modelMode:o.modelMode,effort:s,steerModelId:n}),null==r||r(),o.sendResponse({message:"",parentResponseId:c.responseId,conversationId:c.conversationId,fileAttachmentIds:c.fileAttachments||[],webpageUrls:c.webpageUrls,setOpimisticUserResponse:!1,disableArtifactDiff:!1,setUserResponse:!1,persona:b,enableRetries:l.ENABLE_AUTO_STREAM_RETRY,isFromGrokFiles:"files"===m.page,modelIdOverride:n,metadata:{is_think_harder:"LOW"===s,is_quick_answer:"HIGH"===s},skipCancelCurrentInflightRequests:!0,ff:l}).then(e=>{e.length||(0,F.vV)("chat-input:model-steer-option:sendSteerQuery","Failed to send steer query")}).catch(e=>{(0,F.vV)("chat-input:model-steer-option:sendSteerQuery",e)})},[t.parentResponseId,g,n,b,s,l,m.page,r]),[w,v]=(0,N.useMemo)(()=>"LOW"===s?[(0,a.jsx)(c.xmO,{size:16},"lightbulb-icon"),i("Think Harder","Think Harder")]:"HIGH"===s?[(0,a.jsx)(c.sFP,{size:16},"fast-forward-icon"),i("Quick Answer","Quick Answer")]:(console.warn("ModelSteerOption received unexpected effort value:",s),[null,""]),[s,i]);return w&&v?(0,a.jsx)(y.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3,ease:"easeOut"},className:(0,k.cn)("w-full flex justify-start px-gutter sm:justify-center gap-2 pb-3 overflow-x-auto",d.Q,"no-scrollbar absolute inset-x-0 bottom-full pointer-events-none"),children:(0,a.jsxs)("div",{className:"relative pt-2",children:[(0,a.jsxs)(p.$n,{className:(0,k.cn)("font-semibold pointer-events-auto pe-7"),variant:"filledSecondary",size:"md",rounded:!0,onClick:x,children:[w,v]}),(0,a.jsx)(p.$n,{size:"iconSm",variant:"textSecondary",className:"absolute translate-y-1 end-0 rounded-full pointer-events-auto opacity-50 hover:opacity-100","aria-label":i("model-steer-option-close-button.label","Close"),onClick:o,children:(0,a.jsx)(c.uv5,{size:12})})]})}):null}function ta(e){let{lastMessage:t,conversationMode:s,onClickFollowUp:n,onClickClearFollowUps:r}=e,o=(0,_.h)(),i=(0,H.C$)(e=>e.userSettings.preferences.showFollowUpSuggestions);return t?t.followUpSuggestedMode?(0,a.jsx)(y.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3,ease:"easeOut"},className:(0,k.cn)("w-full flex justify-start px-3 sm:justify-center gap-2 pb-3 overflow-x-auto",d.Q,"no-scrollbar absolute inset-x-0 bottom-full pointer-events-none"),children:(0,a.jsx)(e5,{response:t,followUpSuggestedMode:t.followUpSuggestedMode,onClose:r})}):o.SHOW_FOLLOWUPS&&i&&(t.hasImages||"chat"!==s)&&t.suggestions&&0!==t.suggestions.length?(0,a.jsx)(eJ,{onClickClearContent:r,children:t.suggestions.map((e,t)=>(0,a.jsx)("button",{className:(0,k.cn)("flex items-center cursor-pointer gap-1 rounded-full px-4 py-1 whitespace-nowrap","bg-input backdrop-blur-lg ring-1 ring-input-border ring-inset","focus-within:ring-input-border-focus focus-within:bg-input-hover","hover:ring-input-border-focus hover:bg-input-hover pointer-events-auto"),onClick:()=>n(e),children:e.label},t))}):null:null}var tn=s(23233),tr=s(88261),to=s(69643);function ti(e){let{queryBarHeight:t,showHint:s,onDismiss:n}=e,{t:r}=(0,C.Bd)("chat");return s?(0,a.jsx)("div",{className:"absolute -start-4 bottom-2 max-w-breakout z-50 pointer-events-none",style:{bottom:"".concat(t+16,"px")},children:(0,a.jsx)("div",{className:"flex justify-start px-gutter",children:(0,a.jsxs)("div",{className:"async-onboarding-hint group relative pointer-events-auto",children:[(0,a.jsxs)("div",{className:"px-4 py-3 rounded-2xl max-w-96 bg-popover shadow-lg",children:[(0,a.jsx)("div",{className:"text-sm text-primary",children:r("async-onboarding-hint.title","Keep chatting while Grok thinks")}),(0,a.jsx)("div",{className:"text-sm text-secondary",children:r("async-onboarding-hint.description","Grok will continue thinking in the background")})]}),(0,a.jsx)("div",{className:"absolute -bottom-3 left-4 w-4 h-3 bg-popover",style:{clipPath:"polygon(100% 0%, 0% 0%, 50% 100%)"}}),(0,a.jsx)(p.$n,{variant:"none",onClick:n,className:"absolute -top-2 -right-2 w-6 h-6 rounded-full p-0 bg-surface-l2 border border-border-l1 hover:bg-surface-l3 transition-colors opacity-0 group-hover:opacity-100","aria-label":r("async-onboarding-hint.dismiss","Dismiss"),children:(0,a.jsx)(c.X,{size:12,className:"text-primary"})})]})})}):null}var tc=s(62734),tl=s(64868),td=s(42423),tg=s(37469),tm=s(61884),tp=s(64820),tu=s(41887),th=s(7658),tf=s(4878),tk=s(34839),tb=s(57373),tx=s(86822),tw=s(93436),tv=s(39116),ty=s(53915),tj=s(46815),tN=s(7616),tC=s(19728),tS=s(33880),tI=s(10505),tT=s(8142),tE=s(17670),tR=s(66587),tA=s(12702),t_=s(30532),tO=s(97141),tP=s(14281),tM=s(47392),tL=s(17825),tD=s(52244);let tB=[],tz="opacity-0 group-focus-within:opacity-100 group-hover:opacity-100 [.last-response_&]:opacity-100 disabled:opacity-0 group-focus-within:disabled:opacity-60 group-hover:disabled:opacity-60 [.last-response_&]:disabled:opacity-60",tF="opacity-100",tU=(0,N.memo)(e=>{var t,s,n,i,l,d,g,m;let{responseFamily:h=tB,selectedId:b,streamingResponse:x,onPivotResponse:w,onEditSubmit:I,readOnly:T,isIncognito:E,queryBarHeight:R,isLastResponse:A,task:L,allowBreakout:B=!1,isThread:W=!1,passedResponse:G,antecedentId:K,subsequentId:X}=e,{t:Y}=(0,C.Bd)("chat"),Q=(0,P.c)(),$=(0,_.h)(),Z=(0,O._)(),J=(0,D.K)(),{route:ee}=(0,U.wK)(),[es,ea]=(0,N.useState)(),[en,er]=(0,N.useState)(),[eo,ei]=(0,N.useState)(!1),ec=(0,N.useRef)(null),el=(0,tx.d)(j.A("fetchGetAsset")),ed=(0,f.aP)(j.A("conversationMode")),[em,eu]=(0,N.useState)(!1),eh=(0,tr.HM)(),ef=(0,V.A3)(e=>e.byId),ek=(0,tv.usePathname)(),ex=null==ek?void 0:ek.includes("/share/"),[ew,ev]=(0,N.useState)(!1),ey=(0,N.useMemo)(()=>h.findIndex(e=>e.responseId===b),[h,b]),ej=(null==G?void 0:G.responseId)||(null==(t=h[ey])?void 0:t.responseId);if(!ej)throw Error("Response not provided nor found in family");let eN=G||ef[ej];if(!eN)throw Error("Response not found");let eC=(0,N.useMemo)(()=>{let e=eN;do e=e.parentResponseId?ef[e.parentResponseId]:void 0;while(e&&"human"!==e.sender);return e},[eN,ef]),eS=(0,N.useMemo)(()=>{if(!K||!eC)return!1;let e=K===eN.parentResponseId,t=K===eC.responseId;return!e&&!t},[K,eC,eN.parentResponseId]),eI=(0,N.useCallback)(()=>{if(!eC)return;let e=document.getElementById("response-".concat(eC.responseId));if(e){e.scrollIntoView({behavior:"smooth",block:"start"});let t=new IntersectionObserver(e=>{var s;(null==(s=e[0])?void 0:s.isIntersecting)&&(window.dispatchEvent(new CustomEvent("highlightResponse",{detail:eC.responseId})),t.disconnect())},{threshold:.2});t.observe(e)}},[eC]),eT=(0,N.useMemo)(()=>Object.values(ef).find(e=>{var t;return e.parentResponseId===ej&&"human"!==e.sender&&(null==(t=e.uiLayout)?void 0:t.reasoningUiLayout)==="UNIFIED"}),[ef,ej]),eE=(0,N.useMemo)(()=>!!eT&&eT.responseId!==X,[eT,X]),eR=(0,N.useCallback)(()=>{if(!eT)return;let e=document.getElementById("response-".concat(eT.responseId));if(e){e.scrollIntoView({behavior:"smooth",block:"start"});let t=new IntersectionObserver(e=>{var s;(null==(s=e[0])?void 0:s.isIntersecting)&&(window.dispatchEvent(new CustomEvent("highlightResponse",{detail:eT.responseId})),t.disconnect())},{threshold:1});t.observe(e)}},[eT]);x&&(eN.streamingImageById=x.streamingImageById);let eA=(0,eU.w1)(e=>eN.conversationId?e.byId[eN.conversationId]:void 0),{getPersonaForConversation:e_}=(0,M.v5)(),eO=e_(eA),[eP,eM]=(0,N.useState)({}),eL=(0,N.useCallback)(()=>{var e;null==(e=eN.fileAttachments)||e.forEach(e=>{e in eP||el({assetId:e}).then(t=>{eM(ty.A(tj.A(e),t))}).catch(t=>{if(t.errorMessage.message.includes("An unexpected database error occurred when creating AssetMetadata.")||t.errorMessage.message.includes("attempts to access asset")){(0,F.vV)("response-family:resetFileAttachments",t.errorMessage.message),eM(ty.A(tj.A(e),(0,tf._k)(e,Y("hidden-attachment-name","Hidden attachment"))));return}J("response-family:resetFileAttachments",t)})})},[eN.fileAttachments,eP,el,J,Y]);(0,N.useEffect)(()=>{eL()},[eN.responseId]),(0,N.useEffect)(()=>{eM({})},[b]);let eD=(0,N.useCallback)(e=>{eM(t=>tN.A(e.assetId)(t))},[eM]),{resolvedTheme:eB}=(0,eb.D)(),ez="dark"===eB,eF=(0,N.useMemo)(()=>Object.values(eP),[eP]),eV=(0,N.useMemo)(()=>eF.filter(e=>!e.isModelGenerated),[eF]),[eH,eG]=(0,N.useState)(eN.webpageUrls),eK=(0,N.useCallback)(e=>{eG(t=>t.filter(t=>t!==e)||[])},[]),eq="human"===eN.sender,eX=(0,N.useRef)(null),[eY,eQ]=(0,N.useState)(!1),[e$,eZ]=(0,N.useState)(!1);(0,N.useEffect)(()=>{var e;let t=(null==(e=eN.uiLayout)?void 0:e.reasoningUiLayout)==="UNIFIED"&&!eq,s=ey===h.length-1;if(!eX.current||!t||s)return void eQ(!1);let a=eX.current.scrollHeight>192;eQ(a),a&&eZ(!0)},[eN.responseId,null==(s=eN.uiLayout)?void 0:s.reasoningUiLayout,eN.state,eq,ey,h.length]);let eJ=(0,N.useCallback)(()=>{eZ(e=>!e)},[]),e0=e$?Y("async-response-family.show-more","Show more"):Y("async-response-family.show-less","Show less"),e1=(0,V.A3)(j.A("nodesByConversationId")),e2=(0,V.A3)(j.A("byConversationId"));(0,N.useMemo)(()=>{if(!eN.conversationId)return 0;let e=e1[eN.conversationId],t=e?(0,z.oN)(eN.responseId,e):0,s=e2[eN.conversationId],a=s?(0,z.t$)(eN.responseId,s):[];return a.length>0?a.filter(e=>{var t,s;return!(null==(t=e.responseId)?void 0:t.startsWith("streaming_in_progress_"))&&!(null==(s=e.responseId)?void 0:s.startsWith("optimistic_"))}).length:t},[eN.responseId,eN.conversationId,e1,e2]);let e3=(0,N.useMemo)(()=>!!(eN.error&&eN.error.includes("content-moderated")),[eN.error]),e4=(0,N.useCallback)(async()=>{let e=h[ey-1];w&&e&&(Z("pivot_prev_response",eN.responseId,{location:"chat-response",responseId:eN.responseId,conversationId:eN.conversationId}),er("prev"),await w(e.responseId),er(void 0))},[w,ey,h,eN,Z]),e5=(0,N.useCallback)(async()=>{let e=h[ey+1];w&&e&&(Z("pivot_next_response",eN.responseId,{location:"chat-response",responseId:eN.responseId,conversationId:eN.conversationId}),er("next"),await w(e.responseId),er(void 0))},[w,ey,h,eN,Z]),e8=(0,N.useCallback)(()=>{Z("copy_response",eN.responseId,{location:"response-family",responseId:eN.responseId,conversationId:eN.conversationId})},[eN,Z]),e6=(0,N.useCallback)(()=>$.USE_NEW_PROCESS_MESSAGE_COPY?(0,tk.g5)(eN.message):(0,tI.V)(eN.message),[eN,$]),e7=(0,N.useCallback)(async e=>{var t,s;let a=f.aP.getState(),n=H.C$.getState();Z("regenerate_response",eN.responseId,{location:"chat-response",responseId:eN.responseId,conversationId:eN.conversationId,fileAttachments:String((null==(t=eN.fileAttachments)?void 0:t.length)||0),webpageUrls:String((null==(s=eN.webpageUrls)?void 0:s.length)||0),outputMode:a.outputMode,reasoningMode:a.reasoningMode,personalityId:n.userSettings.preferences.selectedSystemPromptId||"",personaId:(null==eO?void 0:eO.personaId)||""}),a.sendResponse({message:"",parentResponseId:eN.parentResponseId,conversationId:eN.conversationId,fileAttachmentIds:eN.fileAttachments||[],webpageUrls:eN.webpageUrls,setOpimisticUserResponse:!1,disableArtifactDiff:null==e?void 0:e.disableArtifactDiff,setUserResponse:!1,persona:eO,enableRetries:$.ENABLE_AUTO_STREAM_RETRY,isFromGrokFiles:"files"===ee.page,ff:$}).then(e=>{e.length||(0,F.vV)("response-family:handleClickRegenerate","Failed to regenerate model response")}).catch(e=>{(0,F.vV)("response-family:handleClickRegenerate",e)})},[Z,eN.responseId,eN.conversationId,eN.fileAttachments,eN.webpageUrls,eN.parentResponseId,eO,$,ee.page]),{data:e9}=(0,th.$1)(eN.conversationId,!ex),te=String(!q().isEmpty(null==e9?void 0:e9.length));(0,N.useCallback)(()=>{if("streaming"===eN.state||"reconnecting"===eN.state)return;let{setSidePanelContent:e}=f.aP.getState();e({type:"messageThread",data:{parentResponseId:eN.responseId,selectedText:"",conversationId:eN.conversationId}})},[eN]);let tt=(0,N.useCallback)((e,t)=>{var s,a;let n=!t&&(null==es?void 0:es.value)==="like";ea({value:n?void 0:"like",type:null!=e?e:"no-type-specified"}),n&&Z("undo_like_response",null!=(s=null==es?void 0:es.type)?s:"type-unspecified",{location:"response-family",generatedImageUrls:eN.generatedImageUrls.join(","),responseId:eN.responseId,conversationId:eN.conversationId,hasWorkspace:te}),(null==es?void 0:es.value)==="dislike"&&Z("undo_dislike_response",null!=(a=null==es?void 0:es.type)?a:"type-unspecified",{location:"response-family",generatedImageUrls:eN.generatedImageUrls.join(","),responseId:eN.responseId,conversationId:eN.conversationId,hasWorkspace:te})},[es,eN,te,Z]),ts=(0,N.useCallback)((e,t)=>{var s,a,n,r;let o=!t&&(null==es?void 0:es.value)==="dislike";ea({value:o?void 0:"dislike",type:null!=e?e:"no-type-specified"}),o&&Z("undo_dislike_response",null!=(s=null==es?void 0:es.type)?s:"type-unspecified",{location:"response-family",generatedImageUrls:eN.generatedImageUrls.join(","),responseId:eN.responseId,conversationId:eN.conversationId,hasWorkspace:te}),(null==es?void 0:es.value)==="like"&&Z("undo_like_response",null!=(a=null==es?void 0:es.type)?a:"type-unspecified",{location:"response-family",generatedImageUrls:eN.generatedImageUrls.join(","),responseId:eN.responseId,conversationId:eN.conversationId,hasWorkspace:te}),"wanted-something-else"===e&&tw.P.getState().openReportDialog({responseId:eN.responseId,modelId:(null==(r=eN.metadata)||null==(n=r.requestModelDetails)?void 0:n.modelId)||void 0,type:tb.CN.ResponseFeedback})},[es,eN,te,Z]),ta=(0,N.useCallback)(()=>{var e;Z("like_response",null!=(e=null==es?void 0:es.type)?e:"type-unspecified",{location:"response-family",generatedImageUrls:eN.generatedImageUrls.join(","),responseId:eN.responseId,conversationId:eN.conversationId,hasWorkspace:te})},[es,Z,eN.generatedImageUrls,eN.responseId,eN.conversationId,te]),tn=(0,N.useCallback)(()=>{var e,t,s;Z("dislike_response",null!=(e=null==es?void 0:es.type)?e:"type-unspecified",{location:"response-family",generatedImageUrls:eN.generatedImageUrls.join(","),responseId:eN.responseId,conversationId:eN.conversationId,hasWorkspace:te}),(null==es?void 0:es.type)==="wanted-something-else"&&tw.P.getState().openReportDialog({responseId:eN.responseId,modelId:(null==(s=eN.metadata)||null==(t=s.requestModelDetails)?void 0:t.modelId)||void 0,type:tb.CN.ResponseFeedback})},[es,Z,eN.generatedImageUrls,eN.responseId,eN.conversationId,null==(i=eN.metadata)||null==(n=i.requestModelDetails)?void 0:n.modelId,te]),to=(0,N.useCallback)(()=>{(null==es?void 0:es.value)==="like"&&ta(),(null==es?void 0:es.value)==="dislike"&&tn()},[null==es?void 0:es.value,ta,tn]),ti=(0,H.C$)(e=>e.userSettings.preferences.displayUserMessageMarkdown),[tU]=(0,N.useState)(ti),tH=(0,N.useCallback)(e=>{if(!eN.conversationId)return void(0,F.vV)("response-family:handleEditSave","No conversation id found");let t=e.length;if(t>eg.H4)return void ep.oR.error(Y("query-bar.too-long","Character Limit Exceeded: {{currentLength, number(maximumFractionDigits: 0)}}/{{maxLength, number(maximumFractionDigits: 0)}}",{maxLength:eg.H4.toFixed(0),currentLength:t.toFixed(0)}));null==I||I(eN.responseId);let s=f.aP.getState(),a=H.C$.getState();Z("edit_response_submit",eN.responseId,{location:"chat-response",responseId:eN.responseId,conversationId:eN.conversationId,fileAttachments:String(Object.keys(eP).length||0),webpageUrls:String(eH.length||0),outputMode:s.outputMode,reasoningMode:s.reasoningMode,personalityId:a.userSettings.preferences.selectedSystemPromptId||"",personaId:(null==eO?void 0:eO.personaId)||""}),s.sendResponse({message:e,parentResponseId:eN.parentResponseId,conversationId:eN.conversationId,fileAttachmentIds:Object.keys(eP),webpageUrls:eH,setOpimisticUserResponse:!0,setUserResponse:!0,persona:eO,enableRetries:$.ENABLE_AUTO_STREAM_RETRY,isFromGrokFiles:"files"===ee.page,ff:$}).then(e=>{e.length||(0,F.vV)("response-family:handleEditSave","Failed to response to edit")}).catch(e=>{(0,F.vV)("response-family:handleEditSave",e)}).finally(()=>ev(!1))},[eO,eN,eP,eH,$,I,Z,ee.page,Y]),tX=(0,N.useCallback)(()=>{ev(!1),eL(),eG(eN.webpageUrls||[])},[eL,eN.webpageUrls]),tY=(0,N.useCallback)((e,t)=>{let s=V.A3.getState(),a=s.byId[ej];if(!a)return;let n=(a.experimentIds||[]).concat(a.responseId).filter(e=>e!==t.responseId);Z("user_side_by_side_preference",t.responseId||"",{location:"response-family",index:e.toString(),nonPreferredResponseIds:n.join(","),preferredResponseId:t.responseId||"",conversationId:a.conversationId||""});let r=f.aP.getState();r.setLastMessageId(null==t?void 0:t.responseId),r.setStreamedMessageId(""),s.updateResponse(a.responseId,{experimentIds:void 0})},[ej,Z]);(0,N.useEffect)(()=>{if(!ec.current)return;let e=ec.current,t=new IntersectionObserver(e=>{let[t]=e;t&&ei(t.isIntersecting)},{root:null,rootMargin:"0px",threshold:0}),s=document.createElement("div");return s.style.height="1px",s.style.position="absolute",s.style.bottom="0",s.style.zIndex="1000",e.appendChild(s),t.observe(s),()=>{t.unobserve(s);try{null==e||e.removeChild(s)}catch(e){(0,F.vV)("response-family:intersection-observer-useEffect",e)}t.disconnect()}},[b]);let tQ=(0,f.aP)(j.A("sideBySideConfig"));(0,N.useEffect)(()=>{"voice"===ed&&ew&&ev(!1)},[ed,ew]);let t$=(0,N.useMemo)(()=>(0,tA.Jr)(),[]),tZ=(0,N.useMemo)(()=>(0,tA.n_)(),[]),tJ=(0,tu.N)(eN,null!=(g=eN.conversationId)?g:""),t0=(0,V.A3)(e=>{var t,s;return(null==(t=eN.experimentIds)?void 0:t[0])?e.byId[null==(s=eN.experimentIds)?void 0:s[0]]:void 0}),t1=!!(null==(l=eN.experimentIds)?void 0:l.length);if(null!=ej&&t1&&t0){let e=(null==tQ||null==(m=tQ.singleThinkingDifferentSummary)?void 0:m.sideBySideSingleThinkIndex)!==void 0?0===tQ.singleThinkingDifferentSummary.sideBySideSingleThinkIndex?eN:t0:void 0;return $.ENABLE_SINGLE_THINKING_DIFFERENT_SUMMARY_UI&&tQ&&e?(0,a.jsx)(o.t,{fallbackRender:tW({isUser:eq}),children:(0,a.jsxs)(tC.d2,{config:tQ,chosenThinkingResponseData:{response:e,isOptimistic:!1,isStreaming:!1},children:[(0,a.jsx)(tC.lX,{index:0,response:eN,isStreaming:!1,onClickPrefer:tY,hideThinking:!0}),(0,a.jsx)(tC.lX,{index:1,response:t0,isStreaming:!1,onClickPrefer:tY,hideThinking:!0})]})}):(0,a.jsx)(o.t,{fallbackRender:tW({isUser:eq}),children:(0,a.jsx)(tC.Er,{children:(0,a.jsxs)(tC.$O,{children:[(0,a.jsx)(tC.lX,{index:0,response:eN,isStreaming:!1,onClickPrefer:tY}),(0,a.jsx)(tC.lX,{index:1,response:t0,isStreaming:!1,onClickPrefer:tY})]})})})}return eN.metadata&&"artifactAction"in eN.metadata?(0,a.jsx)(o.t,{fallbackRender:tW({isUser:eq}),children:(0,a.jsx)(tT.i,{response:eN})}):(null==(d=eN.uiLayout)?void 0:d.reasoningUiLayout)==="UNIFIED"&&"streaming"===eN.state?null:(0,a.jsx)(o.t,{fallbackRender:tW({isUser:eq}),children:(0,a.jsx)(v.N,{mode:"wait",children:L?(0,a.jsx)(tS.E,{task:L,originalPrompt:eN}):(0,a.jsx)(tM._,{onRegenerate:e7,children:(0,a.jsxs)(tO.i,{isUser:eq,ref:e=>{ec.current=e,tJ.current=e},className:(0,k.cn)(ew&&"mb-2"),id:"response-".concat(eN.responseId),children:[(0,a.jsx)(r.a,{hidden:!0}),eN.parentQuotedText&&(0,a.jsxs)("div",{className:"mb-3 text-sm text-secondary whitespace-pre-wrap flex items-start bg-surface-l2 dark:bg-surface-l1 rounded-lg px-3 py-2",children:[(0,a.jsx)(c.Sbc,{className:"me-2 mt-0.5 text-secondary opacity-60",size:16}),(0,a.jsx)("span",{className:"me-2",children:eN.parentQuotedText})]}),(0,a.jsx)(t_.s,{isUser:eq,isIncognito:E,responseId:eN.responseId,children:!T&&ew?(0,a.jsx)(tE.K,{initialMessage:eN.message,onCancel:tX,onSave:tH}):(0,a.jsxs)(a.Fragment,{children:["human"!==eN.sender&&eS&&(0,a.jsx)(tK,{onParentBubbleClick:eI,parentMessageText:(null==eC?void 0:eC.message)||""}),(()=>{let e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tL.jo,{readOnly:T,response:eN,isStreaming:"streaming"===eN.state||"reconnecting"===eN.state,showMarkdown:eq?tU:void 0,isModerated:e3,allowBreakout:B&&$.ENABLE_MARKDOWN_BREAKOUT,isThread:W,isLastResponse:A}),"human"!==eN.sender&&eT&&(0,a.jsx)(tq,{asyncResponse:eT,onSeeNewReply:eR,shouldShowScrollDown:eE})]});return eY?(0,a.jsx)("div",{ref:eX,className:"relative",style:{WebkitMaskImage:e$?"linear-gradient(to bottom, black, black 10%, transparent 100%)":"none",maskImage:e$?"linear-gradient(to bottom, black, black 10%, transparent 100%)":"none"},children:(0,a.jsx)(y.P.div,{className:"relative overflow-hidden",initial:!1,animate:{height:e$?96:"auto"},transition:{height:{duration:.3,ease:"easeInOut"}},children:e})}):(0,a.jsx)("div",{ref:eX,children:e})})(),eY&&(0,a.jsx)("div",{className:(0,k.cn)("flex justify-center",e$&&"absolute bottom-8 left-1/2 transform -translate-x-1/2"),children:(0,a.jsxs)(eW.$n,{onClick:e=>{e.stopPropagation(),eJ()},variant:"secondary",size:"sm",shape:"pill","aria-label":e0,children:[e0,(0,a.jsx)(c.D3D,{size:16,className:(0,k.cn)("-me-1 transition-rotate",!e$&&"rotate-180")})]})})]})}),(0,a.jsx)(et.vO,{response:eN,className:ew?"bottom-[0.4rem]":""}),eh&&eV.length>0?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"flex flex-row flex-wrap justify-end gap-2 mt-2",children:eV.map(e=>(0,a.jsx)(tg.u,{asset:e,onRemoveAsset:ew?eD:void 0,allowCompact:!0},e.assetId))})}):null,eN.imageEditUri?(0,a.jsx)(tc.e,{response:eN}):null,(null==eH?void 0:eH.length)>0?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"flex flex-row flex-wrap justify-end gap-2 mt-2",children:eH.map(e=>(0,a.jsx)(tp.i,{url:e,onDetachUrl:ew?eK:void 0},"".concat(eN.responseId,"-").concat(e)))})}):null,eN.error&&!e3&&"chat"===ed&&(0,a.jsx)("div",{className:"flex mt-2 -ml-5",children:(0,a.jsx)(tR._,{title:Y("Grok was unable to finish replying.errorMessage","Grok was unable to finish replying."),description:Y("Grok was unable to finish replying.description","Please try again later or use a different model."),className:eq?"md:mr-0":"ml-4",onRetry:e7,conversationId:eN.conversationId})}),!ew&&!t1&&"streaming"!==eN.state&&(0,a.jsx)(tV,{isUser:eq,children:!eo&&(0,a.jsx)(tG,{getText:e6,forceActionButtonsVisible:em,onClickCopy:e8,isMobile:Q})}),!ew&&!t1&&"streaming"!==eN.state&&(0,a.jsx)("div",{className:(0,k.cn)("action-buttons","h-8 mt-0.5","flex flex-row flex-wrap w-full -mt-1",eq?"justify-end":"justify-between",A?"last-response":"","print:hidden"),children:(0,a.jsxs)("div",{className:(0,k.cn)("flex items-center gap-[2px] w-max","rounded-lg text-xs","px-2 gap-0",eq?"end-4 -mr-2":"start-0 md:start-3 -ml-4",(Q||A&&!eq)&&"opacity-100"),style:{bottom:"".concat(R,"px")},children:[eq?(0,a.jsx)(tG,{getText:e6,forceActionButtonsVisible:em,onClickCopy:e8,isMobile:Q}):null,h.length>1?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.gx,{tooltipContent:(0,a.jsx)("p",{children:Y("go to previously sent message","Previous message")}),tooltipContentProps:{side:"bottom"},variant:"ghostSecondary","aria-label":Y("go to previously sent message","Previous message"),size:Q?"iconMd":"iconSm",rounded:!0,disabled:0===ey||"prev"===en,onClick:e4,children:(0,a.jsx)(S.p,{children:"prev"===en?(0,a.jsx)(u.y,{size:"xs"}):(0,a.jsx)(c.YJP,{size:20})},"prev"===en?"loading":"prev")}),(0,a.jsxs)("span",{className:(0,k.cn)("px-0.5"),children:[ey+1,"\xa0/\xa0",h.length]}),(0,a.jsx)(p.gx,{tooltipContent:(0,a.jsx)("p",{children:Y("go to next sent message","Next message")}),tooltipContentProps:{side:"bottom"},variant:"ghostSecondary","aria-label":Y("go to next sent message","Next message"),size:Q?"iconMd":"iconSm",rounded:!0,disabled:ey===h.length-1||"next"===en,onClick:e5,children:(0,a.jsx)(S.p,{children:"next"===en?(0,a.jsx)(u.y,{size:"xs"}):(0,a.jsx)(c.vKP,{size:20})},"next"===en?"loading":"next")})]}):null,null,eq?null:(0,a.jsx)(tG,{getText:e6,forceActionButtonsVisible:em,onClickCopy:e8,isMobile:Q}),!T&&!eq&&!Q&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(tD.w,{variant:"ghostSecondary",size:Q?"iconMd":"iconSm",rounded:!0,conversationId:eN.conversationId,responseId:eN.responseId,iconProps:{className:"size-4"},className:(0,k.cn)(tz,em?tF:null)})}),!T&&!Q&&eN.memoryReferences&&(0,a.jsx)(td.sd,{responseId:eN.responseId,memoryReferences:eN.memoryReferences,className:(0,k.cn)(tz,em?tF:null)}),!T&&!eq&&(0,a.jsx)(tA.RD,{onClick:tt,options:tZ,onDropdownClose:to,onDropdownOpen:tt,hideDropdown:(null==es?void 0:es.value)==="like",triggerButton:(0,a.jsx)(p.gx,{"aria-label":Y("response-action.like","Like"),variant:"ghostSecondary",size:Q?"iconMd":"iconSm",rounded:!0,tooltipContent:(0,a.jsx)("p",{children:Y("Love this","Love this")}),tooltipContentProps:{side:"bottom"},className:(0,k.cn)(tz,em?tF:null),children:(0,a.jsx)(S.p,{children:(null==es?void 0:es.value)==="like"?(0,a.jsx)(c.Gek,{className:(0,k.cn)("size-4 text-green-500",{"fill-green-200":ez,"fill-green-100":!ez})}):(0,a.jsx)(c.Gek,{className:"size-4"})},"like")})}),!T&&!eq&&(0,a.jsx)(tA.RD,{onClick:ts,options:t$,onDropdownClose:to,onDropdownOpen:ts,hideDropdown:(null==es?void 0:es.value)==="dislike",triggerButton:(0,a.jsx)(p.gx,{"aria-label":Y("response-action.dislike","Dislike"),variant:"ghostSecondary",size:Q?"iconMd":"iconSm",rounded:!0,tooltipContent:(0,a.jsx)("p",{children:Y("Needs improvement","Needs improvement")}),tooltipContentProps:{side:"bottom"},className:(0,k.cn)(tz,em?tF:null),children:(0,a.jsx)(S.p,{children:(null==es?void 0:es.value)==="dislike"?(0,a.jsx)(c.d2e,{className:(0,k.cn)("size-4 text-blue-500",{"fill-blue-200":ez,"fill-blue-100":!ez})}):(0,a.jsx)(c.d2e,{className:"size-4"})},"dislike")})}),!T&&!eq&&(0,a.jsx)(tP.y,{response:eN,responseRef:ec,setDropdownIsOpen:eu,isThread:W,triggerButton:(0,a.jsx)(p.gx,{"aria-label":Y("response-action.more-actions","More actions"),variant:"ghostSecondary",rounded:!0,size:Q?"iconMd":"iconSm",tooltipContent:(0,a.jsx)("p",{children:Y("response-action.tooltip",{defaultValue:"More"})}),tooltipContentProps:{side:"bottom"},className:(0,k.cn)(tz,em?tF:null),children:(0,a.jsx)(S.p,{children:(0,a.jsx)(c.gyB,{className:(0,k.cn)("size-4")})},"more-actions")})}),!T&&!eq&&$.SHOW_RESPONSE_LOAD_TIMER&&null!=eN.liveTimeToFirstTokenMs&&(0,a.jsxs)(tm.m_,{disableHoverableContent:!1,children:[(0,a.jsx)(tm.k$,{asChild:!0,children:(0,a.jsx)("div",{className:(0,k.cn)("px-1.5 text-secondary hover:bg-button-ghost-hover rounded-md cursor-default",tz,em?tF:null),children:eN.liveTimeToFirstTokenMs>=1e3?Y("response-first-token-time-seconds",{count:eN.liveTimeToFirstTokenMs/1e3,defaultValue:"{{count, number(maximumFractionDigits: 1)}}s"}):Y("response-first-token-time-ms",{count:eN.liveTimeToFirstTokenMs,defaultValue:"{{count, number(maximumFractionDigits: 0)}}ms"})})}),(0,a.jsxs)(tm.ZI,{className:"flex flex-col bg-surface-l4 rounded-lg px-2.5 py-1.5",side:"right",children:[null!=eN.liveTimeToFirstChunkMs&&(0,a.jsxs)("div",{className:"flex flex-row gap-1 justify-between",children:[(0,a.jsx)("span",{className:"text-secondary",children:Y("first-chunk-time-label",{defaultValue:"Time to first chunk:"})}),(0,a.jsx)("span",{children:eN.liveTimeToFirstChunkMs>=1e3?"".concat((eN.liveTimeToFirstChunkMs/1e3).toFixed(3),"s"):"".concat(eN.liveTimeToFirstChunkMs,"ms")})]}),(0,a.jsxs)("div",{className:"flex flex-row gap-1 justify-between",children:[(0,a.jsx)("span",{className:"text-secondary",children:Y("first-token-time-label",{defaultValue:"Time to first token:"})}),(0,a.jsx)("span",{children:eN.liveTimeToFirstTokenMs>=1e3?"".concat((eN.liveTimeToFirstTokenMs/1e3).toFixed(3),"s"):"".concat(eN.liveTimeToFirstTokenMs,"ms")})]}),null!=eN.generationTimeMs&&(0,a.jsxs)("div",{className:"flex flex-row gap-1 justify-between",children:[(0,a.jsx)("span",{className:"text-secondary",children:Y("response-time-label",{defaultValue:"Response time:"})}),(0,a.jsx)("span",{children:eN.generationTimeMs>=1e3?"".concat((eN.generationTimeMs/1e3).toFixed(3),"s"):"".concat(eN.generationTimeMs,"ms")})]})]})]}),(0,a.jsx)(tl.f,{response:eN,isUser:eq,isModerated:e3,className:(0,k.cn)(tz,em?tF:null)})]})})]})})})})},(e,t)=>{var s,a,n,r,o,i;return(null==(s=e.passedResponse)?void 0:s.state)===(null==(a=t.passedResponse)?void 0:a.state)&&(null==(n=e.passedResponse)?void 0:n.partial)===(null==(r=t.passedResponse)?void 0:r.partial)&&e.onPivotResponse===t.onPivotResponse&&e.selectedId===t.selectedId&&(null==(o=e.responseFamily)?void 0:o.map(z.fK).join(","))===(null==(i=t.responseFamily)?void 0:i.map(z.fK).join(","))&&e.queryBarHeight===t.queryBarHeight&&e.isLastResponse===t.isLastResponse&&e.task===t.task&&e.antecedentId===t.antecedentId&&e.subsequentId===t.subsequentId});function tV(e){let{isUser:t,children:s}=e;return(0,a.jsx)("div",{className:(0,k.cn)("order-first sticky hidden","@md/mainview:block","top-11 h-0 opacity-0 group-focus-within:opacity-100 group-hover:opacity-100",t?"-mr-[36px] @lg/mainview:-mr-12":"-ml-[36px] @lg/mainview:-ml-[40px] -left-[26px]"),children:(0,a.jsx)("div",{className:"min-h-7 py-4 flex flex-col gap-0.5",children:s})})}function tH(e){let{isUser:t}=e,{t:s}=(0,C.Bd)("chat");return(0,a.jsx)(tO.i,{isUser:t,children:(0,a.jsx)(t_.s,{isUser:t,children:(0,a.jsx)("p",{children:s("Something went wrong rendering this message","Something went wrong rendering this message")})})})}function tW(e){let{isUser:t}=e;return e=>{let{error:s,resetErrorBoundary:n}=e;return(0,a.jsx)(tH,{isUser:t,error:s,resetErrorBoundary:n})}}function tG(e){let{getText:t,forceActionButtonsVisible:s,onClickCopy:n,isMobile:r,className:o}=e,{t:i}=(0,C.Bd)("base"),[l,d]=(0,N.useState)(!1),g=(0,N.useCallback)(()=>{d(!0),navigator.clipboard.writeText(t()).catch(e=>ep.oR.error(e.message)),setTimeout(()=>d(!1),1e3),n()},[t,n]);return(0,a.jsx)(p.gx,{"aria-label":i("response-action.copy","Copy"),tooltipContent:l?(0,a.jsx)("p",{children:i("Copied!","Copied!")}):(0,a.jsx)("p",{children:i("Copy","Copy")}),tooltipContentProps:{side:"bottom"},variant:"ghostSecondary",size:r?"iconMd":"iconSm",rounded:!0,onClick:g,className:o||(0,k.cn)(tz,s?tF:null),children:(0,a.jsx)(S.p,{children:l?(0,a.jsx)(c.Srz,{className:"size-4"}):(0,a.jsx)(c.TdU,{className:"size-4"})},l?"copied":"copy")})}function tK(e){let{onParentBubbleClick:t,parentMessageText:s}=e;return(0,a.jsxs)("div",{className:"flex flex-row items-center gap-1.5 w-fit text-sm text-secondary cursor-pointer bg-surface-l1 rounded-xl p-2 pe-3",onClick:t,children:[(0,a.jsx)(c.Sbj,{className:"opacity-50",size:16}),(0,a.jsx)("span",{className:"max-w-lg truncate",children:s})]})}function tq(e){var t,s,n,r;let{asyncResponse:o,onSeeNewReply:i,shouldShowScrollDown:l}=e,d=(0,f.aP)(j.A("setSidePanelContent")),{t:g}=(0,C.Bd)(),m=null==(t=o.traceSteps)?void 0:t.findLastIndex(e=>"header"===e.type),p=null==(n=o.traceSteps)||null==(s=n[null!=m?m:0])?void 0:s.text,u=null==(r=o.traceSteps)?void 0:r[o.traceSteps.length-1],h=(null==u?void 0:u.type)==="tool"?c.vji:c.g5W,k=(0,N.useCallback)(()=>{var e;d({type:"thinkingSteps",data:{responseId:null!=(e=o.responseId)?e:"",isStreaming:"streaming"===o.state}})},[o.responseId,o.state,d]);return(0,a.jsxs)("div",{className:"mb-1",children:["streaming"===o.state&&p&&(0,a.jsxs)(eW.$n,{variant:"none",size:"md",shape:"rectangle",className:"p-0 m-0 -my-2 flex items-center justify-between group/button text-secondary",onClick:k,children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(h,{size:12,className:"flex-shrink-0"}),p]}),(0,a.jsx)(c.vKP,{className:"opacity-0 group-hover/button:opacity-100 transition-opacity duration-200"})]}),"closed"===o.state&&l&&(0,a.jsx)(eW.$n,{variant:"none",size:"md",shape:"rectangle",className:"p-0 m-0 -mt-4 -mb-2 flex items-center justify-center",onClick:i,children:(0,a.jsxs)("span",{className:"flex gap-1 text-secondary items-center",children:[(0,a.jsx)(c.Sbc,{size:14}),g("chat-side-panel:see-new-reply","See new reply")]})})]})}tU.displayName="ResponseFamily";var tX=s(1826),tY=s(17704);function tQ(e){let{asyncResponses:t}=e;return(0,a.jsx)("div",{className:(0,k.cn)("flex flex-col gap-1 bg-popover rounded-3xl p-1.5"),children:t.map(e=>{let t=e.traceSteps.findLastIndex(e=>"header"===e.type);return(0,a.jsx)(t$,{response:e,headerIdx:t},e.responseId)})})}function t$(e){var t,s,n,r,o;let{response:i,headerIdx:l}=e,d=(0,_.h)(),g=(0,O._)(),{t:m}=(0,C.Bd)("base"),{route:p}=(0,U.wK)(),u=(0,eU.w1)(e=>i.conversationId?e.byId[i.conversationId]:void 0),{getPersonaForConversation:h}=(0,M.v5)(),k=h(u),b=(0,V.A3)(e=>e.byId),x=(0,N.useMemo)(()=>{let e=i;do e=e.parentResponseId?b[e.parentResponseId]:void 0;while(e&&"human"!==e.sender);return e},[i,b]),w=null==(t=i.traceSteps)?void 0:t[i.traceSteps.length-1],v=(null==w?void 0:w.type)==="tool"?c.vji:c.g5W,y=null==(n=i.traceSteps)||null==(s=n[l])?void 0:s.text,S=(0,f.aP)(j.A("setSidePanelContent")),I=(0,N.useCallback)(()=>{S({type:"thinkingSteps",data:{responseId:i.responseId,isStreaming:"streaming"===i.state}})},[i.state,i.responseId,S]),T=(0,N.useCallback)(async e=>{e.stopPropagation();try{let e=f.aP.getState();await e.abortStream(i.conversationId,i.responseId)}catch(e){console.error("Failed to cancel stream",e),(0,F.vV)("Failed to cancel stream",e)}},[i.responseId,i.conversationId]),E=(0,N.useCallback)(e=>{var t,s,a,n,r,o;e.stopPropagation();let c=f.aP.getState(),l=V.A3.getState();if(!i.parentResponseId)return void(0,F.vV)("async-response-list:handleThinkFaster","No parent response id");let m=l.byId[i.parentResponseId];if(!m)return void(0,F.vV)("async-response-list:handleThinkFaster","No user response");g("steer_model",null==(t=i.uiLayout)?void 0:t.steerModelId,{location:"chat-input:model-steer-option",responseId:m.responseId,conversationId:m.conversationId,fileAttachments:String((null==(s=m.fileAttachments)?void 0:s.length)||0),webpageUrls:String((null==(a=m.webpageUrls)?void 0:a.length)||0),personaId:(null==k?void 0:k.personaId)||"",modelMode:c.modelMode,effort:(null==(n=i.uiLayout)?void 0:n.effort)||"",steerModelId:(null==(r=i.uiLayout)?void 0:r.steerModelId)||""}),c.sendResponse({message:"",parentResponseId:m.responseId,conversationId:m.conversationId,fileAttachmentIds:m.fileAttachments||[],webpageUrls:m.webpageUrls,setOpimisticUserResponse:!1,disableArtifactDiff:!1,setUserResponse:!1,persona:k,enableRetries:d.ENABLE_AUTO_STREAM_RETRY,isFromGrokFiles:"files"===p.page,modelIdOverride:null==(o=i.uiLayout)?void 0:o.steerModelId,metadata:{is_think_harder:!1,is_quick_answer:!0},skipCancelCurrentInflightRequests:!1,ff:d}).then(e=>{e.length||(0,F.vV)("async-response-list:handleThinkFaster","Failed to send steer query")}).catch(e=>{(0,F.vV)("async-response-list:handleThinkFaster",e)})},[i.parentResponseId,null==(r=i.uiLayout)?void 0:r.steerModelId,null==(o=i.uiLayout)?void 0:o.effort,g,k,d,p.page]),R=!!i.thinkingEndTime||!!i.liveThinkingEndTime,{formattedDuration:A}=(0,tY.h)(i,R);return(0,a.jsxs)("div",{className:"group flex justify-between items-center w-full cursor-pointer bg-popover text-primary px-3 py-2 gap-2 hover:bg-popover-hover transition-colors duration-200 rounded-2xl",onClick:I,children:[(0,a.jsxs)("div",{className:"flex flex-col gap-0 text-sm min-w-0",children:[x&&(0,a.jsx)("div",{className:"text-primary truncate overflow-hidden whitespace-nowrap",children:x.message||""}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-secondary min-w-0",children:[(0,a.jsx)(v,{size:12,className:"flex-shrink-0"}),(0,a.jsx)("span",{className:"truncate overflow-hidden whitespace-nowrap",children:y||m("async-response-row.thinking","Thinking")})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0",children:[(0,a.jsx)("div",{className:"group-hover:hidden flex items-center gap-1",children:A&&(0,a.jsx)("span",{className:"text-secondary text-xs",children:A})}),(0,a.jsxs)("div",{className:"hidden group-hover:flex items-center gap-1 -me-2",children:[(0,a.jsx)(eW.gx,{variant:"tertiary",size:"sm",shape:"square",tooltipContent:"Skip thinking",onClick:E,className:"hidden",children:(0,a.jsx)(c.hGA,{size:14})}),(0,a.jsx)(eW.gx,{variant:"tertiary",size:"sm",shape:"square",tooltipContent:"Cancel",onClick:T,children:(0,a.jsx)(c.X,{size:14})})]})]})]})}function tZ(e){let{asyncResponses:t}=e;return(0,a.jsxs)(tX.AM,{children:[(0,a.jsx)(tX.Wv,{asChild:!0,children:(0,a.jsxs)(p.$n,{variant:"none",className:(0,k.cn)("flex items-center gap-2 px-3 py-2 rounded-full","bg-surface-l2 ring-1 ring-border-l1 ring-inset","focus-within:ring-border-l2 focus-within:bg-surface-l3","hover:ring-input-border-focus hover:bg-input-hover","transition-colors duration-200"),"aria-label":"View async responses",children:[(0,a.jsx)(i.$r,{className:"w-4 h-4 text-primary"}),(0,a.jsx)(tJ,{}),(0,a.jsx)("div",{className:"px-1 rounded-full bg-surface-l4 text-primary font-semibold text-[12px]",children:t.length})]})}),(0,a.jsx)(tX.hl,{className:"w-96 p-0 rounded-3xl",align:"start",side:"top",sideOffset:8,children:(0,a.jsx)(tQ,{asyncResponses:t})})]})}function tJ(){return(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"w-1.5 h-1.5 bg-fg-secondary rounded-full animate-bounce",style:{animationDelay:"0s",animationDuration:"2s"}}),(0,a.jsx)("div",{className:"w-1.5 h-1.5 bg-fg-secondary rounded-full animate-bounce",style:{animationDelay:"0.3s",animationDuration:"2s"}}),(0,a.jsx)("div",{className:"w-1.5 h-1.5 bg-fg-secondary rounded-full animate-bounce",style:{animationDelay:"0.6s",animationDuration:"2s"}})]})}let t0=e1.z.object({enabled:e1.z.boolean(),maxResponses:e1.z.number(),minResponses:e1.z.number(),minScreenWidth:e1.z.number(),highlightOnScroll:e1.z.boolean()});function t1(e){var t;let{responses:s,onNavigateToResponse:n,className:r}=e,{t:o}=(0,C.Bd)("base"),i=(0,_.h)(),l=(0,O._)(),d=(0,ed.Di)(768),g=(0,N.useMemo)(()=>{let e=t0.safeParse(i.TIMELINE_NAVIGATOR.value);return e.success?e.data:null},[i.TIMELINE_NAVIGATOR]),m=(0,N.useMemo)(()=>g?s.slice(0,g.maxResponses):[],[s,g]),[p,u]=(0,N.useState)(null),h=(0,N.useRef)(null),f=(0,N.useRef)(null),[b,x]=(0,N.useState)(!0),w=(0,N.useMemo)(()=>p?m.findIndex(e=>e.responseId===p):-1,[m,p]),v=w>=0?m[w-1]:void 0,y=w>=0?m[w+1]:void 0;(0,N.useEffect)(()=>{if(!b)return;let e=new IntersectionObserver(e=>{let t=e.filter(e=>e.intersectionRatio>.1);t.length>0&&u(t.reduce((e,t)=>{let s=e.boundingClientRect.top;return t.boundingClientRect.top<s?t:e}).target.id.replace("response-",""))},{root:null,rootMargin:"0px",threshold:.1});return h.current=e,m.forEach(t=>{let s=document.getElementById("response-".concat(t.responseId));s&&e.observe(s)}),()=>{e.disconnect(),h.current=null}},[b,m]);let j=(0,N.useCallback)(()=>{x(!0)},[]),S=(0,N.useCallback)(e=>{["ArrowUp","ArrowDown","PageUp","PageDown","Home","End","Space"].includes(e.key)&&j()},[j]),I=(0,N.useCallback)(()=>{window.addEventListener("wheel",j,{passive:!0}),window.addEventListener("touchmove",j,{passive:!0}),window.addEventListener("keydown",S,{passive:!0})},[j,S]),T=(0,N.useCallback)(()=>{window.removeEventListener("wheel",j),window.removeEventListener("touchmove",j),window.removeEventListener("keydown",S)},[j,S]);(0,N.useEffect)(()=>{if(!b)return I(),T},[b,I,T]),(0,N.useEffect)(()=>{if(b)return;let e=()=>{f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{window.removeEventListener("scroll",e),f.current=null},100)};return window.addEventListener("scroll",e,{passive:!0}),()=>{window.removeEventListener("scroll",e),f.current&&clearTimeout(f.current)}},[b]);let E=(0,N.useCallback)(e=>{let t=document.getElementById("response-".concat(e));if(t&&(u(e),x(!1),f.current&&clearTimeout(f.current),t.scrollIntoView({behavior:"smooth",block:"start"}),null==g?void 0:g.highlightOnScroll)){let s=new IntersectionObserver(t=>{var a;(null==(a=t[0])?void 0:a.isIntersecting)&&(window.dispatchEvent(new CustomEvent("highlightResponse",{detail:e})),s.disconnect())},{threshold:.2});s.observe(t)}},[null==g?void 0:g.highlightOnScroll]),R=(0,N.useCallback)(e=>{l("timeline_navigator_click",e,{location:"timeline-navigator",responseId:e}),E(e),n(e)},[E,n,l]),A=(0,N.useCallback)(()=>{v&&R(v.responseId)},[v,R]),P=(0,N.useCallback)(()=>{y&&R(y.responseId)},[y,R]),M=(0,N.useCallback)(e=>R(e),[R]);return!(null==g?void 0:g.enabled)||s.length<(null!=(t=null==g?void 0:g.minResponses)?t:3)||d?null:(0,a.jsx)(tm.Bc,{children:(0,a.jsxs)("div",{className:(0,k.cn)("group flex flex-col items-center gap-1",r),children:[(0,a.jsx)(eW.gx,{onClick:A,disabled:!v,variant:"tertiary",size:"sm",shape:"circle",className:(0,k.cn)("!opacity-0 transition-opacity duration-200 group-hover:!opacity-100 disabled:group-hover:!opacity-60"),tooltipContent:v?o("timeline-navigator.previous-response","Previous response"):o("timeline-navigator.already-at-first-response","Already at first response"),tooltipContentProps:{side:"left"},"aria-label":"Navigate to previous message",children:(0,a.jsx)(c.Mtm,{size:16})}),(0,a.jsx)("div",{className:"flex flex-col items-center gap-0",children:m.map(e=>{let t=e.responseId===p,s="human"===e.sender,n=s?o("timeline-navigator.sender-you","You"):o("timeline-navigator.sender-grok","Grok");return(0,a.jsx)(eW.gx,{onClick:()=>M(e.responseId),variant:"tertiary",size:"xs",shape:"pill",className:(0,k.cn)("group relative flex items-center justify-center w-8 h-4 rounded animate-none"),"aria-label":o("timeline-navigator.go-to-response","Go to response"),tooltipContent:(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("div",{className:"text-secondary text-sm",children:n}),e.message?(0,a.jsx)("div",{className:"text-primary text-sm line-clamp-2",children:e.message}):(0,a.jsx)("div",{className:"italic",children:o("timeline-navigator.no-response","No response")})]}),tooltipContentProps:{side:"left",className:"w-60 max-h-32 bg-surface-l4 p-3 rounded-2xl",align:"center",disableAnimation:!0},tooltipProps:{delayDuration:0,disableHoverableContent:!0},stayOpenOnClick:!0,children:(0,a.jsx)("div",{className:(0,k.cn)("rounded-full transition-all duration-200",s?"w-1 h-0.5":"w-2 h-0.5",t?"bg-primary h-1":"bg-secondary")})},e.responseId)})}),(0,a.jsx)(eW.gx,{onClick:P,disabled:!y,variant:"tertiary",size:"sm",shape:"circle",className:(0,k.cn)("!opacity-0 transition-opacity duration-200 group-hover:!opacity-100 disabled:group-hover:!opacity-60"),tooltipContent:y?o("timeline-navigator.next-response","Next response"):o("timeline-navigator.already-at-last-response","Already at last response"),tooltipContentProps:{side:"left"},"aria-label":"Navigate to next message",children:(0,a.jsx)(c.D3D,{size:16})})]})})}function t2(e){let{conversationId:t,conversation:s,isOptimisticConversation:n,conversationError:i,isReconnecting:b,extraAssetIds:x,enableVoiceMode:w=!1,noTopBar:S,hideFollowUps:E,onSubmit:R,restrictedModel:A=!1,threadMode:U=!1,threadParentId:K}=e,{t:Z}=(0,C.Bd)("chat"),ee=(0,O._)(),[et,{height:es}]=(0,$.A)(),[ea,en]=(0,N.useState)(0),[er,eo]=(0,N.useState)(""),ei=(0,_.h)();(0,tr.$M)();let ec=(0,D.K)(),el=(0,f.aP)(j.A("lastMessageId")),ed=(0,V.A3)(j.A("loadMoreResponses")),eg=(0,V.A3)(j.A("nodesByConversationId")),em=(0,V.A3)(j.A("byConversationId")),ep=(0,f.aP)(j.A("isRateLimited")),eu=(0,H.C$)(j.A("isIncognito")),eh=(0,H.C$)(e=>e.userSettings.preferences.disableAutoScroll),{user:ef}=(0,m.useSession)(),{isEnterpriseUser:ek,isSuperGrokUser:eb,isSuperGrokProUser:ex}=(0,B.Q2)(),ew=(0,N.useRef)(null),{getPersonaForConversation:ev}=(0,M.v5)(),ey=ev(s),ej=(0,f.aP)(j.A("hasDismissedDisclaimer")),eN=(0,f.aP)(j.A("setHasDismissedDisclaimer")),eC=n?eu:s?!!ef&&s.temporary:eu,eS=(0,f.aP)(j.A("streamedMessageId")),eI=(0,f.aP)(j.A("setStreamedMessageId")),eT=(0,V.A3)(j.A("byId")),eE=(0,f.aP)(j.A("conversationMode")),eR=(0,f.aP)(j.A("voiceConnectionStatus")),eA=(0,f.aP)(j.A("livekitRoom")),[e_,eO]=(0,N.useState)(!1),[eP,eM]=(0,N.useState)(!1),[eL,eD]=(0,N.useState)(!1),eB=(0,N.useMemo)(()=>{if(U&&K){let e=(em[t]||[]).filter(e=>e.threadParentId&&e.threadParentId===K).sort((e,t)=>new Date(e.createTime).getTime()-new Date(t.createTime).getTime());return e.length>0?e[e.length-1].responseId:K}return el},[U,K,em,t,el]),ez=(0,N.useMemo)(()=>{if(eS){let s=eT[eS];if(s&&(s.parentResponseId===eB||s.responseId===eB)&&s.conversationId===t){var e;let t=(null!=(e=s.experimentIds)?e:[]).map(e=>eT[e]).filter(e=>void 0!==e);return[s,...t]}}return[]},[eS,eT,eB,t]),eF=ez.length>0,eU=(0,f.aP)(j.A("optimisticMessageId")),eV=(0,f.aP)(j.A("setOptimisticMessageId")),eH=eU?eT[eU]:void 0,eW=(0,N.useMemo)(()=>{if(null==s?void 0:s.conversationId)return(0,V.A3.getState().loadInitialResponses)(s.conversationId,!0)},[null==s?void 0:s.conversationId]),{data:eG,isLoading:eK,error:eq}=(0,L.v)(eW),eX=(0,N.useMemo)(()=>{let e=em[t];return null==e?void 0:e.filter(e=>e.responseId&&!e.responseId.startsWith("streaming_in_progress")&&(!e.state||"closed"===e.state||"error"===e.state))},[em,t]),eY=(0,N.useMemo)(()=>eg[t],[eg,t]),eQ=(0,N.useMemo)(()=>eY?eY.filter(e=>{var t,s;let a=(null==(t=e.responseId)?void 0:t.startsWith("streaming_in_progress"))||(null==(s=e.responseId)?void 0:s.startsWith("optimistic")),n=!!e.threadParentId;return(!!U||!n)&&!a}):[],[eY,U]),e$=(0,N.useMemo)(()=>eQ?Y.A(j.A("responseId"),eQ):{},[eQ]),eZ=(0,N.useMemo)(()=>eQ?Q.A(e=>e.parentResponseId||"",eQ):{},[eQ]),[eJ,e0]=(0,N.useState)(!1),[e1,e2]=(0,N.useState)(!1),e3=(0,N.useMemo)(()=>(0,z.zp)(em[t]||[],eg[t]||[],eB),[t,eg,em,eB]);(0,N.useEffect)(()=>{e2(!0),setTimeout(()=>{e2(!1)},1e3)},[t]);let e4=(0,N.useCallback)(()=>{var e;if(!t||!eB||e1)return;let s=null==(e=tm.current)?void 0:e.el,a=(null==s?void 0:s.scrollHeight)||0,n=(null==s?void 0:s.scrollTop)||0;e0(!0),e2(!0),ed(t,eB).then(()=>{requestAnimationFrame(()=>{if(s){let e=s.scrollHeight;s.scrollTop=n+(e-a)}}),setTimeout(()=>{e2(!1)},100)}).catch(e=>{ec("chat-interaction:handleLoadMoreResponses",e),e2(!1)}).finally(()=>{e0(!1)})},[t,ed,eB,e1,ec]),e5=(0,N.useRef)(null),e8=(0,N.useRef)(null),e6=(0,N.useRef)("");(0,N.useEffect)(()=>{let e=q().debounce(()=>{if(!e8.current)return;let e=window.getSelection();if(!e||0===e.rangeCount){e6.current="";return}let s=e.toString().trim();if(s.length<3){e6.current="";return}let a=e.getRangeAt(0);if(!e8.current.contains(a.commonAncestorContainer)){e6.current="";return}s!==e6.current&&(e6.current=s,ee("chat_text_selected",void 0,{selectedText:s.substring(0,200),selectionLength:s.length.toString(),location:"chat-interaction",conversationId:t}))},300);return document.addEventListener("selectionchange",e),()=>{document.removeEventListener("selectionchange",e)}},[t,ee]);let e7=(0,X.W)(e5,{root:e8,margin:"0px 0px 300px 0px"});(0,N.useEffect)(()=>{e7&&e3&&!eJ&&!eK&&e4()},[e7,e3,eJ,eK,e4]);let e9=(0,V.A3)(j.A("fetchListInflightResponses")),{isLoading:tt,isResolved:ts}=(0,L.v)((null==s?void 0:s.conversationId)&&!s.isNew?e9(s.conversationId):void 0),[ta,tc]=(0,N.useState)([]),tl=(0,N.useCallback)(e=>{let t=[],s=e,a=new Set;for(;s;){var n,r;if(a.has(s.responseId||"")){(0,F.vV)("chat-interaction:getAncestorsWithSiblings","Cycle detected in response hierarchy: ".concat(s.responseId));break}a.add(s.responseId||"");let e=null==(n=eZ[null!=(r=s.parentResponseId)?r:""])?void 0:n.filter(e=>{var t;return!(null==(t=e.responseId)?void 0:t.startsWith("optimistic"))&&!e.threadParentId});if(e?t.unshift(e):t.unshift([s]),!s.parentResponseId)break;s=e$[s.parentResponseId]}return t},[eZ,e$]),td=(0,f.aP)(j.A("staleOptimisticMessageIds"));(0,N.useEffect)(()=>{var e;let t;if(U&&K){let e=null==eX?void 0:eX.find(e=>e.responseId===K),t=(eX||[]).filter(e=>e.threadParentId===K).sort((e,t)=>new Date(e.createTime).getTime()-new Date(t.createTime).getTime()),s=[];e&&s.push({selectedResponseId:e.responseId,siblings:[e]}),t.forEach(e=>{s.push({selectedResponseId:e.responseId,siblings:[e]})}),s.forEach(e=>{let t=e.selectedResponseId;ez.some(e=>t===e.responseId||t===e.inflightResponseId)&&eI(void 0),t===(null==eH?void 0:eH.responseId)&&eV(void 0)}),tc(s);return}if(!eX||!eB)return;let s=eX.find(e=>e.responseId===eB);if(!s)return;let a=e$[eB];if(!a)return;let n=tl(s);t=(0,z.Cg)(a,e$).map((e,t)=>({selectedResponseId:e,siblings:n[t]||[]})),(null==eH?void 0:eH.responseId)&&td.has(eH.responseId)&&eV(void 0),t.forEach(e=>{let t=e.selectedResponseId;ez.some(e=>t===e.responseId||t===e.inflightResponseId)&&eI(void 0),(t===(null==eH?void 0:eH.responseId)||td.has(t))&&eV(void 0)}),tc(null==(e=t.filter(e=>eX.some(t=>t.responseId===e.selectedResponseId)||ez.some(t=>t.responseId===e.selectedResponseId)))?void 0:e.filter(e=>void 0!==e.siblings))},[U,K,eB,null==eX?void 0:eX.map(z.fK).join(","),null==ez?void 0:ez.map(z.fK).join(","),e$,eZ,tl,null==eH?void 0:eH.responseId]);let tg=(0,P.c)(),tm=(0,N.useRef)(null),tp=(0,N.useCallback)(()=>{eM(!1)},[]),tu=(0,N.useCallback)(()=>{eM(!1),setTimeout(()=>{var e;null==(e=tm.current)||e.scrollToBottom("smooth")},0)},[]),th=(0,N.useCallback)(()=>{eM(!0),eD(!1),ez.length>0&&!eh&&eO(!0)},[ez.length,eh]);(0,N.useEffect)(()=>{0===ez.length&&eO(!1)},[ez.length]);let tf=(0,N.useCallback)(e=>{tg||e&&!eh&&(eO(!0),eD(!1))},[tg,eh]),[tk,tb]=(0,N.useState)(!1);(0,N.useEffect)(()=>{tb(!1)},[t]),(0,N.useEffect)(()=>{let e=q().uniqBy(eG,"responseId");if((null==e?void 0:e.length)<=2)return},[eG]);let tx=(0,N.useMemo)(()=>{var e;let t=q().last(ta);if(t)return null==(e=t.siblings)?void 0:e.find(e=>e.responseId===t.selectedResponseId)},[ta]),tw=(null==tx?void 0:tx.sender)==="human";(0,N.useRef)(void 0).current=tx;let tv=tw&&!eK&&!tt&&ts&&!b&&(!eS||q().isEmpty(eT))||ep,[ty,tj]=(0,N.useState)(null);(0,N.useEffect)(()=>{!eH&&ty&&tj(null)},[eH,ty]);let tN=(0,N.useMemo)(()=>{var e,t;let s=null==(t=ta.at(0))||null==(e=t.siblings)?void 0:e.find(e=>e.responseId===ty);if(ty&&eH&&s)return[[],[]];if(eH)return[ta,[]];let a=ta.findLastIndex(e=>{var t,s;return(null==(s=e.siblings)||null==(t=s[0])?void 0:t.sender)==="human"});return ta.slice(0,a)},[ta,ty,eH]),tC=(0,N.useCallback)(e=>{eD(!e_&&!e)},[e_]),tS=(0,N.useCallback)(e=>{eD(!0),eM(!1),eO(!1)},[]),tI=(0,N.useRef)(er);(0,N.useLayoutEffect)(()=>{let e=window.innerHeight,t=tI.current!==er&&(ta.length>2||ea>.5*e);tI.current=er,ez.length>0&&tN.length>0&&tb(!0),t&&tu()},[er,tN.length]),e8.current&&e8.current.getBoundingClientRect().width;let tT=(0,N.useRef)(ez);(0,N.useEffect)(()=>{ez&&ez.length>0&&(tT.current=ez)},[ez]),(0,N.useEffect)(()=>{let e=e=>{if(null==s?void 0:s.temporary){let t=Z("chat.unsaved-changes","You are in a temporary conversation. Are you sure you want to leave? Your conversation will be lost.");return e.returnValue=t,t}};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[null==s?void 0:s.temporary,Z]);let tE=(0,N.useRef)(null),{asyncResponses:tR,sortedResponses:tA}=(0,T.uP)(t),{shouldShowAsyncHint:t_,dismissAsyncHint:tO}=function(e){let{asyncResponses:t}=(0,T.uP)(e),[s,a]=(0,to.M)("hasSeenAsyncHint",!1),[n,r]=(0,N.useState)(!1);return(0,N.useEffect)(()=>{!(t.length>0)||s||n||r(!0)},[t.length,s,n]),{shouldShowAsyncHint:n,dismissAsyncHint:(0,N.useCallback)(()=>{r(!1),a(!0)},[a])}}(t);(0,N.useLayoutEffect)(()=>{let e;if(tR.length>0){var t;e=null==(t=tR[tR.length-1])?void 0:t.responseId}else{let t=null==tA?void 0:tA[tA.length-1];e=null==t?void 0:t.responseId}e&&ew.current&&(en(ew.current.getBoundingClientRect().height),eo(e))},[tR,eH,tA]);let tP=R?async function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return tO(),await R(...t)}:void 0,tM=(0,N.useCallback)(e=>{let t=document.getElementById("response-".concat(e));if(t){t.scrollIntoView({behavior:"smooth",block:"start"});let s=new IntersectionObserver(t=>{var a;(null==(a=t[0])?void 0:a.isIntersecting)&&(window.dispatchEvent(new CustomEvent("highlightResponse",{detail:e})),s.disconnect())},{threshold:.2});s.observe(t)}},[]);return i||eq?(0,a.jsx)(tn.S,{conversationId:t,conversationError:i}):(0,a.jsx)(o.t,{FallbackComponent:t3,children:(0,a.jsxs)("div",{ref:e8,className:(0,G.cx)("relative flex h-full flex-col items-center @container/chat",S&&"pt-2","min-w-[340px]",J.a),children:[(0,a.jsx)(r.a,{hidden:!0}),ei.ENABLE_VOICE_MODE&&!!eA&&"voice"===eE&&(0,a.jsxs)(W.R.Provider,{value:eA,children:[(0,a.jsx)(I,{className:"absolute top-4 mx-auto"}),(0,a.jsx)(v.N,{children:!eB&&!eS&&"voice"===eE&&["connecting","connected","ready"].includes(eR)&&(0,a.jsxs)(y.P.div,{initial:{opacity:0},animate:"ready"===eR?{opacity:1}:{opacity:[1,.5,1],transition:{repeat:1/0,duration:2,ease:"linear"}},exit:{opacity:0},transition:{duration:.1,ease:"easeInOut"},className:"absolute -mt-12 inset-0 w-full h-full gap-2 flex flex-col items-center justify-center text-fg-secondary text-center",children:[(0,a.jsx)(c.b7X,{size:24}),(0,a.jsx)(v.N,{mode:"wait",children:"ready"===eR?(0,a.jsx)(y.P.p,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.1,ease:"easeInOut"},className:"font-semibold text-base",children:Z("voice.start-message","You may start speaking")},"voice-ready-message"):(0,a.jsx)(y.P.p,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.1,ease:"easeInOut"},className:"font-semibold text-base",children:Z("voice.connecting-message","Connecting")},"voice-connecting-message")})]},"voice-mode-message")})]}),(0,a.jsx)("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 z-20",children:(0,a.jsx)(t1,{responses:tA,onNavigateToResponse:tM})}),(0,a.jsx)(g.P,{ref:tm,className:(0,G.cx)("flex flex-col items-center px-gutter"),stickToBottom:e_,onUnhookScroll:tS,onScroll:tf,forceScrollToBottom:eP,isStreaming:eF,onAutoScroll:tC,onScrollStop:tp,children:(0,a.jsxs)("div",{className:(0,G.cx)("relative flex w-full flex-col items-center",S?"pt-2":"pt-20","pb-4"),children:[(0,a.jsx)("div",{ref:e5}),(0,a.jsx)(v.N,{children:eJ&&(0,a.jsxs)(y.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.1,ease:"easeIn"},className:"mb-8 flex items-center justify-center gap-3 text-secondary",children:[Z("Loading Older Messages","Loading Older Messages"),(0,a.jsx)(u.y,{size:"sm"})]},"loading")}),null==tA?void 0:tA.map((e,t)=>{var s,n;let r=t===tA.length-1&&0===tR.length;return(0,a.jsx)("div",{ref:r?ew:void 0,className:"w-full flex flex-col items-center",children:(0,a.jsx)(tU,{passedResponse:e,responseFamily:[e],selectedId:e.responseId,isIncognito:eC,isLastResponse:r,queryBarHeight:es,allowBreakout:!0,readOnly:!1,task:void 0,isThread:U,antecedentId:null==(s=tA[t-1])?void 0:s.responseId,subsequentId:null==(n=tA[t+1])?void 0:n.responseId})},"".concat(e.responseId))}),(0,a.jsx)(v.N,{children:tR.length>0&&(0,a.jsx)(y.P.div,{ref:ew,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2,ease:"easeOut"},className:"group sticky flex w-full max-w-[var(--content-max-width)] items-start z-10",style:{bottom:"".concat(es+10,"px")},children:(0,a.jsx)(tZ,{asyncResponses:tR})})}),(0,a.jsx)("div",{className:(0,k.cn)("flex w-full flex-col"),style:{"--gutter-width":"calc((100cqw - var(--content-width)) / 2)"},id:"last-reply-container",children:(0,a.jsx)("div",{style:{paddingBottom:es+16,width:"100%"}})})]})}),(0,a.jsxs)("div",{className:(0,k.cn)("absolute inset-x-0 bottom-0 mx-auto","max-w-breakout","z-40","print:hidden"),ref:et,children:[(0,a.jsx)(v.N,{children:eL?(0,a.jsx)(y.P.div,{initial:{opacity:0,y:40,x:"0"},animate:{opacity:1,y:0,x:"0"},exit:{opacity:0,y:40,x:"0"},transition:{opacity:{duration:.1,type:"linear"},x:{duration:.25,type:"spring"},y:{duration:.25,type:"spring"}},className:"absolute -top-3 mx-auto flex h-0 w-full justify-center px-gutter @md:px-0",children:(0,a.jsx)("div",{className:(0,k.cn)("flex h-0 w-full items-end justify-end",d.Q,"z-40"),children:(0,a.jsx)(p.$n,{onClick:th,variant:"filledSecondary",size:"iconSm",rounded:!0,className:"shadow-sm","aria-label":Z("scroll-down-button.label","Scroll down"),children:(0,a.jsx)(c.D3D,{size:20,className:"-mb-0.5"})})})}):null}),(0,a.jsx)(v.N,{children:ep&&(0,a.jsxs)("div",{className:"absolute flex w-full -translate-y-full flex-col items-center px-4 pb-4",children:[!ef&&(0,a.jsx)(h.dI,{}),ef&&!(ek||eb||ex)&&(0,a.jsx)(h._q,{}),ef&&(ek||eb||ex)&&(0,a.jsx)(h.DF,{})]})}),ey&&(0,l.pL)(ey.personaId,Z).disclaimer&&!ej&&(0,a.jsx)("div",{className:"flex flex-row justify-center px-2",children:(0,a.jsxs)("div",{className:"mb-4 flex w-fit cursor-pointer flex-row items-center gap-1 rounded-3xl border bg-input p-1 pe-3 ps-3 text-center backdrop-blur-sm sm:pe-1",onClick:()=>{eN(!0)},children:[(0,a.jsx)("div",{className:"text-xs",children:(0,l.pL)(ey.personaId,Z).disclaimer}),(0,a.jsx)(p.$n,{variant:"ghostSecondary",size:"iconSm",onClick:()=>{eN(!0)},children:(0,a.jsx)(c.X,{size:16})})]})}),(0,a.jsx)(ti,{queryBarHeight:es,showHint:t_,onDismiss:tO}),(0,a.jsx)(te,{isIncognito:eC,disabled:tv,extraAssetIds:x,enableVoiceMode:w,onSubmit:tP,queryBarRef:tE,hideFollowUps:E,restrictedModel:A,threadMode:U,threadParentId:K}),(0,a.jsx)("div",{className:"chat-input-backdrop absolute bottom-0 h-10 w-full bg-background"})]})]})})}function t3(e){let{}=e,{t}=(0,C.Bd)("chat");return(0,a.jsx)("div",{className:"flex h-dvh w-full items-center justify-center align-middle",children:(0,a.jsxs)("div",{className:"w-full max-w-lg text-center",children:[(0,a.jsx)(U.N_,{route:{page:"main"},className:"mb-6 flex justify-center",children:(0,a.jsx)(i.r1,{height:20,width:60,className:"fill-black opacity-80 hover:opacity-100 dark:fill-white"})}),(0,a.jsx)("div",{children:t("There was an error","There was an error")}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)(p.$n,{variant:"primary",size:"md",onClick:()=>{location.reload()},children:t("Reload","Reload")})})]})})}var t4=s(57607);function t5(e){let{optimisticResponse:t,isIncognito:s}=e,{sender:n}=t,r="human"===n;return(0,a.jsxs)(tO.i,{isUser:r,children:[(0,a.jsx)(t_.s,{isUser:r,isIncognito:s,children:(0,a.jsx)(tL.jo,{response:t,isStreaming:!1})}),(0,a.jsx)(t4.gh,{isUser:r}),(0,a.jsx)("div",{className:t4.Y5})]})}function t8(e){let{className:t}=e,{t:s}=(0,C.Bd)("chat");return(0,a.jsx)("div",{className:(0,k.cn)("w-full max-w-[48rem]"),children:(0,a.jsx)(y.P.div,{initial:{translateY:5,opacity:0},animate:{translateY:0,opacity:1},exit:{translateY:5,opacity:0},className:(0,k.cn)("w-fit","p-4 bg-card","shadow-sm","border border-input-border rounded-2xl","ml-4 md:mx-4",t),children:(0,a.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[(0,a.jsx)(c.hcu,{className:(0,k.cn)("h-5 w-5 flex-shrink-0")}),(0,a.jsx)("div",{className:"flex-1 max-w-96",children:(0,a.jsx)("div",{className:"text-primary text-sm",children:s("rate-limited-response.title","Message limit reached")})})]})})})}function t6(e){let{streamingResponses:t,usingExperiment:s,onRetry:n,onResume:r}=e,o=(0,O._)(),{t:i}=(0,C.Bd)("chat"),c=(0,f.aP)(j.A("isRateLimited")),l=(0,f.aP)(j.A("isUnauthenticated")),d=q().first(t),g=(0,N.useRef)(t),m=(0,_.h)();if(g.current=t,!d)throw Error("No first response");let{sender:p}=d,u="human"===p,h=(0,N.useMemo)(()=>{var e;return"error"===d.state&&(null==(e=d.error)?void 0:e.includes("content-moderated"))},[d.state,d.error]),k=(0,N.useCallback)((e,t)=>{let s=V.A3.getState(),a=g.current[0];if(!a)return;if(!a.responseId||!t||!t.responseId||!t.conversationId){(0,F.vV)("streaming-response:StreamingResponse:handleClickPrefer","Missing preferredResponse or nonPreferredResponse or their data,"+"primaryResponse: ".concat(JSON.stringify(q().pick(a,["conversationId","responseId","parentResponseId"])))+"preferredResponse: ".concat(JSON.stringify(q().pick(t,["conversationId","responseId","parentResponseId"])))),a.responseId&&s.updateResponse(a.responseId,{experimentIds:void 0});return}let n=(a.experimentIds||[]).concat(a.responseId).filter(e=>e!==t.responseId);o("user_side_by_side_preference",t.responseId||"",{location:"streaming-response",index:e.toString(),nonPreferredResponseIds:n.join(","),preferredResponseId:t.responseId||"",conversationId:a.conversationId||""});let r=f.aP.getState();r.setLastMessageId("streaming"===t.state?t.parentResponseId:t.responseId),r.setStreamedMessageId(t.responseId),s.updateResponse(a.responseId,{experimentIds:void 0})},[o]),b=(0,f.aP)(j.A("sideBySideConfig"));(0,N.useEffect)(()=>{let e=()=>{let e=null==d?void 0:d.inflightResponseId;"hidden"===document.visibilityState&&(0,F.iu)("response_leave_while_streaming",e,{location:"streaming-response",conversationId:d.conversationId||"",responseId:e||""})};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}},[d]);let x=t.some(e=>"streaming"===e.state||"reconnecting"===e.state);if(s){var w;let e=(null==b||null==(w=b.singleThinkingDifferentSummary)?void 0:w.sideBySideSingleThinkIndex)!==void 0?t[b.singleThinkingDifferentSummary.sideBySideSingleThinkIndex]:void 0;return m.ENABLE_SINGLE_THINKING_DIFFERENT_SUMMARY_UI&&b&&e?(0,a.jsx)(tC.d2,{config:b,chosenThinkingResponseData:{response:e,isOptimistic:!1,isStreaming:x},children:t.map((e,t)=>(0,a.jsx)(tC.lX,{index:t,response:e,isStreaming:x,onClickPrefer:k,hideThinking:!0},t))}):(0,a.jsx)(tC.Er,{children:(0,a.jsx)(tC.$O,{children:t.map((e,t)=>(0,a.jsx)(tC.lX,{index:t,response:e,isStreaming:x,onClickPrefer:k},t))})})}return c&&"error"===d.state?(0,a.jsx)(tO.i,{isUser:u,children:(0,a.jsx)("div",{className:"flex -ml-5 mt-2 w-full",children:(0,a.jsx)(t8,{})})}):(0,a.jsxs)(tO.i,{isUser:u,children:[(0,a.jsx)(t_.s,{isUser:u,children:(0,a.jsx)(tL.jo,{response:d,isStreaming:x,isModerated:h,onResume:r})}),l&&(0,a.jsx)("div",{className:"flex -ml-5 mt-2 w-full",children:(0,a.jsx)(tR._,{title:i("Unauthenticated.errorMessage","Unable to confirm user authenticity."),description:i("Unauthenticated.description","Please log in or refresh the page"),conversationId:d.conversationId})}),!l&&!c&&!h&&"error"===d.state&&(0,a.jsx)("div",{className:"flex -ml-5 mt-2 w-full",children:(0,a.jsx)(tR._,{title:i("Grok was unable to finish replying.errorMessage","Grok was unable to finish replying."),description:i("Grok was unable to finish replying.description","Please try again later or use a different model."),onRetry:n,conversationId:d.conversationId})}),(0,a.jsx)(t4.gh,{isUser:u})]})}function t7(e){let{optimisticUserResponse:t,onRetry:s,onResume:n}=e,r=(0,V.A3)(j.A("byConversationId")),o=(0,N.useMemo)(()=>{let e=r[t.conversationId],s=null==e?void 0:e.filter(e=>e.parentResponseId===t.responseId);if((null==s?void 0:s.length)===0){var a;(0,F.vV)("optimistic-streaming-response",new F.HK("No optimistic messages"),{conversationId:t.conversationId,responseId:t.responseId,length:String(null!=(a=null==e?void 0:e.length)?a:0)})}return s},[r,t]);return o&&0!==o.length?(0,a.jsx)(t6,{streamingResponses:o,usingExperiment:!1,onRetry:s,onResume:n}):null}function t9(e){let{isBackgroundThinking:t}=(0,T.We)();return t?(0,a.jsx)(t2,{...e}):(0,a.jsx)(se,{...e})}function se(e){let{conversationId:t,conversation:s,isOptimisticConversation:i,conversationError:b,extraAssetIds:x,enableVoiceMode:w=!1,noTopBar:S,hideFollowUps:T,onSubmit:E,restrictedModel:K=!1,threadMode:ee=!1,threadParentId:et,backdropColor:es}=e,{t:ea}=(0,C.Bd)("chat"),en=(0,O._)(),[er,{height:eo}]=(0,$.A)(),[ei,ec]=(0,N.useState)(0),[el,ed]=(0,N.useState)(""),eg=(0,_.h)(),em=(0,tr.$M)(),ep=(0,D.K)(),eu=(0,eX.JH)(),eh=(0,eX.OJ)(),ef=(0,V.A3)(j.A("loadMoreResponses")),ek=(0,V.A3)(j.A("loadConversationBranch")),eb=(0,V.A3)(j.A("nodesByConversationId")),ex=(0,V.A3)(j.A("byConversationId")),ew=(0,f.aP)(j.A("isRateLimited")),ev=(0,H.C$)(j.A("isIncognito")),ey=(0,H.C$)(e=>e.userSettings.preferences.disableAutoScroll),{user:ej}=(0,m.useSession)(),{isEnterpriseUser:eN,isSuperGrokUser:eC,isSuperGrokProUser:eS}=(0,B.Q2)(),{route:eI}=(0,U.wK)(),eT=(0,N.useRef)(null),{getPersonaForConversation:eE}=(0,M.v5)(),eR=eE(s),eA=(0,f.aP)(j.A("hasDismissedDisclaimer")),e_=(0,f.aP)(j.A("setHasDismissedDisclaimer")),eO=(0,f.aP)(j.A("reconnectToInflightResponses")),eP=i?ev:s?!!ej&&s.temporary:ev,eM=(0,eX.rS)(),eL=(0,eX.xF)(),eD=(0,V.A3)(j.A("byId")),eB=(0,f.aP)(j.A("conversationMode")),ez=(0,f.aP)(j.A("voiceConnectionStatus")),eF=(0,f.aP)(j.A("livekitRoom")),[eU,eV]=(0,N.useState)(!1),[eH,eW]=(0,N.useState)(!1),[eG,eK]=(0,N.useState)(!1),eq=(0,N.useMemo)(()=>ee&&et&&eu?(0,f.OF)(t,et,ex,eu):eh,[ee,et,eu,eh,t,ex]),eQ=(0,N.useMemo)(()=>{if(eM){let s=eD[eM];if(s&&(s.parentResponseId===eq||s.responseId===eq)&&s.conversationId===t){var e;let t=(null!=(e=s.experimentIds)?e:[]).map(e=>eD[e]).filter(e=>void 0!==e);return[s,...t]}}return[]},[eM,eD,eq,t]),e$=eQ.length>0,eZ=(0,N.useMemo)(()=>{var e;if(null==s||null==(e=s.taskResult)?void 0:e.task)try{return(0,Z.Yc)(s.taskResult.task)}catch(e){(0,F.vV)("chat-interaction:task",e)}},[null==s?void 0:s.taskResult]),eJ=(0,eX.RB)(),e0=(0,eX.lN)(),e1=eJ?eD[eJ]:void 0,e2=(0,N.useMemo)(()=>{if(null==s?void 0:s.conversationId)return(0,V.A3.getState().loadInitialResponses)(s.conversationId)},[null==s?void 0:s.conversationId]),{data:e3,isLoading:e4,error:e5}=(0,L.v)(e2),e8=(0,N.useMemo)(()=>(0,z.iM)(t,ex),[ex,t]),e6=(0,N.useMemo)(()=>eb[t],[eb,t]),e7=(0,N.useMemo)(()=>e6?e6.filter(e=>{var t,s;let a=(null==(t=e.responseId)?void 0:t.startsWith("streaming_in_progress"))||(null==(s=e.responseId)?void 0:s.startsWith("optimistic")),n=!!e.threadParentId;return(!!ee||!n)&&!a}):[],[e6,ee]),e9=(0,N.useMemo)(()=>e7?Y.A(j.A("responseId"),e7):{},[e7]),tt=(0,N.useMemo)(()=>e7?Q.A(e=>e.parentResponseId||"",e7):{},[e7]),[ts,ta]=(0,N.useState)(!1),[to,ti]=(0,N.useState)(!1),tc=(0,N.useMemo)(()=>(0,z.zp)(ex[t]||[],eb[t]||[],eq),[t,eb,ex,eq]);(0,N.useEffect)(()=>{ti(!0),setTimeout(()=>{ti(!1)},1e3)},[t]);let tl=(0,N.useCallback)(()=>{var e;if(!t||!eq||to)return;let s=null==(e=tS.current)?void 0:e.el,a=(null==s?void 0:s.scrollHeight)||0,n=(null==s?void 0:s.scrollTop)||0;ta(!0),ti(!0),ef(t,eq).then(()=>{requestAnimationFrame(()=>{if(s){let e=s.scrollHeight;s.scrollTop=n+(e-a)}}),setTimeout(()=>{ti(!1)},100)}).catch(e=>{ep("chat-interaction:handleLoadMoreResponses",e),ti(!1)}).finally(()=>{ta(!1)})},[t,ef,eq,to,ep]),td=(0,N.useRef)(null),tg=(0,N.useRef)(null),tm=(0,N.useRef)("");(0,N.useEffect)(()=>{let e=q().debounce(()=>{if(!tg.current)return;let e=window.getSelection();if(!e||0===e.rangeCount){tm.current="";return}let s=e.toString().trim();if(s.length<3){tm.current="";return}let a=e.getRangeAt(0);if(!tg.current.contains(a.commonAncestorContainer)){tm.current="";return}s!==tm.current&&(tm.current=s,en("chat_text_selected",void 0,{selectedText:s.substring(0,200),selectionLength:s.length.toString(),location:"chat-interaction",conversationId:t}))},300);return document.addEventListener("selectionchange",e),()=>{document.removeEventListener("selectionchange",e)}},[t,en]);let tp=(0,X.W)(td,{root:tg,margin:"0px 0px 300px 0px"});(0,N.useEffect)(()=>{tp&&tc&&!ts&&!e4&&tl()},[tp,tc,ts,e4,tl]);let tu=(0,V.A3)(j.A("fetchListInflightResponses")),{isLoading:th,isResolved:tf}=(0,L.v)((null==s?void 0:s.conversationId)&&!s.isNew?tu(s.conversationId):void 0),[tk,tb]=(0,N.useState)(!1);(0,N.useEffect)(()=>{s&&!s.isNew&&(tb(!0),eO({conversationId:s.conversationId,enableRetries:eg.ENABLE_AUTO_STREAM_RETRY,ff:eg,ctx:null!=eu?eu:void 0,threadParentId:et}).catch(e=>{(0,F.vV)("chat-page:reconnectToInflightResponses",e)}).finally(()=>tb(!1)))},[s,et]);let[tx,tw]=(0,N.useState)([]),tv=(0,N.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=[],a=e,n=new Set;for(;a;){var r,o;if(n.has(a.responseId||"")){(0,F.vV)("chat-interaction:getAncestorsWithSiblings","Cycle detected in response hierarchy: ".concat(a.responseId));break}n.add(a.responseId||"");let e=null==(r=tt[null!=(o=a.parentResponseId)?o:""])?void 0:r.filter(e=>{var s;return!(null==(s=e.responseId)?void 0:s.startsWith("optimistic"))&&(!t||e.threadParentId===et||e.responseId===et)});if(e?s.unshift(e):s.unshift([a]),!a.parentResponseId)break;a=e9[a.parentResponseId]}return s},[tt,e9,et]),ty=(0,f.aP)(j.A("staleOptimisticMessageIds"));(0,N.useEffect)(()=>{let e;if(!e8||!eq)return;let t=e8.find(e=>e.responseId===eq);if(!t)return;let s=e9[eq];if(!s)return;let a=tv(t,ee);if(e=(0,z.Cg)(s,e9).map((e,t)=>({selectedResponseId:e,siblings:a[t]||[]})),ee&&et){let t=e.findIndex(e=>{var t;return(null==(t=e.siblings[0])?void 0:t.responseId)===et});e=e.slice(t)}(null==e1?void 0:e1.responseId)&&ty.has(e1.responseId)&&e0(void 0),e.forEach(e=>{let t=e.selectedResponseId;eQ.some(e=>t===e.responseId||t===e.inflightResponseId)&&eL(void 0),(t===(null==e1?void 0:e1.responseId)||ty.has(t))&&e0(void 0)}),tw(e.filter(e=>void 0!==e.siblings).filter(e=>e8.some(t=>t.responseId===e.selectedResponseId)||eQ.some(t=>t.responseId===e.selectedResponseId)))},[ee,et,eq,null==e8?void 0:e8.map(z.fK).join(","),null==eQ?void 0:eQ.map(z.fK).join(","),e9,tt,tv,null==e1?void 0:e1.responseId]);let tj=(0,N.useCallback)(async(e,s)=>{let a=f.aP.getState(),n=eu?eu.getState():a;if(s||a.setSidePanelContent(void 0),!e||!e6)return;let r=e6.filter(e=>s?e.responseId===et||e.threadParentId===et:!e.threadParentId),o=Y.A(j.A("responseId"),r),i=Q.A(e=>e.parentResponseId||"",r),c=(0,z.Wm)(i,e),l=o[c],d=eD[c];if(l&&!d&&(d=(await ek(t,c,e).catch(e=>(ep("chat-interaction:handlePivotResponse",e),[]))).find(e=>e.responseId===c)||void 0),!d)return void(0,F.vV)("chat-interaction:handlePivotResponse","Failed to find youngest response");if("streaming"===d.state||"reconnecting"===d.state){n.setLastMessageId(d.parentResponseId),eL(d.responseId);return}if("optimistic"===d.state){n.setLastMessageId(d.parentResponseId),e0(d.responseId);return}return n.setLastMessageId(d.responseId)},[eu,e6,eD,et,ek,t,ep,eL,e0]),tN=(0,P.c)(),tC=(0,N.useRef)(null),tS=(0,N.useRef)(null),tI=(0,N.useCallback)(()=>{eW(!1)},[]),tT=(0,N.useCallback)(()=>{eW(!1),setTimeout(()=>{var e;null==(e=tS.current)||e.scrollToBottom("smooth")},0)},[]),tE=(0,N.useCallback)(()=>{eW(!0),eK(!1),eQ.length>0&&!ey&&eV(!0)},[eQ.length,ey]);(0,N.useEffect)(()=>{0===eQ.length&&eV(!1)},[eQ.length]);let tA=(0,N.useCallback)(e=>{tN||e&&!ey&&(eV(!0),eK(!1))},[tN,ey]),[t_,tP]=(0,N.useState)(!1);(0,N.useEffect)(()=>{tP(!1)},[t]),(0,N.useEffect)(()=>{let e=q().uniqBy(e3,"responseId");if((null==e?void 0:e.length)<=2)return},[e3]);let tM=(0,eX.i5)(),tL=A(),tD=eg.SHOW_SURVEYS&&tM&&tL===R.BELOW_RESPONSE,tB=(0,N.useMemo)(()=>{var e;let t=q().last(tx);if(t)return null==(e=t.siblings)?void 0:e.find(e=>e.responseId===t.selectedResponseId)},[tx]),tz=(null==tB?void 0:tB.sender)==="human",tF=(0,N.useRef)(void 0);tF.current=tB;let tU=(0,N.useCallback)(()=>{var e,s,a,n,r,o,i,c;let l=eD[(null==(e=tF.current)?void 0:e.responseId)||""];if(!l)return;let d=(null==l?void 0:l.sender)==="human";en("retry_response",l.responseId,{location:"chat-interaction",responseId:l.responseId||"",conversationId:t});let g=f.aP.getState(),m=V.A3.getState(),p=l.parentResponseId?null==(n=eD[l.parentResponseId])||null==(a=n.metadata)||null==(s=a.requestModelDetails)?void 0:s.modelId:void 0,u=null!=(c=null!=(i=null==(o=l.metadata)||null==(r=o.requestModelDetails)?void 0:r.modelId)?i:p)?c:void 0;d&&m.fetchListInflightResponses(t,!0).then(e=>{e.length?eO({conversationId:t,enableRetries:eg.ENABLE_AUTO_STREAM_RETRY,ff:eg}).catch(e=>{ep("chat-interaction:handleRetryLeaf",e)}):g.sendResponse({message:"",parentResponseId:l.responseId,conversationId:l.conversationId,fileAttachmentIds:l.fileAttachments,webpageUrls:l.webpageUrls,setOpimisticUserResponse:!1,setUserResponse:!1,persona:eR,enableRetries:eg.ENABLE_AUTO_STREAM_RETRY,isFromGrokFiles:"files"===eI.page,modelIdOverride:u,threadParentId:l.threadParentId,ff:eg,ctx:null!=eu?eu:void 0}).then(e=>{e.length||(0,F.vV)("chat-interaction:handleRetryLeaf:1","Failed to regenerate model response")}).catch(e=>{(0,F.vV)("chat-interaction",e)})}).catch(e=>{(0,F.vV)("chat-interaction",e)});let h=eJ?m.byId[eJ]:void 0;if(!d){if(!h||q().isEmpty(h.parentResponseId)||h.conversationId!==t)throw Error("Invalid optimistic response during retry");g.sendResponse({message:h.message,parentResponseId:h.parentResponseId,conversationId:h.conversationId,fileAttachmentIds:h.fileAttachments,webpageUrls:h.webpageUrls,setOpimisticUserResponse:!0,setUserResponse:!0,persona:eR,enableRetries:eg.ENABLE_AUTO_STREAM_RETRY,modelIdOverride:u,ff:eg,ctx:null!=eu?eu:void 0}).then(e=>{e.length||(0,F.vV)("chat-interaction:handleRetryLeaf:2","Failed to regenerate model response")}).catch(e=>{(0,F.vV)("chat-interaction",e)})}},[eD,en,t,eJ,eO,eg,ep,eR,eI.page,eu]),tV=(0,N.useCallback)(()=>{let e=f.aP.getState();if(!e1)return;let{message:t,fileAttachments:s,webpageUrls:a}=e1;if(!e.conversationId)return void e.establishNewConversation({message:t,fileAttachmentIds:s,webpageUrls:a,temporary:ev,enableRetries:eg.ENABLE_AUTO_STREAM_RETRY,ff:eg}).catch(e=>{(0,F.vV)("chat-input:establishNewConversation",e)});tU()},[e1,ev,eg,tU]),tH=(0,N.useCallback)(()=>{var e;let s=eQ.find(e=>!!e.inflightResponseId);s&&f.aP.getState().sendResponse({message:"",parentResponseId:s.parentResponseId,conversationId:t,resumeResponseId:s.inflightResponseId,fileAttachmentIds:s.fileAttachments,webpageUrls:null!=(e=s.webpageUrls)?e:[],setOpimisticUserResponse:!1,setUserResponse:!1,persona:eR,enableRetries:eg.ENABLE_AUTO_STREAM_RETRY,ff:eg,ctx:null!=eu?eu:void 0}).then(e=>{e.length||(0,F.vV)("chat-interaction:handleResumeLeaf","Failed to resume model response")}).catch(e=>{(0,F.vV)("chat-interaction.handleResumseLeaf",e)})},[eQ,t,eR,eg,eu]),tW=tz&&!e4&&!th&&tf&&!tk&&(!eM||q().isEmpty(eD)),tG=tW||ew,[tK,tq]=(0,N.useState)(null),tX=(0,N.useCallback)(e=>{V.A3.getState().byId[e]&&tq(e)},[]);(0,N.useEffect)(()=>{!e1&&tK&&tq(null)},[e1,tK]);let[tY,tQ]=(0,N.useMemo)(()=>{var e,t;let s=null==(t=tx.at(0))||null==(e=t.siblings)?void 0:e.find(e=>e.responseId===tK);if(tK&&e1&&s)return[[],[]];if(e1)return[tx,[]];let a=tx.findLastIndex(e=>{var t,s;return(null==(s=e.siblings)||null==(t=s[0])?void 0:t.sender)==="human"});return[tx.slice(0,a),tx.slice(a)]},[tx,tK,e1]),t$=(0,N.useCallback)(e=>{let t=document.getElementById("response-".concat(e));if(t){t.scrollIntoView({behavior:"smooth",block:"start"});let s=new IntersectionObserver(t=>{var a;(null==(a=t[0])?void 0:a.isIntersecting)&&(window.dispatchEvent(new CustomEvent("highlightResponse",{detail:e})),s.disconnect())},{threshold:.2});s.observe(t)}},[]),tZ=(0,N.useMemo)(()=>q()(tx).map(e=>{let{selectedResponseId:t}=e;return eD[t]}).compact().value(),[tx,eD]);(0,N.useLayoutEffect)(()=>{var e;let t=null==(e=tQ[0])?void 0:e.selectedResponseId;t&&eT.current&&(ec(eT.current.getBoundingClientRect().height),ed(t))},[tQ[0],e1]);let tJ=(0,N.useCallback)(e=>{eK(!eU&&!e)},[eU]),t0=(0,N.useCallback)(e=>{eK(!0),eW(!1),eV(!1)},[]),t2=(0,N.useRef)(el);(0,N.useLayoutEffect)(()=>{let e=window.innerHeight,t=t2.current!==el&&(tx.length>2||ei>.5*e);t2.current=el,eQ.length>0&&tY.length>0&&tP(!0),t&&tT()},[el,tY.length]);let t3=-em+(ei>180?ei-180:0)+(tg.current&&tg.current.getBoundingClientRect().width<=1280?-20:0),t8=(0,N.useRef)(eQ);(0,N.useEffect)(()=>{eQ&&eQ.length>0&&(t8.current=eQ)},[eQ]),(0,N.useEffect)(()=>{let e=e=>{if(null==s?void 0:s.temporary){let t=ea("chat.unsaved-changes","You are in a temporary conversation. Are you sure you want to leave? Your conversation will be lost.");return e.returnValue=t,t}};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[null==s?void 0:s.temporary,ea]);let t9=(0,N.useRef)(null);if(b||e5)return(0,a.jsx)(tn.S,{conversationId:t,conversationError:b});let se=ee&&0===tY.length&&!e4,ss=eQ.length>1||tQ.length>1;return(0,a.jsx)(o.t,{FallbackComponent:st,children:(0,a.jsxs)("div",{ref:tg,className:(0,G.cx)("relative flex h-full flex-col items-center @container/chat",S&&"pt-2","min-w-[340px]",J.a),children:[(0,a.jsx)(r.a,{hidden:!0}),eg.ENABLE_VOICE_MODE&&!!eF&&"voice"===eB&&(0,a.jsxs)(W.R.Provider,{value:eF,children:[(0,a.jsx)(I,{className:"absolute top-4 mx-auto"}),(0,a.jsx)(v.N,{children:!eq&&!eM&&"voice"===eB&&["connecting","connected","ready"].includes(ez)&&(0,a.jsxs)(y.P.div,{initial:{opacity:0},animate:"ready"===ez?{opacity:1}:{opacity:[1,.5,1],transition:{repeat:1/0,duration:2,ease:"linear"}},exit:{opacity:0},transition:{duration:.1,ease:"easeInOut"},className:"absolute -mt-12 inset-0 w-full h-full gap-2 flex flex-col items-center justify-center text-fg-secondary text-center",children:[(0,a.jsx)(c.b7X,{size:24}),(0,a.jsx)(v.N,{mode:"wait",children:"ready"===ez?(0,a.jsx)(y.P.p,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.1,ease:"easeInOut"},className:"font-semibold text-base",children:ea("voice.start-message","You may start speaking")},"voice-ready-message"):(0,a.jsx)(y.P.p,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.1,ease:"easeInOut"},className:"font-semibold text-base",children:ea("voice.connecting-message","Connecting")},"voice-connecting-message")})]},"voice-mode-message")})]}),(0,a.jsx)("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 z-20",children:(0,a.jsx)(t1,{responses:tZ,onNavigateToResponse:t$})}),(0,a.jsxs)(g.P,{ref:tS,className:(0,G.cx)("flex flex-col items-center px-gutter"),stickToBottom:eU,onUnhookScroll:t0,onScroll:tA,forceScrollToBottom:eH,isStreaming:e$,onAutoScroll:tJ,onScrollStop:tI,children:[(0,a.jsxs)("div",{className:(0,G.cx)("relative flex w-full flex-col items-center",S?"pt-2":"pt-20","pb-4"),children:[(0,a.jsx)("div",{ref:td}),(0,a.jsx)(v.N,{children:ts&&(0,a.jsxs)(y.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.1,ease:"easeIn"},className:"mb-8 flex items-center justify-center gap-3 text-secondary",children:[ea("Loading Older Messages","Loading Older Messages"),(0,a.jsx)(u.y,{size:"sm"})]},"loading")}),tY.map((e,t)=>{let{selectedResponseId:s,siblings:n}=e,r=0===t&&!!eZ&&eg.ENABLE_GROK_TASKS&&!ee;return(0,a.jsx)(t4.mJ,{responseFamily:n,selectedId:s,onPivotResponse:tj,onEditSubmit:tX,isIncognito:eP,queryBarHeight:eo,isLastResponse:!1,readOnly:r||!!et&&s===et,task:r?eZ:void 0,allowBreakout:!0,isThread:ee,truncatable:ee&&s===et},"".concat(s))}),(0,a.jsxs)("div",{className:(0,k.cn)("flex w-full flex-col",ss?"":"mx-auto flex max-w-[--content-max-width]"),style:{"--gutter-width":"calc((100cqw - var(--content-width)) / 2)",minHeight:t_?"calc(100vh + ".concat(t3,"px)"):void 0},ref:tC,id:"last-reply-container",children:[tQ.map((e,t)=>{let{selectedResponseId:s,siblings:n}=e,r=0===t&&!!eZ&&eg.ENABLE_GROK_TASKS&&0===tY.length&&!ee,o=t8.current.find(e=>e.responseId===s);return(0,a.jsx)("div",{ref:0===t?eT:void 0,className:"flex flex-col items-center",children:(0,a.jsx)(t4.mJ,{responseFamily:n,selectedId:s,streamingResponse:o,onPivotResponse:tj,onEditSubmit:tX,isIncognito:eP,queryBarHeight:eo,isLastResponse:0!==t,readOnly:r||!!et&&s===et,task:r?eZ:void 0,allowBreakout:!0,isThread:ee||"files"===eI.page,truncatable:ee&&s===et})},"last-turn-".concat(s,"-").concat(t))}),e1&&e1.conversationId===t&&(ee&&e1.threadParentId===et||!ee&&!e1.threadParentId)?(0,a.jsxs)("div",{ref:eT,className:"flex flex-col items-center",children:[(0,a.jsx)(t5,{optimisticResponse:e1,isIncognito:eP}),(0,a.jsx)(t7,{optimisticUserResponse:e1,onRetry:tV,onResume:tH})]}):eQ.length>0?(0,a.jsx)(t6,{streamingResponses:eQ,usingExperiment:ss&&!ee,onRetry:tU,onResume:tH}):null,tW&&(0,a.jsx)(n.P,{children:(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(tO.i,{isUser:!1,children:(0,a.jsx)("div",{className:"-ml-5",children:(0,a.jsx)(tR._,{title:ea("Grok was unable to reply.errorMessage","Grok was unable to reply to your last message."),description:ea("Grok was unable to reply.description","Please try regenerating a response."),onRetry:tU,conversationId:t})})})})}),(0,a.jsx)(v.N,{children:tD&&!ee&&(0,a.jsx)(y.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeIn"},className:"w-full max-w-breakout mx-auto pt-4 pb-16",children:(0,a.jsx)(eY,{className:(0,k.cn)("bg-background mx-auto",{"w-full":tN,"max-w-[75%]":!tN})})},"chat-survey")}),!se&&(0,a.jsx)("div",{style:{paddingBottom:eo+16,width:"100%"}})]})]}),(0,a.jsx)(v.N,{mode:"wait",children:se&&(0,a.jsxs)(y.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2,ease:"easeIn",delay:.2},className:"flex-1 flex flex-col items-center justify-center text-center text-secondary pb-[25dvh]",children:[(0,a.jsx)(c.vEG,{className:"h-8 w-8 mb-4 opacity-50"}),(0,a.jsx)("p",{className:"text-lg font-medium mb-2",children:ea("Start a Thread","Start a Thread")}),(0,a.jsx)("p",{className:"text-sm max-w-md",children:ea("Reply to continue the conversation in this thread.","Reply to continue the conversation in this thread.")})]})})]}),(0,a.jsxs)("div",{className:(0,k.cn)("absolute inset-x-0 bottom-0 mx-auto","max-w-breakout","z-40","print:hidden"),ref:er,children:[(0,a.jsx)(v.N,{children:eG?(0,a.jsx)(y.P.div,{initial:{opacity:0,y:40,x:"0"},animate:{opacity:1,y:0,x:"0"},exit:{opacity:0,y:40,x:"0"},transition:{opacity:{duration:.1,type:"linear"},x:{duration:.25,type:"spring"},y:{duration:.25,type:"spring"}},className:"absolute -top-3 mx-auto flex h-0 w-full justify-center px-gutter @md:px-0",children:(0,a.jsx)("div",{className:(0,k.cn)("flex h-0 w-full items-end justify-end",d.Q,"z-40"),children:(0,a.jsx)(p.$n,{onClick:tE,variant:"filledSecondary",size:"iconSm",rounded:!0,className:"shadow-sm","aria-label":ea("scroll-down-button.label","Scroll down"),children:(0,a.jsx)(c.D3D,{size:20,className:"-mb-0.5"})})})}):null}),(0,a.jsx)(v.N,{children:ew&&(0,a.jsxs)("div",{className:"absolute flex w-full -translate-y-full flex-col items-center px-4 pb-4",children:[!ej&&(0,a.jsx)(h.dI,{}),ej&&!(eN||eC||eS)&&(0,a.jsx)(h._q,{}),ej&&(eN||eC||eS)&&(0,a.jsx)(h.DF,{})]})}),eR&&(0,l.pL)(eR.personaId,ea).disclaimer&&!eA&&(0,a.jsx)("div",{className:"flex flex-row justify-center px-2",children:(0,a.jsxs)("div",{className:"mb-4 flex w-fit cursor-pointer flex-row items-center gap-1 rounded-3xl border bg-input p-1 pe-3 ps-3 text-center backdrop-blur-sm sm:pe-1",onClick:()=>{e_(!0)},children:[(0,a.jsx)("div",{className:"text-xs",children:(0,l.pL)(eR.personaId,ea).disclaimer}),(0,a.jsx)(p.$n,{variant:"ghostSecondary",size:"iconSm",onClick:()=>{e_(!0)},children:(0,a.jsx)(c.X,{size:16})})]})}),(0,a.jsx)(te,{isIncognito:eP,disabled:tG,extraAssetIds:x,enableVoiceMode:w,onSubmit:E,queryBarRef:t9,hideFollowUps:T,restrictedModel:K,threadMode:ee,threadParentId:et}),(0,a.jsx)("div",{className:(0,k.cn)("chat-input-backdrop absolute bottom-0 h-10 w-full bg-background",es?"".concat(es):"bg-background")})]})]})})}function st(e){let{}=e,{t}=(0,C.Bd)("chat");return(0,a.jsx)("div",{className:"flex h-dvh w-full items-center justify-center align-middle",children:(0,a.jsxs)("div",{className:"w-full max-w-lg text-center",children:[(0,a.jsx)(U.N_,{route:{page:"main"},className:"mb-6 flex justify-center",children:(0,a.jsx)(i.r1,{height:20,width:60,className:"fill-black opacity-80 hover:opacity-100 dark:fill-white"})}),(0,a.jsx)("div",{children:t("There was an error","There was an error")}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)(p.$n,{variant:"primary",size:"md",onClick:()=>{location.reload()},children:t("Reload","Reload")})})]})})}},36889:(e,t,s)=>{"use strict";s.d(t,{B:()=>x,gU:()=>S,bs:()=>j,wk:()=>I});var a=s(79342),n=s(3665),r=s(69358),o=s(82591),i=s(43086),c=s(15665),l=s(64332),d=s(88382),g=s(65146),m=s(35501);let p=new Worker(s.tu(new URL(s.p+s.u(73608),s.b)),{type:void 0}),u=l.LV(p);var h=s(60234);function f(){let e=I().error,{showBoundary:t,resetBoundary:s}=(0,h.Md)();return(0,d.useEffect)(()=>{e?t(e):s()},[e,t,s]),null}var k=s(71716),b=s(77204);class x{eq(e){return JSON.stringify(this)===JSON.stringify(e)}toJSON(){return{type:"grid",...this}}setCell(e){var t;let s=[{col:e.col,row:e.row,width:1,height:1}].concat((null!=(t=this.ranges)?t:[]).slice(1));return new x(this.sheet,e,s,this.cols,this.rows)}get editingCell(){return this.cell?{sheet:this.sheet,...this.cell}:null}get cellLabel(){return this.cell?"".concat((0,b.c5)(this.cell.col)).concat((0,b.g_)(this.cell.row)):""}get rect(){if((0,b.hM)(this)&&1===this.cols.length&&void 0!==this.cols[0]){let[e,t]=this.cols[0];return{type:"col",colStart:e,colEnd:t-1,rowStart:0,rowEnd:1024,numCols:t-e,numRows:0}}if((0,b.Rl)(this)&&1===this.rows.length&&void 0!==this.rows[0]){let[e,t]=this.rows[0];return{type:"row",colStart:0,colEnd:64,rowStart:e,rowEnd:t-1,numCols:0,numRows:t-e}}if((0,b.QJ)(this)&&1===this.ranges.length&&void 0!==this.ranges[0]){let e=this.ranges[0];return{type:"range",colStart:e.col,colEnd:e.col+e.width-1,rowStart:e.row,rowEnd:e.row+e.height-1,numCols:e.width,numRows:e.height}}return(0,b.r1)(this)?{type:"cell",colStart:this.cell.col,colEnd:this.cell.col,rowStart:this.cell.row,rowEnd:this.cell.row,numCols:1,numRows:1}:null}constructor(e,t={col:0,row:0},s=[],a=[],n=[]){this.sheet=e,this.cell=t,this.ranges=s,this.cols=a,this.rows=n}}let w=d.createContext(void 0),v=()=>d.useContext(w),y=(e,t,s,a,n)=>{d.useRef(e).current=e;let r=d.useRef(void 0);return d.useEffect(function(){let o;if(void 0===s)return;let i=r.current;if(!i||i.id!==e)return null==i||i.destroy(),r.current=i=S.create(e,t),i.initCalcEngine({content:s,readOnly:a}).then(e=>{e&&n&&e.onCells(n).then(e=>o=e).catch(console.error)}).catch(console.error),()=>{null==o||o()}},[e,s]),d.useEffect(function(){let e=r.current;e&&e.initCalcEngine({content:s,readOnly:a,force:!0}).catch(console.error)},[a]),d.useEffect(function(){return()=>{r.current=void 0}},[]),r},j=e=>{let{id:t,initialState:s={},children:n,content:l,readOnly:d=!1}=e,{t:p}=(0,g.Bd)("files");y(t,s,l,d);let u=(0,c.F$)(),h=u.useState(e=>e.nodes[t]),k=u.getModel(t);return h&&void 0!==l&&void 0!==k?(0,a.jsx)(w.Provider,{value:t,children:(0,a.jsxs)(o.t,{fallbackRender:()=>(0,a.jsx)(m.f,{message:p("spreadsheet-open-error.message","The file can't be opened right now. The file format is invalid.")}),children:[n,(0,a.jsx)(f,{})]})}):(0,a.jsx)(r.P,{children:(0,a.jsx)("div",{className:"flex w-full h-full justify-center items-center",children:(0,a.jsx)(i.y,{size:"sm"})})})},N={type:"sheet",highlights:[],activeSheet:0,selection:new x(0),sheets:[],editingCell:{sheet:0,col:0,row:0},error:null},C={newSheet:function(e,t){let s=[...e.sheets];s[t.index]={name:t.name,rowCount:256,colCount:26},e.setNodeProps({sheets:s})},deleteSheet:function(e,t){let s=[...e.sheets];s.splice(t.sheet,1),e.setNodeProps({sheets:s})},renameSheet:function(e,t){let s=[...e.sheets],a=s[t.index];a&&(s[t.index]={...a,name:t.new_value},e.setNodeProps({sheets:s}))},setCellValue:async function(e,t){let s=[...e.sheets];return e.calcEngine.getSheetProperties().then(a=>{let n=a[t.sheet];if(!n)return;let{rowCount:r,colCount:o}=n;s[t.sheet]={...n,rowCount:r,colCount:o},e.setNodeProps({sheets:s})}).catch(console.error)},insertColumn:function(e,t){let s=[...e.sheets],a=s[t.sheet];a&&(s[t.sheet]={...a,colCount:a.colCount+1},e.setNodeProps({sheets:s}))},deleteColumn:function(e,t){let s=[...e.sheets],a=s[t.sheet];a&&(s[t.sheet]={...a,colCount:a.colCount-1},e.setNodeProps({sheets:s}))},insertRow:function(e,t){let s=[...e.sheets],a=s[t.sheet];a&&(s[t.sheet]={...a,rowCount:a.rowCount+1},e.setNodeProps({sheets:s}))},deleteRow:function(e,t){let s=[...e.sheets],a=s[t.sheet];a&&(s[t.sheet]={...a,rowCount:a.rowCount-1},e.setNodeProps({sheets:s}))}};class S extends c.UK{static create(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=new S(e);return s.setNodeProps({...N,...t,id:e}),s}get name(){return this.node.name}get activeSheet(){return this.node.activeSheet}get sheets(){var e,t;return null!=(t=null==(e=this.node)?void 0:e.sheets)?t:[]}get highlights(){return this.node.highlights}get editingCell(){return this.node.editingCell}get selection(){return this.node.selection}get error(){return this.node.error}get calcEngine(){return S.engines.get(this.id)}async initCalcEngine(e){let{content:t,readOnly:s,force:a=!1}=e;if(!a&&this.calcEngine)return;let n=this.node.name||"Workbook",r=s?k.f.fromXLSX(t):null===t?u.initModel(n):u.fromXLSX(t);return await r.then(async e=>{S.engines.set(this.id,e);let t=await e.getSheetProperties();return this.setNodeProps({name:n,sheets:t}),e.onDiffs(l.BX(e=>{for(let t of e){let e=C[t.type];null==e||e(this,t)}})).then(e=>this.dispose.push(e)).catch(console.error),e}).catch(e=>{e instanceof Error&&this.setNodeProps({error:e})}),this.calcEngine}destroy(){for(let e of(super.destroy(),S.engines.delete(this.id),this.dispose))e();this.dispose=[]}setNodeProps(e){e=function(e,t){if(t.sheets){var s;let a=t.sheets,n=null!=(s=t.activeSheet)?s:e.activeSheet,r=Math.max(0,Math.min(n,a.length-1));if(r!==n)return{...t,activeSheet:r}}return t}(this.node,e),super.setNodeProps({...e,type:"sheet",id:this.id})}async createSheet(e){return this.calcEngine.createSheet(e).catch(console.error)}async deleteSheet(e){return this.calcEngine.deleteSheet(e).catch(console.error)}async duplicateSheet(e){let t=this.sheets[e];if(!t)return;let s=function(e,t){var s;let{stem:a}=null==(s=T.exec(t))?void 0:s.groups,n=t=>e.includes(t);if(!n(t))return t;for(let e=2;;e++){let t="".concat(a," (").concat(e,")");if(!n(t))return t}}(this.sheets.map(e=>e.name),t.name),a={rowStart:0,rowEnd:t.rowCount,colStart:0,colEnd:t.colCount};return this.createSheet(s).then(t=>{if(t)return this.calcEngine.getCellsInRange(e,a).then(e=>{let s=e.map(e=>e.map(e=>e.serialized));this.calcEngine.setCellsInRange(t.sheetId,0,0,s).catch(console.error)}).catch(console.error),t})}async copySheet(e,t){let s=this.sheets[e];if(!s)return;let{rowCount:a,colCount:r}=s;return this.calcEngine.getCellsInRange(e,{rowStart:0,rowEnd:a,colStart:0,colEnd:r}).then(e=>{let s=(0,n.Ll)(e.map(e=>e.map(e=>e.value)));(0,n.fZ)(s,t)}).catch(console.error)}async delimitSheet(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"csv",s=this.sheets[e];if(!s)return;let{rowCount:a,colCount:r}=s;return this.calcEngine.getCellsInRange(e,{rowStart:0,rowEnd:a,colStart:0,colEnd:r}).then(e=>{let s=(0,n.Ll)(e.map(e=>e.map(e=>e.value)));return(0,n.J1)(s,t)}).catch(console.error)}async renameSheet(e,t){return this.calcEngine.renameSheet(e,t).catch(console.error)}async insertRows(e,t,s){return this.calcEngine.insertRows(e,t,s).catch(console.error)}async insertCols(e,t,s){return this.calcEngine.insertCols(e,t,s).catch(console.error)}async deleteRows(e,t,s){return this.calcEngine.deleteRows(e,t,s).catch(console.error)}async deleteCols(e,t,s){return this.calcEngine.deleteCols(e,t,s).catch(console.error)}async clearCellsInRange(e,t){return this.calcEngine.clearCellsInRange(e,t).catch(console.error)}async setCellsInRange(e,t,s,a){return this.calcEngine.setCellsInRange(e,t,s,a).catch(console.error)}async copyCellsInRange(e,t){return this.calcEngine.getCellsInRange(e,t).then(e=>{let t=(0,n.Ll)(e.map(e=>e.map(e=>e.value)));(0,n.fZ)(t)}).catch(console.error)}constructor(e){super(e),this.id=e,this.gridRefs={},this.dispose=[]}}function I(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=(0,c.F$)(),s=v()||t.state.activeId;if(!s){if(e)throw Error("useSpreadsheet: An id must be provided or the activeId must be set.");return}t.useState(e=>e.nodes[s]);let a=t.findById(S,s);if(!a){if(e)throw Error('Spreadsheet "'.concat(s,'" not found.'));return}return a}S.type="sheet",S.engines=new Map,c.UK.typeId(S.type,S);let T=RegExp("^(?<stem>.*?)(?:\\s\\((?<suffix>\\d+)\\))?$")},36928:(e,t,s)=>{"use strict";s.d(t,{kZ:()=>m,my:()=>c});var a=s(71540),n=s(25603),r=s(32568),o=s(65312);function i(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.state.field(r.bE,!1),i=e.state.facet(o.aT);if(!n||n.mode!==r.US.Point&&!(0,r.Ns)(e.state))return!1;let{anchor:c,head:l=c}=n.mode===r.US.Point?n.cellSelection:{anchor:[i.cell.col,i.cell.row]};c=s?c:t,l=t;let d=new r.rn(c,l).address,{from:g,to:m}=n.mode===r.US.Point?n.range:e.state.selection.main;return e.state.facet(o.YF).scrollToCell({sheet:i.cell.sheet,col:l[0],row:l[1]}),e.dispatch({changes:{from:g,to:m,insert:d},selection:a.OF.range(g+d.length,g+d.length),effects:[r.vs.of({range:{from:g,to:g+d.length},cellSelection:{sheet:i.cell.sheet,anchor:c,head:l},mode:r.US.Point})]}),!0}function c(e,t){if(!t.hasFocus||t.dom.contains(e.target)||e.ctrlKey||e.metaKey)return!1;let s=t.state.field(r.bE,!1);if(!s||s.mode!==r.US.Point&&!(0,r.Ns)(t.state))return!1;e.preventDefault(),e.stopImmediatePropagation();let a=document.querySelector("#portal");function n(){a.style.pointerEvents="",window.removeEventListener("pointerup",n),window.removeEventListener("dragstart",n),window.removeEventListener("pointermove",c)}function c(e){window.requestAnimationFrame(()=>{let s=t.state.field(r.bE,!1);if(!s||s.mode!==r.US.Point&&!(0,r.Ns)(t.state))return!1;let a=t.state.facet(o.aT),n=t.state.facet(o.YF).cellFromPointer(e);if(!n)return!1;let c=s.mode===r.US.Point?s.cellSelection.head:[a.cell.col,a.cell.row];if(n.col===c[0]&&n.row===c[1])return!1;let l=s.mode===r.US.Point&&n.sheet===s.cellSelection.sheet;i(t,[n.col,n.row],l)})}if(window.addEventListener("pointerup",n),window.addEventListener("dragstart",n),window.addEventListener("pointermove",c),t.dom.contains(e.target))return!1;let l=t.state.facet(o.YF).cellFromPointer(e);if(!l)return!1;e.preventDefault(),e.stopImmediatePropagation();let d=e.shiftKey&&s.mode===r.US.Point&&l.sheet===s.cellSelection.sheet;i(t,[l.col,l.row],d),a.style.pointerEvents="none"}function l(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a=>{let n=a.state.field(r.bE,!1),c=a.state.facet(o.aT);if(!n)return!1;if(n.mode===r.US.Point){let r;if(n.cellSelection){let{anchor:e,head:t=e}=n.cellSelection;r=s?t:e}else r=[c.cell.col,c.cell.row];let o=c.sheetProperties[c.cell.sheet];if(!o)return!1;let l=o["horiz"===e?"colCount":"rowCount"];return void 0!==r[0]&&void 0!==r[1]&&i(a,["horiz"===e?Math.min(Math.max(r[0]+t,0),l):r[0],"horiz"===e?r[1]:Math.min(Math.max(r[1]+t,0),l)],s)}if((0,r.Ns)(a.state)&&a.state.selection.main.empty){let s=c.cell.col,n=c.cell.row,r=c.sheetProperties[c.cell.sheet];if(!r)return!1;let o="horiz"===e?s+t:s,l="horiz"===e?n:n+t;return i(a,[o=Math.min(Math.max(o,0),r.colCount),l=Math.min(Math.max(l,0),r.rowCount)],!1)}return!1}}function d(e){return t=>{let s=t.state.field(r.bE,!1),a=t.state.facet(o.aT);if(!s||s.mode!==r.US.Point)return!1;let n="horiz"===e?-1:a.cell.col,c="horiz"===e?a.cell.row:-1;if(s.cellSelection){let{anchor:t,head:a=t}=s.cellSelection;"horiz"===e?c=a[1]:n=a[0]}return i(t,[n,c],!0)}}let g=[{key:"ArrowDown",run:l("vert",1),shift:l("vert",1,!0)},{key:"ArrowUp",run:l("vert",-1),shift:l("vert",-1,!0)},{key:"ArrowRight",run:l("horiz",1),shift:l("horiz",1,!0)},{key:"ArrowLeft",run:l("horiz",-1),shift:l("horiz",-1,!0)},{key:"Ctrl-Space",run:d("vert"),preventDefault:!0},{key:"Shift-Space",run:d("horiz"),preventDefault:!0},{key:"Mod-e",run:r.Ol,preventDefault:!0},{key:"F2",run:r.Ol,preventDefault:!0}],m=a.Nb.high(n.w4.computeN([],()=>[g]))},37469:(e,t,s)=>{"use strict";s.d(t,{B:()=>o,u:()=>i});var a=s(79342),n=s(88382),r=s(67591);let o=e=>({fileMetadataId:e.assetId,fileName:e.name,fileMimeType:e.mimeType,fileUri:e.key,parsedFileUri:e.previewImageKey,createTime:e.createTime,fileSource:e.fileSource,thirdPartyFileId:e.thirdPartyFileId,thirdPartyFileMimeType:e.thirdPartyFileMimeType});function i(e){let{asset:t,onRemoveAsset:s,isPrivate:i,isDisabled:c,labelClassName:l,hideEdit:d,allowCompact:g=!1}=e,m=(0,n.useMemo)(()=>o(t),[t]),p=(0,n.useCallback)(()=>{null==s||s(t)},[s,t]);return(0,a.jsx)(r.V,{fileName:t.name,metadata:m,onRemove:s?p:void 0,isPrivate:i,isDisabled:c,isDeleted:t.isDeleted,asset:t,labelClassName:l,hideEdit:d,allowCompact:g})}},37931:(e,t,s)=>{"use strict";s.d(t,{bq:()=>g,eb:()=>p,gC:()=>m,l6:()=>l,mi:()=>u,yv:()=>d});var a=s(79342),n=s(64653),r=s(5083),o=s(11750);s(88382);var i=s(61312);let{jH:c}=r;function l(e){let{...t}=e;return(0,a.jsx)(n.bL,{"data-slot":"select",...t})}function d(e){let{...t}=e;return(0,a.jsx)(n.WT,{"data-slot":"select-value",...t})}function g(e){let{className:t,size:s="default",children:r,...l}=e,d=c();return(0,a.jsx)(n.l9,{dir:d,"data-slot":"select-trigger","data-size":s,className:(0,i.cn)("focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2",t),...l,children:l.asChild?r:(0,a.jsxs)(a.Fragment,{children:[r,(0,a.jsx)(n.In,{asChild:!0,children:(0,a.jsx)(o.D3D,{className:"size-3 text-secondary transition-transform"})})]})})}function m(e){let{className:t,children:s,position:r="popper",showScrollButtons:o=!1,...l}=e,d=c();return(0,a.jsx)(n.ZL,{children:(0,a.jsxs)(n.UC,{"data-slot":"select-content",dir:d,className:(0,i.cn)("bg-popover text-popover-foreground overflow-x-hidden overflow-y-auto rounded-md border shadow-md relative min-w-[8rem] gap-px","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","max-h-(--radix-select-content-available-height) origin-(--radix-select-content-transform-origin)","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1","popper"===r&&"max-h-[var(--radix-select-content-available-height)] rounded-2xl bg-surface-l4 border border-border-l1 text-primary backdrop-blur-md shadow-sm shadow-black/5",t),position:r,...l,children:[o&&(0,a.jsx)(h,{}),(0,a.jsx)(n.LM,{className:(0,i.cn)("p-1 gap-px","popper"===r&&"w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),o&&(0,a.jsx)(f,{})]})})}function p(e){let{className:t,children:s,...r}=e;return(0,a.jsx)(n.q7,{"data-slot":"select-item",className:(0,i.cn)("hover:bg-button-ghost-hover focus:bg-button-ghost-hover focus:text-accent-foreground relative flex w-full cursor-default items-center gap-2 rounded-lg py-1.5 pr-10 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 outline-none",t),...r,children:r.asChild?s:(0,a.jsxs)("div",{className:"w-full flex flex-row items-center",children:[(0,a.jsx)("span",{className:"absolute right-3 flex size-3.5 items-center justify-center",children:(0,a.jsx)(n.VF,{children:(0,a.jsx)(o.Srz,{className:"size-4"})})}),(0,a.jsx)("div",{className:"grow [&>span]:inline-flex [&>span]:w-full",children:(0,a.jsx)(n.p4,{children:s})})]})})}function u(e){let{className:t,...s}=e;return(0,a.jsx)(n.wv,{"data-slot":"select-separator",className:(0,i.cn)("bg-border pointer-events-none -mx-1 my-1 h-px",t),...s})}function h(e){let{className:t,...s}=e;return(0,a.jsx)(n.PP,{"data-slot":"select-scroll-up-button",className:(0,i.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(o.Mtm,{className:"size-4"})})}function f(e){let{className:t,...s}=e;return(0,a.jsx)(n.wn,{"data-slot":"select-scroll-down-button",className:(0,i.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(o.D3D,{className:"size-4"})})}},38074:(e,t,s)=>{"use strict";s.d(t,{_:()=>tb,S:()=>tk});var a=s(79342),n=s(75500),r=s(88382),o=s(39188),i=s(11750),c=s(56691),l=s(61312),d=s(72497),g=s(38541),m=s.n(g),p=s(48305),u=s(45126),h=s(71185),f=s(16506);function k(e){let{cardAttachment:t}=e,s=t.locs.map(e=>{var t;return null==(t=e.coordinates)?void 0:t.latitude}),n=t.locs.map(e=>{var t;return null==(t=e.coordinates)?void 0:t.longitude}),i=m().min(s),c=m().max(s),l=m().min(n),g=m().max(n),{resolvedTheme:k}=(0,f.D)(),b=(0,r.useMemo)(()=>"dark"===k?"DARK":"light"===k?"LIGHT":"FOLLOW_SYSTEM",[k]),v=(0,r.useRef)({}),[y,j]=(0,r.useState)(void 0),N=(0,d.ko)(t.id),C=(0,p.d)(m().mean([i,c])),S=(0,p.d)(m().mean([l,g]));(0,u.L)(C,"change",e=>{null==N||N.setCenter({lat:e,lng:S.get()})});let I=(0,r.useCallback)(e=>{var t,s,a,n;if((null==y?void 0:y.id)===e.id)return void j(void 0);j(e),(0,h.i)(C,null!=(a=null==(t=e.coordinates)?void 0:t.latitude)?a:0,{duration:.3,ease:"easeInOut"}),(0,h.i)(S,null!=(n=null==(s=e.coordinates)?void 0:s.longitude)?n:0,{duration:.3,ease:"easeInOut"})},[y,C,S]),T=(0,r.useCallback)(e=>{var t;j(t=>(null==t?void 0:t.id)===e.id?void 0:e),null==(t=v.current[e.id])||t.scrollIntoView({block:"nearest",inline:"nearest",behavior:"smooth"})},[]),[E,R]=(0,r.useState)(10),A=(0,r.useCallback)(e=>{R(e.detail.zoom)},[]);return(0,a.jsxs)(o.p,{className:"flex flex-col gap-2 @sm:gap-0 @sm:flex-row h-[600px] @sm:h-[400px] !p-0 overflow-hidden",children:[(0,a.jsx)(d.T5,{id:t.id,mapId:"5263418f707d7221",style:{width:"100%",height:"100%",overflow:"hidden",borderRadius:"0"},defaultBounds:{east:null!=g?g:0,north:null!=c?c:0,south:null!=i?i:0,west:null!=l?l:0,padding:80},onZoomChanged:A,cameraControl:!1,fullscreenControl:!1,streetViewControl:!1,mapTypeControl:!1,colorScheme:b,children:t.locs.map((e,t)=>{var s,n;return(null==(s=e.coordinates)?void 0:s.latitude)&&(null==(n=e.coordinates)?void 0:n.longitude)?(0,a.jsx)(r.Fragment,{children:(0,a.jsx)(w,{loc:e,index:t,zoom:E,selected:(null==y?void 0:y.id)===e.id,onClick:T})},e.id):null})}),(0,a.jsx)("div",{className:"h-full overflow-scroll p-2",children:t.locs.map(e=>(0,a.jsx)(x,{ref:t=>{v.current[e.id]=t},loc:e,selected:(null==y?void 0:y.id)===e.id,onClick:I},e.id))})]})}let b=(0,r.memo)(function(e){return(0,a.jsx)(d.c4,{apiKey:"AIzaSyASGZbUjGsKFNGqrRkidJKKWAVINndvI0A",children:(0,a.jsx)(k,{...e})})}),x=(0,r.forwardRef)((e,t)=>{var s;let{loc:n,selected:o,onClick:d}=e,g=(0,r.useMemo)(()=>{if(!n.rating)return null;let e=[];for(let t=0;t<5;t++){let s=Math.max(Math.min(n.rating-t,1),0),r="star-".concat(n.id,"-").concat(t);e.push((0,a.jsxs)(i.FEq,{className:"w-3 h-3",children:[(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:r,children:(0,a.jsx)("rect",{id:"shadeRect",x:"0",y:"0",width:(24*s).toFixed(0),height:"24"})})}),(0,a.jsx)("path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",fill:"currentColor",clipPath:"url(#".concat(r,")")})]},t))}return(0,a.jsx)("div",{className:"flex flex-row",children:e})},[n.rating,n.id]),m=(0,r.useMemo)(()=>n.user_ratings_total?(0,a.jsxs)("span",{children:["(",n.user_ratings_total,")"]}):null,[n.user_ratings_total]),p=(0,r.useMemo)(()=>{if(!n.price_level||"PRICE_LEVEL_UNSPECIFIED"===n.price_level||"PRICE_LEVEL_FREE"===n.price_level)return null;switch(n.price_level){case"PRICE_LEVEL_INEXPENSIVE":return(0,a.jsx)("span",{children:"$"});case"PRICE_LEVEL_MODERATE":return(0,a.jsx)("span",{children:"$$"});case"PRICE_LEVEL_EXPENSIVE":return(0,a.jsx)("span",{children:"$$$"});case"PRICE_LEVEL_VERY_EXPENSIVE":return(0,a.jsx)("span",{children:"$$$$"})}},[n.price_level]),u=(0,r.useCallback)(()=>{d(n)},[d,n]);return(0,a.jsxs)("div",{ref:t,className:(0,l.cn)("flex flex-col py-1 px-2","rounded-xl","hover:bg-surface-l4-hover dark:hover:bg-surface-l2",o&&"bg-surface-l4-hover dark:bg-surface-l2","cursor-pointer","transition-colors duration-100"),onClick:u,children:[(0,a.jsxs)("span",{className:"text-sm font-bold flex flex-row gap-1 items-start justify-between",children:[(0,a.jsx)("span",{children:null==(s=n.display_name)?void 0:s.text}),n.google_maps_uri&&(0,a.jsx)(c.$n,{variant:"text",size:"iconXs",asChild:!0,children:(0,a.jsx)("a",{href:n.google_maps_uri,target:"_blank",rel:"noopener",children:(0,a.jsx)(i.k0t,{size:"14"})})})]}),(0,a.jsxs)("span",{className:"flex flex-row gap-1 items-center text-xs text-fg-secondary flex-wrap",children:[n.rating," ",g," ",m," ",p?(0,a.jsxs)(a.Fragment,{children:["• ",p]}):null]}),(0,a.jsx)("span",{className:"text-xs text-fg-secondary",children:n.formatted_address})]},n.id)});function w(e){var t,s,n,o;let{loc:i,index:c,zoom:g,selected:m,onClick:p}=e,u=(0,r.useCallback)(()=>{p(i)},[p,i]),h=2700/(128*Math.pow(2,g)),[f,k]=(0,r.useState)(!1),b=(0,r.useCallback)(e=>{k(e)},[]),x=f?1001:m?1e3:999-c;return(null==(t=i.coordinates)?void 0:t.latitude)&&(null==(s=i.coordinates)?void 0:s.longitude)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.J8,{position:{lat:i.coordinates.latitude-h,lng:i.coordinates.longitude},collisionBehavior:m||f?d.tC.REQUIRED_AND_HIDES_OPTIONAL:d.tC.OPTIONAL_AND_HIDES_LOWER_PRIORITY,zIndex:x,onClick:u,anchorPoint:["50%","12px"],title:null==(n=i.display_name)?void 0:n.text,children:(0,a.jsx)("div",{className:(0,l.cn)("text-center","font-semibold text-sm text-shadow-custom"),children:null==(o=i.display_name)?void 0:o.text})}),(0,a.jsx)(d.J8,{position:{lat:i.coordinates.latitude,lng:i.coordinates.longitude},collisionBehavior:d.tC.REQUIRED_AND_HIDES_OPTIONAL,zIndex:x+1,onClick:u,anchorPoint:d.GN.CENTER,children:(0,a.jsx)(v,{selected:m,onHover:b})})]}):null}function v(e){let{selected:t,onHover:s}=e,n=(0,r.useCallback)(()=>{s(!0)},[s]),o=(0,r.useCallback)(()=>{s(!1)},[s]);return(0,a.jsx)("div",{className:(0,l.cn)("transition-all","border-2 rounded-full","box-content","w-[10px] h-[10px] hover:w-[12px] hover:h-[12px]",t?"bg-red-400 dark:bg-red-300 border-red-600 dark:border-red-100 h-[12px] w-[12px] ":"bg-red-500 dark:bg-red-400 border-white dark:border-red-300"),onMouseEnter:n,onMouseLeave:o})}var y=s(70697),j=s(17703),N=s(60078),C=s(52619),S=s(39729),I=s(41320),T=s(65146);let E={UP:"up",DOWN:"down",NOCHANGE:"nochange"},R=Object.freeze({SINGLE:"SINGLE",COMPARISON:"COMPARISON"}),A={AED:"د.إ",ARS:"$",AUD:"A$",BDT:"৳",BHD:".د.ب",BMD:"BM$",BRL:"R$",CAD:"C$",CHF:"Fr.",CLP:"$",CNY:"CN\xa5",CZK:"Kč",DKK:"kr",EUR:"€",GBP:"\xa3",GEL:"₾",HKD:"HK$",HUF:"Ft",IDR:"Rp",ILS:"₪",INR:"₹",JPY:"\xa5",KRW:"₩",KWD:"د.ك",LKR:"Rs",MMK:"Ks",MXN:"MX$",MYR:"RM",NGN:"₦",NOK:"kr",NZD:"NZ$",PHP:"₱",PKR:"Rs",PLN:"zł",RUB:"₽",SAR:"ر.س",SEK:"kr",SGD:"S$",THB:"฿",TRY:"₺",TWD:"NT$",UAH:"₴",USD:"$",VEF:"Bs",VND:"₫",ZAR:"R",XDR:"SDR",XAG:"XAG",XAU:"XAU",BTC:"₿",ETH:"Ξ",LTC:"Ł",BCH:"BCH",BNB:"BNB",EOS:"EOS",XRP:"XRP",XLM:"XLM",LINK:"LINK",DOT:"DOT",YFI:"YFI",BITS:"bits",SATS:"sats"},_={preMarket:(0,a.jsx)(T.x6,{i18nKey:"Pre-market",ns:"finance-cards"}),today:(0,a.jsx)(T.x6,{i18nKey:"Today",ns:"finance-cards"}),afterHours:(0,a.jsx)(T.x6,{i18nKey:"After Hours",ns:"finance-cards"})},O=Object.keys(_);function P(e,t){let{timeZone:s}=window.Intl.DateTimeFormat().resolvedOptions(),a=new Intl.DateTimeFormat("en-US",{month:t&&t.month?"short":void 0,day:t&&t.day?"numeric":void 0,hour:t&&t.hour?"numeric":void 0,minute:t&&t.minute?"numeric":void 0,year:t&&t.year?"numeric":void 0,timeZoneName:t&&t.timeZoneName?"short":void 0,timeZone:t&&t.timeZoneName?s:void 0});return"string"!=typeof e||e.endsWith("Z")?a.format(new Date(e)):a.format(new Date(e+"Z"))}function M(e){let t=[],s=[],a=[];return e.forEach(e=>{let n=e.timestamp.split("T")[0],r=new Date(e.timestamp),o=new Date("".concat(n).concat("T09:30:00-05:00")),i=new Date("".concat(n).concat("T16:00:00-05:00"));r.getTime()<o.getTime()?t.push(e):r.getTime()<=i.getTime()?s.push(e):a.push(e)}),{preMarket:t,today:s,afterHours:a}}let L=e=>{var t,s;return null!=(s=null!=(t=e.currencySymbol)?t:A[e.currency.toUpperCase()])?s:""};var D=s(75036);function B(e){let{cardAttachment:t}=e,{t:s,i18n:n}=(0,T.Bd)("base"),r=(0,I.Di)(),i=P(t.filingDate,{month:!0,day:!0,year:!0,timeZoneName:!0}),c=(0,D.h)(r,n.language);return(0,a.jsxs)(o.p,{footer:(0,a.jsxs)("div",{className:"flex flex-col gap-1 mt-3",children:[(0,a.jsx)("span",{className:"text-secondary text-xs",children:s("financial-report-card.filing-date","Filed {{date}}",{date:i})}),(0,a.jsx)("span",{className:"text-secondary text-xs",children:s("financial-report-card.source","Source: {{url}}",{url:t.sourceFilingFileUrl})})]}),children:[(0,a.jsxs)("div",{className:"mb-4 pt-2",children:[(0,a.jsx)("h1",{className:"text-lg font-semibold mb-2",children:s("financial-report-card.financials-for","Financials for {{company}}",{company:t.companyName})}),(0,a.jsxs)("div",{className:"text-sm text-secondary",children:[(0,a.jsx)("span",{children:s("financial-report-card.ticker","Ticker: {{ticker}}",{ticker:t.tickers.join(", ")})}),(0,a.jsx)("span",{className:"mx-2",children:"•"}),(0,a.jsx)("span",{children:s("financial-report-card.fiscal-period","Fiscal {{period}} {{year}}",{period:t.fiscalPeriod,year:t.fiscalYear})}),(0,a.jsx)("span",{className:"mx-2",children:"•"}),(0,a.jsx)("span",{children:s("financial-report-card.period","{{start}} to {{end}}",{start:P(t.startDate,{month:!0,day:!0,year:!0}),end:P(t.endDate,{month:!0,day:!0,year:!0})})})]})]}),(0,a.jsx)("div",{className:"flex flex-col gap-3",children:Object.entries(t.reports).map((e,t)=>{let[n,r]=e;return(0,a.jsx)(S.Zp,{className:"rounded-xl bg-surface-l2",children:(0,a.jsx)(S.Wu,{className:"p-0",children:(0,a.jsx)(C.nD,{type:"multiple",className:"w-full",children:(0,a.jsxs)(C.As,{value:"item-".concat(t),className:"border-none",children:[(0,a.jsx)(C.$m,{className:"text-md font-medium px-4 py-3 hover:no-underline w-full",children:(0,a.jsx)("div",{className:"flex items-center justify-between w-full",children:r.financialsType})}),(0,a.jsx)(C.ub,{className:"px-4 pb-4",children:(0,a.jsx)("div",{className:"pt-2",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b",children:[(0,a.jsx)("th",{className:"text-left py-2 font-medium text-muted-foreground",children:s("financial-report-card.metric","Metric")}),(0,a.jsx)("th",{className:"text-right py-2 font-medium text-muted-foreground",children:s("financial-report-card.value","Value")})]})}),(0,a.jsx)("tbody",{children:Object.entries(r.data).map(e=>{var t;let[s,n]=e;return(0,a.jsxs)("tr",{className:"border-b last:border-b-0",children:[(0,a.jsx)("td",{className:"py-2",children:n.label}),(0,a.jsx)("td",{className:"text-right py-2 font-mono",children:c(n.value.value,null!=(t=n.value.currency_symbol)?t:void 0,n.value.currency)})]},s)})})]})})})]})})})},n)})})]})}let z=[{key:"open",label:(0,a.jsx)(T.x6,{i18nKey:"Open",ns:"finance-cards"})},{key:"high",label:(0,a.jsx)(T.x6,{i18nKey:"High",ns:"finance-cards"})},{key:"low",label:(0,a.jsx)(T.x6,{i18nKey:"Low",ns:"finance-cards"})},{key:"marketCap",label:(0,a.jsx)(T.x6,{i18nKey:"Market Cap",ns:"finance-cards"})},{key:"peRatio",label:(0,a.jsx)(T.x6,{i18nKey:"P/E Ratio",ns:"finance-cards"})},{key:"yearHigh",label:(0,a.jsx)(T.x6,{i18nKey:"Year High",ns:"finance-cards"})},{key:"yearLow",label:(0,a.jsx)(T.x6,{i18nKey:"Year Low",ns:"finance-cards"})},{key:"allTimeHigh",label:(0,a.jsx)(T.x6,{i18nKey:"All-Time High",ns:"finance-cards"})},{key:"allTimeLow",label:(0,a.jsx)(T.x6,{i18nKey:"All-Time Low",ns:"finance-cards"})}];function F(e){let{entity:t,multipleEntities:s}=e,n=z.filter(e=>"number"==typeof t.metrics[e.key]).map(e=>(0,a.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,a.jsx)("span",{className:"font-bold",children:e.label}),(0,a.jsx)("span",{children:"".concat(L(t.currentPrice)).concat(function(e){let t=[{value:1e12,suffix:"T"},{value:1e9,suffix:"B"},{value:1e6,suffix:"M"},{value:1e3,suffix:"K"}];for(let s=0;s<t.length;s++){let a=t[s];if(void 0!==a&&e>=a.value)return(e/a.value).toFixed(2)+a.suffix}return e.toFixed(2)}(t.metrics[e.key]))})]},e.key));return(0,a.jsxs)("div",{className:(0,l.cn)("px-3 py-2 text-primary rounded-lg",s&&"bg-card-hover"),children:[s&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm mb-2",children:[(0,a.jsx)("span",{className:"uppercase font-bold",children:t.symbol}),(0,a.jsx)("div",{className:"w-1 h-1 rounded-full bg-secondary"}),(0,a.jsx)("span",{className:"font-bold text-secondary",children:t.name})]}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-x-2 gap-y-1",children:n})]})}var U=s(10463);function V(e){let{entity:t,label:s,stockPriceChange:n,className:r}=e,o=n.direction,c=o===E.UP,d=o===E.DOWN,g=o===E.NOCHANGE,m=c?"text-emerald-500":d?"text-red-500":"text-secondary",p=n.amountChange.startsWith("-")?"-".concat(L(t.currentPrice)).concat(n.amountChange.replace("-","")):"".concat(L(t.currentPrice)).concat(n.amountChange);return(0,a.jsxs)("div",{className:"flex flex-row items-center gap-1 text-xs leading-snug truncate mb-1 ".concat(r),children:[s&&(0,a.jsx)("span",{className:"text-xs text-secondary",children:s}),c&&(0,a.jsx)(i.ntg,{size:16,className:(0,l.cn)("inline-flex",m)}),d&&(0,a.jsx)(i.klo,{size:16,className:(0,l.cn)("inline-flex",m)}),g&&(0,a.jsx)(i.gUh,{size:16,className:(0,l.cn)("inline-flex",m)}),(0,a.jsx)("span",{className:"font-bold ".concat(m),children:p}),(0,a.jsx)("span",{className:"font-bold ".concat(m),children:"(".concat(n.percentageChange,"%)")})]})}function H(e){var t;let{color:s,entity:n,isMultipleEntities:o,oneDayStockPriceChange:i,selectedPeriod:c,stockPriceChange:d,className:g}=e,{t:m}=(0,T.Bd)("finance-cards"),p=null;"1D"===c?p=(0,a.jsxs)("div",{className:"flex flex-col gap-0",children:[i.today&&(0,a.jsx)(V,{entity:n,stockPriceChange:i.today}),i.afterHours&&(0,a.jsx)(V,{entity:n,label:_.afterHours,stockPriceChange:i.afterHours})]}):d&&(p=(0,a.jsx)(V,{entity:n,stockPriceChange:d}));let u=U.s[n.symbol]||(null==(t=n.metrics.branding)?void 0:t.image_url),h=(0,r.useMemo)(()=>new Intl.NumberFormat(navigator.language).format(n.currentPrice.value),[n.currentPrice.value]);return(0,a.jsxs)("div",{className:(0,l.cn)("flex flex-col items-start gap-1 w-full",o?"bg-card-hover rounded-lg px-3 pt-2 pb-1":"",g),children:[o?(0,a.jsxs)("div",{className:"flex flex-col w-full items-start justify-between gap-0",children:[(0,a.jsxs)("div",{className:"flex flex-row items-start justify-between w-full",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center gap-1 truncate",children:[u&&(0,a.jsx)("img",{src:u,alt:m("financialEntityLogoAltText","{{financialEntitySymbol}} logo",{financialEntitySymbol:n.symbol}),className:"rounded-sm w-4 object-contain m-0"}),(0,a.jsx)("span",{className:"font-bold uppercase",children:n.symbol})]}),(0,a.jsx)("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:s}})]}),(0,a.jsx)("span",{className:"text-[10px]",children:n.name})]}):(0,a.jsxs)("div",{className:"flex flex-row items-center justify-start gap-1 text-xs",children:[u&&(0,a.jsx)("img",{src:u,alt:m("financialEntityLogoAltText","{{financialEntitySymbol}} logo",{financialEntitySymbol:n.symbol}),className:"rounded-sm w-4 object-contain m-0"}),(0,a.jsx)("span",{className:"font-bold uppercase",children:n.symbol}),(0,a.jsx)("span",{className:"text-secondary",children:n.name})]}),(0,a.jsxs)("div",{className:"flex flex-row items-end gap-1",children:[(0,a.jsx)("span",{className:"font-extrabold text-2xl",children:h}),(0,a.jsx)("span",{className:"uppercase text-secondary font-bold text-sm",children:n.currentPrice.currency})]}),p]})}var W=s(73755),G=s(35632),K=s(36828),q=s(18614),X=s(45669),Y=s(10490),Q=s(52427),$=s(99e3),Z=s(81210);function J(e){var t,s;let{active:n,payload:o}=e,i=(0,r.useCallback)((e,t)=>L({currency:t,value:e})+new Intl.NumberFormat(navigator.language,{maximumFractionDigits:2}).format(e),[]);if(!n||!o||0===o.length)return null;let c=[];o.forEach(e=>{let t=e.dataKey.split("-")[0];if(!t)throw Error("Symbol not found in dataKey: ".concat(e.dataKey));c.push({symbol:t,price:Number(e.payload["".concat(t,"-value")]),currency:e.payload["".concat(t,"-currency")],color:e.payload["".concat(t,"-color")]})});let l=null==(t=o[0])?void 0:t.payload.dateTime,d=(null==(s=o[0])?void 0:s.payload.periodName)||"";if(!l)throw Error("Date time not found in payload");let g=P(l,{year:!0,month:!0,day:!0,hour:!0,minute:!0}),m=[...c].sort((e,t)=>t.price-e.price),p=m.length>1;return(0,a.jsxs)("div",{className:"z-50 bg-background shadow-md rounded-lg px-2 py-1 flex flex-col gap-0 items-start text-sm",children:[m.map(e=>{let t=p?"".concat(e.price.toFixed(2),"%"):i(e.price,e.currency);return(0,a.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[p&&(0,a.jsx)("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:e.color}}),(0,a.jsx)("span",{className:"uppercase font-bold",children:e.symbol}),(0,a.jsx)("span",{children:t})]},e.symbol)}),(0,a.jsx)("span",{className:"text-xs text-secondary",children:g}),d&&(0,a.jsx)("span",{className:"text-xs text-secondary",children:_[d]})]})}function ee(e){var t;let{entitiesData:s,selectStockSymbol:n,selectedPeriod:o,selectedStockSymbols:i}=e,d=(null==(t=s[0])?void 0:t.entity.assetType)==="COIN",g=s.length>1,p=Object.keys(i).length>0,u="line-chart-".concat(o,"-").concat(Object.keys(i).join("-")),h=r.useMemo(()=>{let e={};for(let{entity:c,chartData:l,chartStyle:m,oneDayDataBreakdown:u}of s){var t,a,n,r;if(p&&!i[c.symbol])continue;let s=g&&l.percent_data?"percent_data":"price_data",h=(t,s,a)=>{e[t]||(e[t]={dateTime:t,...a?{periodName:a}:{}});let{symbol:n}=c;e[t]["".concat(n,"-value")]=s,e[t]["".concat(n,"-symbol")]=n,e[t]["".concat(n,"-currency")]=c.currentPrice.currency,e[t]["".concat(n,"-color")]=m.color};"1D"===o?d?null==(a=l[s])||null==(t=a["1D"])||t.forEach(e=>{let{timestamp:t,value:s}=e;h(new Date(t).getTime(),s)}):O.forEach(e=>{var t,a;null==(a=u[s])||null==(t=a[e])||t.forEach(t=>{let{timestamp:s,value:a}=t;h(new Date(s).getTime(),a,e)})}):null==(r=l[s])||null==(n=r[o])||n.forEach(e=>{let{timestamp:t,value:s}=e,a=new Date(t);d&&a.setMinutes(0,0,0),h(a.getTime(),s)})}return Object.values(e)},[s,o,i,p,g,d]),f=r.useMemo(()=>{let e=[];return h.forEach(t=>{Object.keys(t).forEach(s=>{s.endsWith("-value")&&e.push(Number(t[s]))})}),function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8,a=(t-e)/5,n=Math.floor(Math.log10(a)),r=a/Math.pow(10,n),o=m().minBy([1,2,5],e=>Math.abs(r-e))*Math.pow(10,n),i=Math.floor(e/o)*o;e-i>s*o&&(i=Math.ceil(e/o)*o);let c=Math.ceil(t/o)*o,l=[];for(let e=i;e<=c;e+=o)l.push(e);return{domain:[i,c],ticks:l}}(Math.min(...e),Math.max(...e))},[h]),k=r.useCallback(e=>{let t=new Date(e),{timeZone:s}=window.Intl.DateTimeFormat().resolvedOptions(),a=(0,W.L_)(t,s);return"1D"===o?(0,W.GP)(a,"h:mm a",{timeZone:s}):"5D"===o||"1M"===o?(0,W.GP)(a,"MMM d",{timeZone:s}):"YTD"===o?(0,W.GP)(a,"MMM d",{timeZone:s}):(0,W.GP)(a,"MMM yyyy",{timeZone:s})},[o]),b=r.useMemo(()=>{if(!s[0])return;let e=s[0].chartData.price_data[o];if(!e||!(e.length>50))switch(o){case"1D":return 3;case"5D":return 40;default:return}},[o,s]);return(0,a.jsxs)("div",{children:[g&&(0,a.jsx)("div",{className:"flex flex-row items-center gap-2 mb-8",children:s.map(e=>{let t=i[e.entity.symbol];return(0,a.jsxs)(c.$n,{variant:"ghostSecondary",onClick:()=>n(e.entity.symbol),className:(0,l.cn)("flex flex-row items-center gap-1 px-2 rounded-lg",t?"bg-button-ghost-hover text-primary":"text-secondary"),children:[(0,a.jsx)("span",{className:"uppercase font-bold text-xs",children:e.entity.symbol}),(0,a.jsx)("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:e.chartStyle.color}})]},"legend-".concat(e.entity.name))})}),(0,a.jsx)("div",{className:(0,l.cn)("relative -left-6",g?"bottom-4":"-bottom-2"),children:(0,a.jsx)(G.u,{height:200,children:(0,a.jsxs)(K.b,{data:h,height:200,children:[(0,a.jsx)(q.d,{horizontalValues:f.ticks,strokeDasharray:"1 0",vertical:!1,className:"stroke-black/10 dark:stroke-white/10"}),(0,a.jsx)(X.W,{axisLine:!1,dataKey:"dateTime",tick:{fontSize:12},tickFormatter:k,tickLine:!1,tickCount:0,interval:b}),(0,a.jsx)(Y.h,{axisLine:!1,domain:f.domain,ticks:f.ticks,tick:{fontSize:12},tickFormatter:e=>{if(g){let t=e.toFixed(1);return t.endsWith(".0")?"".concat(t.slice(0,-2),"%"):"".concat(t,"%")}{if(!s[0])return"";let t=L(s[0].entity.currentPrice),a=Math.abs(e);return a>=1e7?"".concat(t).concat((e/1e6).toFixed(0),"m"):a>=1e6?"".concat(t).concat((e/1e6).toFixed(1),"m"):a>=1e4?"".concat(t).concat((e/1e3).toFixed(0),"k"):a>=1e3?"".concat(t).concat((e/1e3).toFixed(1),"k"):"".concat(t).concat(e.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2}))}},tickLine:!1,interval:0,type:"number"}),g&&(0,a.jsx)(Q.e,{y:0,strokeWidth:1,className:"stroke-black/10 dark:stroke-white/10"}),(0,a.jsx)($.m,{content:(0,a.jsx)(J,{}),cursor:{strokeDasharray:"1 0"},isAnimationActive:!1}),s.map(e=>i[e.entity.symbol]||!p?(0,a.jsx)(Z.N,{activeDot:!1,dataKey:"".concat(e.entity.symbol,"-value"),dot:!1,isAnimationActive:!1,stroke:e.chartStyle.color,strokeWidth:2,type:"linear",connectNulls:!0},"stock-line-".concat(e.entity.symbol)):null)]},u)})})]})}function et(e){let{selectedPeriod:t,setSelectedPeriod:s}=e;return(0,a.jsx)("div",{className:"flex flex-row items-center gap-1 w-full",children:N.Cd.map(e=>{let n=e===t;return(0,a.jsx)(c.$n,{variant:"ghostSecondary",onClick:()=>s(e),className:(0,l.cn)("flex flex-row items-center gap-1 px-2 rounded-lg",n?"bg-button-ghost-hover text-primary":"text-secondary"),children:(0,a.jsx)("span",{className:"text-center text-sm ".concat(n?"font-bold":"font-normal"),children:e})},e)})})}function es(e){let{cardAttachment:t}=e,{t:s}=(0,T.Bd)("finance-cards"),[n,i]=(0,r.useState)({}),c=Object.keys(n).length>0,[l,d]=(0,r.useState)("1D"),g=(0,r.useMemo)(()=>{var e;let s=["#60a5fa","#f59e0b","#a78bfa","#6ee7b7","#f472b6","#a3e635"];return t.variant===R.COMPARISON?t.entities.map((e,a)=>{var n,r;let o=[e.name,e.symbol].find(e=>e in t.chartData);if(!o)throw Error("Key not found in chartData: ".concat(e.name," ").concat(e.symbol));let i=t.chartData[o];if(!i)throw Error("Chart data not found for entity: ".concat(e.name," ").concat(e.symbol));return{entity:e,chartData:i,chartStyle:{color:s[a%s.length]},oneDayDataBreakdown:{price_data:M(null!=(n=null==i?void 0:i.price_data["1D"])?n:[]),percent_data:M(null!=(r=null==i?void 0:i.percent_data["1D"])?r:[])}}}):[{entity:t.entity,chartData:{price_data:t.chartData.price_data},chartStyle:{color:s[0]},oneDayDataBreakdown:{price_data:M(null!=(e=t.chartData.price_data["1D"])?e:[])}}]},[t]),m=(0,r.useMemo)(()=>{let e={},t=(e,t)=>{let s=e-t,a=s/t*100,n=E.NOCHANGE;return s>0?n=E.UP:s<0&&(n=E.DOWN),{percentageChange:a.toFixed(2),amountChange:s.toFixed(2),direction:n}};return g.forEach(s=>{var a,n;let r=s.entity.symbol,o={preMarket:null,today:null,afterHours:null},i={};Object.keys(null!=(n=null==(a=s.chartData)?void 0:a.price_data)?n:{}).forEach(e=>{if("1D"===e){let e=s.oneDayDataBreakdown.price_data.preMarket,a=s.oneDayDataBreakdown.price_data.afterHours,n=s.entity.metrics.prevDayClose;o.preMarket=e.length&&n?t(e[e.length-1].value,n):null,o.today=n?t(s.entity.currentPrice.value,n):null,o.afterHours=a.length&&n?t(a[a.length-1].value,s.entity.currentPrice.value):null}else{var a;let n=null==(a=s.chartData)?void 0:a.price_data[e];if(!n||n.length<=0)return;i[e]=t(n[n.length-1].value,n[0].value)}}),e[r]={oneDayChanges:o,periodChanges:i}}),e},[g]),p=(0,r.useCallback)(e=>{i(t=>{let s={...t};return s[e]?delete s[e]:s[e]=!0,s})},[]),u=g.length>1,h=P(t.created_at,{month:!0,day:!0,hour:!0,minute:!0,timeZoneName:!0});return(0,a.jsxs)(o.p,{footer:(0,a.jsx)("div",{className:"flex flex-col gap-1 mt-3",children:(0,a.jsx)("span",{className:"text-secondary text-xs",children:s("Updated","Updated {{date}}",{date:h})})}),children:[(0,a.jsx)("div",{className:"flex flex-row gap-3 mb-4 w-full overflow-x-auto no-scrollbar",children:g.map(e=>{var t,s;let r=e.entity,o=c&&!n[r.symbol];return(0,a.jsx)("div",{className:o?"opacity-30":"",children:(0,a.jsx)(H,{color:null!=(t=e.chartStyle.color)?t:"",entity:r,isMultipleEntities:u,oneDayStockPriceChange:m[r.symbol].oneDayChanges,selectedPeriod:l,stockPriceChange:null!=(s=m[r.symbol].periodChanges[l])?s:null},"header-".concat(r.symbol))},e.entity.name+e.entity.symbol)})}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(et,{selectedPeriod:l,setSelectedPeriod:d}),(0,a.jsx)(ee,{entitiesData:g,selectStockSymbol:p,selectedPeriod:l,selectedStockSymbols:n,timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone})]}),(0,a.jsx)("div",{className:"flex flex-col gap-3",children:g.map(e=>(0,a.jsx)("div",{className:c&&!n[e.entity.symbol]?"opacity-30":"",children:(0,a.jsx)(F,{entity:e.entity,multipleEntities:u},"".concat(e.entity.symbol,"-details"))},e.entity.name+e.entity.symbol))})]})}var ea=s(98046),en=s(39489),er=s(4878);let eo=(0,r.memo)(function(e){let{cardAttachment:t}=e,{ASSET_SERVER_URL:s}=(0,en.v)(),{t:n}=(0,T.Bd)("chat"),[o,i]=(0,r.useState)({});(0,r.useEffect)(()=>{var e;let{image_chunk:a}=t,n=a.imageUuid;i(e=>e[n]?e:{...e,[n]:{key:n,intermediateResults:[],isComplete:!1,isModerated:!1}});let r=(null==(e=a.imageUrl)?void 0:e.startsWith("data:"))?a.imageUrl:(0,er.sU)(s,a.imageUrl);r&&null!=a.progress&&i(e=>{let t=e[n]||{key:n,intermediateResults:[],isComplete:!1,isModerated:!1},s={progress:a.progress/100,imageUrl:r,seq:a.seq},o=m().sortBy([...t.intermediateResults,s],"progress");return{...e,[n]:{...t,intermediateResults:o,isComplete:a.progress>=100,isModerated:a.progress>=100&&!r}}})},[t,s]);let c=(0,r.useMemo)(()=>Object.values(o).map(e=>{var t;let s=null==(t=e.intermediateResults[e.intermediateResults.length-1])?void 0:t.imageUrl;return{imageKey:e.key,url:s,isModerated:e.isModerated,intermediateResults:e.intermediateResults}}),[o]);return(0,a.jsx)(ea.a,{images:c,ariaLabel:n("image-generation-card.title","Generated Images"),statsigLocation:"image-generation-card",align:"CENTER",size:"LARGE"})}),ei=["tiktok.com","instagram.com"];function ec(e){try{let{hostname:t}=new URL(e.link);if(ei.some(e=>t.includes(e)))return e.thumbnail}catch(e){}return e.original}let el=(0,r.memo)(function(e){let{cardAttachment:t}=e,{t:s}=(0,T.Bd)("chat"),n=t.images.map(e=>({imageKey:e.original,url:ec(e),thumbnail:e.thumbnail,title:e.title,link:e.link}));return(0,a.jsx)(ea.a,{images:n,ariaLabel:s("images-card.title","Images for query: {{query}}",{query:t.query}),statsigLocation:"images-card",canDownload:!1,align:"CENTER",size:"LARGE"})}),ed=(0,r.memo)(function(e){var t;let{cardAttachment:s}=e,n=[{imageKey:s.image.original,url:ec(s.image),thumbnail:s.image.thumbnail,title:s.image.title,link:s.image.link}];return(0,a.jsx)(ea.a,{images:n,ariaLabel:s.image.title,statsigLocation:"image-card",canDownload:!1,align:null!=(t=s.align)?t:"CENTER",size:s.size||"SMALL",caption:s.caption||void 0})});var eg=s(40409);let em={fc:{teams:{ALA:{name:"Deportivo Alav\xe9s",abbreviation:"ALA",logo:"https://abs.twimg.com/grok-sport-cards/fc/laliga/teams/ala/logo",league:"LaLiga"},ATH:{name:"Athletic Club",abbreviation:"ATH",logo:"https://abs.twimg.com/grok-sport-cards/fc/laliga/teams/ath/logo",league:"LaLiga"},ATM:{name:"Atl\xe9tico Madrid",abbreviation:"ATM",logo:"https://abs.twimg.com/grok-sport-cards/fc/laliga/teams/atm/logo",league:"LaLiga"},FCB:{name:"Barcelona",abbreviation:"FCB",logo:"https://abs.twimg.com/grok-sport-cards/fc/laliga/teams/fcb/logo",league:"LaLiga"},CAD:{name:"C\xe1diz",abbreviation:"CAD",nickname:"C\xe1diz",logo:"https://abs.twimg.com/grok-sport-cards/fc/laliga/teams/cad/logo",league:"LaLiga"},CEL:{name:"RC Celta de Vigo",abbreviation:"CEL",logo:"https://abs.twimg.com/grok-sport-cards/fc/laliga/teams/cel/logo",league:"LaLiga"},GET:{name:"Getafe CF",abbreviation:"GET",logo:"https://abs.twimg.com/grok-sport-cards/fc/laliga/teams/get/logo",league:"LaLiga"},GIR:{name:"Girona FC",abbreviation:"GIR",logo:"https://abs.twimg.com/grok-sport-cards/fc/laliga/teams/gir/logo",league:"LaLiga"},GRA:{name:"Granada CF",abbreviation:"GRA",nickname:"Granada",logo:"https://abs.twimg.com/grok-sport-cards/fc/laliga/teams/gra/logo",league:"LaLiga"},LPM:{name:"Las Palmas",abbreviation:"LPM",logo:"https://abs.twimg.com/grok-sport-cards/fc/laliga/teams/lpm/logo",league:"LaLiga"},LEG:{name:"Legan\xe9s",abbreviation:"LEG",logo:"https://abs.twimg.com/grok-sport-cards/fc/laliga/teams/leg/logo",league:"LaLiga"},ESP:{name:"Espanyol",abbreviation:"ESP",logo:"https://abs.twimg.com/grok-sport-cards/fc/laliga/teams/esp/logo",league:"LaLiga"},MLL:{name:"RCD Mallorca",abbreviation:"MLL",logo:"https://abs.twimg.com/grok-sport-cards/fc/laliga/teams/mll/logo",league:"LaLiga"},OSA:{name:"Osasuna",abbreviation:"OSA",logo:"https://abs.twimg.com/grok-sport-cards/fc/laliga/teams/osa/logo",league:"LaLiga"},RAY:{name:"Rayo Vallecano",abbreviation:"RAY",logo:"https://abs.twimg.com/grok-sport-cards/fc/laliga/teams/ray/logo",league:"LaLiga"},BET:{name:"Real Betis",abbreviation:"BET",logo:"https://abs.twimg.com/grok-sport-cards/fc/laliga/teams/bet/logo",league:"LaLiga"},RMA:{name:"Real Madrid",abbreviation:"RMA",logo:"https://abs.twimg.com/grok-sport-cards/fc/laliga/teams/rma/logo",league:"LaLiga"},RSO:{name:"Real Sociedad",abbreviation:"RSO",logo:"https://abs.twimg.com/grok-sport-cards/fc/laliga/teams/rso/logo",league:"LaLiga"},SEV:{name:"Sevilla",abbreviation:"SEV",logo:"https://abs.twimg.com/grok-sport-cards/fc/laliga/teams/sev/logo",league:"LaLiga"},VAL:{name:"Valencia",abbreviation:"VAL",logo:"https://abs.twimg.com/grok-sport-cards/fc/laliga/teams/val/logo",league:"LaLiga"},VIL:{name:"Villarreal",abbreviation:"VIL",logo:"https://abs.twimg.com/grok-sport-cards/fc/laliga/teams/vil/logo",league:"LaLiga"},VLD:{name:"Real Valladolid",abbreviation:"VLD",logo:"https://abs.twimg.com/grok-sport-cards/fc/laliga/teams/vld/logo",league:"LaLiga"},ALM:{name:"UD Almer\xeda",abbreviation:"ALM",nickname:"Almer\xeda",logo:"https://abs.twimg.com/grok-sport-cards/fc/laliga/teams/alm/logo",league:"LaLiga"},ARS:{name:"Arsenal",abbreviation:"ARS",logo:"https://abs.twimg.com/grok-sport-cards/fc/epl/teams/ars/logo",league:"Premier League"},AVL:{name:"Aston Villa",abbreviation:"AVL",logo:"https://abs.twimg.com/grok-sport-cards/fc/epl/teams/avl/logo",league:"Premier League"},BOU:{name:"AFC Bournemouth",abbreviation:"BOU",logo:"https://abs.twimg.com/grok-sport-cards/fc/epl/teams/bou/logo",league:"Premier League"},BRE:{name:"Brentford",abbreviation:"BRE",logo:"https://abs.twimg.com/grok-sport-cards/fc/epl/teams/bre/logo",league:"Premier League"},BHA:{name:"Brighton & Hove Albion",abbreviation:"BHA",logo:"https://abs.twimg.com/grok-sport-cards/fc/epl/teams/bha/logo",league:"Premier League"},CHE:{name:"Chelsea",abbreviation:"CHE",logo:"https://abs.twimg.com/grok-sport-cards/fc/epl/teams/che/logo",league:"Premier League"},CRY:{name:"Crystal Palace",abbreviation:"CRY",logo:"https://abs.twimg.com/grok-sport-cards/fc/epl/teams/cry/logo",league:"Premier League"},EVE:{name:"Everton",abbreviation:"EVE",logo:"https://abs.twimg.com/grok-sport-cards/fc/epl/teams/eve/logo",league:"Premier League"},FUL:{name:"Fulham",abbreviation:"FUL",logo:"https://abs.twimg.com/grok-sport-cards/fc/epl/teams/ful/logo",league:"Premier League"},IPS:{name:"Ipswich Town",abbreviation:"IPS",logo:"https://abs.twimg.com/grok-sport-cards/fc/epl/teams/ips/logo",league:"Premier League"},LEI:{name:"Leicester City",abbreviation:"LEI",logo:"https://abs.twimg.com/grok-sport-cards/fc/epl/teams/lei/logo",league:"Premier League"},LIV:{name:"Liverpool",abbreviation:"LIV",logo:"https://abs.twimg.com/grok-sport-cards/fc/epl/teams/liv/logo",league:"Premier League"},MCI:{name:"Manchester City",abbreviation:"MCI",logo:"https://abs.twimg.com/grok-sport-cards/fc/epl/teams/mci/logo",league:"Premier League"},MUN:{name:"Manchester United",abbreviation:"MUN",logo:"https://abs.twimg.com/grok-sport-cards/fc/epl/teams/mun/logo",league:"Premier League"},NEW:{name:"Newcastle United",abbreviation:"NEW",logo:"https://abs.twimg.com/grok-sport-cards/fc/epl/teams/new/logo",league:"Premier League"},NFO:{name:"Nottingham Forest",abbreviation:"NFO",logo:"https://abs.twimg.com/grok-sport-cards/fc/epl/teams/nfo/logo",league:"Premier League"},SOU:{name:"Southampton",abbreviation:"SOU",logo:"https://abs.twimg.com/grok-sport-cards/fc/epl/teams/sou/logo",league:"Premier League"},TOT:{name:"Tottenham Hotspur",abbreviation:"TOT",logo:"https://abs.twimg.com/grok-sport-cards/fc/epl/teams/tot/logo",league:"Premier League"},WHU:{name:"West Ham United",abbreviation:"WHU",logo:"https://abs.twimg.com/grok-sport-cards/fc/epl/teams/whu/logo",league:"Premier League"},WOL:{name:"Wolverhampton Wanderers",abbreviation:"WOL",logo:"https://abs.twimg.com/grok-sport-cards/fc/epl/teams/wol/logo",league:"Premier League"},"FCB-2":{name:"Bayern M\xfcnchen",abbreviation:"FCB",logo:"https://abs.twimg.com/grok-sport-cards/fc/bundesliga/teams/fcb/logo",league:"Bundesliga"},B04:{name:"Bayer Leverkusen",abbreviation:"B04",logo:"https://abs.twimg.com/grok-sport-cards/fc/bundesliga/teams/b04/logo",league:"Bundesliga"},SGE:{name:"Eintracht Frankfurt",abbreviation:"SGE",logo:"https://abs.twimg.com/grok-sport-cards/fc/bundesliga/teams/sge/logo",league:"Bundesliga"},M05:{name:"Mainz 05",abbreviation:"M05",logo:"https://abs.twimg.com/grok-sport-cards/fc/bundesliga/teams/m05/logo",league:"Bundesliga"},BMG:{name:"Borussia M\xf6nchengladbach",abbreviation:"BMG",logo:"https://abs.twimg.com/grok-sport-cards/fc/bundesliga/teams/bmg/logo",league:"Bundesliga"},RBL:{name:"RB Leipzig",abbreviation:"RBL",logo:"https://abs.twimg.com/grok-sport-cards/fc/bundesliga/teams/rbl/logo",league:"Bundesliga"},SCF:{name:"Freiburg",abbreviation:"SCF",logo:"https://abs.twimg.com/grok-sport-cards/fc/bundesliga/teams/scf/logo",league:"Bundesliga"},FCA:{name:"Augsburg",abbreviation:"FCA",logo:"https://abs.twimg.com/grok-sport-cards/fc/bundesliga/teams/fca/logo",league:"Bundesliga"},WOB:{name:"Wolfsburg",abbreviation:"WOB",logo:"https://abs.twimg.com/grok-sport-cards/fc/bundesliga/teams/wob/logo",league:"Bundesliga"},BVB:{name:"Borussia Dortmund",abbreviation:"BVB",logo:"https://abs.twimg.com/grok-sport-cards/fc/bundesliga/teams/bvb/logo",league:"Bundesliga"},VFB:{name:"VfB Stuttgart",abbreviation:"VFB",logo:"https://abs.twimg.com/grok-sport-cards/fc/bundesliga/teams/vfb/logo",league:"Bundesliga"},SVW:{name:"Werder Bremen",abbreviation:"SVW",logo:"https://abs.twimg.com/grok-sport-cards/fc/bundesliga/teams/svw/logo",league:"Bundesliga"},UNB:{name:"Union Berlin",abbreviation:"UNB",logo:"https://abs.twimg.com/grok-sport-cards/fc/bundesliga/teams/unb/logo",league:"Bundesliga"},TSG:{name:"Hoffenheim",abbreviation:"TSG",logo:"https://abs.twimg.com/grok-sport-cards/fc/bundesliga/teams/tsg/logo",league:"Bundesliga"},STP:{name:"St. Pauli",abbreviation:"STP",logo:"https://abs.twimg.com/grok-sport-cards/fc/bundesliga/teams/stp/logo",league:"Bundesliga"},HEI:{name:"Heidenheim",abbreviation:"HEI",logo:"https://abs.twimg.com/grok-sport-cards/fc/bundesliga/teams/hei/logo",league:"Bundesliga"},BOC:{name:"VfL Bochum",abbreviation:"BOC",logo:"https://abs.twimg.com/grok-sport-cards/fc/bundesliga/teams/boc/logo",league:"Bundesliga"},KSV:{name:"Holstein Kiel",abbreviation:"KSV",logo:"https://abs.twimg.com/grok-sport-cards/fc/bundesliga/teams/ksv/logo",league:"Bundesliga"},INT:{name:"Inter",abbreviation:"INT",logo:"https://abs.twimg.com/grok-sport-cards/fc/seriea/teams/int/logo",league:"Serie A"},NAP:{name:"Napoli",abbreviation:"NAP",logo:"https://abs.twimg.com/grok-sport-cards/fc/seriea/teams/nap/logo",league:"Serie A"},ATA:{name:"Atalanta",abbreviation:"ATA",logo:"https://abs.twimg.com/grok-sport-cards/fc/seriea/teams/ata/logo",league:"Serie A"},BOL:{name:"Bologna",abbreviation:"BOL",logo:"https://abs.twimg.com/grok-sport-cards/fc/seriea/teams/bol/logo",league:"Serie A"},JUV:{name:"Juventus",abbreviation:"JUV",logo:"https://abs.twimg.com/grok-sport-cards/fc/seriea/teams/juv/logo",league:"Serie A"},ROM:{name:"Roma",abbreviation:"ROM",logo:"https://abs.twimg.com/grok-sport-cards/fc/seriea/teams/rom/logo",league:"Serie A"},LAZ:{name:"Lazio",abbreviation:"LAZ",logo:"https://abs.twimg.com/grok-sport-cards/fc/seriea/teams/laz/logo",league:"Serie A"},FIO:{name:"Fiorentina",abbreviation:"FIO",logo:"https://abs.twimg.com/grok-sport-cards/fc/seriea/teams/fio/logo",league:"Serie A"},MIL:{name:"Milan",abbreviation:"MIL",logo:"https://abs.twimg.com/grok-sport-cards/fc/seriea/teams/mil/logo",league:"Serie A"},UDI:{name:"Udinese",abbreviation:"UDI",logo:"https://abs.twimg.com/grok-sport-cards/fc/seriea/teams/udi/logo",league:"Serie A"},TOR:{name:"Torino",abbreviation:"TOR",logo:"https://abs.twimg.com/grok-sport-cards/fc/seriea/teams/tor/logo",league:"Serie A"},GEN:{name:"Genoa",abbreviation:"GEN",logo:"https://abs.twimg.com/grok-sport-cards/fc/seriea/teams/gen/logo",league:"Serie A"},COM:{name:"Como",abbreviation:"COM",logo:"https://abs.twimg.com/grok-sport-cards/fc/seriea/teams/com/logo",league:"Serie A"},HEL:{name:"Verona",abbreviation:"HEL",logo:"https://abs.twimg.com/grok-sport-cards/fc/seriea/teams/hel/logo",league:"Serie A"},CAG:{name:"Cagliari",abbreviation:"CAG",logo:"https://abs.twimg.com/grok-sport-cards/fc/seriea/teams/cag/logo",league:"Serie A"},PAR:{name:"Parma",abbreviation:"PAR",logo:"https://abs.twimg.com/grok-sport-cards/fc/seriea/teams/par/logo",league:"Serie A"},LEC:{name:"Lecce",abbreviation:"LEC",logo:"https://abs.twimg.com/grok-sport-cards/fc/seriea/teams/lec/logo",league:"Serie A"},EMP:{name:"Empoli",abbreviation:"EMP",logo:"https://abs.twimg.com/grok-sport-cards/fc/seriea/teams/emp/logo",league:"Serie A"},VEN:{name:"Venezia",abbreviation:"VEN",logo:"https://abs.twimg.com/grok-sport-cards/fc/seriea/teams/ven/logo",league:"Serie A"},MON:{name:"Monza",abbreviation:"MON",logo:"https://abs.twimg.com/grok-sport-cards/fc/seriea/teams/mon/logo",league:"Serie A"},PSG:{name:"Paris Saint-Germain",abbreviation:"PSG",logo:"https://abs.twimg.com/grok-sport-cards/fc/ligue1/teams/psg/logo",league:"Ligue 1"},ASM:{name:"Monaco",abbreviation:"ASM",logo:"https://abs.twimg.com/grok-sport-cards/fc/ligue1/teams/asm/logo",league:"Ligue 1"},OM:{name:"Marseille",abbreviation:"OM",logo:"https://abs.twimg.com/grok-sport-cards/fc/ligue1/teams/om/logo",league:"Ligue 1"},NIC:{name:"Nice",abbreviation:"NIC",logo:"https://abs.twimg.com/grok-sport-cards/fc/ligue1/teams/nic/logo",league:"Ligue 1"},LIL:{name:"Lille",abbreviation:"LIL",logo:"https://abs.twimg.com/grok-sport-cards/fc/ligue1/teams/lil/logo",league:"Ligue 1"},RCS:{name:"Strasbourg",abbreviation:"RCS",logo:"https://abs.twimg.com/grok-sport-cards/fc/ligue1/teams/rcs/logo",league:"Ligue 1"},LYO:{name:"Lyon",abbreviation:"LYO",logo:"https://abs.twimg.com/grok-sport-cards/fc/ligue1/teams/lyo/logo",league:"Ligue 1"},SBR:{name:"Brest",abbreviation:"SBR",logo:"https://abs.twimg.com/grok-sport-cards/fc/ligue1/teams/sbr/logo",league:"Ligue 1"},RCL:{name:"Lens",abbreviation:"RCL",logo:"https://abs.twimg.com/grok-sport-cards/fc/ligue1/teams/rcl/logo",league:"Ligue 1"},AJA:{name:"Auxerre",abbreviation:"AJA",logo:"https://abs.twimg.com/grok-sport-cards/fc/ligue1/teams/aja/logo",league:"Ligue 1"},TFC:{name:"Toulouse",abbreviation:"TFC",logo:"https://abs.twimg.com/grok-sport-cards/fc/ligue1/teams/tfc/logo",league:"Ligue 1"},REN:{name:"Stade Rennais",abbreviation:"REN",logo:"https://abs.twimg.com/grok-sport-cards/fc/ligue1/teams/ren/logo",league:"Ligue 1"},NAN:{name:"Nantes",abbreviation:"NAN",logo:"https://abs.twimg.com/grok-sport-cards/fc/ligue1/teams/nan/logo",league:"Ligue 1"},ANG:{name:"Angers",abbreviation:"ANG",logo:"https://abs.twimg.com/grok-sport-cards/fc/ligue1/teams/ang/logo",league:"Ligue 1"},SDR:{name:"Reims",abbreviation:"SDR",logo:"https://abs.twimg.com/grok-sport-cards/fc/ligue1/teams/sdr/logo",league:"Ligue 1"},HAC:{name:"Le Havre",abbreviation:"HAC",logo:"https://abs.twimg.com/grok-sport-cards/fc/ligue1/teams/hac/logo",league:"Ligue 1"},STE:{name:"Saint-\xc9tienne",abbreviation:"STE",logo:"https://abs.twimg.com/grok-sport-cards/fc/ligue1/teams/ste/logo",league:"Ligue 1"},"MON-2":{name:"Montpellier",abbreviation:"MON",logo:"https://abs.twimg.com/grok-sport-cards/fc/ligue1/teams/mon/logo",league:"Ligue 1"}}},mlb:{teams:{ATH:{name:"Athletics",abbreviation:"ATH",nickname:"Athletics",logo:"https://abs.twimg.com/grok-sport-cards/mlb/teams/ath/logo",league:"AL West"},AZ:{name:"Arizona Diamondbacks",abbreviation:"AZ",market:"Arizona",nickname:"Diamondbacks",logo:"https://abs.twimg.com/grok-sport-cards/mlb/teams/az/logo",league:"NL West"},ATL:{name:"Atlanta Braves",abbreviation:"ATL",market:"Atlanta",nickname:"Braves",logo:"https://abs.twimg.com/grok-sport-cards/mlb/teams/atl/logo",league:"NL East"},BAL:{name:"Baltimore Orioles",abbreviation:"BAL",market:"Baltimore",nickname:"Orioles",logo:"https://abs.twimg.com/grok-sport-cards/mlb/teams/bal/logo",league:"AL East"},BOS:{name:"Boston Red Sox",abbreviation:"BOS",market:"Boston",nickname:"Red Sox",logo:"https://abs.twimg.com/grok-sport-cards/mlb/teams/bos/logo",league:"AL East"},CHC:{name:"Chicago Cubs",abbreviation:"CHC",market:"Chicago",nickname:"Cubs",logo:"https://abs.twimg.com/grok-sport-cards/mlb/teams/chc/logo",league:"NL Central"},CWS:{name:"Chicago White Sox",abbreviation:"CWS",market:"Chicago",nickname:"White Sox",logo:"https://abs.twimg.com/grok-sport-cards/mlb/teams/cws/logo",league:"AL Central"},CIN:{name:"Cincinnati Reds",abbreviation:"CIN",market:"Cincinnati",nickname:"Reds",logo:"https://abs.twimg.com/grok-sport-cards/mlb/teams/cin/logo",league:"NL Central"},CLE:{name:"Cleveland Guardians",abbreviation:"CLE",market:"Cleveland",nickname:"Guardians",logo:"https://abs.twimg.com/grok-sport-cards/mlb/teams/cle/logo",league:"AL Central"},COL:{name:"Colorado Rockies",abbreviation:"COL",market:"Colorado",nickname:"Rockies",logo:"https://abs.twimg.com/grok-sport-cards/mlb/teams/col/logo",league:"NL West"},DET:{name:"Detroit Tigers",abbreviation:"DET",market:"Detroit",nickname:"Tigers",logo:"https://abs.twimg.com/grok-sport-cards/mlb/teams/det/logo",league:"AL Central"},HOU:{name:"Houston Astros",abbreviation:"HOU",market:"Houston",nickname:"Astros",logo:"https://abs.twimg.com/grok-sport-cards/mlb/teams/hou/logo",league:"AL West"},KCR:{name:"Kansas City Royals",abbreviation:"KCR",market:"Kansas City",nickname:"Royals",logo:"https://abs.twimg.com/grok-sport-cards/mlb/teams/kcr/logo",league:"AL Central"},LAA:{name:"Los Angeles Angels",abbreviation:"LAA",market:"Los Angeles",nickname:"Angels",logo:"https://abs.twimg.com/grok-sport-cards/mlb/teams/laa/logo",league:"AL West"},LAD:{name:"Los Angeles Dodgers",abbreviation:"LAD",market:"Los Angeles",nickname:"Dodgers",logo:"https://abs.twimg.com/grok-sport-cards/mlb/teams/lad/logo",league:"NL West"},MIA:{name:"Miami Marlins",abbreviation:"MIA",market:"Miami",nickname:"Marlins",logo:"https://abs.twimg.com/grok-sport-cards/mlb/teams/mia/logo",league:"NL East"},MIL:{name:"Milwaukee Brewers",abbreviation:"MIL",market:"Milwaukee",nickname:"Brewers",logo:"https://abs.twimg.com/grok-sport-cards/mlb/teams/mil/logo",league:"NL Central"},MIN:{name:"Minnesota Twins",abbreviation:"MIN",market:"Minnesota",nickname:"Twins",logo:"https://abs.twimg.com/grok-sport-cards/mlb/teams/min/logo",league:"AL Central"},NYM:{name:"New York Mets",abbreviation:"NYM",market:"New York",nickname:"Mets",logo:"https://abs.twimg.com/grok-sport-cards/mlb/teams/nym/logo",league:"NL East"},NYY:{name:"New York Yankees",abbreviation:"NYY",market:"New York",nickname:"Yankees",logo:"https://abs.twimg.com/grok-sport-cards/mlb/teams/nyy/logo",league:"AL East"},PHI:{name:"Philadelphia Phillies",abbreviation:"PHI",market:"Philadelphia",nickname:"Phillies",logo:"https://abs.twimg.com/grok-sport-cards/mlb/teams/phi/logo",league:"AL East"},PIT:{name:"Pittsburgh Pirates",abbreviation:"PIT",market:"Pittsburgh",nickname:"Pirates",logo:"https://abs.twimg.com/grok-sport-cards/mlb/teams/pit/logo",league:"NL Central"},SDP:{name:"San Diego Padres",abbreviation:"SDP",market:"San Diego",nickname:"Padres",logo:"https://abs.twimg.com/grok-sport-cards/mlb/teams/sdp/logo",league:"NL West"},SFG:{name:"San Francisco Giants",abbreviation:"SFG",market:"San Francisco",nickname:"Giants",logo:"https://abs.twimg.com/grok-sport-cards/mlb/teams/sfg/logo",league:"NL West"},SEA:{name:"Seattle Mariners",abbreviation:"SEA",market:"Seattle",nickname:"Mariners",logo:"https://abs.twimg.com/grok-sport-cards/mlb/teams/sea/logo",league:"AL West"},STL:{name:"St. Louis Cardinals",abbreviation:"STL",market:"St. Louis",nickname:"Cardinals",logo:"https://abs.twimg.com/grok-sport-cards/mlb/teams/stl/logo",league:"NL Central"},TBR:{name:"Tampa Bay Rays",abbreviation:"TBR",market:"Tampa Bay",nickname:"Rays",logo:"https://abs.twimg.com/grok-sport-cards/mlb/teams/tbr/logo",league:"AL East"},TEX:{name:"Texas Rangers",abbreviation:"TEX",market:"Texas",nickname:"Rangers",logo:"https://abs.twimg.com/grok-sport-cards/mlb/teams/tex/logo",league:"AL West"},TOR:{name:"Toronto Blue Jays",abbreviation:"TOR",market:"Toronto",nickname:"Blue Jays",logo:"https://abs.twimg.com/grok-sport-cards/mlb/teams/tor/logo",league:"AL East"},WSH:{name:"Washington Nationals",abbreviation:"WSH",market:"Washington",nickname:"Nationals",logo:"https://abs.twimg.com/grok-sport-cards/mlb/teams/wsh/logo",league:"NL East"}}},nfl:{teams:{ARI:{name:"Arizona Cardinals",abbreviation:"ARI",market:"Arizona",nickname:"Cardinals",logo:"https://pbs.twimg.com/semantic_core_img/1857199178557894656/meo5LH8O?format=png&name=orig",league:"NFC West"},ATL:{name:"Atlanta Falcons",abbreviation:"ATL",market:"Atlanta",nickname:"Falcons",logo:"https://pbs.twimg.com/semantic_core_img/1857199664455454721/bIT3kByE?format=png&name=orig",league:"NFC South"},BAL:{name:"Baltimore Ravens",abbreviation:"BAL",market:"Baltimore",nickname:"Ravens",logo:"https://pbs.twimg.com/semantic_core_img/1857194578731831296/NmKX9MsJ?format=png&name=orig",league:"AFC North"},BUF:{name:"Buffalo Bills",abbreviation:"BUF",market:"Buffalo",nickname:"Bills",logo:"https://pbs.twimg.com/semantic_core_img/1857199897474174976/KllYZIGz?format=png&name=orig",league:"AFC East"},CAR:{name:"Carolina Panthers",abbreviation:"CAR",market:"Carolina",nickname:"Panthers",logo:"https://pbs.twimg.com/semantic_core_img/1857195084254523392/VySQ_pb9?format=png&name=orig",league:"NFC South"},CHI:{name:"Chicago Bears",abbreviation:"CHI",market:"Chicago",nickname:"Bears",logo:"https://pbs.twimg.com/semantic_core_img/1858950564475797504/jDNT1Z8k?format=png&name=orig",league:"NFC North"},CIN:{name:"Cincinnati Bengals",abbreviation:"CIN",market:"Cincinnati",nickname:"Bengals",logo:"https://pbs.twimg.com/semantic_core_img/1857200092710588416/Zw5jV26o?format=png&name=orig",league:"AFC North"},CLE:{name:"Cleveland Browns",abbreviation:"CLE",market:"Cleveland",nickname:"Browns",logo:"https://pbs.twimg.com/semantic_core_img/1857200271509651456/ygoePEol?format=png&name=orig",league:"AFC North"},DAL:{name:"Dallas Cowboys",abbreviation:"DAL",market:"Dallas",nickname:"Cowboys",logo:"https://pbs.twimg.com/semantic_core_img/1857198847505616896/gsDH2_-y?format=png&name=orig",league:"NFC East"},DEN:{name:"Denver Broncos",abbreviation:"DEN",market:"Denver",nickname:"Broncos",logo:"https://pbs.twimg.com/semantic_core_img/1857196928561254400/898BfYP7?format=png&name=orig",league:"AFC West"},DET:{name:"Detroit Lions",abbreviation:"DET",market:"Detroit",nickname:"Lions",logo:"https://pbs.twimg.com/semantic_core_img/1857197185604997120/zxxvzEYg?format=png&name=orig",league:"NFC North"},GB:{name:"Green Bay Packers",abbreviation:"GB",market:"Green Bay",nickname:"Packers",logo:"https://pbs.twimg.com/semantic_core_img/1857197378974928896/_obcd4uX?format=png&name=orig",league:"NFC North"},HOU:{name:"Houston Texans",abbreviation:"HOU",market:"Houston",nickname:"Texans",logo:"https://pbs.twimg.com/semantic_core_img/1857203766379896832/Y7vssxs-?format=png&name=orig",league:"AFC South"},IND:{name:"Indianapolis Colts",abbreviation:"IND",market:"Indianapolis",nickname:"Colts",logo:"https://pbs.twimg.com/semantic_core_img/1857200825866616832/O7BXZvmx?format=png&name=orig",league:"AFC South"},JAX:{name:"Jacksonville Jaguars",abbreviation:"JAX",market:"Jacksonville",nickname:"Jaguars",logo:"https://pbs.twimg.com/semantic_core_img/1857203984475316224/A_dP9acL?format=png&name=orig",league:"AFC South"},KC:{name:"Kansas City Chiefs",abbreviation:"KC",market:"Kansas City",nickname:"Chiefs",logo:"https://pbs.twimg.com/semantic_core_img/1857204097352380418/eA-VtGTP?format=png&name=orig",league:"AFC West"},LV:{name:"Las Vegas Raiders",abbreviation:"LV",market:"Las Vegas",nickname:"Raiders",logo:"https://pbs.twimg.com/semantic_core_img/1857201697493295105/4K1kevX6?format=png&name=orig",league:"AFC West"},LAC:{name:"Los Angeles Chargers",abbreviation:"LAC",market:"Los Angeles",nickname:"Chargers",logo:"https://pbs.twimg.com/semantic_core_img/1857197937643692032/QsicA8-I?format=png&name=orig",league:"AFC West"},LAR:{name:"Los Angeles Rams",abbreviation:"LAR",market:"Los Angeles",nickname:"Rams",logo:"https://pbs.twimg.com/semantic_core_img/1857202009125834752/hN3HYd8C?format=png&name=orig",league:"NFC West"},MIA:{name:"Miami Dolphins",abbreviation:"MIA",market:"Miami",nickname:"Dolphins",logo:"https://pbs.twimg.com/semantic_core_img/1857204413942607872/rKGGtIHX?format=png&name=orig",league:"AFC East"},MIN:{name:"Minnesota Vikings",abbreviation:"MIN",market:"Minnesota",nickname:"Vikings",logo:"https://pbs.twimg.com/semantic_core_img/1857202255432159232/nohew9qL?format=png&name=orig",league:"NFC North"},NE:{name:"New England Patriots",abbreviation:"NE",market:"New England",nickname:"Patriots",logo:"https://pbs.twimg.com/semantic_core_img/1857204611582496768/2AhhTOAF?format=png&name=orig",league:"AFC East"},NO:{name:"New Orleans Saints",abbreviation:"NO",market:"New Orleans",nickname:"Saints",logo:"https://pbs.twimg.com/semantic_core_img/1857202551684280320/T2zqgPah?format=png&name=orig",league:"NFC South"},NYG:{name:"New York Giants",abbreviation:"NYG",market:"New York",nickname:"Giants",logo:"https://pbs.twimg.com/semantic_core_img/1857198590357082112/4jy6ge32?format=png&name=orig",league:"NFC East"},NYJ:{name:"New York Jets",abbreviation:"NYJ",market:"New York",nickname:"Jets",logo:"https://pbs.twimg.com/semantic_core_img/1858950962259390464/n_t9BK1r?format=png&name=orig",league:"AFC East"},PHI:{name:"Philadelphia Eagles",abbreviation:"PHI",market:"Philadelphia",nickname:"Eagles",logo:"https://pbs.twimg.com/semantic_core_img/1857204825701634048/L-BuoAZC?format=png&name=orig",league:"NFC East"},PIT:{name:"Pittsburgh Steelers",abbreviation:"PIT",market:"Pittsburgh",nickname:"Steelers",logo:"https://pbs.twimg.com/semantic_core_img/1857202773634285568/nvzNSkEJ?format=png&name=orig",league:"AFC North"},SF:{name:"San Francisco 49ers",abbreviation:"SF",market:"San Francisco",nickname:"49ers",logo:"https://pbs.twimg.com/semantic_core_img/1857197690129453056/5AND5ve5?format=png&name=orig",league:"NFC West"},SEA:{name:"Seattle Seahawks",abbreviation:"SEA",market:"Seattle",nickname:"Seahawks",logo:"https://pbs.twimg.com/semantic_core_img/1857203078341996544/_qbhx789?format=png&name=orig",league:"NFC West"},TB:{name:"Tampa Bay Buccaneers",abbreviation:"TB",market:"Tampa Bay",nickname:"Buccaneers",logo:"https://pbs.twimg.com/semantic_core_img/1857203295590215680/es0PKfbf?format=png&name=orig",league:"NFC South"},TEN:{name:"Tennessee Titans",abbreviation:"TEN",market:"Tennessee",nickname:"Titans",logo:"https://pbs.twimg.com/semantic_core_img/1857203522183254017/orDYsGxg?format=png&name=orig",league:"AFC South"},WAS:{name:"Washington Commanders",abbreviation:"WAS",market:"Washington",nickname:"Commanders",logo:"https://pbs.twimg.com/semantic_core_img/1857205032250118144/pm5PbTGs?format=png&name=orig",league:"NFC East"}}},nba:{teams:{ATL:{name:"Atlanta Hawks",abbreviation:"ATL",market:"Atlanta",nickname:"Hawks",logo:"https://pbs.twimg.com/semantic_core_img/1182642108097646592/YwvQGpvZ?format=png&name=orig",league:"East. Conference"},BOS:{name:"Boston Celtics",abbreviation:"BOS",market:"Boston",nickname:"Celtics",logo:"https://pbs.twimg.com/semantic_core_img/1182642107271352321/xqZJBOfE?format=png&name=orig",league:"East. Conference"},BKN:{name:"Brooklyn Nets",abbreviation:"BKN",market:"Brooklyn",nickname:"Nets",logo:"https://pbs.twimg.com/semantic_core_img/1182642107594313728/5-ODNzX7?format=png&name=orig",league:"East. Conference"},CHA:{name:"Charlotte Hornets",abbreviation:"CHA",market:"Charlotte",nickname:"Hornets",logo:"https://pbs.twimg.com/semantic_core_img/1182642108051542017/vMMmRjXQ?format=png&name=orig",league:"East. Conference"},CHI:{name:"Chicago Bulls",abbreviation:"CHI",market:"Chicago",nickname:"Bulls",logo:"https://pbs.twimg.com/semantic_core_img/1182642107338510336/DryAwwM_?format=png&name=orig",league:"East. Conference"},CLE:{name:"Cleveland Cavaliers",abbreviation:"CLE",market:"Cleveland",nickname:"Cavaliers",logo:"https://pbs.twimg.com/semantic_core_img/1182642108210937857/8QBJ17jq?format=png&name=orig",league:"East. Conference"},DAL:{name:"Dallas Mavericks",abbreviation:"DAL",market:"Dallas",nickname:"Mavericks",logo:"https://pbs.twimg.com/semantic_core_img/1182642107850219522/6gOhxKos?format=png&name=orig",league:"West. Conference"},DEN:{name:"Denver Nuggets",abbreviation:"DEN",market:"Denver",nickname:"Nuggets",logo:"https://pbs.twimg.com/semantic_core_img/1182642106906464257/BnqiWFrU?format=png&name=orig",league:"West. Conference"},DET:{name:"Detroit Pistons",abbreviation:"DET",market:"Detroit",nickname:"Pistons",logo:"https://pbs.twimg.com/semantic_core_img/1182642108017999874/DQwGI3Xq?format=png&name=orig",league:"East. Conference"},GSW:{name:"Golden State Warriors",abbreviation:"GSW",market:"Golden State",nickname:"Warriors",logo:"https://pbs.twimg.com/semantic_core_img/1233472032676859904/7iEuu1YA?format=png&name=orig",league:"West. Conference"},HOU:{name:"Houston Rockets",abbreviation:"HOU",market:"Houston",nickname:"Rockets",logo:"https://pbs.twimg.com/semantic_core_img/1182541207123062785/4tKW406g?format=png&name=orig",league:"West. Conference"},IND:{name:"Indiana Pacers",abbreviation:"IND",market:"Indiana",nickname:"Pacers",logo:"https://pbs.twimg.com/semantic_core_img/1182642107854422020/hKY6NL-x?format=png&name=orig",league:"East. Conference"},LAC:{name:"L.A. Clippers",abbreviation:"LAC",market:"L.A.",nickname:"Clippers",logo:"https://pbs.twimg.com/semantic_core_img/1850989171617288192/xHXUI3qs?format=png&name=orig",league:"West. Conference"},LAL:{name:"Los Angeles Lakers",abbreviation:"LAL",market:"Los Angeles",nickname:"Lakers",logo:"https://pbs.twimg.com/semantic_core_img/1182642107720163330/v8MlCOF8?format=png&name=orig",league:"West. Conference"},MEM:{name:"Memphis Grizzlies",abbreviation:"MEM",market:"Memphis",nickname:"Grizzlies",logo:"https://pbs.twimg.com/semantic_core_img/1182642107900551168/unG2FpTJ?format=png&name=orig",league:"West. Conference"},MIA:{name:"Miami Heat",abbreviation:"MIA",market:"Miami",nickname:"Heat",logo:"https://pbs.twimg.com/semantic_core_img/1182542324921798656/nYaJzfvq?format=png&name=orig",league:"East. Conference"},MIL:{name:"Milwaukee Bucks",abbreviation:"MIL",market:"Milwaukee",nickname:"Bucks",logo:"https://pbs.twimg.com/semantic_core_img/1182642106935869440/ksP0qahA?format=png&name=orig",league:"East. Conference"},MIN:{name:"Minnesota Timberwolves",abbreviation:"MIN",market:"Minnesota",nickname:"Timberwolves",logo:"https://pbs.twimg.com/semantic_core_img/1182642107984384000/bU_zZej6?format=png&name=orig",league:"West. Conference"},NOP:{name:"New Orleans Pelicans",abbreviation:"NOP",market:"New Orleans",nickname:"Pelicans",logo:"https://pbs.twimg.com/semantic_core_img/1182642106604519424/6bElZ1DO?format=png&name=orig",league:"West. Conference"},NYK:{name:"New York Knicks",abbreviation:"NYK",market:"New York",nickname:"Knicks",logo:"https://pbs.twimg.com/semantic_core_img/1182642107648839681/SrXUC-3l?format=png&name=orig",league:"East. Conference"},OKC:{name:"Oklahoma City Thunder",abbreviation:"OKC",market:"Oklahoma City",nickname:"Thunder",logo:"https://pbs.twimg.com/semantic_core_img/1182642108110237697/k_sKDnWN?format=png&name=orig",league:"West. Conference"},ORL:{name:"Orlando Magic",abbreviation:"ORL",market:"Orlando",nickname:"Magic",logo:"https://pbs.twimg.com/semantic_core_img/1182642106554126336/AtXCLO3l?format=png&name=orig",league:"East. Conference"},PHI:{name:"Philadelphia 76ers",abbreviation:"PHI",market:"Philadelphia",nickname:"76ers",logo:"https://pbs.twimg.com/semantic_core_img/1182642107208462336/DoliTnoL?format=png&name=orig",league:"East. Conference"},PHX:{name:"Phoenix Suns",abbreviation:"PHX",market:"Phoenix",nickname:"Suns",logo:"https://pbs.twimg.com/semantic_core_img/1182642108051542016/zViQffO8?format=png&name=orig",league:"West. Conference"},POR:{name:"Portland Trail Blazers",abbreviation:"POR",market:"Portland",nickname:"Trail Blazers",logo:"https://pbs.twimg.com/semantic_core_img/1182642108076707841/weoJZxPz?format=png&name=orig",league:"West. Conference"},SAC:{name:"Sacramento Kings",abbreviation:"SAC",market:"Sacramento",nickname:"Kings",logo:"https://pbs.twimg.com/semantic_core_img/1182642108072517632/ksxSpT-C?format=png&name=orig",league:"West. Conference"},SAS:{name:"San Antonio Spurs",abbreviation:"SAS",market:"San Antonio",nickname:"Spurs",logo:"https://pbs.twimg.com/semantic_core_img/1182540051365814272/F71vUCji?format=png&name=orig",league:"West. Conference"},TOR:{name:"Toronto Raptors",abbreviation:"TOR",market:"Toronto",nickname:"Raptors",logo:"https://pbs.twimg.com/semantic_core_img/1182642107661471746/6n6_lTC1?format=png&name=orig",league:"East. Conference"},UTA:{name:"Utah Jazz",abbreviation:"UTA",market:"Utah",nickname:"Jazz",logo:"https://pbs.twimg.com/semantic_core_img/1850988299080323072/VG5J2xa8?format=png&name=orig",league:"West. Conference"},WAS:{name:"Washington Wizards",abbreviation:"WAS",market:"Washington",nickname:"Wizards",logo:"https://pbs.twimg.com/semantic_core_img/1182642107304951809/tcK5s0os?format=png&name=orig",league:"East. Conference"}}},nhl:{teams:{ANA:{name:"Anaheim Ducks",abbreviation:"ANA",market:"Anaheim",nickname:"Ducks",logo:"https://abs.twimg.com/grok-sport-cards/nhl/teams/ana/logo",league:"Pacific Division"},BOS:{name:"Boston Bruins",abbreviation:"BOS",market:"Boston",nickname:"Bruins",logo:"https://abs.twimg.com/grok-sport-cards/nhl/teams/bos/logo",league:"Atlantic Division"},BUF:{name:"Buffalo Sabres",abbreviation:"BUF",market:"Buffalo",nickname:"Sabres",logo:"https://abs.twimg.com/grok-sport-cards/nhl/teams/buf/logo",league:"Atlantic Division"},CGY:{name:"Calgary Flames",abbreviation:"CGY",market:"Calgary",nickname:"Flames",logo:"https://abs.twimg.com/grok-sport-cards/nhl/teams/cgy/logo",league:"Pacific Division"},CAR:{name:"Carolina Hurricanes",abbreviation:"CAR",market:"Carolina",nickname:"Hurricanes",logo:"https://abs.twimg.com/grok-sport-cards/nhl/teams/car/logo",league:"Metropolitan Division"},CHI:{name:"Chicago Blackhawks",abbreviation:"CHI",market:"Chicago",nickname:"Blackhawks",logo:"https://abs.twimg.com/grok-sport-cards/nhl/teams/chi/logo",league:"Central Division"},COL:{name:"Colorado Avalanche",abbreviation:"COL",market:"Colorado",nickname:"Avalanche",logo:"https://abs.twimg.com/grok-sport-cards/nhl/teams/col/logo",league:"Central Division"},CBJ:{name:"Columbus Blue Jackets",abbreviation:"CBJ",market:"Columbus",nickname:"Blue Jackets",logo:"https://abs.twimg.com/grok-sport-cards/nhl/teams/cbj/logo",league:"Metropolitan Division"},DAL:{name:"Dallas Stars",abbreviation:"DAL",market:"Dallas",nickname:"Stars",logo:"https://abs.twimg.com/grok-sport-cards/nhl/teams/dal/logo",league:"Central Division"},DET:{name:"Detroit Red Wings",abbreviation:"DET",market:"Detroit",nickname:"Red Wings",logo:"https://abs.twimg.com/grok-sport-cards/nhl/teams/det/logo",league:"Atlantic Division"},EDM:{name:"Edmonton Oilers",abbreviation:"EDM",market:"Edmonton",nickname:"Oilers",logo:"https://abs.twimg.com/grok-sport-cards/nhl/teams/edm/logo",league:"Pacific Division"},FLA:{name:"Florida Panthers",abbreviation:"FLA",market:"Florida",nickname:"Panthers",logo:"https://abs.twimg.com/grok-sport-cards/nhl/teams/fla/logo",league:"Atlantic Division"},LAK:{name:"Los Angeles Kings",abbreviation:"LAK",market:"Los Angeles",nickname:"Kings",logo:"https://abs.twimg.com/grok-sport-cards/nhl/teams/lak/logo",league:"Pacific Division"},MIN:{name:"Minnesota Wild",abbreviation:"MIN",market:"Minnesota",nickname:"Wild",logo:"https://abs.twimg.com/grok-sport-cards/nhl/teams/min/logo",league:"Central Division"},MTL:{name:"Montreal Canadiens",abbreviation:"MTL",market:"Montreal",nickname:"Canadiens",logo:"https://abs.twimg.com/grok-sport-cards/nhl/teams/mtl/logo",league:"Atlantic Division"},NSH:{name:"Nashville Predators",abbreviation:"NSH",market:"Nashville",nickname:"Predators",logo:"https://abs.twimg.com/grok-sport-cards/nhl/teams/nsh/logo",league:"Central Division"},NJD:{name:"New Jersey Devils",abbreviation:"NJD",market:"New Jersey",nickname:"Devils",logo:"https://abs.twimg.com/grok-sport-cards/nhl/teams/njd/logo",league:"Metropolitan Division"},NYI:{name:"New York Islanders",abbreviation:"NYI",market:"New York",nickname:"Islanders",logo:"https://abs.twimg.com/grok-sport-cards/nhl/teams/nyi/logo",league:"Metropolitan Division"},NYR:{name:"New York Rangers",abbreviation:"NYR",market:"New York",nickname:"Rangers",logo:"https://abs.twimg.com/grok-sport-cards/nhl/teams/nyr/logo",league:"Metropolitan Division"},OTT:{name:"Ottawa Senators",abbreviation:"OTT",market:"Ottawa",nickname:"Senators",logo:"https://abs.twimg.com/grok-sport-cards/nhl/teams/ott/logo",league:"Atlantic Division"},PHI:{name:"Philadelphia Flyers",abbreviation:"PHI",market:"Philadelphia",nickname:"Flyers",logo:"https://abs.twimg.com/grok-sport-cards/nhl/teams/phi/logo",league:"Metropolitan Division"},PIT:{name:"Pittsburgh Penguins",abbreviation:"PIT",market:"Pittsburgh",nickname:"Penguins",logo:"https://abs.twimg.com/grok-sport-cards/nhl/teams/pit/logo",league:"Metropolitan Division"},SJS:{name:"San Jose Sharks",abbreviation:"SJS",market:"San Jose",nickname:"Sharks",logo:"https://abs.twimg.com/grok-sport-cards/nhl/teams/sjs/logo",league:"Pacific Division"},SEA:{name:"Seattle Kraken",abbreviation:"SEA",market:"Seattle",nickname:"Kraken",logo:"https://abs.twimg.com/grok-sport-cards/nhl/teams/sea/logo",league:"Pacific Division"},STL:{name:"St. Louis Blues",abbreviation:"STL",market:"St. Louis",nickname:"Blues",logo:"https://abs.twimg.com/grok-sport-cards/nhl/teams/stl/logo",league:"Central Division"},TBL:{name:"Tampa Bay Lightning",abbreviation:"TBL",market:"Tampa Bay",nickname:"Lightning",logo:"https://abs.twimg.com/grok-sport-cards/nhl/teams/tbl/logo",league:"Atlantic Division"},TOR:{name:"Toronto Maple Leafs",abbreviation:"TOR",market:"Toronto",nickname:"Maple Leafs",logo:"https://abs.twimg.com/grok-sport-cards/nhl/teams/tor/logo",league:"Atlantic Division"},UTA:{name:"Utah Hockey Club",abbreviation:"UTA",market:"Utah",nickname:"Hockey Club",logo:"https://abs.twimg.com/grok-sport-cards/nhl/teams/uta/logo",league:"Central Division"},VAN:{name:"Vancouver Canucks",abbreviation:"VAN",market:"Vancouver",nickname:"Canucks",logo:"https://abs.twimg.com/grok-sport-cards/nhl/teams/van/logo",league:"Pacific Division"},VGK:{name:"Vegas Golden Knights",abbreviation:"VGK",market:"Vegas",nickname:"Golden Knights",logo:"https://abs.twimg.com/grok-sport-cards/nhl/teams/vgk/logo",league:"Pacific Division"},WSH:{name:"Washington Capitals",abbreviation:"WSH",market:"Washington",nickname:"Capitals",logo:"https://abs.twimg.com/grok-sport-cards/nhl/teams/wsh/logo",league:"Metropolitan Division"},WPG:{name:"Winnipeg Jets",abbreviation:"WPG",market:"Winnipeg",nickname:"Jets",logo:"https://abs.twimg.com/grok-sport-cards/nhl/teams/wpg/logo",league:"Central Division"}}}},ep={NBA:"nba",NFL:"nfl",MLB:"mlb",PGA:"pga",FC:"fc",CFB:"cfb"},eu={[ep.NBA]:{player:!0,team:!0,boxscore:!0,schedule:!0,standing:!0,stat:!0},[ep.NFL]:{player:!0,team:!0,boxscore:!0,schedule:!0,standing:!0,stat:!0},[ep.MLB]:{player:!0,team:!0,boxscore:!0,schedule:!0,standing:!0,stat:!0},[ep.PGA]:{stat:!0},[ep.FC]:{player:!0,team:!0,boxscore:!0,schedule:!0,standing:!0,stat:!0},[ep.CFB]:{}},eh={[ep.NBA]:"Final",[ep.NFL]:"Final",[ep.MLB]:"Final",[ep.FC]:"Full-time"},ef="Live",ek="Half-time",eb="Break",ex={[ep.NBA]:{full:["TEAM","W","L","PCT","GB"],compact:["TEAM","W","L","PCT"],columnsToHighlight:["TEAM","PCT"]},[ep.NFL]:{full:["TEAM","W","L","T","PCT"],compact:["TEAM","W","L","T","PCT"],columnsToHighlight:["TEAM","PCT"]},[ep.MLB]:{full:["TEAM","W","L","PCT","GB"],compact:["TEAM","W","L","PCT"],columnsToHighlight:["TEAM","PCT"]},[ep.FC]:{full:["TEAM","W","PTS","D","L","GD"],compact:["TEAM","W","PTS","D","L"],columnsToHighlight:["TEAM","PTS"]}},ew=Object.freeze({OVERVIEW:{id:"OVERVIEW",label:"Overview"},MATCHES:{id:"GAMES",label:"Games"},STANDINGS:{id:"STANDINGS",label:"Standings"}}),ev="Today",ey="Yesterday",ej="Tomorrow",eN="Upcoming",eC="Completed",eS={"Celta Vigo":"RC Celta de Vigo","Nottm Forest":"Nottingham Forest","Man City":"Manchester City","Man United":"Manchester United",Wolves:"Wolverhampton Wanderers","M'gladbach":"Borussia M\xf6nchengladbach",Rennes:"Stade Rennais"},eI={[ep.FC]:!0},eT={[em.nba.teams.GSW.name]:"transform scale-125"},eE="Grok currently supports La Liga and English Premier League data.";var eR=s(28205),eA=s(80864),e_=s(99463),eO=s(70520);let eP=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],eM=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function eL(e){return new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"numeric"}).format(e)}function eD(e){let t=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(s,"-").concat(a)}function eB(e){let[t="",s="",a=""]=e.split("-"),n=parseInt(t,10),r=parseInt(s,10),o=parseInt(a,10),i=eM[r-1]||"",c=function(e){if(e>=11&&e<=13)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}(o),l="".concat(o).concat(c),d=(n%100).toString().padStart(2,"0");return"".concat(l," ").concat(i,", ").concat(d)}function ez(e){let t=/^(\w{3}) (\d{1,2})\/(\d{1,2})$/,s=/^(\w{3}), (\w{3}) (\d{1,2}), (\d{4})$/,a="",n="",r="";if(t.test(e)){let s=e.match(t);if(!s)throw Error("Invalid date format. Expected format for dateString: Sat 12/5. Got: ".concat(e));[,r,a,n]=s,a=eM[Number(a)-1]}else if(s.test(e)){let t=e.match(s);if(!t)throw Error("Invalid date format. Expected format: Sat, Aug 17, 2024. Got: ".concat(e));[,r,a,n]=t}else throw Error("Invalid date format. Supported formats: Sun 12/5 or Sat, Aug 17, 2024. Got: ".concat(e));let o=Number(n),i=eP.find(e=>e===r);if(!eM.includes(a))throw Error("Invalid month: ".concat(a,". Must be between Jan - Dec."));if(o<1||o>31)throw Error("Invalid day: ".concat(o,". Must be between 1 and 31."));if(!i)throw Error("Invalid weekday: ".concat(r,". Must be one of ").concat(eP.join(",")));let c="".concat(i,", ").concat(a," ").concat(o),l=new Date,d=eL(l),g=new Date(l);g.setHours(g.getHours()+24);let m=eL(g),p=new Date(l);p.setHours(p.getHours()-24);let u=eL(p);return c===d?ev:c===m?ej:c===u?ey:c}function eF(e){let{timeZone:t}=window.Intl.DateTimeFormat().resolvedOptions(),s=new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric",timeZoneName:"short",timeZone:t}).formatToParts(e),a=s.find(e=>"hour"===e.type),n=s.find(e=>"minute"===e.type),r=s.find(e=>"dayPeriod"===e.type),o=s.find(e=>"timeZoneName"===e.type);if(!a||!n||!o||!r)throw Error("Failed to format time for date: ".concat(e.toDateString()));return"".concat(a.value,":").concat(n.value," ").concat(r.value," ").concat(o.value)}function eU(e,t,s,a,n,r){let o="America/New_York",i=Intl.DateTimeFormat("en-US",{timeZoneName:"short",timeZone:o}).formatToParts().find(e=>"timeZoneName"===e.type);if(!i)throw Error("Failed to get timeZoneName for: ".concat(o));return new Date("".concat(e,"/").concat(t,"/").concat(s," ").concat(a,":").concat(n," ").concat(r," ").concat(i.value))}function eV(e,t){for(let s of Object.values(em[e].teams))if(s.name.startsWith(t)||s.name.endsWith(t)||s.abbreviation.startsWith(t)||s.abbreviation.endsWith(t)||s.nickname&&s.nickname.startsWith(t)||s.nickname&&s.nickname.endsWith(t)||t.startsWith(s.name)||t.endsWith(s.name)||t.startsWith(s.abbreviation)||t.endsWith(s.abbreviation)||s.nickname&&t.startsWith(s.nickname)||s.nickname&&t.endsWith(s.nickname))return s;return{name:t,abbreviation:t,market:"",nickname:t,logo:"",league:""}}function eH(e,t,s,a){return{homeTeamBio:"@"===t?a:s,awayTeamBio:"@"===t?s:a}}function eW(e){return(0,eR.c)(e)?ev:(0,eA.P)(e)?ey:(0,e_.e)(e)?ej:eL(e)}function eG(e){let t=eO.xI.lexer(e);if(t.length<=0||!t[0])return{headers:[],rows:[],type:""};let s=t[0];return"table"!==s.type?{headers:[],rows:[],type:s.type}:{headers:s.header.map(e=>e.text),rows:s.rows.map(e=>e.map(e=>e.tokens.length>0?e.tokens[0].text:"")),type:s.type}}function eK(e,t,s){var a,n,r;let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],{headers:i,rows:c}=eG(s),l={},d=[];if(0>i.findIndex(e=>"RANK"===e)){let t=c.every(e=>e.slice(1).every(e=>""===e||"0"===e));c.forEach((s,a)=>{let n=eV(e,eS[s[0]]||s[0]);d.push(n),t||(l[n.name]=a+1)})}else c.forEach(t=>{let s=eV(e,eS[t[1]]||t[1]);d.push(s),l[s.name]=Number(t[0]),t.shift()}),i.shift();let g={CLUB:"TEAM"};for(let e=0;e<i.length;e++){i[e]=(r=g[i[e]]||i[e]).length<=0?"":String(r).charAt(0).toUpperCase()+String(r).slice(1).toLowerCase()}let m=function(e,t,s){let a=e.map(e=>e.toLowerCase()),n=[],r=[];for(let t of s){let s=t.toLowerCase(),o=a.indexOf(s);-1!==o&&e[o]&&(n.push(o),r.push(e[o]))}return{headers:r,rows:t.map(e=>n.map(t=>e[t]).filter(e=>void 0!==e))}}(i,c,null!=(n=null==(a=ex[e])?void 0:a[o?"compact":"full"])?n:[]);return{scope:t,headers:m.headers,rows:m.rows,ranks:l,teamBios:d}}function eq(e){return eh[e]||"Final"}function eX(e,t){if(!t)return"";try{if(e===ep.FC){let e=t.split(" ");if(e.length>0&&e[1])return e[1].substring(0,e[1].length-1)}else if(e===ep.NBA||e===ep.NFL){let e=t.match(/(\d{2}:\d{2}) left in the (\d+)(?:st|nd|rd|th) quarter/);if(e){let t=e[1],s=e[2];return"Q".concat(s," - ").concat(t)}}}catch(e){}return""}function eY(e){let{awayTeamBio:t,awayTeamRecord:s,awayTeamScore:n,dateLabel:r,homeTeamBio:o,homeTeamRecord:i,homeTeamScore:c,isInProgressMatch:l,isUpcomingMatch:d,sport:g,status:m,timeLabel:p,className:u}=e,h=eI[g],f=null;if(d)f=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"font-bold leading-snug text-center",children:p}),(0,a.jsx)("span",{className:"text-secondary leading-snug text-center",children:r})]});else if(l){let e=eX(g,m);f=(0,a.jsxs)(a.Fragment,{children:[""!==e?(0,a.jsx)("span",{className:"font-bold",children:e}):(0,a.jsxs)(a.Fragment,{children:["halftime"===m&&(0,a.jsx)("span",{className:"font-bold text-center",children:ek}),"break"===m&&(0,a.jsx)("span",{className:"font-bold text-center",children:eb})]}),(0,a.jsx)("span",{className:"text-emerald-600 dark:text-emerald-400 text-center",children:ef})]})}else f=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"font-bold text-sm text-center",children:eq(g)}),(0,a.jsx)("span",{className:"font-bold text-sm  text-center",children:p})]});return(0,a.jsxs)("div",{className:"flex flex-col w-full items-center",children:[(0,a.jsxs)("div",{className:(0,eg.A)("sm:hidden flex flex-row justify-center items-center w-full gap-4 pb-4",h?"":"flex-row-reverse"),children:[void 0!==c&&(0,a.jsx)(e$,{record:i,score:c,sport:g}),(0,a.jsx)("div",{className:"flex flex-col items-center",children:f}),void 0!==n&&(0,a.jsx)(e$,{record:s,score:n,sport:g})]}),(0,a.jsxs)("div",{className:(0,eg.A)("flex flex-row items-start justify-stretch w-full self-center flex-1",h?"":"flex-row-reverse",u),children:[(0,a.jsx)(eQ,{sport:g,team:o}),(0,a.jsxs)("div",{className:(0,eg.A)("hidden sm:flex flex-1 justify-center items-center h-full my-auto gap-2",h?"":"flex-row-reverse"),children:[void 0!==c&&(0,a.jsx)(e$,{record:i,score:c,sport:g}),(0,a.jsx)("div",{className:"flex flex-col items-center",children:f}),void 0!==n&&(0,a.jsx)(e$,{record:s,score:n,sport:g})]}),(0,a.jsx)(eQ,{sport:g,team:t})]})]})}function eQ(e){let{sport:t,team:s}=e;return(0,a.jsxs)("div",{className:"flex flex-1 flex-col items-center gap-2",children:[(0,a.jsx)("img",{className:(0,eg.A)("my-2 h-16 object-contain",eT[t],eT[s.name]),src:s.logo,alt:"".concat(s.nickname||s.name," logo")}),(0,a.jsx)("span",{className:"text-center font-bold leading-snug",children:s.nickname?s.nickname:s.name})]})}function e$(e){let{record:t,score:s,sport:n}=e,r={[ep.NBA]:!0};return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center text-center flex-1",children:[(0,a.jsx)("span",{className:"font-extrabold text-3xl",children:s}),r[n]&&t&&(0,a.jsxs)("span",{className:"text-xs text-secondary",children:["(",t,")"]})]})}function eZ(e){let{fcDetails:t}=e,s=eI[ep.FC];return(0,a.jsxs)("div",{className:(0,eg.A)("w-full flex flex-row justify-between py-2",s?"":"flex-row-reverse"),children:[(0,a.jsx)("div",{className:"flex-1 flex flex-col items-center",children:t.homeTeamEvents.map(e=>(0,a.jsx)("span",{className:"text-secondary text-sm text-center leading-snug",children:e},e))}),(0,a.jsx)("div",{className:"hidden sm:flex flex-1 items-center"}),(0,a.jsx)("div",{className:"flex-1 flex flex-col items-center",children:t.awayTeamEvents.map(e=>(0,a.jsx)("span",{className:"text-secondary text-sm text-center leading-snug",children:e},e))})]})}function eJ(e){let t={pts:{playerNames:[],value:Number.NEGATIVE_INFINITY},reb:{playerNames:[],value:Number.NEGATIVE_INFINITY},ast:{playerNames:[],value:Number.NEGATIVE_INFINITY},stl:{playerNames:[],value:Number.NEGATIVE_INFINITY},blk:{playerNames:[],value:Number.NEGATIVE_INFINITY}},s=[];for(let a of e)if("Starters"===a.scope||"Bench"===a.scope){let e=a.headers.findIndex(e=>"NAME"===e),n=a.headers.findIndex(e=>"PTS"===e),r=a.headers.findIndex(e=>"REB"===e),o=a.headers.findIndex(e=>"AST"===e),i=a.headers.findIndex(e=>"STL"===e),c=a.headers.findIndex(e=>"BLK"===e);for(let l of a.rows){let a=l[e],d=Number(l[n]);d===t.pts.value?t.pts.playerNames.push(a):d>t.pts.value&&(t.pts.playerNames=[a],t.pts.value=d);let g=Number(l[r]);g===t.reb.value?t.reb.playerNames.push(a):g>t.reb.value&&(t.reb.playerNames=[a],t.reb.value=g);let m=Number(l[o]);m===t.ast.value?t.ast.playerNames.push(a):m>t.ast.value&&(t.ast.playerNames=[a],t.ast.value=m);let p=Number(l[i]);p===t.stl.value?t.stl.playerNames.push(a):p>t.stl.value&&(t.stl.playerNames=[a],t.stl.value=p);let u=Number(l[c]);u===t.blk.value?t.blk.playerNames.push(a):u>t.blk.value&&(t.blk.playerNames=[a],t.blk.value=u),s.push({name:a,pts:d,reb:g,ast:m,stl:p,blk:u})}}let a=s.reduce((e,t)=>{let s=e.pts+e.reb+e.ast+e.stl+e.blk;return t.pts+t.reb+t.ast+t.stl+t.blk>s?t:e}),n=[];return["pts","reb","ast","stl","blk"].forEach(e=>{("pts"===e||t[e].playerNames.includes(a.name))&&n.push({type:e,value:a[e]})}),{name:a.name,stats:n}}function e0(e){let{onClick:t,seeLessLabel:s,seeMoreLabel:n,showingMore:r,className:o}=e;return(0,a.jsx)(c.$n,{variant:"ghostSecondary",size:"sm",onClick:t,className:"rounded-full ".concat(o),children:r?s:n})}let e1=r.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("table",{ref:t,className:(0,l.cn)("m-0 w-full text-sm",s),...n})});e1.displayName="Table";let e2=r.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("thead",{ref:t,className:(0,l.cn)("sticky top-0 [&_tr]:border-b-0 border-primary/5",s),...n})});e2.displayName="TableHeader";let e3=r.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",s),...n})});e3.displayName="TableBody",r.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...n})}).displayName="TableFooter";let e4=r.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted border-primary/5",s),...n})});e4.displayName="TableRow";let e5=r.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("th",{ref:t,className:(0,l.cn)("px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...n})});e5.displayName="TableHead";let e8=r.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("td",{ref:t,className:(0,l.cn)("px-2 [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...n})});function e6(e){let{defaultRowRangeToShow:t,stickyColIdx:s,headers:n,rows:o,seeLessLabel:i="Show less",seeMoreLabel:c="Show more"}=e,[l,d]=(0,r.useState)(()=>void 0===t?[0,o.length]:[t[0],Math.min(t[1],o.length)]),g=void 0===t||0===o.length||0===t[0]&&Math.min(t[1],o.length)===o.length,m=l[0]<=0&&l[1]>=o.length,p=(0,r.useMemo)(()=>o.slice(...l),[l,o]);return(0,a.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,a.jsx)("div",{className:"flex overflow-x-auto relative no-scrollbar",children:(0,a.jsxs)(e1,{children:[(0,a.jsx)(e2,{children:(0,a.jsx)(e4,{className:"border-t-0 hover:bg-transparent",children:n.map((e,t)=>(0,a.jsx)(e5,{className:(0,eg.A)("truncate text-right text-primary",t===s&&"bg-surface-l1 text-left sticky left-0 z-10"),children:e},t))})}),(0,a.jsx)(e3,{children:p.map((e,t)=>(0,a.jsx)(e4,{className:"hover:bg-transparent",children:e.map((e,t)=>(0,a.jsx)(e8,{className:(0,eg.A)("truncate text-right",t===s&&"bg-surface-l1 text-left sticky left-0 z-10"),children:e},t))},t))})]})}),!g&&(0,a.jsx)(e0,{className:"self-center",onClick:()=>{m&&t?d(t):d([0,o.length])},seeLessLabel:i,seeMoreLabel:c,showingMore:m})]})}function e7(e){let{nbaDetails:t}=e,s=eI[ep.NBA],n=(0,r.useMemo)(()=>t.scoreBreakDownByQuarterTable.headers.map((e,t)=>(0,a.jsx)("span",{className:"font-bold text-sm",children:e},t)),[t.scoreBreakDownByQuarterTable.headers]),o=(0,r.useMemo)(()=>{let e=t.scoreBreakDownByQuarterTable.rows.map(e=>e.map((e,t)=>(0,a.jsx)("span",{className:"text-sm",children:e},t)));return s||(e=e.reverse()),e},[t.scoreBreakDownByQuarterTable.rows,s]);return(0,a.jsxs)("div",{className:"flex flex-col w-full",children:[(0,a.jsxs)("div",{className:"flex flex-row text-sm w-full",children:[(0,a.jsx)(e9,{topPerformer:t.awayTeamTopPerformingPlayer}),(0,a.jsx)("div",{className:"hidden sm:flex flex-1 justify-center",children:(0,a.jsx)(e6,{stickyColIdx:0,headers:n,rows:o})}),(0,a.jsx)(e9,{topPerformer:t.homeTeamTopPerformingPlayer})]}),(0,a.jsx)("div",{className:"flex sm:hidden justify-center w-full pt-4",children:(0,a.jsx)(e6,{stickyColIdx:0,headers:n,rows:o})})]})}function e9(e){let{topPerformer:t,showOneline:s,className:n}=e,o=(0,r.useMemo)(()=>t.stats.slice(0,3),[3,t.stats]),i=(0,r.useMemo)(()=>{let e=t.name.split(" ");return 1===e.length?t.name:e[0]?"".concat(e[0][0],". ").concat(e[e.length-1]):""},[t.name]);return s?(0,a.jsxs)("div",{className:"flex items-center text-sm gap-1 truncate flex-1 h-full",children:[(0,a.jsx)("span",{className:"",children:i}),(0,a.jsx)("span",{className:"text-secondary",children:"•"}),(0,a.jsx)("div",{className:"flex items-center gap-1",children:o.map(e=>(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)("span",{children:e.value}),(0,a.jsx)("span",{className:"text-secondary uppercase",children:e.type})]},e.type))})]}):(0,a.jsxs)("div",{className:(0,eg.A)("flex flex-col items-center justify-start text-sm truncate flex-1 h-full pt-2",n),children:[(0,a.jsx)("span",{className:"w-full truncate text-center",children:i}),(0,a.jsx)("div",{className:"flex flex-col items-center",children:o.map(e=>(0,a.jsxs)("div",{className:"flex flex-row gap-1",children:[(0,a.jsx)("span",{className:"text-secondary leading-snug",children:e.value}),(0,a.jsx)("span",{className:"text-secondary leading-snug uppercase",children:e.type})]},e.type))})]})}function te(e){let{cardAttachment:t}=e,{boxscore:s}=t.visuals,n=eV(t.sport,s.homeTeam.name),i=s.homeTeam.score,c=s.homeTeam.record,l=eV(t.sport,s.awayTeam.name),d=s.awayTeam.score,g=s.awayTeam.record,m=(0,r.useMemo)(()=>{if(t.sport!==ep.FC||!s.events)return null;let e=[],a=[];s.events.forEach(s=>{if("goal"===s.type||"penalty_goal"===s.type){let r=s.minute||"",o=r&&"penalty_goal"===s.type?"".concat(r," (P)"):r,i=s.player||"",c=eV(t.sport,s.team);if(c.name===n.name&&s.player&&s.minute){for(let t of e)if(t.player===i)return void t.goalMinutes.push(o);e.push({player:i,goalMinutes:[o]})}else if(c.name===l.name&&s.player&&s.minute){for(let e of a)if(e.player===i)return void e.goalMinutes.push(o);a.push({player:i,goalMinutes:[o]})}}});let r=[],o=[],i=e=>{let t=e.split(" "),s="";return 1===t.length&&t[0]?t[0]:t[0]?"".concat(t[0][0],". ").concat(t[t.length-1]):""};return e.forEach(e=>{r.push("".concat(i(e.player)," ").concat(e.goalMinutes.join(", ")))}),a.forEach(e=>{o.push("".concat(i(e.player)," ").concat(e.goalMinutes.join(", ")))}),{homeTeamEvents:r,awayTeamEvents:o}},[s.events,t.sport,n.name,l.name]),p=(0,r.useMemo)(()=>{if(t.sport!==ep.NBA||!s.summary)return null;let e=s.homeTeam.playerStats.map(e=>{let{headers:t,rows:s}=eG(e.table);return{scope:e.scope,headers:t,rows:s}}),a=s.awayTeam.playerStats.map(e=>{let{headers:t,rows:s}=eG(e.table);return{scope:e.scope,headers:t,rows:s}}),r=eJ(e),o=eJ(a),i=eG(s.summary||""),c=i.rows.sort((e,s)=>{if(!e[0]||!s[0])return 0;let a=eV(t.sport,e[0]),r=eV(t.sport,s[0]);return a.name===n.name?-1:+(r.name===n.name)});c[0][0]=n.nickname||c[0][0],c[1][0]=l.nickname||c[0][0],i.rows=c;let d={Team:"",Total:""},g=[];return i.headers.forEach(e=>{g.push(void 0!==d[e]?d[e]:e)}),i.headers=g,{homeTeamTopPerformingPlayer:r,awayTeamTopPerformingPlayer:o,scoreBreakDownByQuarterTable:i}},[s.homeTeam,s.awayTeam,s.summary,t.sport,n,l,!1]),u=(0,r.useMemo)(()=>{let e=eB(s.date),t=new Date,a=new Date(t);a.setHours(a.getHours()-24);let n=eB(eD(t)),r=eB(eD(a));return e===n?e=ev:e===r&&(e=ey),e},[s.date]);return(0,a.jsxs)(o.p,{className:"flex flex-col items-center py-6",query:t.query,footer:"fc"===t.sport&&eE,children:[(0,a.jsx)(eY,{awayTeamBio:l,awayTeamRecord:g,awayTeamScore:d,dateLabel:u,homeTeamBio:n,homeTeamRecord:c,homeTeamScore:i,isUpcomingMatch:!1,sport:t.sport}),m&&(0,a.jsx)(eZ,{fcDetails:m}),p&&(0,a.jsx)(e7,{awayTeamBio:l,homeTeamBio:n,nbaDetails:p})]})}e8.displayName="TableCell",r.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",s),...n})}).displayName="TableCaption";let tt={[ep.NBA]:[{key:"age",label:"Age"},{key:"jerseyNumber",label:"Number"},{key:"position",label:"Position"},{key:"heightFeetInches",label:"Height"},{key:"weightLbs",label:"Weight"},{key:"college",label:"College"},{key:"birthplace",label:"Birthplace"}],[ep.NFL]:[{key:"age",label:"Age"},{key:"jerseyNumber",label:"Number"},{key:"position",label:"Position"},{key:"heightFeetInches",label:"Height"},{key:"weightLbs",label:"Weight"},{key:"college",label:"College"},{key:"birthplace",label:"Birthplace"}],[ep.MLB]:[{key:"age",label:"Age"},{key:"jerseyNumber",label:"Number"},{key:"position",label:"Position"},{key:"heightFeetInches",label:"Height"},{key:"weightLbs",label:"Weight"},{key:"college",label:"College"},{key:"birthplace",label:"Birthplace"}],[ep.FC]:[{key:"age",label:"Age"},{key:"jerseyNumber",label:"Number"},{key:"position",label:"Position"},{key:"heightCentimeters",label:"Height"},{key:"weightKgs",label:"Weight"},{key:"birthplace",label:"Birthplace"}]};function ts(e){let{cardAttachment:t}=e,{player:s}=t.visuals,n=r.useMemo(()=>{for(let e of s.stats)if("Regular Season"===e.scope){let{headers:t,rows:s}=eG(e.table);return{scope:e.scope,headers:t,rows:s}}},[s.stats]),i=r.useMemo(()=>{if(t.sport!==ep.FC||!n||n.rows.length<=0)return null;let e=n.rows[n.rows.length-1];if(!e)return null;let s=n.headers.findIndex(e=>"M"===e),a=n.headers.findIndex(e=>"G"===e);return{assists:e[n.headers.findIndex(e=>"A"===e)],goals:e[a],gamesPlayed:e[s]}},[t.sport,n]),c=r.useMemo(()=>{if(t.sport!==ep.NBA||!n||n.rows.length<=0)return null;let e=n.rows[n.rows.length-1];if(!e)return null;let s=n.headers.findIndex(e=>"PTS"===e),a=n.headers.findIndex(e=>"REB"===e),r=n.headers.findIndex(e=>"AST"===e),o=n.headers.findIndex(e=>"FG%"===e),i=n.headers.findIndex(e=>"GP"===e);return{pts:e[s],rebs:e[a],assists:e[r],fgPercentage:e[o],gamesPlayed:e[i]}},[t.sport,n]),l=r.useMemo(()=>{if(t.sport!==ep.MLB||!n||n.rows.length<=0)return null;let e=n.rows[n.rows.length-1];if(!e)return null;let s=n.headers.findIndex(e=>"AVG"===e),a=n.headers.findIndex(e=>"HR"===e),r=n.headers.findIndex(e=>"RBI"===e),o=n.headers.findIndex(e=>"H"===e),i=n.headers.findIndex(e=>"ERA"===e),c=n.headers.findIndex(e=>"SO"===e),l=n.headers.findIndex(e=>"WHIP"===e),d=n.headers.findIndex(e=>"W"===e),g=n.headers.findIndex(e=>"L"===e);return{avg:e[s],hr:e[a],rbi:e[r],hits:e[o],era:e[i],so:e[c],whip:e[l],w:e[d],l:e[g]}},[t.sport,n]),d=r.useMemo(()=>{for(let e=0;e<s.games.length;e++){let{rows:a}=eG(s.games[e].table);if(a.length>0&&void 0!==a[0]){let e=a[0];return eV(t.sport,e[1])}}return null},[s.games,t.sport]),g=r.useMemo(()=>{let e=(e,t)=>{let s={weightLbs:" lbs",weightKgs:" kgs"};return s[e]?"".concat(t).concat(s[e]):t};return tt[t.sport].map(t=>{let{key:a,label:n}=t,r=s.bio[a];return{key:a,label:n,value:r?e(a,r.toString()):"--"}}).filter(e=>void 0!==e.value&&null!==e.value)},[t.sport,s.bio]),m=r.useMemo(()=>{let e=[];if(t.sport===ep.FC)i&&(e.push({key:"games",label:"Games",value:i.gamesPlayed}),e.push({key:"goals",label:"Goals",value:i.goals}),e.push({key:"assists",label:"Assists",value:i.assists}));else if(t.sport===ep.NBA)c&&(e.push({key:"pts",label:"Points",value:c.pts}),e.push({key:"rebounds",label:"Rebounds",value:c.rebs}),e.push({key:"assists",label:"Assists",value:c.assists}),e.push({key:"fgPercentage",label:"FG%",value:c.fgPercentage}));else if(t.sport===ep.MLB&&l){let t=g.find(e=>"position"===e.key);t&&"P"===t.value?(e.push({key:"record",label:"Record",value:"".concat(l.w,"-").concat(l.l)}),e.push({key:"era",label:"ERA",value:l.era}),e.push({key:"so",label:"SO",value:l.so}),e.push({key:"whip",label:"WHIP",value:l.whip})):(e.push({key:"avg",label:"Avg",value:l.avg}),e.push({key:"hr",label:"HR",value:l.hr}),e.push({key:"rbi",label:"RBI",value:l.rbi}),e.push({key:"hits",label:"Hits",value:l.hits}))}return e.filter(e=>void 0!==e.value&&null!==e.value)},[c,l,i,t.sport,g]);return(0,a.jsxs)(o.p,{className:"truncate space-y-2 px-4",footer:"fc"===t.sport&&eE,children:[(0,a.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[(0,a.jsx)("span",{className:"font-bold",children:s.bio.usedName}),d&&(0,a.jsxs)("span",{className:"text-secondary",children:["• ",d.name]})]}),m.length>0&&(0,a.jsx)("div",{className:"flex flex-row items-center gap-3 text-sm",children:m.map(e=>(0,a.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center rounded-xl py-1 px-2 bg-card-hover",children:[(0,a.jsx)("span",{className:"font-bold",children:e.value}),(0,a.jsx)("span",{children:e.label})]},e.key))}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-3 md:grid-cols-4 gap-4 text-sm",children:g.map(e=>(0,a.jsxs)("div",{className:"flex flex-col items-start",style:{width:"".concat(Math.floor(25),"%")},children:[(0,a.jsx)("span",{className:"font-bold",children:e.value}),(0,a.jsx)("span",{className:"text-secondary",children:e.label})]},e.key))})]})}var ta=s(4423);function tn(e){let{team:t}=e;return(0,a.jsxs)("div",{className:"flex flex-row items-center flex-1 gap-1",children:[(0,a.jsx)(ta.default,{width:28,height:20,className:"my-0 object-contain h-5",src:t.logo,alt:"".concat(t.name," logo")}),(0,a.jsx)("p",{className:"my-0 text-sm text-left leading-snug flex-1 truncate",children:t.nickname?t.nickname:t.name})]})}function tr(e){let{score:t,isWinner:s}=e;return(0,a.jsxs)("div",{className:"flex flex-row items-center",children:[(0,a.jsx)("div",{className:"opacity-0 w-0 h-0 border-l-4 border-r-4 border-b-8 border-l-transparent border-r-transparent border-primary rotate-90 mr-2 ml-0.5 ".concat(s?"opacity-100":"")}),(0,a.jsx)("span",{className:"text-left text-secondary text-sm leading-snug ".concat(s&&"!text-primary"," "),children:t})]})}function to(e){let{defaultNumMatchesToShow:t,matches:s,seeLessLabel:n,seeMoreLabel:o,sport:i,isInProgressMatches:c}=e,[l,d]=(0,r.useState)(t),g=t>=s.length,m=l>=s.length,p=(0,r.useMemo)(()=>s.slice(0,l),[l,s]),u=eI[i],h=(0,r.useCallback)(e=>{let t="flex flex-row sm:flex-col items-end sm:justify-center text-sm min-w-24 sm:w-28 md:w-40 sm:border-l border-primary/10 sm:pl-3 h-full gap-2 order-first sm:order-2";if(c){let s=eX(i,e.status)||("halftime"===e.status?ek:"break"===e.status?eb:"");return(0,a.jsxs)("div",{className:t,children:[s&&(0,a.jsx)("span",{className:"sm:text-right leading-snug",children:s}),(0,a.jsx)("span",{className:"sm:text-right text-emerald-600 dark:text-emerald-400 leading-snug",children:ef})]})}return void 0==e.homeTeam.score&&void 0==e.awayTeam.score?(0,a.jsxs)("div",{className:t,children:[(0,a.jsx)("span",{className:"sm:text-right leading-snug",children:e.dateLabel}),(0,a.jsx)("span",{className:"sm:text-right text-secondary leading-snug",children:e.timeLabel})]}):(0,a.jsxs)("div",{className:t,children:[(0,a.jsx)("span",{className:"sm:text-right leading-snug",children:eq(i)}),(0,a.jsx)("span",{className:"sm:text-right text-secondary leading-snug",children:e.dateLabel})]})},[c,i]);return(0,a.jsxs)("div",{className:"flex flex-col overflow-hidden",children:[p.length>0&&p.map((e,t)=>(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:items-center py-3",children:[(0,a.jsxs)("div",{className:"flex flex-col items-start gap-2 grow ".concat(u?"":"flex-col-reverse"),children:[(0,a.jsxs)("div",{className:"flex flex-row items-center justify-between w-full flex-1",children:[(0,a.jsx)(tn,{team:e.homeTeam.bio}),void 0!==e.homeTeam.score&&void 0!==e.awayTeam.score&&(0,a.jsx)(tr,{score:Number(e.homeTeam.score),isWinner:Number(e.homeTeam.score)>Number(e.awayTeam.score)})]}),(0,a.jsxs)("div",{className:"flex flex-row items-center justify-between w-full flex-1",children:[(0,a.jsx)(tn,{team:e.awayTeam.bio}),void 0!==e.homeTeam.score&&void 0!==e.awayTeam.score&&(0,a.jsx)(tr,{score:Number(e.awayTeam.score),isWinner:Number(e.awayTeam.score)>Number(e.homeTeam.score)})]})]}),h(e)]},"match-".concat(e.dateLabel,"-").concat(e.homeTeam,"-").concat(e.awayTeam,"-").concat(t))),g?(0,a.jsx)("div",{className:"h-6"}):(0,a.jsx)(e0,{className:"self-center",onClick:()=>d(m?t:s.length),seeLessLabel:n||"Show less",seeMoreLabel:o||"Show more",showingMore:m})]})}function ti(e){let{cardAttachment:t}=e,{schedule:s}=t.visuals,n=(0,r.useMemo)(()=>!s.inProgress||s.inProgress.length<=0?[]:s.inProgress.map(e=>{let s=eV(t.sport,eS[e.homeTeam.name]||e.homeTeam.name),a=eV(t.sport,eS[e.awayTeam.name]||e.awayTeam.name),n=ez(e.date);return{homeTeam:{bio:s,score:e.homeTeam.score},awayTeam:{bio:a,score:e.awayTeam.score},dateLabel:n,status:e.status}}),[t.sport,s.inProgress]),i=(0,r.useMemo)(()=>s.scheduled?s.scheduled.map(e=>{let s=eV(t.sport,eS[e.homeTeam.name]||e.homeTeam.name),a=eV(t.sport,eS[e.awayTeam.name]||e.awayTeam.name),n=function(e,t){let s="".concat(e," ").concat(t).trim(),a=s.match(/^(\w{3}),\s(\w{3})\s(\d{1,2}),\s(\d{4})\s(\d{1,2}):(\d{2})\s?([AP]M)\s?(\w{2})?$/i);if(!a)throw Error('Invalid format. Expected "DDD, MMM D, YYYY h:mm AM/PM TZ". Received: "'.concat(s,'"'));let[,,n,r,o,i,c,l]=a;return eU(eM.indexOf(n)+1,Number(r),Number(o),Number(i),Number(c),l)}(e.date,e.time);return{homeTeam:{bio:s},awayTeam:{bio:a},dateLabel:eW(n),timeLabel:eF(n)}}).slice(0,5):[],[t.sport,s.scheduled]),c=(0,r.useMemo)(()=>s.completed?s.completed.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()).map(e=>{let s=eV(t.sport,eS[e.homeTeam.name]||e.homeTeam.name),a=eV(t.sport,eS[e.awayTeam.name]||e.awayTeam.name),n=ez(e.date);return{homeTeam:{bio:s,score:e.homeTeam.score},awayTeam:{bio:a,score:e.awayTeam.score},dateLabel:n}}).slice(0,5):[],[t.sport,s.completed]);return c.length<=0&&i.length<=0?null:(0,a.jsxs)(o.p,{query:t.query,queryClassName:"ml-0 mt-0",footer:"fc"===t.sport&&eE,children:[n.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"font-bold text-xs text-secondary",children:"In Progress"}),(0,a.jsx)(to,{defaultNumMatchesToShow:3,matches:n,sport:t.sport,isInProgressMatches:!0})]}),i.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"font-bold text-xs text-secondary",children:eN}),(0,a.jsx)(to,{defaultNumMatchesToShow:2,matches:i,sport:t.sport})]}),c.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"font-bold text-xs text-secondary",children:eC}),(0,a.jsx)(to,{defaultNumMatchesToShow:2,matches:c,sport:t.sport})]})]})}function tc(e){let t,{sport:s,standingsWithMetadata:n,team:o}=e,i=(0,r.useMemo)(()=>n.headers.map(e=>{var t;let n=null==(t=ex[s])?void 0:t.columnsToHighlight.includes(e.toUpperCase());return(0,a.jsx)("span",{className:(0,eg.A)("text-secondary",n&&"!text-primary"),children:e},e)}),[n.headers,s]),c=(0,r.useMemo)(()=>n.rows.map((e,t)=>{let r=n.teamBios[t];return r?e.map((e,o)=>{var i;let c=n.headers[o]&&(null==(i=ex[s])?void 0:i.columnsToHighlight.includes(n.headers[o].toUpperCase()));return 0===o?(0,a.jsxs)("div",{className:"flex items-center",children:[n.ranks[r.name]&&(0,a.jsx)("span",{className:"w-4 me-2 font-bold text-primary",children:n.ranks[r.name]}),(0,a.jsx)("img",{className:(0,eg.A)("my-0 mr-2 h-8 inline-flex object-contain w-8",eT[s],eT[r.name]),src:r.logo,alt:"".concat(r.name," logo")}),(0,a.jsx)("span",{className:(0,eg.A)("text-secondary",c&&"!text-primary"),children:e||"--"})]},"".concat(t,"-").concat(o)):(0,a.jsx)("span",{className:(0,eg.A)("text-secondary",c&&"!text-primary"),children:e||"--"},"".concat(t,"-").concat(o))}):[]}),[n.rows,n.ranks,s,n.teamBios,n.headers]);if(s===ep.MLB||s===ep.NFL)t=[0,n.rows.length];else if(o){let e=n.rows.findIndex((e,t)=>{let s=n.teamBios[t];return!!s&&o.name===s.name});t=[Math.max(0,e-1),Math.min(c.length,e+1+1)]}return(0,a.jsx)(e6,{defaultRowRangeToShow:t,stickyColIdx:0,headers:i,rows:c,seeLessLabel:"Show less",seeMoreLabel:"Show more"})}var tl=s(91140);function td(e){let{leagueName:t,standingsWithMetadata:s,teamBio:n}=e,{t:o}=(0,T.Bd)("base"),i=(0,r.useMemo)(()=>{if(s){let e=s.ranks[n.name];if(e)return"".concat(e).concat(function(e){let t=Math.abs(e);if(t%100>=11&&t%100<=13)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}(e))}},[s,n.name]);return(0,a.jsxs)("div",{className:(0,eg.A)("flex flex-col items-start"),children:[(0,a.jsx)("p",{className:"font-bold m-0",children:n.name}),i&&t&&(0,a.jsx)("p",{className:"text-xs text-secondary m-0",children:o("sport-team-position-header.position-in-league","{{position}} in {{leagueName}}",{position:i,leagueName:t,interpolation:{escape:tl.default.sanitize,escapeValue:!0}})})]})}function tg(e){let{cardAttachment:t}=e,{standings:s}=t.visuals,n=(0,r.useMemo)(()=>{for(let e of Object.values(em[t.sport].teams))if(t.answer.text.includes(e.name))return e;return null},[t.sport,t.answer.text]),i=(0,r.useMemo)(()=>{if(s.length<=0||!n)return null;let e=s.find(e=>e.teams.find(e=>e.abbreviation===n.abbreviation));return e?eK(t.sport,e.scope,e.table):null},[s,t.sport,n]);return i?(0,a.jsxs)(o.p,{query:t.query,queryClassName:"ml-0 mt-0",footer:"fc"===t.sport&&eE,children:[n&&(0,a.jsx)(td,{leagueName:i.scope,standingsWithMetadata:i,teamBio:n}),(0,a.jsx)(tc,{sport:t.sport,standingsWithMetadata:i,team:n||void 0})]}):null}function tm(e){let{cardAttachment:t}=e,{table:s}=t.visuals,n=(0,r.useMemo)(()=>eG(s),[s]),i=(0,r.useMemo)(()=>n.headers.map(e=>(0,a.jsx)("span",{className:"font-bold text-xs uppercase",children:e},e)),[n.headers]),c=(0,r.useMemo)(()=>{let e=n.headers.findIndex(e=>"DATE"===e.toUpperCase()),t=n.headers.findIndex(e=>"SEASON"===e.toUpperCase()),s=n.rows;return e>=0?s=n.rows.sort((t,s)=>{let a=new Date(t[e]),n=new Date(s[e]);return a&&n?n.getTime()-a.getTime():0}):t>=0&&(s=n.rows.sort((e,s)=>{let a=e[t],n=s[t];return void 0===a||void 0===n?0:a<n?1:a>n?-1:0})),s.map(e=>e.map(e=>(0,a.jsx)("span",{children:""===e?"-":e},e)))},[n]);return(0,a.jsx)(o.p,{className:"pb-2",query:t.query,footer:"fc"===t.sport&&eE,children:(0,a.jsx)(e6,{defaultRowRangeToShow:[0,3],stickyColIdx:0,headers:i,rows:c,seeLessLabel:"Show less",seeMoreLabel:"Show more"})})}function tp(e){let{tabs:t,selectedTabId:s,onTabClick:n,sport:r}=e,o={[ep.FC]:{[ew.MATCHES.id]:"Matches"}};return(0,a.jsx)("div",{className:"flex flex-row gap-2",children:t.map(e=>{let t=e.id===s,i=e.label;return o[r]&&o[r][e.id]&&(i=o[r][e.id]),(0,a.jsx)(c.$n,{variant:"ghostSecondary",size:"md",onClick:()=>n(e.id),className:(0,eg.A)("px-3",t&&"text-primary bg-button-ghost-hover"),children:i},e.id)})})}function tu(e){let{completedMatches:t,schedule:s,sport:n,className:o}=e,i=(0,r.useMemo)(()=>{let e=null;if(t.length>0&&void 0!==t[0]){let s=t[0];if(e={match:s,isUpcomingMatch:!1},s.dateLabel===ev)return e}return s.length>0&&void 0!==s[0]?{match:s[0],isUpcomingMatch:!0}:e},[t,s]);return i?(0,a.jsx)(eY,{awayTeamBio:i.match.awayTeam.bio,awayTeamScore:i.match.awayTeam.score,dateLabel:i.match.dateLabel,homeTeamBio:i.match.homeTeam.bio,homeTeamScore:i.match.homeTeam.score,isUpcomingMatch:i.isUpcomingMatch,sport:n,timeLabel:i.match.timeLabel||"",className:o}):null}function th(e){let{cardAttachment:t}=e,[s,n]=(0,r.useState)(ew.OVERVIEW.id),{team:i}=t.visuals,c=eV(t.sport,i.bio.name),l=(0,r.useCallback)(e=>e.map(e=>{let[s,a,n,r]=e,o=eV(t.sport,eS[n]||n),{awayTeamBio:i,homeTeamBio:l}=eH(t.sport,a,c,o),d=function(e){var t;let s=e.split(" ");if(!s[0]||!(null==(t=s[1])?void 0:t.includes("-")))throw Error("Invalid score format");let a=s[0],n=s[1].split("-"),r=parseInt(n[0],10),o=parseInt(n[1],10);if(isNaN(r)||isNaN(o))throw Error("Scores are not valid numbers");return{result:a,teamScore:r,otherTeamScore:o}}(r),g=c.name===l.name,m=g?d.teamScore:d.otherTeamScore,p=g?d.otherTeamScore:d.teamScore;return{dateLabel:ez(s),homeTeam:{bio:l,score:m},awayTeam:{bio:i,score:p}}}),[t.sport,c]),d=(0,r.useCallback)(e=>e.map(e=>{let[s,a,n,r]=e,o=eV(t.sport,eS[n]||n),{awayTeamBio:i,homeTeamBio:l}=eH(t.sport,a,c,o),d=function(e,t){let s="".concat(e," ").concat(t).match(/^(\w{3}) (\d{1,2})\/(\d{1,2}) (\d{1,2}):(\d{2}) ([AP]M)$/);if(!s)throw Error("Invalid date format.\n\n      Expected format for dateString: Sat M/D. Got ".concat(e,"\n\n      Expected format for timeString: H:MM TT. Got ").concat(t));let a="America/New_York";if(!Intl.DateTimeFormat("en-US",{timeZoneName:"short",timeZone:a}).formatToParts().find(e=>"timeZoneName"===e.type))throw Error("Failed to get timeZoneName for: ".concat(a));let n=new Date().getFullYear(),[,,r,o,i,c,l]=s;return eU(Number(r),Number(o),n,Number(i),Number(c),l)}(s,r);return{dateLabel:eW(d),timeLabel:eF(d),homeTeam:{bio:l},awayTeam:{bio:i}}}),[t.sport,c]),g=(0,r.useMemo)(()=>i.scores.map(e=>{let{headers:t,rows:s}=eG(e.table),a=l(s);return{scope:e.scope,headers:t,rows:a}}),[l,i.scores]),m=(0,r.useMemo)(()=>{let e=g.find(e=>"Regular Season"===e.scope);return e?(e.rows=e.rows.slice(0,5),e):null},[g]),p=m&&m.rows.length>0,u=(0,r.useMemo)(()=>{let{headers:e,rows:t}=eG(i.schedule.table),s=d(t);return{scope:i.schedule.scope,headers:e,rows:s.slice(0,5)}},[d,i.schedule.scope,i.schedule.table]),h=(0,r.useMemo)(()=>eK(t.sport,i.standings.scope,i.standings.table),[i.standings,t.sport]),f=(0,r.useMemo)(()=>{let e=[];return(p||u.rows.length>0)&&e.push(ew.OVERVIEW),(m&&m.rows.length>0||u.rows.length>0)&&e.push(ew.MATCHES),h.rows.length>0&&e.push(ew.STANDINGS),e},[u,h,p,m]);return(0,a.jsxs)(o.p,{className:"px-4 space-y-4",footer:"fc"===t.sport&&eE,children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-start justify-between gap-2",children:[(0,a.jsx)(td,{leagueName:c.league,standingsWithMetadata:h,teamBio:c}),(0,a.jsx)(tp,{onTabClick:e=>n(e),selectedTabId:s,sport:t.sport,tabs:f})]}),s===ew.OVERVIEW.id&&(0,a.jsx)(tu,{completedMatches:m?m.rows:[],schedule:u.rows,sport:t.sport,teamBio:c,className:"pb-2"}),s===ew.MATCHES.id&&(0,a.jsxs)("div",{className:"flex flex-col gap-4 overflow-hidden",children:[u.rows.length>0&&(0,a.jsxs)("div",{className:"flex flex-col gap-1 overflow-hidden",children:[m&&(0,a.jsx)("span",{className:"text-xs text-primary w-full border-b border-primary/10 pb-2",children:eN}),(0,a.jsx)(to,{defaultNumMatchesToShow:1,matches:u.rows,numIncrementalMatchesToShow:2,searchedTeamName:c.name,seeLessLabel:"Less upcoming",seeMoreLabel:"More upcoming",sport:t.sport})]}),m&&(0,a.jsxs)("div",{className:"flex flex-col gap-1 overflow-hidden",children:[u.rows.length>0&&(0,a.jsx)("span",{className:"text-xs text-primary w-full border-b border-primary/10 pb-2",children:eC}),(0,a.jsx)(to,{defaultNumMatchesToShow:1,matches:m.rows,numIncrementalMatchesToShow:2,searchedTeamName:c.name,seeLessLabel:"Less completed",seeMoreLabel:"More completed",sport:t.sport})]})]}),s===ew.STANDINGS.id&&(0,a.jsx)(tc,{sport:t.sport,standingsWithMetadata:h,team:c})]})}var tf=s(8143);function tk(e){let{cardAttachmentJsons:t}=e;return(null==t?void 0:t.length)?(0,a.jsx)("div",{className:"flex flex-col gap-6",children:t.map((e,t)=>(0,a.jsx)(tb,{cardAttachmentJson:e},t))}):null}function tb(e){let{cardAttachmentJson:t}=e,s=(0,n.h)(),o=s.SHOW_SPORTS_CARDS,i=s.SHOW_FINANCE_CARDS,c=s.SHOW_PLACES_CARDS,l=s.SHOW_IMAGES_CARDS;return(0,r.useMemo)(()=>{let e;try{e=JSON.parse(t)}catch(e){return(0,j.vV)("GrokCard","Failed to parse card data.",{cardAttachmentJson:t}),null}if(o&&"sports_card"===e.cardType){switch(e.variant){case"SportsStatsCard":if(eu[e.sport]&&eu[e.sport].stat)return(0,a.jsx)(tm,{cardAttachment:e});break;case"SportsTeamCard":if(eu[e.sport]&&eu[e.sport].team)return(0,a.jsx)(th,{cardAttachment:e});break;case"SportsPlayerCard":if(eu[e.sport]&&eu[e.sport].player)return(0,a.jsx)(ts,{cardAttachment:e});break;case"SportsBoxscoreCard":if(eu[e.sport]&&eu[e.sport].boxscore)return(0,a.jsx)(te,{cardAttachment:e});break;case"SportsScheduleCard":if(eu[e.sport]&&eu[e.sport].schedule)return(0,a.jsx)(ti,{cardAttachment:e});break;case"SportsStandingsCard":if(eu[e.sport]&&eu[e.sport].standing)return(0,a.jsx)(tg,{cardAttachment:e})}return null}if(i&&"finance_card"===e.cardType&&("SINGLE"===e.variant||"COMPARISON"===e.variant)){let t="SINGLE"===e.variant?N.B.safeParse(e):N.Gp.safeParse(e);return t.success?(0,a.jsx)(es,{cardAttachment:t.data}):((0,j.vV)("GrokCard","Failed to parse finance card data.",{cardAttachment:JSON.stringify(e,null,2),error:JSON.stringify(t.error,null,2)}),null)}if(i&&"finance_card"===e.cardType&&"FINANCIALS"===e.variant){let t=N.BY.safeParse(e);return t.success?(0,a.jsx)(B,{cardAttachment:t.data}):null}if(c&&"places_card"===e.cardType){let t=N.PT.safeParse(e);return t.success?(0,a.jsx)(b,{cardAttachment:t.data}):((0,j.vV)("GrokCard","Failed to parse places card data.",{cardAttachment:JSON.stringify(e,null,2),error:JSON.stringify(t.error,null,2)}),null)}if(l&&"images_card"===e.cardType){let t=N.LQ.safeParse(e);return t.success?(0,a.jsx)(el,{cardAttachment:t.data}):((0,j.vV)("GrokCard","Failed to parse images card data.",{cardAttachment:JSON.stringify(e,null,2),error:JSON.stringify(t.error,null,2)}),null)}else if(l&&"image_card"===e.cardType){let t=N.GF.safeParse(e);return t.success?(0,a.jsx)(ed,{cardAttachment:t.data}):((0,j.vV)("GrokCard","Failed to parse image card data.",{cardAttachment:JSON.stringify(e,null,2),error:JSON.stringify(t.error,null,2)}),null)}else if("image_generation_card"===e.cardType){let t=N.A9.safeParse(e);if(t.success)return(0,a.jsx)(eo,{cardAttachment:t.data});(0,j.vV)("GrokCard","Failed to parse image_generation_card",{cardAttachment:JSON.stringify(e,null,2),error:JSON.stringify(t.error,null,2)})}else if("x_posts_card"===e.cardType){let t=N.Q_.safeParse(e);if(t.success)return(0,a.jsx)("section",{className:"inline-media-container flex flex-col gap-2",children:(0,a.jsx)(y.K0,{xPosts:t.data.xposts})});(0,j.vV)("GrokCard","Failed to parse x_posts_card",{cardAttachment:JSON.stringify(e,null,2),error:JSON.stringify(t.error,null,2)})}else if("x_users_card"===e.cardType){let t=N.rn.safeParse(e);if(t.success)return(0,a.jsx)("section",{className:"inline-media-container flex flex-col gap-2",children:(0,a.jsx)(tf.C$,{xUsers:t.data.xusers})});(0,j.vV)("GrokCard","Failed to parse x_users_card",{cardAttachment:JSON.stringify(e,null,2),error:JSON.stringify(t.error,null,2)})}},[o,i,c,l,t])}},38997:(e,t,s)=>{"use strict";s.d(t,{$X:()=>n,iM:()=>r,jI:()=>o});var a=s(79342);let n=e=>{let{className:t,isDark:s}=e;return s?(0,a.jsxs)("svg",{viewBox:"0 0 92 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[(0,a.jsx)("path",{d:"M82.7365 14.0405V0.652524H84.8705V9.48811L89.3839 4.34643H91.971L87.9108 8.75288L92.0088 14.0405H89.4594L86.1402 9.49707L84.8705 9.48811V14.0405H82.7365Z",fill:"white"}),(0,a.jsx)("path",{d:"M76.2673 14.2646C73.0947 14.2646 71.3762 12.0333 71.3762 9.18315C71.3762 6.31429 73.0947 4.1017 76.2673 4.1017C79.4588 4.1017 81.1583 6.31429 81.1583 9.18315C81.1583 12.0333 79.4588 14.2646 76.2673 14.2646ZM73.6045 9.18315C73.6045 11.3957 74.8132 12.5021 76.2673 12.5021C77.7402 12.5021 78.93 11.3957 78.93 9.18315C78.93 6.97064 77.7402 5.84556 76.2673 5.84556C74.8132 5.84556 73.6045 6.97064 73.6045 9.18315Z",fill:"white"}),(0,a.jsx)("path",{d:"M65.4377 14.0398V5.88326L67.2317 4.34574H71.0464V6.14581H67.5716V14.0398H65.4377Z",fill:"white"}),(0,a.jsx)("path",{d:"M57.2766 14.2876C53.2092 14.2876 50.7841 11.3587 50.7841 7.36482C50.7841 3.33333 53.2958 0.333252 57.3559 0.333252C60.5285 0.333252 62.8513 1.94581 63.3989 4.94596H60.9629C60.604 3.23965 59.1688 2.28337 57.3559 2.28337C54.4288 2.28337 53.1447 4.79591 53.1447 7.36482C53.1447 9.93365 54.4288 12.4275 57.3559 12.4275C60.1508 12.4275 61.3783 10.4211 61.4727 8.75237H57.2615V6.81079H63.6256L63.6152 7.82591C63.6152 11.5979 62.0651 14.2876 57.2766 14.2876Z",fill:"white"}),(0,a.jsx)("path",{d:"M5.57669 14.3937C2.02955 14.3937 0.182842 12.4556 0 10.0421H2.28553C2.55979 11.8522 3.80312 12.5287 5.57669 12.5287C7.25883 12.5287 8.59358 11.9436 8.59358 10.6089C8.59358 9.74952 7.95363 9.09128 6.36291 8.7256L4.36993 8.28678C2.46837 7.84796 0.3474 7.08002 0.3474 4.59337C0.3474 2.27127 2.35866 0.680545 5.30242 0.680545C8.28275 0.680545 10.3123 2.38098 10.4586 4.99562H8.20961C8.02677 3.22205 6.87487 2.52725 5.30242 2.52725C3.67513 2.52725 2.55979 3.2769 2.55979 4.44709C2.55979 5.39787 3.3643 5.92812 4.84532 6.25723L6.85658 6.73262C9.39809 7.29943 10.8608 8.30506 10.8608 10.4626C10.8608 12.9127 8.64843 14.3937 5.57669 14.3937Z",fill:"white"}),(0,a.jsx)("path",{d:"M15.91 14.2657C13.4782 14.2657 12.6554 12.8396 12.6554 10.8283V4.59337H14.7215V10.7186C14.7215 11.7973 15.3432 12.5104 16.4402 12.5104C18.1041 12.5104 18.9269 11.2671 18.9269 9.67638V4.59337H20.993V14.0463H19.0183V12.4373H18.9817C18.3235 13.6989 17.2813 14.2657 15.91 14.2657Z",fill:"white"}),(0,a.jsx)("path",{d:"M22.9674 17.6666V4.59337H25.0335V5.85498H25.0884C25.7466 4.75793 27.0265 4.35567 27.9956 4.35567C30.7748 4.35567 32.2558 6.62292 32.2558 9.3107C32.2558 11.9985 30.7748 14.2657 27.9956 14.2657C27.0265 14.2657 25.7466 13.8635 25.0884 12.7664H25.0335V17.6666H22.9674ZM24.9787 9.3107C24.9787 10.938 25.7283 12.547 27.5385 12.547C29.3852 12.547 30.0983 10.938 30.0983 9.3107C30.0983 7.62855 29.3852 6.05611 27.5385 6.05611C25.7283 6.05611 24.9787 7.62855 24.9787 9.3107Z",fill:"white"}),(0,a.jsx)("path",{d:"M37.9843 14.2657C35.0223 14.2657 33.3401 12.1813 33.3401 9.3107C33.3401 6.36694 35.0223 4.35567 37.8198 4.35567C40.5441 4.35567 42.208 6.20238 42.2994 9.05472L41.4035 9.89579H35.4428C35.6074 11.5779 36.5033 12.5836 37.9843 12.5836C39.0631 12.5836 39.831 12.0168 40.215 10.9746H42.2628C41.7874 13.1504 40.1784 14.2657 37.9843 14.2657ZM35.4977 8.41477H40.2516C40.0322 6.80576 39.0997 5.98297 37.8198 5.98297C36.6496 5.98297 35.7536 6.87889 35.4977 8.41477Z",fill:"white"}),(0,a.jsx)("path",{d:"M43.821 14.0463V6.09267L45.558 4.59337H49.2514V6.34865H45.8871V14.0463H43.821Z",fill:"white"})]}):(0,a.jsxs)("svg",{viewBox:"0 0 92 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[(0,a.jsx)("path",{d:"M82.7365 14.0405V0.652524H84.8705V9.48811L89.3839 4.34643H91.971L87.9108 8.75288L92.0088 14.0405H89.4594L86.1402 9.49707L84.8705 9.48811V14.0405H82.7365Z",fill:"#141414"}),(0,a.jsx)("path",{d:"M76.2673 14.2646C73.0947 14.2646 71.3762 12.0333 71.3762 9.18315C71.3762 6.31429 73.0947 4.1017 76.2673 4.1017C79.4588 4.1017 81.1583 6.31429 81.1583 9.18315C81.1583 12.0333 79.4588 14.2646 76.2673 14.2646ZM73.6045 9.18315C73.6045 11.3957 74.8132 12.5021 76.2673 12.5021C77.7402 12.5021 78.93 11.3957 78.93 9.18315C78.93 6.97064 77.7402 5.84556 76.2673 5.84556C74.8132 5.84556 73.6045 6.97064 73.6045 9.18315Z",fill:"#141414"}),(0,a.jsx)("path",{d:"M65.4377 14.0398V5.88326L67.2317 4.34574H71.0464V6.14581H67.5716V14.0398H65.4377Z",fill:"#141414"}),(0,a.jsx)("path",{d:"M57.2766 14.2876C53.2092 14.2876 50.7841 11.3587 50.7841 7.36482C50.7841 3.33333 53.2958 0.333252 57.3559 0.333252C60.5285 0.333252 62.8513 1.94581 63.3989 4.94596H60.9629C60.604 3.23965 59.1688 2.28337 57.3559 2.28337C54.4288 2.28337 53.1447 4.79591 53.1447 7.36482C53.1447 9.93365 54.4288 12.4275 57.3559 12.4275C60.1508 12.4275 61.3783 10.4211 61.4727 8.75237H57.2615V6.81079H63.6256L63.6152 7.82591C63.6152 11.5979 62.0651 14.2876 57.2766 14.2876Z",fill:"#141414"}),(0,a.jsx)("path",{d:"M5.57669 14.3937C2.02955 14.3937 0.182842 12.4556 0 10.0421H2.28553C2.55979 11.8522 3.80312 12.5287 5.57669 12.5287C7.25883 12.5287 8.59358 11.9436 8.59358 10.6089C8.59358 9.74952 7.95363 9.09128 6.36291 8.7256L4.36993 8.28678C2.46837 7.84796 0.3474 7.08002 0.3474 4.59337C0.3474 2.27127 2.35866 0.680545 5.30242 0.680545C8.28275 0.680545 10.3123 2.38098 10.4586 4.99562H8.20961C8.02677 3.22205 6.87487 2.52725 5.30242 2.52725C3.67513 2.52725 2.55979 3.2769 2.55979 4.44709C2.55979 5.39787 3.3643 5.92812 4.84532 6.25723L6.85658 6.73262C9.39809 7.29943 10.8608 8.30506 10.8608 10.4626C10.8608 12.9127 8.64843 14.3937 5.57669 14.3937Z",fill:"#141414"}),(0,a.jsx)("path",{d:"M15.91 14.2657C13.4782 14.2657 12.6554 12.8396 12.6554 10.8283V4.59337H14.7215V10.7186C14.7215 11.7973 15.3432 12.5104 16.4402 12.5104C18.1041 12.5104 18.9269 11.2671 18.9269 9.67638V4.59337H20.993V14.0463H19.0183V12.4373H18.9817C18.3235 13.6989 17.2813 14.2657 15.91 14.2657Z",fill:"#141414"}),(0,a.jsx)("path",{d:"M22.9674 17.6666V4.59337H25.0335V5.85498H25.0884C25.7466 4.75793 27.0265 4.35567 27.9956 4.35567C30.7748 4.35567 32.2558 6.62292 32.2558 9.3107C32.2558 11.9985 30.7748 14.2657 27.9956 14.2657C27.0265 14.2657 25.7466 13.8635 25.0884 12.7664H25.0335V17.6666H22.9674ZM24.9787 9.3107C24.9787 10.938 25.7283 12.547 27.5385 12.547C29.3852 12.547 30.0983 10.938 30.0983 9.3107C30.0983 7.62855 29.3852 6.05611 27.5385 6.05611C25.7283 6.05611 24.9787 7.62855 24.9787 9.3107Z",fill:"#141414"}),(0,a.jsx)("path",{d:"M37.9843 14.2657C35.0223 14.2657 33.3401 12.1813 33.3401 9.3107C33.3401 6.36694 35.0223 4.35567 37.8198 4.35567C40.5441 4.35567 42.208 6.20238 42.2994 9.05472L41.4035 9.89579H35.4428C35.6074 11.5779 36.5033 12.5836 37.9843 12.5836C39.0631 12.5836 39.831 12.0168 40.215 10.9746H42.2628C41.7874 13.1504 40.1784 14.2657 37.9843 14.2657ZM35.4977 8.41477H40.2516C40.0322 6.80576 39.0997 5.98297 37.8198 5.98297C36.6496 5.98297 35.7536 6.87889 35.4977 8.41477Z",fill:"#141414"}),(0,a.jsx)("path",{d:"M43.821 14.0463V6.09267L45.558 4.59337H49.2514V6.34865H45.8871V14.0463H43.821Z",fill:"#141414"})]})},r=e=>{let{className:t,isDark:s}=e;return(0,a.jsxs)("svg",{width:"248",height:"65",viewBox:"0 0 248 65",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[(0,a.jsx)("g",{filter:"url(#filter0_i_3682_180386)",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M43.7186 27.4612L25.9882 40.5653L51.387 15.0223V15.0451L58.7231 7.7002C58.5911 7.88701 58.4591 8.06926 58.3271 8.25152C52.7522 15.9381 50.0308 19.6971 52.2152 29.1015L52.2016 29.0878C53.7079 35.4895 52.0969 42.5884 46.8952 47.7963C40.3373 54.3666 29.8428 55.8292 21.2006 49.915L27.226 47.122C32.7418 49.2908 38.7763 48.3385 43.1134 43.9963C47.4504 39.6541 48.4243 33.3298 46.2444 28.0672C45.8303 27.0694 44.5879 26.8188 43.7186 27.4612ZM22.4885 23.3422C17.1958 28.6367 16.1263 37.8178 22.3292 43.7502L22.3247 43.7548L5.39062 58.9002C6.45033 57.4391 7.76256 56.0579 9.0738 54.6777L9.07384 54.6777L9.12695 54.6218L9.13789 54.6102C12.8842 50.6683 16.5974 46.7612 14.3287 41.2397C11.2886 33.8447 13.059 25.1785 18.6885 19.5422C24.541 13.6873 33.1605 12.211 40.36 15.1772C41.9529 15.7695 43.3409 16.6125 44.424 17.3962L38.4122 20.1756C32.8146 17.8245 26.4023 19.4238 22.4885 23.3422ZM175.307 45.9806C167.498 45.9806 162.841 40.357 162.841 32.6888C162.841 24.9484 167.664 19.1882 175.459 19.1882C181.551 19.1882 186.01 22.2843 187.062 28.0446H182.385C181.696 24.7685 178.94 22.9325 175.459 22.9325C169.839 22.9325 167.374 27.7565 167.374 32.6888C167.374 37.621 169.839 42.4091 175.459 42.4091C180.826 42.4091 183.182 38.5569 183.364 35.3529H175.278V31.6251H187.497L187.477 33.5741C187.477 40.8163 184.501 45.9806 175.307 45.9806ZM224.19 45.5062V19.8012H228.287V36.7656V45.5062H224.19ZM228.287 36.7656L236.953 26.8935H241.92L234.125 35.3539L241.993 45.5062H237.098L230.725 36.7828L228.287 36.7656ZM211.769 45.9364C205.678 45.9364 202.378 41.6523 202.378 36.18C202.378 30.6718 205.678 26.4237 211.769 26.4237C217.897 26.4237 221.16 30.6718 221.16 36.18C221.16 41.6523 217.897 45.9364 211.769 45.9364ZM206.657 36.18C206.657 40.4282 208.977 42.5524 211.769 42.5524C214.597 42.5524 216.881 40.4282 216.881 36.18C216.881 31.932 214.597 29.7719 211.769 29.7719C208.977 29.7719 206.657 31.932 206.657 36.18ZM190.976 29.8442V45.5049H195.073V30.3483H201.745V26.8922H194.421L190.976 29.8442ZM65.3359 37.8292C65.687 42.4631 69.2327 46.1843 76.0432 46.1843C81.9409 46.1843 86.1887 43.3407 86.1887 38.6366C86.1887 34.4941 83.3803 32.5633 78.5006 31.475L74.6389 30.5623C71.7954 29.9304 70.2507 28.9123 70.2507 27.0868C70.2507 24.84 72.3922 23.4007 75.5166 23.4007C78.5357 23.4007 80.7473 24.7347 81.0984 28.14H85.4164C85.1356 23.1199 81.2388 19.855 75.5166 19.855C69.8646 19.855 66.0029 22.9092 66.0029 27.3677C66.0029 32.142 70.0752 33.6165 73.7262 34.459L77.5527 35.3015C80.6069 36.0037 81.8356 37.2675 81.8356 38.9174C81.8356 41.4801 79.2729 42.6035 76.0432 42.6035C72.6379 42.6035 70.2507 41.3046 69.7242 37.8292H65.3359ZM95.8831 45.9386C91.2141 45.9386 89.6343 43.2003 89.6343 39.3387V27.3677H93.6012V39.1281C93.6012 41.1993 94.7948 42.5684 96.9012 42.5684C100.096 42.5684 101.676 40.1812 101.676 37.127V27.3677H105.642V45.5173H101.851V42.428H101.781C100.517 44.8503 98.516 45.9386 95.8831 45.9386ZM109.433 27.3677V52.4682H113.4V43.0599H113.506C114.769 45.1662 117.227 45.9386 119.087 45.9386C124.423 45.9386 127.267 41.5855 127.267 36.4249C127.267 31.2644 124.423 26.9113 119.087 26.9113C117.227 26.9113 114.769 27.6836 113.506 29.7899H113.4V27.3677H109.433ZM118.21 42.6386C114.734 42.6386 113.295 39.5493 113.295 36.4249C113.295 33.1952 114.734 30.1761 118.21 30.1761C121.755 30.1761 123.125 33.1952 123.125 36.4249C123.125 39.5493 121.755 42.6386 118.21 42.6386ZM138.266 45.9386C132.579 45.9386 129.349 41.9365 129.349 36.4249C129.349 30.7729 132.579 26.9113 137.95 26.9113C143.181 26.9113 146.375 30.457 146.551 35.9334L144.831 37.5483H133.386C133.702 40.778 135.422 42.7088 138.266 42.7088C140.337 42.7088 141.811 41.6206 142.549 39.6195H146.481C145.568 43.7971 142.479 45.9386 138.266 45.9386ZM133.491 34.7047H142.619C142.198 31.6154 140.407 30.0357 137.95 30.0357C135.703 30.0357 133.983 31.7559 133.491 34.7047ZM149.472 30.2463V45.5173H153.439V30.7378H159.899V27.3677H152.807L149.472 30.2463Z",fill:s?"white":"black"})}),(0,a.jsx)("defs",{children:(0,a.jsxs)("filter",{id:"filter0_i_3682_180386",x:"5.39062",y:"7.7002",width:"236.602",height:"51.2",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,a.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,a.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,a.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,a.jsx)("feOffset",{dy:"0.655766"}),(0,a.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,a.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.2 0"}),(0,a.jsx)("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_3682_180386"})]})})]})},o=e=>{let{className:t}=e;return(0,a.jsxs)("svg",{height:32,width:124,viewBox:"0 0 124 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[(0,a.jsx)("g",{filter:"url(#filter0_i_3927_275932)",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.8593 13.4806L12.9941 20.0327L25.6935 7.26115V7.27254L29.3615 3.6001C29.2955 3.6935 29.2296 3.78463 29.1636 3.87576C26.3761 7.71906 25.0154 9.59857 26.1076 14.3007L26.1008 14.2939C26.854 17.4948 26.0485 21.0442 23.4476 23.6482C20.1686 26.9333 14.9214 27.6646 10.6003 24.7075L13.613 23.311C16.3709 24.3954 19.3882 23.9193 21.5567 21.7481C23.7252 19.577 24.2122 16.4149 23.1222 13.7836C22.9151 13.2847 22.2939 13.1594 21.8593 13.4806ZM11.2443 11.4211C8.59788 14.0684 8.06314 18.6589 11.1646 21.6251L11.1623 21.6274L2.69531 29.2001C3.22516 28.4696 3.88128 27.7789 4.5369 27.0889L4.53692 27.0888L4.56347 27.0609L4.56894 27.0551C6.44208 25.0842 8.29869 23.1306 7.16433 20.3698C5.64432 16.6723 6.52948 12.3392 9.34423 9.52111C12.2705 6.59364 16.5802 5.8555 20.18 7.3386C20.9764 7.63477 21.6705 8.05623 22.212 8.44808L19.2061 9.83778C16.4073 8.66223 13.2012 9.46188 11.2443 11.4211ZM87.6548 22.7404C83.7501 22.7404 81.422 19.9286 81.422 16.0945C81.422 12.2243 83.8332 9.34424 87.731 9.34424C90.7766 9.34424 93.0065 10.8923 93.5322 13.7724H91.1936C90.8491 12.1344 89.4713 11.2164 87.731 11.2164C84.9209 11.2164 83.6882 13.6284 83.6882 16.0945C83.6882 18.5606 84.9209 20.9547 87.731 20.9547C90.4141 20.9547 91.5924 19.0286 91.6831 17.4266H87.6403V15.5627H93.7498L93.7399 16.5372C93.7399 20.1583 92.2518 22.7404 87.6548 22.7404ZM112.096 22.5032V9.65074H114.145V18.1329V22.5032H112.096ZM114.145 18.1329L118.478 13.1969H120.961L117.064 17.4271L120.998 22.5032H118.55L115.364 18.1415L114.145 18.1329ZM105.886 22.7183C102.84 22.7183 101.19 20.5763 101.19 17.8401C101.19 15.086 102.84 12.9619 105.886 12.9619C108.95 12.9619 110.581 15.086 110.581 17.8401C110.581 20.5763 108.95 22.7183 105.886 22.7183ZM103.33 17.8401C103.33 19.9642 104.49 21.0263 105.886 21.0263C107.3 21.0263 108.442 19.9642 108.442 17.8401C108.442 15.7161 107.3 14.6361 105.886 14.6361C104.49 14.6361 103.33 15.7161 103.33 17.8401ZM95.4894 14.6722V22.5026H97.538V14.9243H100.874V13.1962H97.2117L95.4894 14.6722ZM32.6693 18.6647C32.8448 20.9817 34.6176 22.8423 38.0229 22.8423C40.9718 22.8423 43.0957 21.4205 43.0957 19.0684C43.0957 16.9972 41.6914 16.0318 39.2516 15.4876L37.3208 15.0313C35.899 14.7153 35.1267 14.2063 35.1267 13.2935C35.1267 12.1701 36.1974 11.4505 37.7596 11.4505C39.2691 11.4505 40.375 12.1175 40.5505 13.8201H42.7095C42.5691 11.3101 40.6207 9.67764 37.7596 9.67764C34.9336 9.67764 33.0028 11.2047 33.0028 13.4339C33.0028 15.8211 35.0389 16.5584 36.8644 16.9796L38.7777 17.4009C40.3048 17.752 40.9191 18.3839 40.9191 19.2088C40.9191 20.4902 39.6378 21.0519 38.0229 21.0519C36.3203 21.0519 35.1267 20.4024 34.8634 18.6647H32.6693ZM47.9429 22.7194C45.6083 22.7194 44.8185 21.3503 44.8185 19.4195V13.4339H46.8019V19.3142C46.8019 20.3498 47.3987 21.0343 48.4519 21.0343C50.0492 21.0343 50.8391 19.8407 50.8391 18.3136V13.4339H52.8225V22.5088H50.9268V20.9641H50.8917C50.2598 22.1753 49.2593 22.7194 47.9429 22.7194ZM54.718 13.4339V25.9842H56.7015V21.2801H56.7541C57.386 22.3332 58.6147 22.7194 59.545 22.7194C62.213 22.7194 63.6348 20.5429 63.6348 17.9626C63.6348 15.3823 62.213 13.2058 59.545 13.2058C58.6147 13.2058 57.386 13.5919 56.7541 14.6451H56.7015V13.4339H54.718ZM59.1062 21.0694C57.3685 21.0694 56.6488 19.5248 56.6488 17.9626C56.6488 16.3477 57.3685 14.8382 59.1062 14.8382C60.879 14.8382 61.5636 16.3477 61.5636 17.9626C61.5636 19.5248 60.879 21.0694 59.1062 21.0694ZM69.1342 22.7194C66.2907 22.7194 64.6758 20.7184 64.6758 17.9626C64.6758 15.1366 66.2907 13.2058 68.9762 13.2058C71.5916 13.2058 73.1889 14.9786 73.2767 17.7168L72.4166 18.5243H66.6944C66.8523 20.1391 67.7124 21.1045 69.1342 21.1045C70.1698 21.1045 70.9071 20.5604 71.2757 19.5599H73.2416C72.7852 21.6487 71.2406 22.7194 69.1342 22.7194ZM66.747 17.1025H71.3108C71.1001 15.5578 70.2049 14.768 68.9762 14.768C67.8529 14.768 66.9928 15.6281 66.747 17.1025ZM74.7374 14.8733V22.5088H76.7209V15.119H79.9506V13.4339H76.4049L74.7374 14.8733Z",fill:"url(#paint0_linear_3927_275932)"})}),(0,a.jsxs)("defs",{children:[(0,a.jsxs)("filter",{id:"filter0_i_3927_275932",x:"2.69531",y:"3.6001",width:"118.301",height:"25.6001",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,a.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,a.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,a.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,a.jsx)("feOffset",{dy:"0.416667"}),(0,a.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,a.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.2 0"}),(0,a.jsx)("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_3927_275932"})]}),(0,a.jsxs)("linearGradient",{id:"paint0_linear_3927_275932",x1:"61.8465",y1:"3.6001",x2:"61.8465",y2:"29.2001",gradientUnits:"userSpaceOnUse",children:[(0,a.jsx)("stop",{stopColor:"white",stopOpacity:"0.9"}),(0,a.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0.5"})]})]})]})}},39188:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});var a=s(79342),n=s(61312),r=s(91140);s(88382);var o=s(65146);function i(e){let{children:t,query:s,queryClassName:i,footer:c,className:l}=e,{t:d}=(0,o.Bd)("base");return(0,a.jsxs)("div",{className:(0,n.cn)("bg-surface-l1 rounded-2xl border border-border-l1 p-3 @md/mainview:-mx-4","animate ease-in-out",l),children:[s&&(0,a.jsx)("div",{className:(0,n.cn)("text-xs text-secondary ml-2 mt-1 mb-2",i),children:d("card.results-for-query",'Results for "{{searchQuery}}"',{searchQuery:s,interpolation:{escape:r.default.sanitize,escapeValue:!0}})}),t,"string"==typeof c?(0,a.jsx)("span",{className:"text-xs text-secondary ms-2 mt-1 mb-2",children:c}):c]})}},39729:(e,t,s)=>{"use strict";s.d(t,{Wu:()=>g,ZB:()=>d,Zp:()=>c,aR:()=>l});var a=s(79342),n=s(17338),r=s(88382),o=s(61312);let i=(0,n.F)("rounded-3xl border text-card-foreground",{variants:{variant:{default:"bg-card",ghost:"bg-transparent"}},defaultVariants:{variant:"default"}}),c=r.forwardRef((e,t)=>{let{className:s,variant:n,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)(i({variant:n}),s),...r})});c.displayName="Card";let l=r.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",s),...n})});l.displayName="CardHeader";let d=r.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("font-semibold leading-none tracking-tight",s),...n})});d.displayName="CardTitle",r.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",s),...n})}).displayName="CardDescription";let g=r.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("p-6 pt-0",s),...n})});g.displayName="CardContent",r.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",s),...n})}).displayName="CardFooter"},39890:(e,t,s)=>{"use strict";s.d(t,{Y:()=>u,m:()=>p});var a=s(61349),n=s(56115),r=s(23232),o=s(24734),i=s(17703),c=s(95158),l=s(56907),d=s(65146),g=s(14908);let m="share-links",p=()=>{var e;let{data:t,fetchNextPage:s,hasNextPage:a,isFetchingNextPage:r,isLoading:o,error:d,refetch:g}=(0,l.qu)({queryKey:[m],queryFn:async e=>{let{pageParam:t}=e;return await c.chatApi.chatListShareLinks({pageSize:"100",pageToken:t})},getNextPageParam:e=>e.nextPageToken||void 0,initialPageParam:void 0,staleTime:0}),p=(null==t||null==(e=t.pages)?void 0:e.flatMap(e=>e.shareLinks||[]))||[],{loadMoreRef:u,historyContainerRef:h}=(0,n.R)({hasNextPage:a,isFetchingNextPage:r,isLoading:o,fetchNextPage:()=>{s().catch(e=>(0,i.vV)("share-links-load-more",e))}});return{shareLinks:p,isLoading:o,error:d,refetch:g,loadMoreRef:u,historyContainerRef:h}},u=()=>{let{t:e}=(0,d.Bd)(),t=(0,a.SX)(),s=(0,o.K)(),n=(0,r._)(),{mutate:p,isPending:u}=(0,l.n_)({mutationFn:async e=>{n("delete-share-link",void 0,{location:"delete-share-link:mutate",shareLinkId:e}),await c.chatApi.chatDeleteShareLink({shareLinkId:e})},onError:t=>{s("delete-share-link",t,e("share-links.delete.error","Failed to delete share link")),(0,i.vV)("delete-share-link",t)},onSuccess:()=>{t.invalidateQueries({queryKey:[m]}),t.invalidateQueries({queryKey:["conversation-share-links"]}),g.oR.success(e("share-links.delete.success","Successfully deleted share link"))}});return{deleteShareLink:p,isPending:u}}},40873:(e,t,s)=>{"use strict";function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";throw Error(e)}function n(e){return null!=e}s.d(t,{O:()=>n,Z:()=>a})},41284:(e,t,s)=>{"use strict";s.d(t,{e:()=>p,n:()=>m});var a=s(79342),n=s(61312),r=s(61389),o=s(4423),i=s(88382);let c=i.forwardRef((e,t)=>{let{className:s,...o}=e;return(0,a.jsx)(r.bL,{ref:t,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full border border-border hover:opacity-75 transition-[opacity,width,height] duration-150",s),...o})});c.displayName=r.bL.displayName;let l=i.forwardRef((e,t)=>{let{className:s,...o}=e;return(0,a.jsx)(r._V,{ref:t,className:(0,n.cn)("aspect-square h-full w-full",s),...o})});l.displayName=r._V.displayName;let d=i.forwardRef((e,t)=>{let{className:s,...o}=e;return(0,a.jsx)(r.H4,{ref:t,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full",s),...o})});d.displayName=r.H4.displayName;let g=e=>{let{user:t,fallbackText:s}=e,a=e=>e.map(e=>null==e?void 0:e[0]).join("").substring(0,2);return a(!t&&s?s.split(" ").slice(0,2):[null==t?void 0:t.givenName,null==t?void 0:t.familyName])},m=e=>{let{className:t,textClassName:s,user:r,fallbackText:l}=e,[m,p]=(0,i.useState)(!1),u=(0,i.useCallback)(()=>{p(!0)},[]),h=(0,i.useMemo)(()=>g({user:r,fallbackText:l}),[r,l]);return(0,a.jsxs)(c,{className:t,children:[(null==r?void 0:r.profileImageUrl)&&!m?(0,a.jsx)(o.default,{unoptimized:!0,src:r.profileImageUrl,alt:"pfp",fill:!0,className:"aspect-square h-full w-full",priority:!0,onError:u}):null,(0,a.jsx)(d,{className:(0,n.cn)("bg-surface-l4 text-fg-primary shadow-sm dark:shadow-none border-border-l1",s),children:h})]})},p=e=>{let{className:t,textClassName:s,user:r,fallbackText:o}=e,m=(0,i.useMemo)(()=>g({user:r,fallbackText:o}),[r,o]);return(0,a.jsxs)(c,{className:t,children:[(0,a.jsx)(l,{src:null==r?void 0:r.profileImageUrl,alt:"pfp"}),(0,a.jsx)(d,{className:(0,n.cn)("bg-surface-l4 text-fg-primary shadow-sm dark:shadow-none border-border-l1",s),children:m})]})}},41887:(e,t,s)=>{"use strict";s.d(t,{N:()=>o});var a=s(88382),n=s(69643),r=s(17703);function o(e,t){let[s,o]=(0,n.M)("responseViewedMap",{}),{ref:i}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{threshold:1},s=(0,a.useRef)(null),[n,r]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let a=new IntersectionObserver(t=>{let[s]=t;s&&s.isIntersecting?(r(!0),e()):r(!1)},t),n=s.current;return n&&a.observe(n),()=>{n&&a.unobserve(n)}},[t,e]),{ref:s,inView:n}}((0,a.useCallback)(()=>{var a,n;"human"!==e.sender&&("closed"===e.state||"error"===e.state||void 0===e.state)&&(s[null!=(a=e.responseId)?a:""]||(o(t=>{var s;return{...t,[null!=(s=e.responseId)?s:""]:!0}}),(0,r.iu)("response_viewed",e.responseId,{location:"use-log-response-viewed",conversationId:null!=t?t:"",responseId:null!=(n=e.responseId)?n:""})))},[e.state,e.responseId,e.sender,s,o,t]));return i}},42143:(e,t,s)=>{"use strict";s.d(t,{F:()=>p});var a=s(79342),n=s(51375),r=s(37469),o=s(61884),i=s(61312),c=s(88382);function l(e){let{children:t,tooltip:s,className:n,...r}=e,[l,d]=(0,c.useState)(!1),g=(0,c.useRef)(null);(0,c.useEffect)(()=>{let e=g.current,t=()=>{e&&d(e.scrollWidth>e.clientWidth)};t();let s=new ResizeObserver(t);return e&&s.observe(e),()=>{e&&s.unobserve(e)}},[t]);let m=(0,a.jsx)("span",{ref:g,className:(0,i.cn)("truncate",n),...r,children:t});return l?(0,a.jsx)(o.Bc,{children:(0,a.jsxs)(o.m_,{children:[(0,a.jsx)(o.k$,{asChild:!0,children:m}),(0,a.jsx)(o.ZI,{children:null!=s?s:t})]})}):m}var d=s(23232),g=s(17703),m=s(87891);function p(e){let{asset:t,className:s,disableEditing:o}=e,[p,u]=(0,c.useState)(!1),h=(0,d._)(),f=(0,c.useRef)(null);(0,c.useEffect)(()=>{if(p&&f.current){var e;f.current.value=null!=(e=t.name)?e:"",f.current.focus(),f.current.setSelectionRange(0,f.current.value.lastIndexOf("."))}},[p]);let k=(0,c.useCallback)(()=>{var e;t.assetId&&(null==(e=f.current)?void 0:e.value)&&(m.R.getState().renameAsset(t.assetId,f.current.value).catch((0,g.HX)("AssetTitle")),u(!1),h("files.rename",f.current.value,{location:"asset-title:submit"}))},[t.assetId,h]),b=(0,c.useCallback)(e=>{e.preventDefault(),k()},[k]),x=p&&!o?(0,a.jsx)("form",{onSubmit:b,className:"w-full",children:(0,a.jsx)("input",{ref:f,type:"text",className:"flex-1 px-1.5 h-8 w-full max-w-[50%] cursor-text hover:bg-border focus-visible:outline-none focus-visible:bg-input-background py-1 rounded-xl no-a11y-check",onBlur:k})}):(0,a.jsx)(l,{className:(0,i.cn)("px-1.5 w-fit max-w-[50%] h-8 cursor-text py-1 outline-border rounded-lg",o?void 0:"hover:bg-border"),onClick:()=>p?u(!1):u(!0),children:t.name});return(0,a.jsxs)("span",{className:(0,i.cn)("flex flex-row items-center w-full gap-1",s),children:[(0,a.jsx)(n.E,{metadata:(0,r.B)(t),className:"rounded-md size-6 [&>img]:h-full [&>img]:w-full bg-transparent"}),x]})}},42419:(e,t,s)=>{"use strict";s.d(t,{L:()=>r});var a=s(17703),n=s(70520);async function r(e){var t;let s=n.xI.parse(e,{async:!1,breaks:!0,gfm:!0}).replace(/\n+$/,""),r=new Blob([s],{type:"text/html"}),o=document.createElement("div");o.innerHTML=s;let i=[new ClipboardItem({"text/plain":new Blob([null!=(t=o.textContent)?t:""],{type:"text/plain"}),"text/html":r})];try{return await navigator.clipboard.write(i),!0}catch(e){return(0,a.vV)("artifact-copyMarkdown",e),!1}}},42423:(e,t,s)=>{"use strict";s.d(t,{an:()=>O,iO:()=>_,sd:()=>T});var a=s(79342),n=s(38614),r=s(69630),o=s(75500),i=s(23232),c=s(41320),l=s(35181),d=s(24734),g=s(61312),m=s(95158),p=s(49972),u=s(56907),h=s(11750),f=s(23054),k=s(84969),b=s(74995),x=s(88382),w=s(65146),v=s(14908),y=s(30388),j=s(65761),N=s(56691),C=s(47127);let S=[],I=()=>(0,a.jsxs)("div",{className:"relative w-8 h-8 flex items-center justify-center filter blur-[1.5px]",children:[(0,a.jsx)(f.P.div,{className:"absolute w-4 h-4 rounded-full bg-opacity-90 shadow-lg",style:{background:"radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.8) 0%, rgba(255, 255, 255, 0) 70%)",boxShadow:"inset 2px 2px 4px rgba(255, 255, 255, 0.5), inset -2px -2px 4px rgba(0, 0, 0, 0.3)"},animate:{background:["radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.8) 0%, rgba(139, 92, 246, 0.8) 50%, rgba(236, 72, 153, 0.8) 100%)","radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.8) 0%, rgba(59, 130, 246, 0.8) 50%, rgba(139, 92, 246, 0.8) 100%)","radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.8) 0%, rgba(139, 92, 246, 0.8) 50%, rgba(59, 130, 246, 0.8) 100%)","radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.8) 0%, rgba(139, 92, 246, 0.8) 50%, rgba(236, 72, 153, 0.8) 100%)"],scale:[1,1.1,1]},transition:{duration:6,ease:"linear",repeat:1/0,times:[0,.33,.66,1]}}),(0,a.jsx)("div",{className:"absolute w-0.5 h-0.5 rounded-full bg-white opacity-5 blur-[2px]",style:{top:"35%",left:"35%"}}),(0,a.jsx)(f.P.div,{className:"absolute w-4 h-4 rounded-full",style:{border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"inset 0 0 5px rgba(255, 255, 255, 0.5)"},animate:{opacity:[.7,.5,.7]},transition:{duration:3,ease:"easeInOut",repeat:1/0}})]});function T(e){let{responseId:t,memoryReferences:s,className:r}=e,{t:l}=(0,w.Bd)("base"),d=(0,o.h)(),g=(0,i._)(),m=(0,n.aP)(b.A("sidePanelContent")),p=(0,c.Di)(),u=(0,x.useMemo)(()=>{if((null==m?void 0:m.type)!=="memoryReferences")return!1;let e=m.data.memoryReferences.map(e=>e.conversationId);return s.every((t,s)=>t.conversationId===e[s])&&s.length===e.length},[m,s]),f=(0,x.useCallback)(()=>{_(()=>{g("open_memory_reference_list",t,{location:"memory"})},s,t)},[s,t,g]);return 0===s.length?null:(0,a.jsx)(N.gx,{"aria-label":l("response-action.referenced-conversations","Referenced Conversations"),tooltipContent:(0,a.jsx)("p",{children:l("response-action.referenced-conversations","Referenced Conversations")}),tooltipContentProps:{side:"bottom"},variant:"ghostSecondary",size:p?"iconMd":"iconSm",rounded:!0,onClick:f,className:r,children:(0,a.jsx)(C.p,{children:d.SHOW_ORB_ICON_MEMORY?(0,a.jsx)(I,{}):u?(0,a.jsx)(h.vP6,{className:"size-4 text-primary"}):(0,a.jsx)(h.vP6,{className:"size-4"})},u?"selected":"not-selected")})}function E(e){let{responseId:t,memoryConversationId:s,onSettled:r,onlyShowOnHover:o}=e,{t:c}=(0,w.Bd)("base"),l=(0,i._)(),g=(0,u.jE)(),p=(0,n.aP)(b.A("conversationId")),f=(0,d.K)(),[k,y]=(0,x.useState)(!1),j=(0,x.useCallback)(e=>{e.stopPropagation(),l("begin_forget_memory_reference",t,{location:"memory",responseId:t,memoryConversationId:s,threadConversationId:null!=p?p:""}),y(!0);let a=setTimeout(()=>{y(!1)},3e3);return()=>clearTimeout(a)},[s,t,p,l]),{mutate:C,isPending:S}=(0,u.n_)({mutationKey:["forget-memory",s],mutationFn:()=>m.chatApi.chatDeleteMemory({conversationIds:[s]}),onError:e=>{y(!1),f("forget-memory",e,c("memory.failed-to-delete-memory","Failed to delete memory"))},onSettled:()=>{y(!1),g.invalidateQueries({queryKey:["memories",t]}).catch(()=>{v.oR.error(c("memory.failed-to-refresh-memory-list","Failed to refresh memory list"))}),null==r||r()}});return(0,a.jsx)(a.Fragment,{children:k?(0,a.jsx)(N.$n,{onClick:e=>{e.stopPropagation(),l("forget_memory_reference",t,{location:"memory",responseId:t,memoryConversationId:s,threadConversationId:null!=p?p:""}),C()},variant:"destructive",rounded:!0,children:S?(0,a.jsx)(h.krw,{className:"size-4 animate-spin"}):c("Confirm","Confirm")}):(0,a.jsx)(N.$n,{className:o?"opacity-0 group-hover:opacity-100 transition-opacity duration-200":"",onClick:j,variant:"secondary",rounded:!0,children:c("Forget","Forget")})})}function R(e){let{memory:t,onClick:s}=e,{convoId:n,convoSummary:r}=t,o=(0,p.w1)(b.A("fetchGetConversation")),i=(0,x.useCallback)(e=>{e.stopPropagation(),s()},[s]),{data:c,isLoading:d,error:m}=(0,l.v)(n?o(n):void 0),u=(0,x.useMemo)(()=>null==r?void 0:r.split("\n").map(e=>e.replace(/^[- ]*/,"")).join("\n"),[r]);return d||m||!c?null:(0,a.jsx)("div",{className:(0,g.cn)("block text-base hover:bg-card-hover rounded-xl focus:outline-none focus-within:outline-none focus-visible:ring-1 focus-visible:ring-ring w-full cursor-pointer"),onClick:i,children:(0,a.jsx)("div",{className:"flex flex-row items-center justify-between gap-4 p-4 group",children:(0,a.jsxs)("div",{className:(0,g.cn)("flex flex-col gap-2 w-full max-w-[600px]"),children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm text-primary",children:c.title||"Untitled Memory"}),(0,a.jsx)("span",{className:"text-secondary text-sm",children:"  •  "}),(0,a.jsx)(j.M,{conversation:c})]}),(0,a.jsx)("div",{className:"max-h-[100px] overflow-hidden pb-4 -mb-4 fade-mask-bottom",children:(0,a.jsx)("p",{className:"mt-1 text-xs text-primary break-words",children:u})})]})})})}function A(e){let{responseId:t,memory:s,onOpen:n,onBack:o}=e,{convoId:i,convoSummary:c}=s,d=(0,p.w1)(b.A("fetchGetConversation")),{data:m,isLoading:u,error:f}=(0,l.v)(i?d(i):void 0),k=(0,x.useMemo)(()=>null==c?void 0:c.split("\n").map(e=>e.replace(/^[- ]*/,"")).join("\n\n"),[c]);return u||f||!m?null:(0,a.jsxs)("div",{className:(0,g.cn)("p-4 max-w-[600px]"),children:[(0,a.jsxs)("div",{className:"flex flex-row items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,a.jsx)(N.$n,{variant:"ghostSecondary",size:"iconSm",onClick:()=>o(),children:(0,a.jsx)(h.A60,{className:"size-4"})}),(0,a.jsx)("div",{className:"group cursor-pointer relative text-sm",onClick:()=>n(),children:(0,a.jsxs)("span",{className:"group-hover:underline flex flex-row items-center gap-1",children:[(0,a.jsx)("span",{className:"line-clamp-1",children:m.title||"Untitled Memory"}),(0,a.jsx)(h.Qqg,{size:22,className:"text-primary rounded-full bg-card p-1 flex-shrink-0"})]})})]}),(0,a.jsx)(E,{responseId:t,memoryConversationId:i,onSettled:()=>{o()}})]}),(0,a.jsx)("div",{className:"p-4 prose dark:prose-invert text-sm",children:(0,a.jsx)(r.Ad,{sender:"",webSearchResults:S,xposts:S,children:null!=k?k:""})})]})}let _=(e,t,s)=>{let{sidePanelContent:a,setSidePanelContent:r}=n.aP.getState();if((null==a?void 0:a.type)==="memoryReferences")return void r(void 0);r({type:"memoryReferences",data:{responseId:s,memoryReferences:t}}),e()};function O(e){let{responseId:t,memoryReferences:s}=e,{t:n}=(0,w.Bd)("base"),r=(0,i._)(),{data:o,isLoading:c,error:l,refetch:d}=(0,u.IT)({queryKey:["memories",t],queryFn:()=>{let e=s.map(e=>e.conversationId).filter(e=>void 0!==e);return m.chatApi.chatGetMemory({body:{conversationIds:e}})}}),[p,b]=(0,x.useState)(null),v=(0,x.useCallback)(e=>{var s;r("open_memory_reference",t,{location:"memory",memoryConversationId:null!=(s=e.convoId)?s:""}),window.open("/c/".concat(e.convoId),"_blank")},[r,t]);if(c)return(0,a.jsx)("div",{className:"flex flex-col items-center px-4 pt-1 pb-2 gap-2",children:(0,a.jsx)(y.d,{})});if(l)return(0,a.jsx)("div",{className:"flex flex-col items-center px-4 pt-1 pb-2 gap-2 w-full",children:(0,a.jsx)(f.P.div,{initial:{translateY:5,opacity:0},animate:{translateY:0,opacity:1},exit:{translateY:5,opacity:0},className:(0,g.cn)("w-fit","p-4 bg-card","shadow-sm","border border-input-border rounded-2xl","ml-4 md:mx-4"),children:(0,a.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[(0,a.jsx)(h.hcu,{className:(0,g.cn)("h-5 w-5 flex-shrink-0")}),(0,a.jsx)("div",{className:"flex-1 max-w-96",children:(0,a.jsx)("div",{className:"text-primary text-sm",children:n("memory.error","Failed to load memories.")})}),(0,a.jsxs)(N.$n,{variant:"secondary",rounded:!0,onClick:()=>{d()},children:[(0,a.jsx)(h.ktO,{className:"me-2 h-4 w-4"}),n("Retry","Retry")]})]})})});if(!o||!o.memories)return(0,a.jsx)("div",{className:"flex flex-col items-center px-4 pt-1 pb-2 gap-2",children:(0,a.jsx)("p",{className:"text-sm text-primary",children:n("memory.no-memories","No memories to display.")})});let j=o.memories;return(0,a.jsx)(k.N,{children:(0,a.jsx)("div",{className:"flex flex-row",children:p?(0,a.jsx)(f.P.div,{initial:{x:200,opacity:0},animate:{x:0,opacity:1},exit:{x:200,opacity:0},transition:{duration:.1},className:"w-full",children:(0,a.jsx)(A,{responseId:t,memory:p,onOpen:()=>v(p),onBack:()=>b(null)})},"memory-detail"):(0,a.jsx)(f.P.div,{initial:{x:-200,opacity:0},animate:{x:0,opacity:1},exit:{x:-200,opacity:0},transition:{duration:.1},className:"flex flex-col items-center px-4 pt-1 pb-2 gap-2 max-w-full",children:j.length>0?null==j?void 0:j.map(e=>(0,a.jsx)(R,{memory:e,onClick:()=>b(null!=e?e:null)},e.convoId)):(0,a.jsx)("p",{className:"text-sm text-primary",children:n("memory.no-memories","No memories to display.")})},"memory-list")})})}},43086:(e,t,s)=>{"use strict";s.d(t,{y:()=>i});var a=s(79342),n=s(61312),r=s(17338);s(88382);let o=(0,r.F)("",{variants:{size:{default:"size-12 border-4",xxs:"size-3 border-[1.5px]",xs:"size-4 border-[2px]",sm:"size-5 border-[2px]",lg:"size-16 border-4"}},defaultVariants:{size:"default"}}),i=e=>{let{className:t,testId:s,size:r,...i}=e;return(0,a.jsx)("div",{className:(0,n.cn)("rounded-full animate-spin border-muted border-b-primary",o({className:t,size:r})),"data-testid":s,...i})};i.displayName="Button"},43317:(e,t,s)=>{"use strict";s.d(t,{N:()=>h});var a=s(79342),n=s(11750),r=s(30388),o=s(52619),i=s(52970),c=s(23054);let l=e=>{let{children:t}=e;return(0,a.jsxs)(c.P.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-[3.5rem] overflow-y-clip flex flex-col justify-start text-white rounded-2xl relative w-full overflow-clip foucs:outline-none focus-within:outline-none",children:[t,(0,a.jsx)(i.D3D,{className:"absolute right-5 top-5 h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200 group-data-[state=open]:rotate-180"})]})};var d=s(61312),g=s(84969),m=s(88382);function p(e){let{thinkingTrace:t="",className:s}=e,n=t.split(/\r?\n/).filter(Boolean),r=Math.min(n.length,12),o=n.slice(-r);return(0,a.jsx)("div",{className:(0,d.cn)("w-full overflow-hidden relative flex flex-col items-start","h-[180px]",s),children:(0,a.jsxs)(g.N,{mode:"popLayout",children:["(",(0,a.jsx)(c.P.div,{layout:"position",initial:{filter:"blur(8px)"},animate:{filter:"blur(0px)"},transition:{duration:1,ease:"easeOut"},className:(0,d.cn)("w-full flex flex-col items-center justify-center relative px-4 h-full","fade-mask"),children:o.map((e,t)=>(0,a.jsx)(c.P.p,{layout:"position",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"w-full text-secondary text-[12px] opacity-90 my-0 flex items-center",transition:{duration:.3,ease:"easeOut"},children:e},n.length-o.length+t))}),")"]})})}var u=s(65146);let h=e=>{let{isThinking:t,startTime:s,endTime:i,sourcesCount:g,open:h,hasError:f,setOpen:k,children:b,thinkingTrace:x,type:w,inlineButtonText:v,onClickShow:y,progressReport:j,deepsearchPreset:N,title:C}=e,{t:S}=(0,u.Bd)("chat"),[I,T]=(0,m.useState)(void 0),E=(0,m.useCallback)(()=>{k(!h)},[h,k]),R=(0,m.useMemo)(()=>s&&i,[s,i]),A=(0,m.useMemo)(()=>s&&i||x&&!s||!t,[s,i,x,t]),_=(0,m.useMemo)(()=>(0,a.jsxs)(a.Fragment,{children:[" ",I&&(0,a.jsx)("span",{className:"font-mono text-secondary font-medium text-sm",children:S("generationTime","{{duration}}s",{duration:I.toFixed(0)})}),!!g&&!t&&(0,a.jsxs)(a.Fragment,{children:[I&&(0,a.jsx)("span",{className:"font-mono text-secondary font-medium text-sm",children:" \xb7 "}),(0,a.jsxs)("span",{className:"text-secondary font-medium text-sm",children:[(0,a.jsx)("span",{className:"font-mono mx-0.5",children:"•"}),(0,a.jsx)("span",{className:"font-mono mx-0.5",children:g}),S("citation sources","Sources")]})]})]}),[I,g,t,S]);(0,m.useEffect)(()=>{if(!s)return;if(!t){s&&i&&T((i-s)/1e3);return}if(i)return void T((i-s)/1e3);let e=setInterval(()=>{T(((i||Date.now())-s)/1e3)},1e3);return()=>clearInterval(e)},[s,i,t]);let O=(0,m.useCallback)(e=>{e.stopPropagation(),null==y||y()},[y]),P=(0,m.useMemo)(()=>{if((null==j?void 0:j.state)==="PROGRESS_REPORT_STATUS_PENDING"&&(null==j?void 0:j.category))return j.category},[j]),M=C||("think"===w?S("model is thinking response title","Thinking"):"deeper"===N?S("deeper search response title","DeeperSearch"):S("deep search response title","DeepSearch"));return(0,a.jsx)(o.nD,{className:"mb-2",type:"single",collapsible:!0,onValueChange:E,value:h?"root":"",children:(0,a.jsxs)(o.As,{className:"md:-mx-4 mb-4 relative border-2 border-toggle-border rounded-3xl overflow-clip",value:"root",children:[(0,a.jsx)(o.Wh,{chevronPosition:"hidden",className:"text-base space-x-1 transition-padding z-30 duration-200 pt-0 focus:outline-none focus-within:outline-none transition-none",children:(0,a.jsxs)(l,{children:[(0,a.jsxs)("div",{className:"flex h-full gap-1 w-full items-center justify-start text-primary px-5 pt-4",children:[t&&(0,a.jsxs)(c.P.div,{className:"flex gap-1 overflow-hidden",initial:{width:0},animate:{width:"auto"},exit:{width:0},children:[(0,a.jsx)(r.d,{state:P}),(0,a.jsxs)("div",{className:"flex items-baseline gap-1 overflow-hidden",children:[!P&&(0,a.jsx)("span",{className:"loading-gradient-text whitespace-nowrap",children:M}),_]})]}),R&&!f&&(0,a.jsx)(c.P.div,{initial:{width:0},animate:{width:"auto"},exit:{width:0},className:"flex items-center gap-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-1 overflow-hidden",children:["think"===w?(0,a.jsx)(n.xmO,{size:16,className:"text-nowrap shrink-0"}):(0,a.jsx)(n.WIv,{size:16,className:"text-primary text-nowrap shrink-0"}),(0,a.jsxs)("div",{className:"flex items-baseline gap-1 overflow-hidden",children:[(0,a.jsx)("span",{className:"text-base text-nowrap whitespace-nowrap",children:S("Thought for","Thought for")}),_]})]})}),A&&(!R||f)&&(0,a.jsxs)("div",{className:"flex items-center gap-1 overflow-hidden",children:["think"===w?(0,a.jsx)(n.xmO,{size:16,className:"text-primary text-nowrap shrink-0"}):(0,a.jsx)(n.WIv,{size:16,className:"text-primary text-nowrap shrink-0"}),(0,a.jsxs)("div",{className:"flex items-baseline gap-1 overflow-hidden",children:[(0,a.jsx)("span",{className:"text-base text-nowrap whitespace-nowrap",children:"think"===w?S("thinking response finished title","Thoughts"):"deeper"===N?S("deeper search response finished title","DeeperSearch"):S("deep search response finished title","DeepSearch")}),_]})]})]}),x&&t&&(0,a.jsx)(c.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:(0,a.jsx)(p,{className:(0,d.cn)(h&&"h-0"),thinkingTrace:x,showMask:!0})}),!A&&h&&y?(0,a.jsx)("span",{className:"text-secondary text-sm my-0 px-5 pb-4 flex flex-row items-center",children:(0,a.jsxs)("span",{className:"cursor-pointer flex flex-row items-center hover:text-primary",onClick:O,children:[v,(0,a.jsx)(n.c_$,{className:"ms-0.5",size:12})]})}):null,A&&(0,a.jsx)("span",{className:"text-secondary text-sm my-0 px-5 pb-4 flex flex-row items-center",children:h?(0,a.jsxs)(a.Fragment,{children:[S("Collapse details","Collapse details"),y?" • ":"",y?(0,a.jsxs)("span",{className:"cursor-pointer flex flex-row items-center ms-1 hover:text-primary",onClick:O,children:[v,(0,a.jsx)(n.c_$,{className:"ms-0.5",size:12})]}):null]}):S("Expand for details","Expand for details")})]})}),(0,a.jsx)(o.ub,{className:"text-secondary flex flex-col max-w-full overflow-y-clip",children:b})]})})}},44428:(e,t,s)=>{"use strict";s.d(t,{a:()=>o});var a=s(79342),n=s(56691),r=s(88382);function o(e){let{error:t,hidden:s}=e,[o,i]=(0,r.useState)(!1);if(o)if(t)throw t;else throw Error("Triggered error");return s?null:(0,a.jsx)(n.$n,{className:"absolute top-1/2 left-2 z-[100]",onClick:()=>i(!0),children:"Trigger Error"})}},44465:(e,t,s)=>{"use strict";s.d(t,{N:()=>r});var a=s(38541),n=s.n(a);function r(e,t){let s=n().cloneDeep(e);for(var a,r,o=s.length;o;)r=Math.floor(function(e){var t=1e4*Math.sin(e++);return t-Math.floor(t)}(t)*o--),a=s[o],s[o]=s[r],s[r]=a,++t;return s}},44552:(e,t,s)=>{"use strict";s.d(t,{u:()=>i});var a=s(38614),n=s(44347),r=s(88382),o=s(68332);let i=()=>{let{routeToConversation:e}=(0,o.o)();return{pivotNewChat:(0,r.useCallback)(()=>{let{setIsIncognito:t}=n.C$.getState(),{setOptimisticConversationId:s,setSidePanelContent:r,conversationMode:o,exitVoiceMode:i}=a.aP.getState();return(s(void 0),r(void 0),t(!1),e(void 0),"voice"===o)?i("navigation"):Promise.resolve()},[e])}}},44566:(e,t,s)=>{"use strict";s.d(t,{x:()=>i});var a=s(75500),n=s(23232),r=s(65146),o=s(14908);function i(e){let{t}=(0,r.Bd)("workspace"),s=(0,n._)(),i=(0,a.Ne)();return()=>{o.oR.error(t("files-limit-error","Max number of files allowed is {{maxNumberOfFiles}}",{maxNumberOfFiles:i})),s("workspace_file_limit_exceeded",e,{location:"workspace-page-content:assets-section:useMaxFilesError",maxFiles:i.toString(10)})}}},45471:(e,t,s)=>{"use strict";s.d(t,{z:()=>a});let a=s(71019).j},46681:(e,t,s)=>{"use strict";s.d(t,{g:()=>o});var a=s(88382),n=s(58711),r=s(4408);function o(e){let t=(0,a.useMemo)(()=>(0,r.$)(),[]);(0,a.useEffect)(()=>(n.e3.getState().addUpsellLayer(e,t),()=>{n.e3.getState().removeUpsellLayer(t)}),[]);let s=(0,n.e3)(e=>e.currentlyShownUpsell);return(null==s?void 0:s.id)===t}},46741:(e,t,s)=>{"use strict";s.d(t,{K3:()=>o,Ok:()=>c,gI:()=>i,yo:()=>r});var a=s(95158),n=s(17703);async function r(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.chatApi;return await s.chatGetArtifactById({artifactId:e,body:{conversationId:t}})}async function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.chatApi;return await t.chatGetArtifactContent({artifactVersionId:e})}async function i(e,t,s){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.chatApi;try{if((await r.chatUpdateArtifact({artifactId:e,body:{artifactVersionId:t,fullArtifact:s}})).artifactVersionId)return!0}catch(e){return(0,n.vV)("artifact-saveArtifactVersion",e),!1}}async function c(e){let{artifactId:t,artifactVersionId:s,isInline:r}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.chatApi;try{if((await o.chatUpdateArtifactInlineStatus({artifactId:t,body:{artifactVersionId:s,inlineStatus:r?"SHOW_INLINE_ARTIFACT_INLINE_STATUS":"SHOW_SIDEBAR_ARTIFACT_INLINE_STATUS"}})).artifactVersionId)return!0}catch(e){return(0,n.vV)("artifact-setArtifactInline",e),!1}}},46748:(e,t,s)=>{"use strict";s.d(t,{r:()=>r});var a=s(88382),n=s(65146);function r(e,t){let{t:s}=(0,n.Bd)("base");(0,a.useEffect)(()=>{if(document.title=e?s("browser-page-title",{defaultValue:"{{pageTitle}} - Grok",pageTitle:e}):"Grok",t){let e=document.querySelector("meta[name=description]");e&&(e.content=t)}},[e,s,t])}},47095:(e,t,s)=>{"use strict";s.d(t,{O:()=>i});var a=s(79342),n=s(3547),r=s(11750),o=s(31651);function i(e){let{icon:t,className:s,size:i}=e;if(!t)return(0,a.jsx)(r.XRf,{className:s,size:i});let c=(0,o.c)(t);return c?(0,a.jsx)(n.Ln,{value:c,className:s,size:i}):(0,a.jsx)(r.XRf,{className:s,size:i})}},47127:(e,t,s)=>{"use strict";s.d(t,{p:()=>o});var a=s(79342),n=s(84969),r=s(23054);function o(e){let{children:t}=e;return(0,a.jsx)(n.N,{mode:"popLayout",children:(0,a.jsx)(r.P.span,{variants:i,initial:"hide",animate:"show",exit:"hide",children:t})})}let i={show:{opacity:1,scale:1},hide:{opacity:0,scale:.8}}},47392:(e,t,s)=>{"use strict";s.d(t,{_:()=>o,g:()=>i});var a=s(79342),n=s(88382);let r=(0,n.createContext)({}),o=e=>{let{children:t,onRegenerate:s}=e,o=(0,n.useMemo)(()=>({onRegenerate:s}),[s]);return(0,a.jsx)(r.Provider,{value:o,children:t})},i=()=>{let e=(0,n.useContext)(r);if(e)return e.onRegenerate}},47934:(e,t,s)=>{"use strict";s.d(t,{s:()=>I});var a=s(79342),n=s(36401),r=s(38614),o=s(88261),i=s(44465),c=s(51459),l=s(56691),d=s(75500),g=s(35181),m=s(48992),p=s(17703),u=s(6063),h=s(49972),f=s(87891),k=s(97960),b=s(44347),x=s(20337),w=s(74995),v=s(88382),y=s(65146),j=s(52553),N=s(23232),C=s(92437);function S(e){let{onDrop:t,className:s}=e,{t:n}=(0,y.Bd)("files"),r=(0,N._)(),{attachFiles:o}=(0,j.S)(),i=(0,v.useRef)(null),c=(0,v.useCallback)(e=>{null==t||t(),o(e),e.forEach(e=>{r("upload_file",e.name,{location:"files-query-file-drop",mimeType:e.type})})},[o,t,r]),l=(0,C.t)({ref:i,onDrop:c});return(0,a.jsx)(C.u,{ref:i,dragState:l,title:n("files-query-dropzone.title","Attach to message"),subtitle:n("files-query-dropzone.description","Drop here to add files to your message"),className:s})}let I=(0,v.memo)(function(e){var t;let{asset:s,viewedAssetId:i,activeArtifact:l,responseImagesView:u="image-viewer",onResponseImagesOpen:j,onArtifactSelected:N,restrictedModel:C=!1}=e,{t:I}=(0,y.Bd)("files"),E=(0,r.aP)(w.A("setShowStreamingIndicator")),R=(0,r.aP)(w.A("conversationId")),A=null!=(t=s.currentConversationId)?t:R,_=(0,h.w1)(w.A("fetchGetConversation")),{data:O,isLoading:P,error:M}=(0,g.v)(A?_(A):void 0);(0,v.useEffect)(()=>{r.aP.getState().setConversationId(s.currentConversationId)},[s.currentConversationId]),(0,v.useEffect)(()=>{let e=k.A3.getState();(null==O?void 0:O.conversationId)&&e.loadInitialResponses(null==O?void 0:O.conversationId).then(e=>{var t;let s=r.aP.getState();if(s.conversationId===(null==(t=e[0])?void 0:t.conversationId)){let t=(0,m.Mb)(e);if(!t)return void s.setLastMessageId(void 0);if("streaming"===t.state||"reconnecting"===t.state){s.setLastMessageId(t.parentResponseId),s.setStreamedMessageId(t.responseId);return}if("optimistic"===t.state){s.setLastMessageId(t.parentResponseId),s.setOptimisticMessageId(t.responseId);return}s.setLastMessageId(t.responseId)}})},[O]);let L=function(e){let{client:t}=(0,x.useStatsigClient)(),s=(0,r.aP)(w.A("establishNewConversation")),a=(0,b.C$)(w.A("isIncognito")),n=(0,d.h)();return(0,v.useCallback)(async r=>{let{query:o,fileAttachmentIds:i,webpageUrls:c,toolOverrides:l,isPreset:d,persona:g,disableMemory:m}=r;if(!o)return!1;let{assetId:u}=e;if(!u)return!1;t.logEvent("files.start-convo");let h=u?[u,...i||[]]:i;return!!await s({message:o,fileAttachmentIds:h,webpageUrls:c,toolOverrides:l,temporary:a,isPreset:d,persona:g,enableRetries:n.ENABLE_AUTO_STREAM_RETRY,responseMetadata:void 0,isFromGrokFiles:!0,ff:n,disableMemory:m}).catch(e=>{(0,p.vV)("workspace:establishNewConversation",e)})},[e,s,a,n,t])}(s),D=(0,v.useMemo)(()=>i?[i]:s.assetId?[s.assetId]:[],[s.assetId,i]),B=(0,k.A3)(e=>e.byConversationId[null!=A?A:-1]),z=(0,f.R)(e=>e.createVersion),F=async e=>{if((null==B?void 0:B.some(e=>{var t;return"human"===e.sender&&(null==(t=e.fileAttachments)?void 0:t[0])===s.assetId}))&&s.assetId){let a=await z(s.assetId);if(e.fileAttachmentIds&&(null==a?void 0:a.assetId)){var t;let s=(null!=(t=e.fileAttachmentIds)?t:[]).slice(1);return s.unshift(null==a?void 0:a.assetId),{...e,fileAttachmentIds:s}}}return e};return((0,v.useEffect)(()=>(E(!0),()=>E(!1)),[E]),A||O)?A&&!O?null:(0,a.jsx)(o.uI,{artifact:{onOpen:null!=N?N:()=>{},onClear:()=>{},active:l,isShowInlineOption:!1,isSidebar:!1},image:{viewedAssetId:i,responseImagesView:u,onResponseImagesOpen:j},isShowFileAttachments:!1,lastMessageScrollPadding:100,children:(0,a.jsxs)("div",{className:"relative h-full",children:[(0,a.jsx)(n.T,{conversationId:null!=A?A:"",conversation:O,isOptimisticConversation:!1,conversationIsLoading:P,conversationError:M,extraAssetIds:D,onSubmit:F,noTopBar:!0,hideFollowUps:!0,restrictedModel:C}),(0,a.jsx)(S,{className:"z-50 m-2"})]})}):(0,a.jsxs)("div",{className:"relative h-full",children:[(0,a.jsxs)("div",{className:"flex flex-col justify-between h-full",children:[(0,a.jsx)("div",{className:"flex-1 flex flex-col justify-center items-center",children:(0,a.jsx)(T,{asset:s,onQuery:L})}),(0,a.jsx)("div",{className:"flex flex-col justify-end  pb-4 px-5",children:(0,a.jsx)(c.s,{className:"",textAreaClassName:"min-h-14 pt-5 my-0 mb-5",placeholder:I("files-query-placeholder","Start a conversation with file"),onQuery:L,isIncognito:!1,onFrontPage:!1,expandable:!1,restrictedModel:C},"query-bar")})]}),(0,a.jsx)(S,{className:"z-50 m-2"})]})}),T=e=>{var t;let{asset:s,onQuery:n}=e,{t:r}=(0,y.Bd)("files"),o=(0,f.fh)(null!=(t=null==s?void 0:s.assetId)?t:""),c=(0,v.useRef)([]);return((0,v.useEffect)(()=>{var e,t;let a=[],n=null!=(e=s.name)?e:"",l=null!=(t=s.mimeType)?t:"";(n.endsWith(".md")||n.endsWith(".markdown"))&&"string"==typeof o?a=o.length<50?[r("workspace-query-placeholder-email-update","Draft an email to a client about project updates"),r("workspace-query-placeholder-fantasy-plot","Generate a fantasy adventure plot"),r("workspace-query-placeholder-workout-routine","Design a workout routine for beginners"),r("workspace-query-placeholder-vacation-itinerary","Describe a dream vacation itinerary"),r("workspace-query-placeholder-lyrics","Generate lyrics for a rock song"),r("workspace-query-placeholder-origin-story","Invent a superhero origin story"),r("workspace-query-placeholder-meal-prep","Plan a weekly meal prep menu"),r("workspace-query-placeholder-study-guide","Create a study guide for algebra basics")]:[r("workspace-query-placeholder-make-professional","Make it more professional"),r("workspace-query-placeholder-check-grammar","Check for grammar and spelling errors"),r("workspace-query-placeholder-add-humor","Add some humor to this"),r("workspace-query-placeholder-rewrite-formal","Rewrite in a formal tone"),r("workspace-query-placeholder-make-engaging","Make it more engaging and persuasive"),r("workspace-query-placeholder-expand-examples","Expand on this idea with examples"),r("workspace-query-placeholder-add-bullets","Add bullet points for clarity"),r("workspace-query-placeholder-adapt-social","Adapt this for a social media post")]:(n.endsWith(".html")||n.endsWith(".ts")||n.endsWith(".tsx")||n.endsWith(".js")||n.endsWith(".py")||n.endsWith(".java")||n.endsWith(".go")||n.endsWith(".json")||n.endsWith(".txt")||l.startsWith("text/"))&&(a=[r("workspace-query-placeholder-regex","Validate email with regex"),r("workspace-query-placeholder-hello-world","Write a Hello World program"),r("workspace-query-placeholder-fibonacci","Implement Fibonacci sequence"),r("workspace-query-placeholder-web-server","Create a simple web server"),r("workspace-query-placeholder-sorting","Code a bubble sort algorithm"),r("workspace-query-placeholder-game","Build a basic tic-tac-toe game"),r("workspace-query-placeholder-class","Define a simple class")]),(n.endsWith(".csv")||u.Ig.includes(l)||n.endsWith(".xls")||u.f9.includes(l))&&(a=[r("workspace-query-placeholder-budget-template","Create a monthly budget template"),r("workspace-query-placeholder-sales-data","Generate sample sales data for a quarter"),r("workspace-query-placeholder-inventory-list","Set up an inventory tracking sheet"),r("workspace-query-placeholder-expense-tracker","Build an expense tracker with categories"),r("workspace-query-placeholder-project-timeline","Outline a project timeline with Gantt chart basics"),r("workspace-query-placeholder-fitness-log","Create a workout and fitness log")]),l.startsWith("image/")&&(a=[r("workspace-query-placeholder-change-style-oil","Transform into an oil painting style"),r("workspace-query-placeholder-change-style-sketch","Apply a pencil sketch effect"),r("workspace-query-placeholder-change-style-pixel","Convert to pixel art"),r("workspace-query-placeholder-change-style-surreal","Restyle as surreal artwork"),r("workspace-query-placeholder-change-style-popart","Give it a pop art makeover"),r("workspace-query-placeholder-change-style-abstract","Abstract this image"),r("workspace-query-placeholder-change-style-vintage","Age it like a vintage photo"),r("workspace-query-placeholder-change-style-cyberpunk","Infuse with cyberpunk vibes"),r("workspace-query-placeholder-change-style-impressionist","Recreate in impressionist style"),r("workspace-query-placeholder-change-style-cartoon","Cartoonize the picture"),r("workspace-query-placeholder-change-style-steampunk","Add a steampunk twist"),r("workspace-query-placeholder-change-style-gothic","Darken to gothic aesthetics"),r("workspace-query-placeholder-change-style-minimalist","Simplify to minimalist design")]),c.current=(0,i.N)(a,Math.random()).slice(0,3)},[s.mimeType,s.name,r]),0===c.current.length)?null:(0,a.jsxs)("div",{className:"flex flex-col gap-2 items-center justify-center",children:[(0,a.jsx)("span",{className:"text-sm text-secondary mb-1",children:r("workspace-query-try-placeholders","Try these")}),c.current.map(e=>(0,a.jsx)(l.$n,{variant:"outline",onClick:()=>n({query:e}),rounded:!0,children:e},e))]})}},48085:(e,t,s)=>{"use strict";s.d(t,{n:()=>k});var a=s(79342),n=s(11750),r=s(56691),o=s(73772),i=s(69648),c=s(75500),l=s(23232),d=s(61312),g=s(52970),m=s(92644),p=s(88382),u=s(65146),h=s(34865);let f="text-primary hover:text-primary hover",k=e=>{var t;let{editor:s,editable:k}=e;(0,m.er)({editor:s,selector:e=>e.transactionNumber});let{t:b}=(0,u.Bd)("chat"),x=(0,c.h)(),w=(0,l._)(),v=(0,h.v)(s),y=function(e){let{t}=(0,u.Bd)("chat"),s=(0,l._)();return[{label:t("text.size.normal","Normal text"),isActive:e.isActive("paragraph"),select:()=>{e.chain().focus().setParagraph().run(),s("artifact_text_tool_paragraph_selected",void 0,{location:"markdown-workbench:FormattingTools:useTextTypes"})}},{label:t("text.size.heading1","Heading 1"),isActive:e.isActive("heading",{level:1}),className:"text-[17px] font-bold",select:()=>{e.chain().focus().setHeading({level:1}).run(),s("artifact_text_tool_heading1_selected",void 0,{location:"markdown-workbench:FormattingTools:useTextTypes"})}},{label:t("text.size.heading2","Heading 2"),isActive:e.isActive("heading",{level:2}),className:"text-[16px] font-bold",select:()=>{e.chain().focus().setHeading({level:2}).run(),s("artifact_text_tool_heading2_selected",void 0,{location:"markdown-workbench:FormattingTools:useTextTypes"})}},{label:t("text.size.heading3","Heading 3"),isActive:e.isActive("heading",{level:3}),className:"text-[15px] font-bold",select:()=>{e.chain().focus().setHeading({level:3}).run(),s("artifact_text_tool_heading3_selected",void 0,{location:"markdown-workbench:FormattingTools:useTextTypes"})}}]}(s),j=(0,p.useRef)(null),N=k&&null!=(t=y.find(e=>e.isActive))?t:y[0],C=(0,p.useCallback)(async e=>{if(!e.target.files)return;let t=Array.from(e.target.files);await v(t)},[v]);return(0,a.jsxs)("div",{className:(0,d.cn)("flex items-center relative",k?void 0:"opacity-50 pointer-events-none"),children:[(0,a.jsxs)(o.rI,{children:[(0,a.jsx)(o.ty,{asChild:!0,children:(0,a.jsxs)(r.$n,{variant:"ghost",size:"sm",rounded:!0,className:"w-28 overflow-hidden justify-between",children:[null==N?void 0:N.label,(0,a.jsx)(n.D3D,{strokeWidth:2,className:"size-5 sm:size-4"})]})}),(0,a.jsx)(o.SQ,{side:"bottom",align:"end",sideOffset:6,className:"min-w-36 space-y-0.5",children:y.map(e=>(0,a.jsx)(o._2,{onSelect:e.select,className:e.className,children:e.label},e.label))})]}),(0,a.jsx)(i.w,{orientation:"vertical",className:"h-6 mx-2"}),(0,a.jsx)(r.gx,{variant:"ghost",size:"iconSm",rounded:!0,onPointerDown:e=>{s.isFocused&&e.preventDefault(),s.commands.toggleBold(),w("artifact_text_tool_bold_toggled",void 0,{location:"markdown-workbench:FormattingTools:handleBold",enabled:s.isActive("bold").toString()})},className:(0,d.cn)(f,k&&s.isActive("bold")?"bg-toggle-selected text-primary":""),tooltipContent:b("text.style.bold","Bold"),"aria-label":b("text.style.bold","Bold"),children:(0,a.jsx)(g.Sp2,{className:"!size-5"})}),(0,a.jsx)(r.gx,{variant:"ghost",size:"iconSm",rounded:!0,onPointerDown:e=>{s.isFocused&&e.preventDefault(),s.commands.toggleItalic(),w("artifact_text_tool_italic_toggled",void 0,{location:"markdown-workbench:FormattingTools:handleItalic",enabled:s.isActive("italic").toString()})},className:(0,d.cn)(f,k&&s.isActive("italic")?"bg-toggle-selected text-primary":""),tooltipContent:b("text.style.italic","Italic"),"aria-label":b("text.style.italic","Italic"),children:(0,a.jsx)(g.zxT,{className:"!size-5"})}),(0,a.jsx)(r.gx,{variant:"ghost",size:"iconSm",rounded:!0,onPointerDown:e=>{s.isFocused&&e.preventDefault(),s.commands.toggleUnderline(),w("artifact_text_tool_underline_toggled",void 0,{location:"markdown-workbench:FormattingTools:handleUnderline",enabled:s.isActive("underline").toString()})},className:(0,d.cn)(f,k&&s.isActive("underline")?"bg-toggle-selected text-primary":""),tooltipContent:b("text.style.underline","Underline"),"aria-label":b("text.style.underline","Underline"),children:(0,a.jsx)(n.qpS,{size:18})}),(0,a.jsx)(i.w,{orientation:"vertical",className:"h-6 mx-2"}),(0,a.jsx)(r.gx,{variant:"ghost",size:"iconSm",rounded:!0,onPointerDown:e=>{s.isFocused&&e.preventDefault(),s.commands.toggleList("bulletList","listItem"),w("artifact_text_tool_bullet_list_toggled",void 0,{location:"markdown-workbench:FormattingTools:handleBulletList",enabled:s.isActive("bulletList").toString()})},className:(0,d.cn)(f,k&&s.isActive("bulletList")?"bg-toggle-selected text-primary":""),tooltipContent:b("text.format.list","List"),"aria-label":b("text.format.list","List"),children:(0,a.jsx)(n.kpM,{size:18})}),(0,a.jsx)(r.gx,{variant:"ghost",size:"iconSm",rounded:!0,onPointerDown:e=>{s.isFocused&&e.preventDefault(),s.commands.toggleList("orderedList","listItem"),w("artifact_text_tool_ordered_list_toggled",void 0,{location:"markdown-workbench:FormattingTools:handleOrderedList",enabled:s.isActive("orderedList").toString()})},className:(0,d.cn)(f,k&&s.isActive("orderedList")?"bg-toggle-selected text-primary":""),tooltipContent:b("text.format.ordered-list","Ordered list"),"aria-label":b("text.format.ordered-list","Ordered list"),children:(0,a.jsx)(n.d3x,{size:19})}),(0,a.jsx)(r.gx,{variant:"ghost",size:"iconSm",rounded:!0,onPointerDown:e=>{s.isFocused&&e.preventDefault(),s.commands.toggleList("taskList","taskItem"),w("artifact_text_tool_task_list_toggled",void 0,{location:"markdown-workbench:FormattingTools:handleTaskList",enabled:s.isActive("taskList").toString()})},className:(0,d.cn)(f,k&&s.isActive("taskList")?"bg-toggle-selected text-primary":""),tooltipContent:b("text.format.task-list","Task list"),"aria-label":b("text.format.task-list","Task list"),children:(0,a.jsx)(n.kZs,{size:19})}),x.ENABLE_FILE_UPLOAD_IN_MARKDOWN_EDITOR?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.w,{orientation:"vertical",className:"h-6 mx-2"}),(0,a.jsxs)(r.gx,{variant:"ghost",size:"iconSm",rounded:!0,className:(0,d.cn)(f,k&&s.isActive("orderedList")?"bg-toggle-selected text-primary":""),onClick:()=>{var e;null==(e=j.current)||e.click()},tooltipContent:"Add image","aria-label":"Add image",children:[(0,a.jsx)(n.xfq,{size:18}),(0,a.jsx)("input",{ref:j,className:"hidden",type:"file",accept:"image/png,image/jpeg,image/jpg,image/webp",onChange:C,multiple:!1,"data-testid":"markdown-file-input"})]})]}):null]})}},48175:(e,t,s)=>{"use strict";s.d(t,{K:()=>i});var a=s(79342),n=s(61312),r=s(88382),o=s(91631);function i(e){let{collapsed:t,onCollapsedChange:s,sideContent:i,children:l,...d}=e,g=(0,r.useRef)(null),[m,p]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=g.current;if(e){if(t&&e.isExpanded()){e.collapse(),p(!0);let t=setTimeout(()=>{p(!1)},300);return()=>clearTimeout(t)}else if(!t&&e.isCollapsed()){e.expand(),p(!0);let t=setTimeout(()=>{p(!1)},300);return()=>clearTimeout(t)}}},[t]),(0,a.jsxs)(o.YZ,{...d,children:[(0,a.jsx)(o.Zk,{minSize:20,defaultSize:20,order:0,collapsible:!0,ref:g,onCollapse:()=>s(!0),onExpand:()=>s(!1),className:(0,n.cn)(m?"transition-all duration-300":""),children:i}),(0,a.jsx)(c,{collapsed:t}),(0,a.jsx)(o.Zk,{order:1,minSize:0,defaultSize:100,className:"relative",children:l})]})}function c(e){let{collapsed:t}=e;return(0,a.jsx)(o.TW,{"data-collapsed":t,className:(0,n.cn)("border-l data-[collapsed=true]:border-l-0","border-border-l1","data-[resize-handle-state=hover]:border-border-l2 z-50")})}},48521:(e,t,s)=>{"use strict";s.d(t,{R6:()=>b,__:()=>w,b:()=>f,mX:()=>x});var a=s(71735),n=s.n(a),r=s(99027);let o=(e,t)=>Object.fromEntries(Object.entries(e).map(e=>{let[s,a]=e;return[s,t(a)]})),i=e=>new r.A("hsl(".concat(e,")")),c=e=>e.to("srgb").toString({format:"hex"}),l=e=>o(e,i),d=e=>o(e,e=>new r.A(e)),g=e=>o(e,c),m={headerFontStyle:"500 14px",baseFontStyle:"400 14px",editorFontSize:"14px",markerFontStyle:"400 12px",cellHorizontalPadding:12,cellVerticalPadding:4},p={black:"0 0% 2%",white:"0 0% 99%",gray:{50:"220 10% 94%",100:"220 10% 90%",200:"0 0% 71%",300:"220 2% 58%",400:"220 2% 48%",500:"220 2% 35%",600:"220 3% 25%",700:"220 4% 20%",800:"220 5% 15%",900:"220 6% 11%",950:"220 6% 9%",1e3:"220 6% 7%"},warmGray:{50:"30 12% 97%",100:"30 2% 92%",200:"33 1% 75%",300:"30 1% 62%",400:"30 1% 52%",500:"30 1% 39%",600:"30 2% 29%",700:"30 3% 23%",800:"30 2% 18%",900:"30 3% 15%",950:"30 4% 12%",1e3:"30 5% 11%"}},u={sky:d(n().sky),amber:d(n().amber),white:i(p.white),black:i(p.black),warmGray:l(p.warmGray),gray:l(p.gray)},h=g({accentColor:u.sky[500],accentLight:u.sky[300].set({alpha:.15}),accentFg:u.white,textDark:u.warmGray[800],textMedium:u.warmGray[500],textLight:u.warmGray[400],textBubble:u.warmGray[800],bgIconHeader:u.warmGray[500],fgIconHeader:u.white,textHeader:u.warmGray[700],textGroupHeader:u.warmGray[700].set({alpha:.75}),textHeaderSelected:u.white,bgCell:u.white,bgCellMedium:u.warmGray[50],bgHeader:u.warmGray[50],bgHeaderHasFocus:u.warmGray[100],bgHeaderHovered:u.warmGray[200].set({alpha:.25}),bgBubble:u.warmGray[100],bgBubbleSelected:u.white,bgSearchResult:u.amber[100],borderColor:u.warmGray[200].set({alpha:.25}),linkColor:u.sky[500],resizeIndicatorColor:u.sky[500]}),f={...m,...h},k=g({accentColor:u.sky[600],accentLight:u.sky[300].set({alpha:.15}),accentFg:u.black,textDark:u.gray[100],textMedium:u.gray[500],textLight:u.gray[200],textBubble:u.gray[100],bgIconHeader:u.gray[500],fgIconHeader:u.white,textHeader:u.gray[200],textGroupHeader:u.gray[700].set({alpha:.75}),textHeaderSelected:u.white,bgCell:u.gray[1e3],bgCellMedium:u.gray[900],bgHeader:u.gray[950],bgHeaderHasFocus:u.gray[800],bgHeaderHovered:u.gray[700],bgBubble:u.gray[800],bgBubbleSelected:u.white,bgSearchResult:u.amber[100],borderColor:u.gray[700],resizeIndicatorColor:u.sky[600]}),b={...m,...k},x={textLight:f.textHeader,bgCell:f.bgHeader},w={textLight:b.textHeader,bgCell:b.bgHeader}},48589:(e,t,s)=>{"use strict";s.d(t,{o:()=>n});var a=s(88382);function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],[n,r]=(0,a.useState)(e);return(0,a.useEffect)(()=>{let s=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(s)}},[e,t,...s]),n}},48756:(e,t,s)=>{"use strict";s.d(t,{s:()=>a.s});var a=s(47934)},48795:(e,t,s)=>{"use strict";s.d(t,{F:()=>x});var a=s(38614),n=s(68332),r=s(75500),o=s(17703),i=s(70888),c=s(44347),l=s(74995),d=s(88382),g=s(65146),m=s(14908),p=s(39489),u=s(42557),h=s(84499),f=s(49972),k=s(99452),b=s.n(k);let x=e=>{let{location:t}=e,s=(0,r.h)(),{signInWithReturnTo:k}=(0,n.o)(),{user:x}=(0,u.wV)(),{t:w}=(0,g.Bd)("base"),{LIVEKIT_URL:v}=(0,p.v)(),{route:y,push:j}=(0,h.wK)(),N=(0,a.aP)(l.A("enterVoiceMode")),C=(0,a.aP)(l.A("conversationMode")),S=(0,c.C$)(l.A("isIncognito")),I=(0,d.useCallback)(async()=>{if(!x){(0,o.iu)("sign_in","".concat(t,"-voice-mode"),{location:"".concat(t,"-voice-mode")}),k(void 0,void 0,"main"===y.page);return}let{voiceConnectionStatus:e,conversationMode:n}=a.aP.getState();if("disconnected"!==e||"voice"===n||!s.ENABLE_VOICE_MODE||S)return;(0,o.iu)("enter_voice_mode",t,{location:t});let r=i.x.getState(),c=a.aP.getState();return r.removeByConversationId(c.conversationId||"no_conversation_id"),r.removeAttachByConversationId(c.conversationId||"no_conversation_id"),N({livekitUrl:v,ff:s}).catch(e=>"mic-permission-denied"===e.message?void m.oR.error(w("voice.mic-permission-denied","Microphone access denied. Check your browser settings.")):"rate-limit-exceeded"===e.message?void m.oR.error(w("voice.rate-limit-exceeded","You've reached your limit, come back later.")):void m.oR.error(w("voice.failed-to-connect","Failed to connect to voice")))},[s,S,N,w,x,k,v,t,y.page]),T=(0,d.useCallback)(async()=>{if(("chat"===y.page&&!y.conversationId||"main"===y.page)&&"voice"===C)return;let e=a.aP.getState();"voice"===C&&await e.exitVoiceMode("navigation"),e.setOptimisticConversationId(void 0),e.setConversationId(void 0),e.setSidePanelContent(void 0),j({page:"main"});let t={...(0,f.b2)({conversationId:"optimistic_conversation_".concat(b()()),temporary:!1}),mediaTypes:["audio"]},s=f.w1.getState();s.upsertAndCacheConversation(t),e.setOptimisticConversationId(t.conversationId);let n=new AbortController;return s.idsertAbortControllerById(n,t.conversationId),I()},[y,I,C,j]);return{handleVoiceModeEnter:I,handleNavigateToVoiceMode:T}}},50089:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(79342),n=s(72712);let r=e=>(0,a.jsxs)(n.I,{...e,children:[(0,a.jsx)("path",{stroke:"currentColor",d:"M20 18.5c0 1.933-3.582 2.5-8 2.5s-8-.567-8-2.5S7.582 14 12 14s8 2.567 8 4.5Z"}),(0,a.jsx)("ellipse",{cx:"12.5",cy:"11",stroke:"currentColor",rx:"6.5",ry:"3"}),(0,a.jsx)("ellipse",{cx:"10",cy:"5.5",stroke:"currentColor",rx:"5",ry:"2.5"})]})},50672:(e,t,s)=>{"use strict";s.d(t,{W:()=>k});var a=s(39489),n=s(38614),r=s(87891),o=s(97960),i=s(88382),c=s(51182);let l="<<<<<<< SEARCH",d=">>>>>>> REPLACE",g=(e,t)=>{let{ASSET_SERVER_URL:s}=(0,a.v)(),n=(0,i.useRef)(!1),o=e.assetId,d=e.rootAssetId;return(0,i.useEffect)(()=>{var e;if(!t||!o)return;let a=r.R.getState().contentById[o];if("string"!=typeof a||!m(a))return;let i=r.R.getState().assetsById,c=null==(e=r.R.getState().assetsById[o])?void 0:e.data;if(!c||!c.responseId)return;let l=u(Object.values(i).filter(e=>!!(null==e?void 0:e.data)&&e.data.rootAssetId===c.rootAssetId).map(e=>null==e?void 0:e.data).filter(e=>!!e),c);l&&(r.R.getState().contentById[l.assetId]||(n.current=!0,r.R.getState().fetchContent(l.assetId,s).finally(()=>{n.current=!1})))},[o,t,s]),(0,r.R)((0,c.k)(s=>{if(!o)return{content:null,isEditing:!1,isFailed:!1,isDiff:!1};let a=s.contentById[o];if("string"!=typeof a)return{content:null,isEditing:!1,isFailed:!1,isDiff:!1};let n=a.trim();if(n.length<l.length)return l.startsWith(n)?{content:"",isEditing:!1,isFailed:!1,isDiff:!1}:{content:a,isEditing:!1,isFailed:!1,isDiff:!1};if(!n.startsWith(l))return{content:a,isEditing:!1,isFailed:!1,isDiff:!1};let r=u(Object.values(s.assetsById).filter(e=>!!(null==e?void 0:e.data)&&e.data.rootAssetId===d).map(e=>null==e?void 0:e.data).filter(e=>!!e),e);if(!r)return{content:"",isEditing:!1,isFailed:!0,isDiff:!0};let i=s.contentById[r.assetId];if(!i)return{content:"",isEditing:!0,isFailed:!1,isDiff:!0};if("string"!=typeof i||i.trim().startsWith(l))return{content:"",isEditing:!1,isFailed:!0,isDiff:!0};let c=p(a);if(0===c.length)return{content:i,isEditing:!1,isFailed:!0,isDiff:!0};let g=i,m=!1;return(c.forEach(e=>{(e.replacementStr||e.isComplete)&&g===(g=g.replaceAll(e.searchStr,e.replacementStr))&&(m=!0)}),m)?{content:i,isEditing:!1,isFailed:!0,isDiff:!0}:{content:g,isEditing:t,isFailed:!1,isDiff:!0}}))},m=e=>{if("string"!=typeof e)return null;let t=e.trim();return t.length<l.length?!!l.startsWith(t):!!t.startsWith(l)},p=e=>{let t;if(!e)return[];let s=e.split("\n"),a=[];return s.forEach((e,n)=>{let r=e.trim();if(r.startsWith(l)){t="search",a.push({searchStr:"",replacementStr:"",isComplete:!1});return}if(0!==a.length){if(r.startsWith("=======")){t="replacement";return}if(r.startsWith(d)){t=void 0,a[a.length-1].isComplete=!0;return}if("search"===t){let t=a[a.length-1];t&&(t.searchStr=[t.searchStr,e].join("\n"));return}if("replacement"===t&&(n!==s.length-1||!d.startsWith(r))){let t=a[a.length-1];t&&(t.replacementStr=[t.replacementStr,e].join("\n"));return}}}),a=a.map(e=>({...e,searchStr:e.searchStr.trim(),replacementStr:e.replacementStr.trim()}))},u=(e,t)=>{var s;if(0===e.length)return;let a=e.filter(e=>{var s,a;return new Date(null!=(s=e.createTime)?s:Date.now()).valueOf()<new Date(null!=(a=t.createTime)?a:Date.now()).valueOf()}).sort((e,t)=>{let s=0,a=0;return e.createTime&&(s=new Date(e.createTime).valueOf()),t.createTime&&(a=new Date(t.createTime).valueOf()),a-s}),r=o.A3.getState(),i=n.aP.getState(),c=t.responseId?r.byId[t.responseId]:void 0,l=null!=(s=null==c?void 0:c.parentResponseId)?s:i.lastMessageId;return a.filter(e=>{if(!e.responseId)return!0;let t=r.byId[e.responseId];return!(null==t?void 0:t.parentResponseId)||(null==t?void 0:t.parentResponseId)&&t.parentResponseId!==l})[0]};var h=s(75500);let f=()=>{let e=(0,h.h)();return(0,i.useCallback)(t=>{let s=o.A3.getState().byId[t];s&&n.aP.getState().sendResponse({message:"",parentResponseId:s.parentResponseId,conversationId:s.conversationId,fileAttachmentIds:s.fileAttachments||[],webpageUrls:s.webpageUrls,setOpimisticUserResponse:!1,disableArtifactDiff:!0,setUserResponse:!1,enableRetries:e.ENABLE_AUTO_STREAM_RETRY,isFromGrokFiles:!0,ff:e})},[e])};function k(e,t){let{ASSET_SERVER_URL:s}=(0,a.v)(),n=(0,r.R)(e=>e.setAssetContent),{content:o,isEditing:c,isFailed:l,isDiff:d}=g(e,t);(0,i.useEffect)(()=>{e.assetId&&o&&o!==r.R.getState().contentById[e.assetId]&&n(e.assetId,o,!0)},[e.assetId,o,n,t]);let m=(0,r.R)(e=>e.fetchContent);(0,i.useEffect)(()=>{null==o&&e.assetId&&m(e.assetId,s)},[s,e.assetId,o,m]);let p=f();return(0,i.useEffect)(()=>{l&&d&&(null==e?void 0:e.responseId)&&p(e.responseId)},[l,d,null==e?void 0:e.responseId,p]),{content:o,isEditing:c,setContent:t=>{e.assetId&&n(e.assetId,t)},error:null,refetch:()=>{e.assetId&&m(e.assetId,s)}}}},51375:(e,t,s)=>{"use strict";s.d(t,{E:()=>j,Q:()=>N});var a=s(79342),n=s(11750),r=s(56691),o=s(61884),i=s(4878),c=s(61312),l=s(77303),d=s(52574),g=s(37236),m=s(4423),p=s(82646),u=s(86565),h=s(56907),f=s(16506),k=s(65146),b=s(39489),x=s(43086);let w=e=>{let{metadata:t,localFile:s,className:n}=e,{ASSET_SERVER_URL:r}=(0,b.v)(),{parsedFileUri:o,fileUri:l}=t,d=o.length>0?o:l,{data:g,isError:m,isLoading:p}=(0,h.IT)({queryKey:["asset",d],queryFn:()=>(0,i.sU)(r,d)}),u=s&&URL.createObjectURL(s);return m||!u&&(p||!g)?(0,a.jsx)("figure",{className:(0,c.cn)("grid w-10 aspect-square place-items-center bg-fg-primary/10",n),children:(0,a.jsx)(y,{mimeType:t.thirdPartyFileMimeType||t.fileMimeType,className:"size-4 shrink-0",name:t.fileName})}):(0,a.jsxs)("figure",{className:(0,c.cn)("relative flex-shrink-0 aspect-square rounded-s-xl overflow-hidden",n),children:[(0,a.jsx)("img",{alt:"",className:(0,c.cn)("h-full mx-auto object-cover"),src:g||u}),s&&!g&&(0,a.jsx)("div",{className:"inset-0 absolute grid place-items-center",children:(0,a.jsx)(x.y,{className:"size-4",role:"status",size:"xs"})})]})},v=[".bash",".c",".cpp",".cs",".go",".html",".java",".js",".kt",".php",".py",".rb",".rs",".sh",".swift",".ts"],y=e=>{let{mimeType:t,name:s,className:r}=e,{t:o}=(0,k.Bd)("base"),m=t.toLowerCase(),h=(0,u.KR)();if(m.includes("/csv"))return(0,a.jsx)(n.JJ5,{className:r,role:"img","aria-label":o("asset-chip-table.label","Table File")});if(m.includes("application/pdf"))return(0,a.jsx)("span",{className:(0,c.cn)(r,"text-center w-auto"),style:{fontSize:"8px",fontWeight:600},"aria-label":o("asset-chip-pdf.label","PDF File"),children:"PDF"});if(m.includes("markdown")||s.endsWith(".md")||s.endsWith(".markdown"))return(0,a.jsx)(n.TUP,{className:r,role:"img","aria-label":o("asset-chip-markdown.label","Markdown")});if(m.includes("image/"))return(0,a.jsx)(n.xfq,{className:r,role:"img","aria-label":o("asset-chip-image.label","Image File")});if(m.includes(i.af))return(0,a.jsx)(l.A,{className:(0,c.cn)("text-[#4285F4]",r),role:"img","aria-label":o("asset-chip-google-docs.label","Google Docs")});if(m.includes(i.fJ))return(0,a.jsx)(d.A,{className:(0,c.cn)("text-[#34A853]",r),role:"img","aria-label":o("asset-chip-google-sheets.label","Google Sheets")});if(m.includes(i.fs))return(0,a.jsx)(g.A,{className:(0,c.cn)("text-[#FBBC04]",r),role:"img","aria-label":o("asset-chip-google-slides.label","Google Slides")});if(m.includes(i.k9)||m.includes(i.Ap))return(0,a.jsx)(p.zJX,{className:(0,c.cn)("text-[#4285F4]",r),role:"img","aria-label":o("asset-chip-microsoft-word.label","Microsoft Word")});if(m.includes(i.lF)||m.includes(i.$H))return(0,a.jsx)(p.cQB,{className:(0,c.cn)("text-[#34A853]",r),role:"img","aria-label":o("asset-chip-microsoft-excel.label","Microsoft Excel")});if(m.includes(i.SL)||m.includes(i.a7))return(0,a.jsx)(p.S8L,{className:(0,c.cn)("text-[#FBBC04]",r),role:"img","aria-label":o("asset-chip-microsoft-powerpoint.label","Microsoft PowerPoint")});if(m.startsWith("text/")&&v.some(e=>s.endsWith(e)))return(0,a.jsx)(n.CyN,{className:r,role:"img","aria-label":o("asset-chip-code.label","Code File")});if(m.includes("text/"))return(0,a.jsx)(n.ZUJ,{className:r,role:"img","aria-label":o("asset-chip-text.label","Text File")});if(s.includes(".")){let e=(0,u.Bc)({name:s});if(e){let{Icon:t}=h[e];return(0,a.jsx)(t,{className:r,role:"img"})}}return(0,a.jsx)("span",{"aria-label":o("asset-chip-unknown.label","Unknown File"),className:(0,c.cn)(r,"text-center w-auto h-auto"),children:(0,a.jsx)(C,{})})},j=e=>{let{metadata:t,isPrivate:s,isDeleted:r,localFile:o,className:i}=e,{t:l}=(0,k.Bd)("base"),d=(0,c.cn)("shrink-0",i),{theme:g}=(0,f.D)();if(void 0===t)return(0,a.jsx)("figure",{className:(0,c.cn)("grid w-10 aspect-square place-items-center bg-fg-primary/10 rounded-s-xl",d),children:(0,a.jsx)(x.y,{className:"size-4",role:"status",size:"xs"})});if(t instanceof Error)return(0,a.jsx)("figure",{className:(0,c.cn)("grid w-10 aspect-square place-items-center bg-fg-primary/10 rounded-s-xl",d),children:(0,a.jsx)(n.hcu,{className:"size-4",role:"alert","aria-label":l("asset-chip-alert.label","Error")})});if(t.fileMimeType.startsWith("image/")&&!["image/heic","image/heif"].includes(t.fileMimeType)&&!s&&!r)return(0,a.jsx)(w,{localFile:o,metadata:t,className:i});let{props:{src:p}}=(0,m.getImageProps)({src:"dark"===g?"/file-icons/file-dark.svg":"/file-icons/file-light.svg",alt:"",width:20,height:24});return(0,a.jsx)("figure",{className:(0,c.cn)("grid w-10 aspect-square place-items-center bg-no-repeat bg-center",d),style:{backgroundImage:"url(".concat(p,")")},children:(0,a.jsx)(y,{mimeType:r?"":t.thirdPartyFileMimeType||t.fileMimeType,className:"size-3 !text-fg-tertiary hover:text-fg-tertiary",name:t.fileName})})};function N(e){let{fileName:t,metadata:s,localFile:i,isPrivate:l,isDisabled:d,isFileSelected:g,showRemoveIcon:m,handleClick:p,handleRemove:u,isDeleted:h,showTrashRemoveIcon:f,labelClassName:b,variant:x="chip",allowCompact:w=!1}=e,{t:v}=(0,k.Bd)("base"),y=v("asset-chip.deleted","Deleted file"),N=!(s instanceof Error)&&((null==s?void 0:s.fileMimeType.startsWith("image/"))||(null==i?void 0:i.type.startsWith("image/")))&&w,C=(0,a.jsxs)("div",{className:(0,c.cn)("flex flex-row items-center text-sm transition ease-in-out gap-2 relative group/chip",l||d?"cursor-default text-secondary":"cursor-pointer text-primary",{"bg-chip border border-border-l1 hover:bg-button-secondary-hover px-3 rounded-xl h-12":"chip"===x,"justify-between pr-1.5":m,"bg-button-secondary-hover":g,"animate-pulse":void 0===s,"text-fg-secondary":s instanceof Error,"px-0 [&>figure]:w-full [&>figure]:h-full p-0.5":N}),onClick:p,children:[(0,a.jsx)(j,{localFile:i,metadata:s,isPrivate:l,isDeleted:h,className:(0,c.cn)({"rounded-lg w-8 h-8":"list-item"===x,"-ms-[13px] w-12":"chip"===x,"ms-0 me-0 rounded-[9px] [&>img]:h-full [&>img]:w-full":N})}),!N&&(0,a.jsx)("span",{className:(0,c.cn)("truncate max-w-full me-auto sm:max-w-[250px]",b),children:h?y:t}),m&&(0,a.jsx)(r.$n,{className:N?"absolute transition-all scale-50 opacity-0 -top-1.5 -right-1.5 group-hover/chip:opacity-100 group-hover/chip:scale-100":"ml-1 p-0.5 flex-shrink-0",variant:N?"filledSecondary":"ghostSecondary",size:"iconXs",rounded:!0,"aria-label":v("asset-chip-remove.label","Remove"),onClick:u,children:f?(0,a.jsx)(n.TBR,{className:"text-red-400",size:16}):(0,a.jsx)(n.uv5,{className:"size-4"})})]});return"list-item"===x?C:(0,a.jsxs)(o.m_,{delayDuration:300,disableHoverableContent:!0,children:[(0,a.jsx)(o.k$,{asChild:!0,children:C}),(0,a.jsx)(o.ZI,{side:"bottom",children:s instanceof Error?s.message:t})]})}function C(){return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"6",height:"10",viewBox:"0 0 6 10",fill:"none",children:(0,a.jsx)("path",{d:"M3.3457 6.59766H2.25586C2.25977 6.22266 2.29297 5.91602 2.35547 5.67773C2.42188 5.43555 2.5293 5.21484 2.67773 5.01562C2.82617 4.81641 3.02344 4.58984 3.26953 4.33594C3.44922 4.15234 3.61328 3.98047 3.76172 3.82031C3.91406 3.65625 4.03711 3.48047 4.13086 3.29297C4.22461 3.10156 4.27148 2.87305 4.27148 2.60742C4.27148 2.33789 4.22266 2.10547 4.125 1.91016C4.03125 1.71484 3.89062 1.56445 3.70312 1.45898C3.51953 1.35352 3.29102 1.30078 3.01758 1.30078C2.79102 1.30078 2.57617 1.3418 2.37305 1.42383C2.16992 1.50586 2.00586 1.63281 1.88086 1.80469C1.75586 1.97266 1.69141 2.19336 1.6875 2.4668H0.603516C0.611328 2.02539 0.720703 1.64648 0.931641 1.33008C1.14648 1.01367 1.43555 0.771484 1.79883 0.603516C2.16211 0.435547 2.56836 0.351562 3.01758 0.351562C3.51367 0.351562 3.93555 0.441406 4.2832 0.621094C4.63477 0.800781 4.90234 1.05859 5.08594 1.39453C5.26953 1.72656 5.36133 2.12109 5.36133 2.57812C5.36133 2.92969 5.28906 3.25391 5.14453 3.55078C5.00391 3.84375 4.82227 4.11914 4.59961 4.37695C4.37695 4.63477 4.14062 4.88086 3.89062 5.11523C3.67578 5.31445 3.53125 5.53906 3.45703 5.78906C3.38281 6.03906 3.3457 6.30859 3.3457 6.59766ZM2.20898 8.45508C2.20898 8.2793 2.26367 8.13086 2.37305 8.00977C2.48242 7.88867 2.64062 7.82812 2.84766 7.82812C3.05859 7.82812 3.21875 7.88867 3.32812 8.00977C3.4375 8.13086 3.49219 8.2793 3.49219 8.45508C3.49219 8.62305 3.4375 8.76758 3.32812 8.88867C3.21875 9.00977 3.05859 9.07031 2.84766 9.07031C2.64062 9.07031 2.48242 9.00977 2.37305 8.88867C2.26367 8.76758 2.20898 8.62305 2.20898 8.45508Z",fill:"currentColor"})})}},51459:(e,t,s)=>{"use strict";s.d(t,{s:()=>eC});var a=s(79342),n=s(38614),r=s(11750),o=s(82767),i=s(58192),c=s(5663),l=s(88382),d=s(75500),g=s(52553),m=s(61312),p=s(33231),u=s(92294),h=s(69643),f=s(23232),k=s(41320),b=s(4295),x=s(98100),w=s(2376),v=s(24429),y=s(70526);function j(e){return/^(https?:\/\/)/.test(e)?e:"https://"+e}var N=s(17703),C=s(49),S=s(84499),I=s(57896),T=s(49972),E=s(70888),R=s(44347),A=s(73304),_=s(23054),O=s(84969),P=s(74995),M=s(69304),L=s(65146),D=s(14908),B=s(82451),z=s(91623),F=s(18585),U=s(42557),V=s(41739),H=s(56691);let W={sm:"text-xs",md:"text-sm",lg:"text-base"};function G(e){let{className:t,text:s="Thinking",size:n="md"}=e;return(0,a.jsxs)("div",{role:"status","aria-live":"polite",className:(0,m.cn)("inline-flex items-center",t),children:[(0,a.jsx)("span",{className:(0,m.cn)("text-primary font-medium",W[n]),children:s}),(0,a.jsxs)("span",{className:"inline-flex",children:[(0,a.jsx)("span",{className:"text-primary animate-[loading-dots_1s_infinite_0.2s]",children:"."}),(0,a.jsx)("span",{className:"text-primary animate-[loading-dots_1s_infinite_0.4s]",children:"."}),(0,a.jsx)("span",{className:"text-primary animate-[loading-dots_1s_infinite_0.6s]",children:"."})]})]})}var K=s(64820),q=s(37469);function X(e){let{text:t,isShown:s,className:n=""}=e,r=(0,l.useId)();return(0,a.jsx)(O.N,{children:s&&(0,a.jsx)(_.P.span,{layout:!0,initial:{opacity:0,width:4},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:4},transition:{duration:.1,ease:"easeInOut"},className:"inline-block whitespace-nowrap ".concat(n),children:t},r)})}var Y=s(58711),Q=s(73772);function $(e){var t,s;let{model:o,personaSettings:i,isDeepsearchSelected:c,reasoningMode:g,deepsearchDisabled:p,forceShowLabel:u=!0,showLabel:h=!1}=e,k=(0,d.h)(),b=(0,f._)(),{t:x}=(0,L.Bd)("base"),w=(0,n.aP)(P.A("isDeepSearchRateLimited")),y=(0,n.aP)(P.A("isDeeperSearchSelected")),j=(0,n.aP)(P.A("setIsDeeperSearchSelected")),{isEnterpriseUser:N,isSuperGrokUser:C,isSuperGrokProUser:S}=(0,v.Q2)(),[I,T]=(0,l.useState)(!1);(0,l.useEffect)(()=>{k.SHOW_DEEPER_SEARCH&&!I&&setTimeout(()=>{T(!0)},1e3)},[k.SHOW_DEEPER_SEARCH,I]);let E=(0,l.useMemo)(()=>"deepersearch"===g||y?"DeeperSearch":"DeepSearch",[g,y]),R=(0,l.useMemo)(()=>y?x("deepsearch-option.deepersearch.description","Extended search, more reasoning"):x("deepsearch-option.deepsearch.description","Advanced search and reasoning"),[y,x]),A=(0,l.useCallback)(e=>{e.stopPropagation();let t=n.aP.getState().setReasoningMode,s=c?"none":y?"deepersearch":"deepsearch";b("switch_reasoning_mode",s,{location:"deep-search-toggle:handleClick"}),t(s)},[b,c,y]),O=(0,l.useCallback)(()=>{let{setReasoningMode:e}=n.aP.getState();e("deepsearch"),j(!1),b("switch_reasoning_mode","deepsearch",{location:"deep-search-toggle:handleSelectDeepSearch"})},[b,j]),M=(0,l.useCallback)(()=>{let{setReasoningMode:e}=n.aP.getState();e("deepersearch"),j(!0),b("switch_reasoning_mode","deepersearch",{location:"deep-search-toggle:handleSelectDeeperSearch"})},[b,j]);if(!o)return null;let D=null==(t=o.tags)?void 0:t.includes("deepsearch"),B=null==(s=o.tags)?void 0:s.includes("always_show_deepsearch");return i&&i.hideDeepSearch||!D&&!B?null:(B&&!D||w)&&(N||C||S)?(0,a.jsxs)(H.gx,{tooltipAsChild:!0,className:(0,m.cn)("group/ds-toggle"),variant:"outline",rounded:!0,onClick:()=>{(0,Y.e3.getState().setIsUpselling)(!0)},tooltipProps:{disableHoverableContent:!0,delayDuration:0},tooltipContent:x("Go Super to use DeepSearch","Go Super to use DeepSearch"),tooltipContentProps:{side:"bottom",className:"bg-primary text-background"},"aria-pressed":c,children:[(0,a.jsx)(r.AaN,{size:18,className:(0,m.cn)("text-fg-secondary group-hover/ds-toggle:text-fg-primary",c&&"text-fg-primary")}),u&&(0,a.jsx)("span",{children:x("DeepSearch","DeepSearch")})]},"search"):k.SHOW_DEEPER_SEARCH?(0,a.jsxs)(_.P.div,{layout:"size",className:(0,m.cn)("flex ring-1 rounded-full items-center max-h-[40px]","box-border","transition-colors duration-100","relative overflow-hidden","ring-inset","ring-border-l2",c&&"bg-button-ghost-active hover:bg-button-ghost-active"),transition:{duration:.2*!!I,ease:"easeInOut"},children:[(0,a.jsxs)(H.gx,{tooltipContent:R,tooltipProps:{disableHoverableContent:!0,delayDuration:600},tooltipContentProps:{side:"bottom",className:"bg-primary text-background"},className:(0,m.cn)("group/ds-toggle","transition-colors duration-100 focus-visible:ring-transparent","box-border","relative overflow-hidden","rounded-r-none pr-3","bg-transparent","hover:bg-button-ghost-hover","focus-visible:bg-button-ghost-hover"),variant:"none",rounded:!0,onClick:A,disabled:p,tabIndex:0,"aria-pressed":c,"aria-label":E,children:[y?(0,a.jsx)(r.C$2,{size:18,className:(0,m.cn)("text-fg-secondary group-hover/ds-toggle:text-fg-primary",c&&"text-fg-primary")}):(0,a.jsx)(r.AaN,{isOn:c,size:18,className:(0,m.cn)("text-fg-secondary group-hover/ds-toggle:text-fg-primary",c&&"text-fg-primary")}),u?(0,a.jsx)("span",{children:E}):(0,a.jsx)(X,{className:"max-w-full truncate text-xs",text:E,isShown:h})]},"search"),(0,a.jsx)("div",{className:"h-4 w-[1px] bg-toggle-border focus:outline-none",tabIndex:-1}),(0,a.jsxs)(Q.rI,{children:[(0,a.jsx)(Q.ty,{asChild:!0,children:(0,a.jsx)(H.$n,{className:(0,m.cn)("transition-colors duration-100","relative overflow-hidden ","focus-visible:ring-transparent","rounded-l-none pl-2 pr-3","bg-transparent","hover:bg-button-ghost-hover","focus-visible:bg-button-ghost-hover"),variant:"none",rounded:!0,"aria-label":x("deepsearch-dropdown-button.label","Change mode"),children:(0,a.jsx)(r.D3D,{size:12,className:"text-fg-secondary"})})}),(0,a.jsxs)(Q.SQ,{side:"bottom",align:"end",children:[(0,a.jsxs)(Q.hO,{checked:!y,className:"flex flex-col items-start justify-center",onSelect:O,children:[(0,a.jsx)("span",{children:x("DeepSearch","DeepSearch")}),(0,a.jsx)("span",{className:"text-fg-secondary",children:x("deepsearch-option.deepsearch.description","Advanced search and reasoning")})]},"deepsearch-item"),(0,a.jsxs)(Q.hO,{checked:y,onSelect:M,className:"flex flex-col items-start justify-center","aria-label":"DeeperSearch",children:[(0,a.jsx)("span",{children:x("DeeperSearch","DeeperSearch")}),(0,a.jsx)("span",{className:"text-secondary",children:x("deepsearch-option.deepersearch.description","Extended search, more reasoning")})]},"deepersearch-item")]})]})]}):(0,a.jsxs)(H.gx,{tooltipAsChild:!0,className:(0,m.cn)("group/ds-toggle","border border-border-l2","overflow-hidden","items-center justify-center",!h&&!u&&"px-[9px]",c?"bg-button-ghost-active hover:bg-button-ghost-active":"bg-transparent hover:bg-button-ghost-hover"),variant:"none",rounded:!0,onClick:A,tooltipProps:{disableHoverableContent:!0,delayDuration:600},tooltipContent:x("Advanced search and reasoning","Advanced search and reasoning"),tooltipContentProps:{side:"bottom",className:"bg-primary text-background"},disabled:p,tabIndex:0,"aria-pressed":c,"aria-label":E,children:[(0,a.jsx)(r.AaN,{isOn:c,size:18,className:(0,m.cn)("text-fg-secondary group-hover/ds-toggle:text-fg-primary",c&&"text-fg-primary")}),u?(0,a.jsx)("span",{children:E}):(0,a.jsx)(X,{className:"max-w-full truncate text-xs",text:E,isShown:h})]},"search")}var Z=s(63174);let J=(0,l.forwardRef)((e,t)=>{let{textAreaClassName:s,placeholder:n,handleKeyDown:r,handleChange:o,handlePaste:i,handleFocus:c,handleClick:d,isExpanded:g,isLoading:p,disabled:u,value:h,disableAutoFocus:f}=e,{t:b}=(0,L.Bd)("base"),x=(0,l.useRef)(null),w=(0,k.Di)();return(0,l.useImperativeHandle)(t,()=>({focus:()=>{var e;null==(e=x.current)||e.focus()},value:()=>{var e,t;return null!=(t=null==(e=x.current)?void 0:e.value)?t:""},setValue:e=>{x.current&&(x.current.value=e)},addEventListener:(e,t)=>{var s;null==(s=x.current)||s.addEventListener(e,t)},removeEventListener:(e,t)=>{var s;null==(s=x.current)||s.removeEventListener(e,t)},isFocused:()=>!!x.current&&x.current===document.activeElement})),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:(0,m.cn)("absolute px-2 @[480px]/input:px-3 py-5 text-fg-secondary pointer-events-none select-none",h||!n?"hidden":"",p?"animate-pulse":""),children:n}),(0,a.jsx)(Z.A,{ref:x,dir:"auto","aria-label":b("aria-label.ask-grok-anything","Ask Grok anything"),className:(0,m.cn)("w-full px-2 @[480px]/input:px-3",g?"pt-5 mb-5":"my-5","bg-transparent","focus:outline-none","text-fg-primary","align-bottom",s),style:{resize:"none"},onKeyDown:r,onChange:e=>{null==o||o(e.target.value)},onClick:d,onFocus:c,disabled:u||p,value:h,maxRows:g?w?4:12:1,autoFocus:!f,minRows:1,onPaste:i})]})});J.displayName="TextareaEditor";var ee=s(82591),et=s(6224),es=s(31325),ea=s(44339),en=s(92644),er=s(72121),eo=s(5083),ei=s(73483),ec=s(75550),el=s(71611),ed=s(88217);let eg=s(20547).YY.create({name:"softBreak",addOptions:()=>({useCmdEnter:void 0,onSubmit:void 0}),addKeyboardShortcuts(){return{"Shift-Enter":()=>this.editor.commands.first(e=>{let{commands:t}=e;return[()=>t.newlineInCode(),()=>t.createParagraphNear(),()=>t.liftEmptyBlock(),()=>{let e=this.editor.state.selection.$from.marks();if(e&&e[0]&&"code"===e[0].type.name){let e=this.editor.state.selection.$head.after();return t.insertContentAt({from:e,to:e},{type:"paragraph"})}return t.splitBlock()}]}),Enter:()=>!(this.options.useCmdEnter&&this.options.useCmdEnter())||this.editor.commands.first(e=>{let{commands:t}=e;return[()=>t.newlineInCode(),()=>t.createParagraphNear(),()=>t.liftEmptyBlock(),()=>{let e=this.editor.state.selection.$from.marks();if(e&&e[0]&&"code"===e[0].type.name){let e=this.editor.state.selection.$head.after();return t.insertContentAt({from:e,to:e},{type:"paragraph"})}return t.splitBlock()}]}),"Mod-Enter":()=>!0}}}),{jH:em}=eo,ep=e=>{let t=e.replace(/<p><\/p>/g,"<p>&nbsp;</p>").replace(/>\s+([^<])/g,(e,t)=>">"+e.slice(1,-1).replace(/ /g,"⟨GROK_SPACE⟩")+t);return(0,ed.l)().use(ei.A).use(ec.A).use(el.A,{handlers:{text:e=>e.value},join:[(e,t)=>{if("paragraph"===e.type&&"paragraph"===t.type)return 0}]}).processSync(t).value.toString().replace(/⟨GROK_SPACE⟩/g," ").trim()},eu=(0,l.forwardRef)((e,t)=>{let{value:s,placeholder:n,textAreaClassName:r,handleKeyDown:o,handleChange:i,handlePaste:c,handleFocus:d,handleClick:g,isExpanded:p,disabled:u,isLoading:h}=e,f=(0,l.useRef)(!1),k=(0,en.hG)({editable:!u&&!h,extensions:[er.A.configure({heading:!1,bold:!1,italic:!1,strike:!1,blockquote:!1,horizontalRule:!1,code:!1,codeBlock:!1,listItem:!1}),eg.configure({useCmdEnter:()=>f.current}),et.M.configure({useCompactLayout:!0,exitOnArrowUp:!0}),es.A.extend({priority:101,addKeyboardShortcuts(){return{"Shift-Enter":()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),ea.A.configure({placeholder:n,showOnlyWhenEditable:!1})],content:s,onUpdate:e=>{let{editor:t}=e,s=ep(t.getHTML());null==i||i(s)},onPaste:e=>{null==c||c(e)},editorProps:{attributes:{class:(0,m.cn)("w-full px-2","bg-transparent","focus:outline-none","text-primary","align-bottom","max-h-[400px] overflow-y-auto","!max-w-none","prose","[&_ul>li>p]:my-0 [&_ol>li>p]:my-0 [&_li>ol]:my-0 [&_li>ul]:my-0","[&_p]:my-0 [&_ul]:my-0 [&_ol]:my-0",p?"pt-[1.125rem] mb-5":"pt-4 mb-4",r,h?"animate-pulse":"")}}},[u,h]);(0,l.useEffect)(()=>{void 0===window.isSpace&&(window.isSpace=function(e){return 32===e||9===e||10===e||11===e||12===e||13===e})},[]),(0,l.useEffect)(()=>{k&&s!==ep(k.getHTML())&&void 0!==s&&k.commands.setContent(s,!1)},[s,k]),(0,l.useImperativeHandle)(t,()=>({isFocused:()=>{var e;return null!=(e=null==k?void 0:k.isFocused)&&e},focus:()=>null==k?void 0:k.commands.focus(),value:()=>k?ep(k.getHTML()):"",setValue:e=>null==k?void 0:k.commands.setContent(e)}));let b=em(),x=s?"auto":b;return k?(0,a.jsx)(en.$Z,{dir:x,editor:k,onClick:g,onKeyDown:o,onFocus:d}):null}),eh=(0,l.forwardRef)((e,t)=>(0,a.jsx)(ee.t,{fallback:(0,a.jsx)(J,{...e,ref:t}),children:(0,a.jsx)(eu,{...e,ref:t})}));var ef=s(12971);function ek(e){var t,s;let{model:o,personaSettings:i,isThinkSelected:c,thinkDisabled:l,forceShowLabel:d=!0,showLabel:g=!1}=e,p=(0,f._)(),{t:u}=(0,L.Bd)("base"),h=(0,n.aP)(P.A("isThinkingRateLimited")),{isEnterpriseUser:k,isSuperGrokUser:b,isSuperGrokProUser:x}=(0,v.Q2)();if(!o)return;let w=null==(t=o.tags)?void 0:t.includes("think"),y=null==(s=o.tags)?void 0:s.includes("always_show_think");return i&&i.hideDeepSearch||!w&&!y?void 0:(y&&!w||h)&&(k||b||x)?(0,a.jsxs)(H.gx,{tooltipAsChild:!0,variant:"outline",size:g||d?"md":"iconMd",rounded:!0,onClick:()=>{(0,Y.e3.getState().setIsUpselling)(!0)},tooltipProps:{disableHoverableContent:!0,delayDuration:0},tooltipContent:u("Go Super to use Think","Go Super to use Think"),tooltipContentProps:{side:"bottom",className:"bg-surface-invert text-fg-invert"},"aria-pressed":c,"aria-label":u("Think","Think"),children:[(0,a.jsx)(r.xmO,{size:18,className:"text-fg-secondary"}),(0,a.jsx)("span",{className:"hidden @[600px]/input:inline-block",children:u("Think","Think")})]},"search"):(0,a.jsxs)(H.gx,{tooltipAsChild:!0,className:(0,m.cn)("group/think-toggle","transition-colors duration-100","relative overflow-hidden border",!g&&!d&&"px-[9px]",c&&"bg-button-ghost-active hover:bg-button-ghost-active"),variant:"outline",size:g||d?"md":"iconMd",rounded:!0,onClick:()=>{let e=n.aP.getState().setReasoningMode,t=c?"none":"think";p("switch_reasoning_mode",t,{location:"think-toggle:onClick"}),e(t)},tooltipProps:{disableHoverableContent:!0,delayDuration:600},tooltipContent:u("Let the model take its time","Let the model take its time"),tooltipContentProps:{side:"bottom",className:"bg-primary text-background"},disabled:l,tabIndex:0,"aria-pressed":c,"aria-label":"Think",children:[(0,a.jsx)(r.xmO,{isOn:c,size:18,className:"".concat(c?"text-primary":"group-hover/think-toggle:text-fg-primary text-fg-secondary")}),d?(0,a.jsx)("span",{children:"Think"}):(0,a.jsx)(X,{className:"max-w-full truncate text-xs",text:"Think",isShown:g})]},"reason")}let eb=e=>{let{isConnecting:t,onEnterVoiceMode:s}=e,{t:n}=(0,L.Bd)("base"),[r,o]=(0,l.useState)(!1),[i,c]=(0,l.useState)(null),d=e=>[.4,.8,1.2,.7,1,.4][e]||.4,g=e=>{if(t){let t=.1*e;return{height:["".concat(.25,"rem"),"".concat(1.2,"rem"),"".concat(.25,"rem")],transition:{duration:.75,repeat:1/0,ease:"easeInOut",delay:t,repeatDelay:.125}}}if(r&&!t){let t=d(e),s=.04*e;return{height:["".concat(t,"rem"),"".concat(1.2,"rem"),"".concat(t,"rem")],transition:{duration:.3,ease:"easeInOut",delay:s}}}return{height:"".concat(d(e),"rem"),transition:{duration:.1*!!i,ease:"easeInOut"}}};return(0,l.useEffect)(()=>{t&&"infinite-wave"!==i?c("infinite-wave"):r&&!t&&"single-wave"!==i&&c("single-wave")},[t,r,i]),(0,a.jsx)(_.P.button,{initial:{opacity:.5},animate:{opacity:1,transition:{duration:.1}},whileHover:t?{}:{scale:1.1},whileTap:t?{}:{scale:.95},onMouseEnter:()=>!t&&o(!0),onMouseLeave:()=>o(!1),className:(0,m.cn)("group flex flex-col justify-center rounded-full focus:outline-none focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring"),disabled:t,"aria-label":n("voice.enter-voice-mode","Enter voice mode"),onClick:s,children:(0,a.jsx)("div",{className:(0,m.cn)("h-10 relative","aspect-square flex items-center justify-center gap-0.5","rounded-full ring-1 ring-inset duration-100","before:absolute before:inset-0 before:rounded-full before:bg-button-filled before:ring-0 before:transition-all",t?"bg-warm-gray-100 dark:bg-gray-600 text-fg-secondary before:[clip-path:circle(0%_at_50%_50%)] ring-0":"bg-button-filled text-fg-invert ring-transparent before:[clip-path:circle(50%_at_50%_50%)]"),children:[...Array(6)].map((e,s)=>(0,a.jsx)(_.P.div,{initial:{height:"0.125rem"},animate:g(s),className:(0,m.cn)("w-0.5 relative z-10 rounded-full",t?"bg-current":"bg-fg-invert")},"".concat(s,"-").concat(t)))})})};var ex=s(25859),ew=s(3683),ev=s(58939),ey=s(32507);let ej=(0,l.memo)(function(e){let{workspaceId:t,onWorkspaceIdChange:s}=e,{t:n}=(0,L.Bd)("base"),o=(0,ey.XO)(e=>e.push),i=(0,ew.M)(e=>{var s;return null==(s=e.byId[null!=t?t:""])?void 0:s.data}),c=(0,l.useCallback)(e=>{s(void 0),e.preventDefault(),e.stopPropagation()},[s]);return i?(0,a.jsxs)("div",{className:(0,m.cn)("flex flex-row items-center text-sm transition ease-in-out gap-2 relative group/chip","cursor-default text-primary","bg-chip border border-border-l1 hover:bg-button-secondary-hover px-3 rounded-xl h-12","justify-between pr-1.5"),onClick:()=>{t&&o({page:"workspace",workspaceId:t})},children:[(0,a.jsx)(ev.Oh,{icon:i.icon,className:"w-5 h-5"}),(0,a.jsx)("span",{className:(0,m.cn)("truncate max-w-full me-auto sm:max-w-[250px]"),children:i.name}),(0,a.jsx)(ex.$n,{variant:"tertiary",size:"xs",shape:"circle","aria-label":n("asset-chip-remove.label","Remove"),onClick:c,children:(0,a.jsx)(r.uv5,{className:"size-4"})})]}):null});var eN=s(48429);let eC=(0,l.forwardRef)((e,t)=>{let{id:s,className:W,textAreaClassName:X,onQuery:Y=eS,streamState:Q,onAbort:Z=eS,disabled:ee,enterSubmit:et=!0,onKeyDown:es,onChange:ea,placeholder:en,onFrontPage:er=!1,isIncognito:eo,expandable:ei=!0,enableVoiceMode:ec=!1,onVoiceModeEnter:el=eS,restrictedModel:ed=!1,conversationId:eg}=e,{t:em}=(0,L.Bd)("base"),{route:ep}=(0,S.wK)(),{user:eu}=(0,U.wV)(),ex=(0,f._)(),{attachFiles:ew,detachFile:ev}=(0,g.S)(),ey=(0,n.aP)(P.A("conversationId")),eC=(0,n.aP)(P.A("defaultAnonModelId")),eT=(0,n.aP)(P.A("defaultFreeModelId")),eE=(0,n.aP)(P.A("defaultProModelId")),eR=(0,n.aP)(P.A("setDefaultAnonModelId")),eA=(0,n.aP)(P.A("setDefaultFreeModelId")),e_=(0,n.aP)(P.A("setDefaultProModelId")),eO=(0,n.aP)(P.A("voiceConnectionStatus")),eP=(0,n.aP)(P.A("projectId")),eM=(0,n.aP)(P.A("setProjectId")),eL=(0,A.d)(P.A("createDialogIsOpen")),eD=(0,n.aP)(P.A("quotedText")),eB=(0,R.C$)(e=>e.userSettings.preferences.enableTiptapEditorForQueryBar),ez=ep.page.startsWith("imagine"),eF=(0,l.useCallback)(()=>{n.aP.getState().setQuotedText(void 0)},[]),eU=(0,d.h)(),eV=(0,d.Ne)(),[eH,eW]=(0,h.M)("model-select-tutorial",!1),{scrollRef:eG,className:eK}=function(){let e=(0,l.useRef)(null),[t,s]=(0,l.useState)(!1),[a,n]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let t=()=>{e.current&&(e.current.scrollLeft>0?s(!0):s(!1),e.current.scrollLeft+e.current.clientWidth>=e.current.scrollWidth?n(!0):n(!1))},a=e.current;return a&&a.addEventListener("scroll",t),()=>{a&&a.removeEventListener("scroll",t)}},[]),{scrollRef:e,className:(0,m.cn)("will-change-[mask-image] @sm:[mask-image:none]",{"[mask-image:linear-gradient(to_right,transparent_0,black_0px,black_calc(100%_-_40px),transparent_100%)]":!t,"[mask-image:linear-gradient(to_right,transparent_0,black_20px,black_calc(100%_-_40px),transparent_100%)]":t&&!a,"[mask-image:linear-gradient(to_right,transparent_0,black_20px,black_100%)]":t&&a})}}(),eq=(0,l.useRef)(null),eX=(0,l.useRef)(null),eY=(0,l.useRef)(null),[eQ,e$]=function(){let[e,t]=(0,l.useState)(0),s=(0,l.useRef)(null);return(0,l.useLayoutEffect)(()=>{let e=()=>{s.current&&t(s.current.getBoundingClientRect().width)};if(e(),window.addEventListener("resize",e),s.current){let t=new ResizeObserver(()=>{e()});return t.observe(s.current),()=>{window.removeEventListener("resize",e),t.disconnect()}}},[]),[s,e]}(),eZ=e$>400,eJ=e$>470,e0=(0,b.c)(),e1=(0,k.Di)(),[e2,e3]=(0,l.useState)(!1),e4=eU.ENABLE_TIPTAP_EDITOR&&eB,e5=(0,l.useCallback)(e=>{var t;eM(e),null==(t=eX.current)||t.focus()},[eM]),e8=e4&&!e1?eh:J;(0,l.useImperativeHandle)(t,()=>({focus:()=>{var e;null==(e=eX.current)||e.focus()}})),(0,l.useEffect)(()=>{ez||setTimeout(()=>{eX.current&&eX.current.focus()})},[ez]);let e6=eg||ey||"no_conversation_id",{register:e7,handleSubmit:e9,formState:{errors:te}}=(0,M.mN)(),{ref:tt,...ts}=e7("files",{validate:e=>!(tu.length+((null==e?void 0:e.length)||0)>eV)||"".concat(em("Max number of files allowed is","Max number of files allowed is")," ").concat(eV)}),ta=(0,n.aP)(P.A("queryByConversationId")),tn=(0,n.aP)(P.A("idsetQueryByConversationId")),tr=ta[e6],to=(0,l.useCallback)(e=>tn(e,e6),[e6,tn]);(0,l.useEffect)(()=>{eX.current&&eX.current.setValue(ta[e6]||"")},[e6]);let ti=(0,n.aP)(P.A("setActiveModelId")),{isThinkSelected:tc,isDeepsearchSelected:tl}=(0,x.QG)(),td=(0,n.aP)(P.A("reasoningMode")),tg=(0,E.x)(P.A("listByConversationId")),tm=(0,E.x)(P.A("attachListByConversationId")),tp=(0,E.x)(P.A("delistAttachByConversationId")),tu=tg[e6]||eI,th=tm[e6]||eI,{attachedUrls:tf,handleAttachUrl:tk,handleDetachUrl:tb,handleDetachAll:tx}=function(){let[e,t]=(0,l.useState)(new Set),s=(0,l.useCallback)(e=>{let s=j(e);t(e=>e.size>=y.mJ?e:new Set([...e,s]))},[]),a=(0,l.useCallback)(e=>{let s=j(e);t(e=>{let t=new Set(e);return t.delete(s),t})},[]),n=(0,l.useCallback)(()=>{t(new Set)},[]);return{attachedUrls:(0,l.useMemo)(()=>[...e],[e]),handleAttachUrl:s,handleDetachUrl:a,handleDetachAll:n}}(),tw=(0,l.useCallback)(e=>{ex("detach-url",e,{location:"query-bar",url:e}),tb(e)},[tb,ex]),tv=(0,n.aP)(P.A("activeModelId")),ty=(0,n.aP)(P.A("queryBarExpanded")),tj=!ei||ty,tN=(0,n.aP)(P.A("setQueryBarExpanded")),tC=(0,n.aP)(P.A("setIsTypingDebounce")),tS=(0,l.useMemo)(()=>!ez&&(!!er||!!tr&&tr.length>0||tj),[tr,er,tj,ez]),tI="error"===Q,tT="optimistic"===Q||"streaming"===Q||"reconnecting"===Q,tE=(0,n.aP)(P.A("showStreamingIndicator")),tR=(0,V.a)(P.A("inEditId")),[tA,t_]=(0,l.useState)(!1),[tO,tP]=(0,l.useState)(!1),tM=(0,l.useMemo)(()=>{var e,t;let s=tu.some(e=>void 0===e.metadata),a=tu.some(e=>e.metadata instanceof Error),n=!!tr||tu.length>0||(null!=(t=null==(e=tm[e6])?void 0:e.length)?t:0)>0;return!s&&!a&&!tA&&n&&!ee},[tu,ee,tA,tr,tm,e6]),tL=(0,l.useCallback)(async()=>{var e,t;if(!tM||((tT||tI)&&await Z(),!eX.current))return;let s=eX.current.value(),a=s.length;if(a>y.H4)return D.oR.error(em("query-bar.too-long","Character Limit Exceeded: {{currentLength, number(maximumFractionDigits: 0)}}/{{maxLength, number(maximumFractionDigits: 0)}}",{maxLength:y.H4.toFixed(0),currentLength:a.toFixed(0)})),!1;let n=E.x.getState(),r=tu.map(e=>e.metadata).filter(e=>e&&!(e instanceof Error)),o=[...null!=(e=tm[e6])?e:[]],i=[...r.map(e=>e.fileMetadataId),...o.map(e=>e.assetId)];to(""),eX.current.setValue(""),n.removeByConversationId(e6),n.removeAttachByConversationId(e6),tx(),t_(!0),eF(),await Y({query:s||em("Refer to the following content:","Refer to the following content:"),parentQuotedText:eD,fileAttachmentIds:i,webpageUrls:tf,toolOverrides:void 0,isPreset:!1,workspaceIds:eP?[eP]:void 0}).finally(()=>{t_(!1),tP(!0)})||(to(s),null==(t=eX.current)||t.setValue(s),tu.map(e=>n.lisertByConversationId(e,e6)),o.map(e=>n.lisertAttachByConversationId(e,e6)))},[tM,tT,tI,tu,tm,e6,to,tx,eF,Y,em,eD,tf,eP,Z]),tD=e9((0,l.useCallback)(async()=>{if(!e2&&"disconnected"===eO){e3(!0);try{await tL()}catch(e){(0,N.vV)("query-bar:submit",e)}e3(!1)}},[e2,tL,eO])),tB=(0,l.useCallback)(e=>{e.preventDefault(),tD().catch(e=>{(0,N.vV)("query-bar:handleSubmit",e)})},[tD]);(0,l.useEffect)(()=>{tO&&tT&&tP(!1)},[tO,tT]);let tz=(0,l.useRef)(null);(0,l.useEffect)(()=>(tr&&!tz.current?tz.current=C.d.acquire():!tr&&tz.current&&(tz.current(),tz.current=null),()=>{tz.current&&(tz.current(),tz.current=null)}),[tr]),(0,p.v)(c.Bq,()=>{tD().catch(e=>{(0,N.vV)("query-bar:hotkeys",e)})},[tD]);let tF=(0,l.useMemo)(()=>{let e=tu.some(e=>void 0===e.metadata),t=tu.some(e=>e.metadata instanceof Error);return ez&&e&&!t},[tu,ez]);(0,l.useEffect)(()=>{let e=tu.some(e=>void 0===e.metadata);ez&&!e&&(tu.length||th.length)&&!e2&&tD().catch(e=>{(0,N.vV)("query-bar:imagine-query-bar",e)})},[tu,ez,th,tD,e2]);let tU=(0,T.w1)(e=>eg?e.byId[eg]:void 0),tV=(0,l.useMemo)(()=>{if(tU&&(0,w.sS)(tU.personaId))return(0,F.pL)(tU.personaId,em)},[tU,em]);(0,l.useEffect)(()=>{let e=e=>{var t,s;if(!e.metaKey&&!e.ctrlKey&&!e.altKey&&!e.repeat&&"Tab"!==e.key&&"Enter"!==e.key&&"Shift"!==e.key&&void 0===tR&&!eL&&(null==(t=document.activeElement)?void 0:t.tagName)!=="INPUT"&&(null==(s=document.activeElement)?void 0:s.tagName)!=="TEXTAREA"&&1===e.key.length&&RegExp("[\\p{L}\\p{M}\\p{N}\\p{S}\\p{P}]","u").test(e.key)&&(er||ez)&&eX.current&&!eX.current.isFocused()){let t=eX.current.value()+e.key;eX.current.setValue(t),to(t),setTimeout(()=>{var e;null==(e=eX.current)||e.focus()})}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[er,tR,to,eL,ez]);let tH=(0,u.t)(eX),tW=(0,l.useCallback)(e=>{let t=!e.metaKey&&!e.ctrlKey&&!e.shiftKey,s=!e.nativeEvent.isComposing&&"Process"!==e.key&&"KeyZ"!==e.code&&!tH.current;if("Enter"===e.key&&t&&s&&et&&!e0){e.stopPropagation(),e.preventDefault(),tD().catch(e=>{(0,N.vV)("query-bar:handleKeyDown",e)});return}null==es||es(e)},[et,es,tD,e0,tH]),tG=(0,l.useRef)(null),tK=(0,l.useCallback)(e=>{var t;eH||eW(!0),to(null==(t=eX.current)?void 0:t.value()),tN(!0),null==ea||ea(e),tC(!0),tG.current&&clearTimeout(tG.current),tG.current=setTimeout(()=>{tC(!1)},600)},[ea,to,tC,eH,tN,eW]),tq=(0,l.useCallback)(()=>{var e;null==(e=eY.current)||e.click()},[]),tX=(0,l.useCallback)(e=>{if(!e.target.files)return;let t=ez?eN.r1.ImagineSelfUploadFileSource:void 0,s=Array.from(e.target.files);ew(s,t),s.forEach(e=>{ex("upload_file",e.name,{location:"file-attach-button",mimeType:e.type})})},[ew,ex,ez]),tY=(0,l.useCallback)(e=>{ev(eY,e)},[eY,ev]),tQ=(0,l.useCallback)(e=>{tp(e6,e.assetId)},[e6,tp]),t$=(0,l.useCallback)(()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{ref:e=>{tt(e),eY.current=e},...ts,className:"hidden",type:"file",onChange:tX,multiple:!ez,accept:ez?"image/*":void 0}),te.files&&(0,a.jsx)("div",{className:"text-red-500 absolute top-[-20px]",children:te.files.message})]}),[tt,tX,te,ts,ez]),tZ=(0,l.useCallback)(()=>{var e;tN(!0),eH||eW(!0),null==(e=eX.current)||e.focus()},[tN,eH,eW]),tJ=(0,l.useCallback)(()=>{tN(!0)},[tN]),{modelById:t0,defaultAnonModelId:t1,defaultFreeModelId:t2,defaultProModelId:t3,isPending:t4}=(0,x.GB)(),{isEnterpriseUser:t5,isSuperGrokUser:t8,isSuperGrokProUser:t6}=(0,v.Q2)();(0,l.useEffect)(()=>{var e;if(t4||tv||!t0[tv])return;if(eE!==t3&&(t5||t8||t6)&&t3&&t0[t3]){e_(t3),ti(t3);return}if(eT!==t2&&eu&&t2&&t0[t2]){eA(t2),ti(t2);return}if(eC!==t1&&t1&&t0[t1]){eR(t1),ti(t1);return}let t=null==(e=Object.values(t0)[0])?void 0:e.modelId;t&&ti(t)},[t4,tv,t0,t1,t2,t3,eu]);let t7=!eu,t9=tf.length+tu.length+th.length+ +!!eP,se=null==t0?void 0:t0[tv],{isAttachDisabled:st,isThinkDisabled:ss,isDeepsearchDisabled:sa}=(0,x.QG)(se),sn=(0,l.useCallback)(e=>{if(st)return;let t=[],s=e.clipboardData.getData("text"),a=s.trim();if((0,I.Ks)(a)&&tv===i.E8&&(tk(a),ex("attach_url",a,{location:"query-bar-paste",url:a})),eU.STORE_LONG_PASTES_AS_FILES&&s.length>307200){let e=new File([new Blob([s],{type:"text/plain"})],"pasted-text.txt",{type:"text/plain"});t.push(e)}if(!s){let s=e.clipboardData.items;if(s)for(let e=0;e<s.length;e++){var n;let a=null==(n=s[e])?void 0:n.getAsFile();a&&t.push(a)}}t.length>0&&(e.preventDefault(),ew(t),t.forEach(e=>{ex("upload_file",e.name,{location:"file-paste",mimeType:e.type})}))},[ew,ex,eU,st,tk,tv]),sr=t7?em("Please login to attach files","Please login to attach files"):st?em("Attachments are disabled for this mode","Attachments are disabled for this mode"):em("Attach","Attach"),so=(0,l.useMemo)(()=>{var e,t;let s=tu.some(e=>void 0===e.metadata),a=tu.some(e=>e.metadata instanceof Error),n=!!tr||tu.length>0||(null!=(t=null==(e=tm[e6])?void 0:e.length)?t:0)>0;return eU.ENABLE_VOICE_MODE&&("disconnected"!==eO||ec&&!(null==tU?void 0:tU.personaId)&&!s&&!a&&!n&&!ee&&!e2&&!tO&&!eo)},[eO,eU.ENABLE_VOICE_MODE,null==tU?void 0:tU.personaId,ec,tu,tr,ee,e2,e6,tm,tO,eo]),si=(0,l.useMemo)(()=>["connected","connecting","reconnecting"].includes(eO),[eO]);(0,l.useEffect)(()=>{eD&&eF()},[eg]);let sc=(0,R.C$)(e=>e.userSettings.preferences.showGrok3ModeButtons),sl=(0,R.C$)(e=>e.userSettings.preferences.useModelModeSelector3),{unavailableModels:sd}=(0,x.GB)(),sg=!sd.some(e=>"grok-4"===e.modelId),sm=!ed&&(sl||eU.MERGE_MODEL_MODE_SELECT);return(0,a.jsx)("form",{id:s,className:(0,m.cn)("w-full text-base flex flex-col gap-2 items-center justify-center relative z-10",W),onSubmit:tD,children:(0,a.jsxs)("div",{ref:eq,onClick:tZ,className:(0,m.cn)("flex flex-col gap-0 justify-center w-full relative items-center",er?"@xl:w-4/5":""),children:[tT&&tE&&(0,a.jsx)("div",{className:"w-full flex justify-center items-center",children:(0,a.jsxs)("div",{className:"h-8 bg-surface-l1 mx-5 grow border border-b-0 border-border-l2 rounded-t-xl flex items-center justify-between px-3 select-none shadow shadow-black/5 gap-2",children:[(0,a.jsx)(G,{text:"Generating",size:"md",className:"text-fg-secondary"}),(0,a.jsx)(H.gx,{"aria-label":em("stop-stream-button-label","Stop model response"),variant:"ghostSecondary",size:"iconXs",rounded:!0,tooltipContent:(0,a.jsx)("p",{children:em("stop-stream-button-label","Stop model response")}),tooltipContentProps:{side:"top"},onClick:e=>{e.preventDefault(),Z().catch(console.error)},children:(0,a.jsx)(r.X,{size:16})})]})}),t$(),(0,a.jsxs)("div",{ref:eQ,className:(0,m.cn)("query-bar group z-10","bg-surface-l2","ring-border-l1 hover:ring-border-l2 focus-within:ring-border-l2 hover:focus-within:ring-border-l2","relative w-full overflow-hidden @container/input","shadow shadow-black/5",o.Q,"ring-1 ring-inset focus-within:ring-1",{"pb-12 px-2 @[480px]/input:px-3 rounded-3xl":tS,"px-12 pb-0 rounded-[40px]":!tS,"bg-purple-50 ring-purple-200":eo,"hover:ring-purple-300 focus-within:ring-purple-300 hover:focus-within:ring-purple-300":eo,"dark:bg-purple-1000 dark:ring-purple-700":eo,"dark:hover:ring-purple-600 dark:focus-within:ring-purple-600 dark:hover:focus-within:ring-purple-600":eo}),style:{transitionProperty:"background-color, box-shadow, border-color",transitionDuration:"100ms",transitionTimingFunction:"ease-in-out"},children:[eD&&(0,a.jsx)(_.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3,ease:"easeOut"},className:(0,m.cn)("w-full flex justify-start overflow-x-auto mt-2","no-scrollbar"),children:(0,a.jsxs)("div",{className:(0,m.cn)("flex justify-between items-start pl-4 pr-2 py-2 w-full","bg-input backdrop-blur-lg ring-1 ring-input-border ring-inset","focus-within:ring-input-border-focus focus-within:bg-input-hover","hover:ring-[rgba(0,0,0,0.1)] hover:bg-input-hover pointer-events-auto","rounded-t-[16px] rounded-b-[6px]"),children:[(0,a.jsxs)("div",{className:"flex items-start gap-1 pr-2 overflow-hidden",children:[(0,a.jsx)(r.Sbc,{className:"!size-4 me-3 text-fg-secondary/80 flex-shrink-0 min-h-[40px]"}),(0,a.jsx)("div",{className:"min-h-[40px] flex items-center",children:(0,a.jsx)("span",{className:"text-sm line-clamp-3 whitespace-pre-wrap text-fg-secondary/80",children:eD.trim()})})]}),(0,a.jsx)("button",{className:(0,m.cn)("rounded-full p-1 ml-2 shrink-0 min-h-[40px]"),onClick:eF,"aria-label":em("Remove quoted text","Remove quoted text"),children:(0,a.jsx)(r.X,{className:"!size-4"})})]})}),(0,a.jsx)(_.P.div,{ref:eG,initial:{translateY:-10,opacity:0},animate:{translateY:0,opacity:1},exit:{translateY:-10,opacity:0},className:(0,m.cn)("w-full flex flex-row gap-2 mt-3 px-1 whitespace-nowrap",{hidden:!(t9>0&&tj),"flex-wrap":!e1,"overflow-x-auto":e1},eK),children:(0,a.jsxs)(O.N,{initial:!1,mode:"popLayout",children:["main"===ep.page&&eP&&(0,a.jsx)(_.P.div,{className:"max-w-full",initial:{opacity:0,translateY:-10},animate:{opacity:1,translateY:0},exit:{opacity:0,translateY:-10},transition:{duration:.2},children:(0,a.jsx)(ej,{workspaceId:eP,onWorkspaceIdChange:eM})},"project-chip:"+eP),tf.map((e,t)=>(0,a.jsx)(_.P.div,{className:"max-w-full",initial:{opacity:0,translateY:-10},animate:{opacity:1,translateY:0},exit:{opacity:0,translateY:-10},transition:{duration:.2},children:(0,a.jsx)(K.i,{url:e,onDetachUrl:tw,isErrored:!1})},e+t)),tu.map((e,t)=>(0,a.jsx)(_.P.div,{className:"max-w-full",initial:{opacity:0,translateY:-10},animate:{opacity:1,translateY:0},exit:{opacity:0,translateY:-10},transition:{duration:.2},children:(0,a.jsx)(z.t,{file:e.file,metadata:e.metadata,onRemoveFile:tY,allowCompact:!0})},e.file.name+t)),th.map((e,t)=>(0,a.jsx)(_.P.div,{className:"max-w-full",initial:{opacity:0,translateY:-10},animate:{opacity:1,translateY:0},exit:{opacity:0,translateY:-10},children:(0,a.jsx)(q.u,{asset:e,onRemoveAsset:tQ,allowCompact:!0})},e.assetId+t))]})}),(0,a.jsx)("div",{className:"relative z-10",children:(0,a.jsx)(e8,{ref:eX,value:tr,placeholder:si?em("voice.connecting","Connecting..."):en,isLoading:si,textAreaClassName:X,handleKeyDown:tW,handleChange:tK,handlePaste:sn,handleFocus:tJ,isExpanded:tS,disabled:eU.ENABLE_VOICE_MODE&&"disconnected"!==eO||tF,disableAutoFocus:ez})}),(0,a.jsxs)("div",{className:"flex gap-1.5 absolute inset-x-0 bottom-0 border-2 border-transparent p-2 @[480px]/input:p-2 max-w-full",children:[(0,a.jsx)(B.d,{label:sr,disabled:t7||st,queryBarExpanded:tj,totalFileCount:t9,handleClickUpload:tq,onWorkspaceAttached:e5,imageAttachmentsOnly:ez}),(0,a.jsxs)(_.P.div,{className:(0,m.cn)("flex grow gap-1.5 max-w-full",tS?"":"pointer-events-none"),children:[(0,a.jsxs)("div",{className:"grow flex gap-1.5 max-w-full",children:[(0,a.jsx)(O.N,{children:(!sg||sc)&&!sm&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)($,{model:se,personaSettings:tV,isDeepsearchSelected:tl,reasoningMode:td,isIncognito:eo,deepsearchDisabled:sa,forceShowLabel:eJ,showLabel:tl&&eZ},"1"),(0,a.jsx)(ek,{model:se,personaSettings:tV,isThinkSelected:tc,isIncognito:eo,thinkDisabled:ss,forceShowLabel:eJ,showLabel:tc&&eZ},"2")]})}),sm&&(0,a.jsx)(ef.Pd,{})]}),(0,a.jsx)("div",{className:"flex items-center",children:!sm&&!ed&&!eU.MERGE_MODEL_MODE_SELECT&&(0,a.jsx)(ef.om,{})})]}),(0,a.jsxs)("div",{className:(0,m.cn)("ml-auto flex flex-row items-end gap-1"),children:[!tT&&(so?(0,a.jsx)(eb,{isConnecting:si,onEnterVoiceMode:el}):(0,a.jsx)(_.P.button,{initial:{opacity:.5},animate:{opacity:1,transition:{duration:.1}},whileHover:tM?{scale:1.1}:void 0,whileTap:tM?{scale:.95}:void 0,className:(0,m.cn)("group flex flex-col justify-center rounded-full focus:outline-none focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring"),type:"submit","aria-label":em("Submit","Submit"),disabled:!tM,onClick:tB,children:(0,a.jsx)("div",{className:(0,m.cn)("h-10 relative","aspect-square flex flex-col items-center justify-center","rounded-full ring-1 ring-inset","before:absolute before:inset-0 before:rounded-full before:bg-button-filled before:ring-0 before:transition-[clip-path,background-color] duration-100",tM?"".concat(eo?"bg-purple-500 dark:bg-purple-400":"bg-button-filled"," text-fg-invert ring-transparent before:[clip-path:circle(50%_at_50%_50%)]"):"".concat(eo?"bg-warm-gray-200 dark:bg-gray-600":"bg-warm-gray-100 dark:bg-gray-600"," text-fg-secondary before:[clip-path:circle(0%_at_50%_50%)] ring-0")),children:(0,a.jsx)(r.Kpk,{size:20,className:"relative"})})})),tT&&(0,a.jsx)(_.P.button,{whileTap:{scale:.95},initial:{scale:.95,opacity:1},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:.5,transition:{duration:.2}},"aria-label":em("stop-stream-button-label","Stop model response"),className:(0,m.cn)("group flex flex-col justify-center rounded-full focus:outline-none focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring"),onClick:e=>{e.preventDefault(),Z().catch(console.error)},children:(0,a.jsx)("div",{className:(0,m.cn)("h-10","aspect-square flex flex-col items-center justify-center rounded-full","rounded-full ring-1 ring-inset","bg-button-filled text-fg-invert"),children:(0,a.jsx)(r.qcq,{})})})]})]})]}),er&&eo&&(0,a.jsx)(_.P.div,{initial:{translateY:-20,opacity:0},animate:{translateY:0,opacity:1},className:"absolute inset-x-0 rounded-full bottom-full sm:top-full start-0 text-fg-secondary",children:(0,a.jsxs)("div",{className:(0,m.cn)("py-4 sm:px-6 mx-auto flex flex-row items-start gap-1 text-sm",o.Q),children:[(0,a.jsx)(r.fz0,{size:16,className:"m-1 opacity-70 shrink-0"}),(0,a.jsx)("span",{className:"bg-surface-base",children:em("private-conversation-blurb","This chat won't appear in your history and will not be used to train models.")})]})})]})})});eC.displayName="QueryBar";let eS=async()=>!1,eI=[]},51591:(e,t,s)=>{"use strict";s.d(t,{IN:()=>o,ZD:()=>c,wW:()=>l});var a=s(84448);let n="grok:",r="".concat(n,"render"),o="<".concat(r),i="</".concat(r,">");function c(e){let t=e;t.includes(i)||(t+=i);let s=new a.vf({ignoreAttributes:!1,alwaysCreateTextNode:!0,attributeNamePrefix:n});try{let e=s.parse(t)[r];if(e){let t=e[n+"card_id"]||"",s=e[n+"card_type"]||"";return{id:t,type:s}}}catch(e){}return{id:void 0,type:void 0}}function l(e){let t=e;t.includes(i)||(t+=i);let s=new a.vf({ignoreAttributes:!1,alwaysCreateTextNode:!0,attributeNamePrefix:"grok:"}),n="",r="";try{let e=s.parse(t)["grok:richcontent"];e&&(n=e["grok:id"]||"",r=e["grok:type"]||"")}catch(e){}return{id:n,type:r}}},52244:(e,t,s)=>{"use strict";s.d(t,{w:()=>T});var a=s(79342),n=s(38614),r=s(11750),o=s(56691),i=s(47127),c=s(43086),l=s(97960),d=s(74995),g=s(88382);let m=e=>{let t=(0,n.aP)(d.A("streamedMessageId")),s=(0,l.A3)(d.A("byId")),a=(0,g.useMemo)(()=>{let a=t?s[t]:void 0;if((null==a?void 0:a.conversationId)===e)return a},[t,s,e]);return(null==a?void 0:a.state)==="streaming"||(null==a?void 0:a.state)==="reconnecting"};var p=s(79339),u=s(23232),h=s(17703),f=s(77232),k=s(61312),b=s(95158),x=s(56907),w=s(65146),v=s(14908),y=s(61349),j=s(3353),N=s(625),C=s(71865),S=s(98579),I=s(73772);let T=e=>{let{conversationId:t,responseId:s,variant:l,size:T,rounded:E,iconProps:R,showLabel:A,className:_,disabled:O,onClick:P,asDropdownItem:M=!1,hideIcon:L=!1}=e,{t:D}=(0,w.Bd)("chat"),B=(0,u._)(),[z,F]=(0,g.useState)(!1),U=(0,p.Y)(),{currentTeam:V}=(0,N.hd)(),H=(0,C.n)(),W=(0,S.o)(),{mutate:G,isPending:K,data:q}=(0,x.n_)({mutationKey:["share-conversation",t,s],mutationFn:()=>b.chatApi.chatShareConversation({conversationId:t,body:{responseId:s,allowIndexing:!0}})}),X=(0,g.useCallback)(e=>{let a=window.location.origin+W(null!=e?e:"");B("chat_share_pressed",a,{location:"share-button",conversationId:t,responseId:s,shareUrl:a}),F(!0),(0,f.g)(a,D("share-button.copied-share-link","Copied link to clipboard. Shared links can be viewed by anyone with the link.")),setTimeout(()=>F(!1),1e3)},[D,t,s,B,W]),Y=(0,g.useCallback)(()=>{V&&function(e){let{conversationId:t,responseId:s,title:a}=e,n=["share-response",t,s];j.Q.getState().openShareDialog({title:a,onSave:async e=>{var a,r;return(e.sharedWithTeam||(null==(a=e.sharedWithUserIds)?void 0:a.length)?b.chatApi.chatShareConversation({conversationId:t,body:{responseId:s,teamMembersToShare:(null==e||null==(r=e.sharedWithUserIds)?void 0:r.length)?e.sharedWithUserIds:[],shareWithTeamMembers:e.sharedWithTeam,allowIndexing:!0}}):b.chatApi.chatDeleteShareLink({shareLinkId:e.shareLinkId||""})).then(()=>{(0,y.SX)().invalidateQueries({queryKey:n})}).catch(e=>{throw e})},useFetchData:()=>(0,x.IT)({queryKey:n,queryFn:async()=>{var e,a;let n=(null==(e=(await b.chatApi.chatListShareLinks({conversationId:t,responseId:s,pageSize:"1"})).shareLinks)?void 0:e[0])||null;return n?{shareUrl:"".concat(window.location.origin,"/share/").concat(n.publicId),shareLinkId:n.shareLinkId,sharedWithTeam:(null==(a=n.sharedWithUserIds)||!a.length)&&!!n.sharedWithTeam,sharedWithUserIds:n.sharedWithUserIds||[]}:{sharedWithTeam:!1,sharedWithUserIds:[]}}})})}({conversationId:t,responseId:s,title:D("share-response-for-teams.title","Share conversation")})},[t,s,D,V]),Q=(0,g.useCallback)(()=>{if(null==q?void 0:q.shareLinkId)return void X(q.shareLinkId);G(void 0,{onSuccess:e=>{if(!e.shareLinkId){(0,h.vV)("share-button:success",Error("Missing share link id")),v.oR.error("Failed to share conversation");return}X(e.shareLinkId)},onError:(0,h.HX)("share-button:error")})},[X,G,null==q?void 0:q.shareLinkId]),$=(0,g.useCallback)(()=>{if(null==q?void 0:q.shareLinkId)return void X(q.shareLinkId);let e=new ClipboardItem({"text/plain":b.chatApi.chatShareConversation({conversationId:t,body:{responseId:s,allowIndexing:!0}}).then(e=>{var t;return window.location.origin+W(null!=(t=null==e?void 0:e.shareLinkId)?t:"")}).then(e=>new Blob([e],{type:"text/plain"}))});navigator.clipboard.write([e]).then(()=>{v.oR.success(D("share-button.copied-share-link","Copied link to clipboard. Shared links can be viewed by anyone with the link.")),F(!0),setTimeout(()=>F(!1),1e3)}).catch(e=>v.oR.error(e.message))},[X,null==q?void 0:q.shareLinkId,t,s,W,D]),Z=m(t),J=(0,n.aP)(d.A("lastMessageId")),ee=Z&&J===s,et=(0,g.useCallback)(()=>{H?Y():U?$():Q(),null==P||P()},[H,Y,U,$,Q,P]),es=(0,g.useCallback)(()=>(0,a.jsxs)(a.Fragment,{children:[L?null:(0,a.jsx)(i.p,{children:z?(0,a.jsx)(r.Srz,{...R}):K?(0,a.jsx)(c.y,{size:A?"sm":"xs"}):(null==q?void 0:q.shareLinkId)?(0,a.jsx)(r.N_E,{...R}):(0,a.jsx)(r.liv,{...R})},z?"copied":(null==q?void 0:q.shareLinkId)?"reshare":"share"),A?M?(0,a.jsx)("span",{children:D("create share link","Create share link")}):(0,a.jsx)("span",{className:"font-semibold",children:D("share conversation","Share")}):null]}),[L,z,null==q?void 0:q.shareLinkId,R,K,A,M,D]);return M?(0,a.jsx)(I._2,{className:(0,k.cn)("flex items-center gap-2"),onClick:et,disabled:K||ee||!!O,children:es()}):(0,a.jsx)(o.gx,{variant:l,size:T,rounded:E,"aria-label":H?D("Share conversation with team","Share conversation with team"):(null==q?void 0:q.shareLinkId)?D("Update share link","Update share link"):D("Create share link","Create share link"),onClick:et,className:(0,k.cn)("rounded-full",_),tooltipContent:ee?D("share-button.stream-in-progress","Please wait for the response to finish streaming"):z?D("Copied!","Copied!"):H?D("share-button.teams","Share with your team"):(null==q?void 0:q.shareLinkId)?D("share-button.update-share-link","Update share link"):D("share-button.create-share-link","Create share link"),tooltipContentProps:{side:"bottom"},disabled:K||ee||!!O,children:es()})}},52265:(e,t,s)=>{"use strict";async function a(e,t){let s=document.createElement("a");s.download=t,s.href=e,document.body.appendChild(s),s.click(),document.body.removeChild(s)}async function n(e,t){let s=window.URL.createObjectURL(e);await a(s,t),window.URL.revokeObjectURL(s)}s.d(t,{W:()=>n,z:()=>a})},52334:(e,t,s)=>{var a={"./ar-SA/base.json":[22798,22798],"./ar-SA/chat.json":[7373,7373],"./ar-SA/companion.json":[51557,51557],"./ar-SA/data.report-issue.json":[73525,73525],"./ar-SA/emojipicker.json":[41512,19131],"./ar-SA/files.json":[23528,23528],"./ar-SA/finance-cards.json":[65471,65471],"./ar-SA/finance.json":[65965,65965],"./ar-SA/imagine.json":[78427,78427],"./ar-SA/loading.json":[84971,84971],"./ar-SA/settings.json":[57846,57846],"./ar-SA/share.json":[38132,38132],"./ar-SA/tasks.json":[83029,83029],"./ar-SA/tasks_docs.json":[25539,25539],"./ar-SA/translation.json":[85936,85936],"./ar-SA/upsell.json":[61674,61674],"./ar-SA/workspace.json":[3562,3562],"./ar/base.json":[24431,24431],"./ar/chat.json":[8716,8716],"./ar/companion.json":[94481,16862],"./ar/data.report-issue.json":[8202,8202],"./ar/emojipicker.json":[91116,91116],"./ar/files.json":[91051,91051],"./ar/finance-cards.json":[14228,14228],"./ar/finance.json":[49005,71386],"./ar/imagine.json":[90992,90992],"./ar/loading.json":[46828,46828],"./ar/settings.json":[43711,43711],"./ar/share.json":[44267,44267],"./ar/tasks.json":[51470,51470],"./ar/tasks_docs.json":[86886,86886],"./ar/translation.json":[88459,88459],"./ar/upsell-x.json":[5430,5430],"./ar/upsell.json":[81559,81559],"./ar/workspace.json":[95253,95253],"./bg-BG/base.json":[66687,66687],"./bg-BG/chat.json":[83036,83036],"./bg-BG/companion.json":[91662,91662],"./bg-BG/data.report-issue.json":[74650,74650],"./bg-BG/emojipicker.json":[39772,39772],"./bg-BG/files.json":[28283,28283],"./bg-BG/finance-cards.json":[41796,41796],"./bg-BG/finance.json":[19178,19178],"./bg-BG/imagine.json":[67712,67712],"./bg-BG/loading.json":[92124,92124],"./bg-BG/settings.json":[76815,76815],"./bg-BG/share.json":[74491,74491],"./bg-BG/tasks.json":[31902,31902],"./bg-BG/tasks_docs.json":[22006,22006],"./bg-BG/translation.json":[38395,38395],"./bg-BG/upsell-x.json":[4486,4486],"./bg-BG/upsell.json":[29959,29959],"./bg-BG/workspace.json":[71429,71429],"./bg/base.json":[2459,2459],"./bg/chat.json":[99160,99160],"./bg/companion.json":[86994,86994],"./bg/data.report-issue.json":[71774,71774],"./bg/emojipicker.json":[77035,99416],"./bg/files.json":[73871,73871],"./bg/finance-cards.json":[7728,7728],"./bg/finance.json":[36998,36998],"./bg/imagine.json":[64076,64076],"./bg/loading.json":[42064,42064],"./bg/settings.json":[14779,14779],"./bg/share.json":[59103,59103],"./bg/tasks.json":[62322,62322],"./bg/tasks_docs.json":[42122,42122],"./bg/translation.json":[51463,51463],"./bg/upsell.json":[94539,94539],"./bg/workspace.json":[85929,85929],"./bn-BD/base.json":[86967,86967],"./bn-BD/chat.json":[53028,53028],"./bn-BD/companion.json":[17590,17590],"./bn-BD/data.report-issue.json":[47586,47586],"./bn-BD/emojipicker.json":[14340,14340],"./bn-BD/files.json":[80067,80067],"./bn-BD/finance-cards.json":[99660,99660],"./bn-BD/finance.json":[55138,55138],"./bn-BD/imagine.json":[81544,81544],"./bn-BD/loading.json":[13924,13924],"./bn-BD/settings.json":[59591,59591],"./bn-BD/share.json":[78931,78931],"./bn-BD/tasks.json":[12022,12022],"./bn-BD/tasks_docs.json":[45950,45950],"./bn-BD/translation.json":[3507,3507],"./bn-BD/upsell.json":[74079,74079],"./bn-BD/workspace.json":[56461,56461],"./bn/base.json":[31782,31782],"./bn/chat.json":[20181,20181],"./bn/companion.json":[71021,71021],"./bn/data.report-issue.json":[92477,92477],"./bn/emojipicker.json":[42115,42115],"./bn/files.json":[88016,88016],"./bn/finance-cards.json":[20711,20711],"./bn/finance.json":[93765,93765],"./bn/imagine.json":[34083,34083],"./bn/loading.json":[88403,88403],"./bn/settings.json":[16040,71278],"./bn/share.json":[98764,98764],"./bn/tasks.json":[76045,76045],"./bn/tasks_docs.json":[39211,39211],"./bn/translation.json":[61064,61064],"./bn/upsell-x.json":[62867,62867],"./bn/upsell.json":[87170,87170],"./bn/workspace.json":[3154,3154],"./cs-CZ/base.json":[70172,70172],"./cs-CZ/chat.json":[27727,27727],"./cs-CZ/companion.json":[30555,30555],"./cs-CZ/data.report-issue.json":[87119,9500],"./cs-CZ/emojipicker.json":[53273,53273],"./cs-CZ/files.json":[75242,75242],"./cs-CZ/finance-cards.json":[80525,80525],"./cs-CZ/finance.json":[90431,90431],"./cs-CZ/imagine.json":[96509,96509],"./cs-CZ/loading.json":[94665,94665],"./cs-CZ/settings.json":[62196,62196],"./cs-CZ/share.json":[29438,29438],"./cs-CZ/tasks.json":[17051,17051],"./cs-CZ/tasks_docs.json":[95733,95733],"./cs-CZ/translation.json":[98926,98926],"./cs-CZ/upsell-x.json":[95637,95637],"./cs-CZ/upsell.json":[65116,65116],"./cs-CZ/workspace.json":[88812,88812],"./cs/base.json":[10668,10668],"./cs/chat.json":[55327,55327],"./cs/companion.json":[1387,1387],"./cs/data.report-issue.json":[3615,3615],"./cs/emojipicker.json":[43401,43401],"./cs/files.json":[1146,1146],"./cs/finance-cards.json":[5693,5693],"./cs/finance.json":[3791,3791],"./cs/imagine.json":[69229,69229],"./cs/loading.json":[793,793],"./cs/settings.json":[13124,13124],"./cs/share.json":[10542,10542],"./cs/tasks.json":[90795,90795],"./cs/tasks_docs.json":[32773,32773],"./cs/translation.json":[670,670],"./cs/upsell-x.json":[14277,14277],"./cs/upsell.json":[91756,91756],"./cs/workspace.json":[39100,39100],"./da-DK/base.json":[20309,20309],"./da-DK/chat.json":[72438,72438],"./da-DK/companion.json":[94356,94356],"./da-DK/data.report-issue.json":[84860,84860],"./da-DK/emojipicker.json":[16570,16570],"./da-DK/files.json":[42117,42117],"./da-DK/finance-cards.json":[63290,63290],"./da-DK/finance.json":[12564,12564],"./da-DK/imagine.json":[1882,1882],"./da-DK/loading.json":[80610,80610],"./da-DK/settings.json":[96661,96661],"./da-DK/share.json":[77,77],"./da-DK/tasks.json":[71420,71420],"./da-DK/tasks_docs.json":[86120,86120],"./da-DK/translation.json":[47505,47505],"./da-DK/upsell-x.json":[57283,79664],"./da-DK/upsell.json":[71353,71353],"./da-DK/workspace.json":[46621,91383],"./da/base.json":[5899,5899],"./da/chat.json":[56552,56552],"./da/companion.json":[37922,37922],"./da/data.report-issue.json":[1902,1902],"./da/emojipicker.json":[75336,75336],"./da/files.json":[61311,61311],"./da/finance-cards.json":[20416,20416],"./da/finance.json":[35062,35062],"./da/imagine.json":[27676,27676],"./da/loading.json":[58880,58880],"./da/settings.json":[61483,61483],"./da/share.json":[40271,40271],"./da/tasks.json":[36002,36002],"./da/tasks_docs.json":[43802,43802],"./da/translation.json":[38743,38743],"./da/upsell.json":[27963,27963],"./da/workspace.json":[66425,66425],"./de-DE/base.json":[9500,87119],"./de-DE/chat.json":[74572,74572],"./de-DE/companion.json":[4414,4414],"./de-DE/data.report-issue.json":[25738,25738],"./de-DE/emojipicker.json":[95756,95756],"./de-DE/files.json":[32843,32843],"./de-DE/finance-cards.json":[71604,71604],"./de-DE/finance.json":[54349,76730],"./de-DE/imagine.json":[80464,80464],"./de-DE/loading.json":[16236,16236],"./de-DE/settings.json":[62591,62591],"./de-DE/share.json":[80491,80491],"./de-DE/tasks.json":[74158,74158],"./de-DE/tasks_docs.json":[20006,20006],"./de-DE/translation.json":[37867,37867],"./de-DE/upsell.json":[4951,4951],"./de-DE/workspace.json":[10645,10645],"./de/base.json":[33175,33175],"./de/chat.json":[80164,80164],"./de/companion.json":[46294,46294],"./de/data.report-issue.json":[37090,37090],"./de/emojipicker.json":[62532,62532],"./de/files.json":[57187,57187],"./de/finance-cards.json":[49036,49036],"./de/finance.json":[31042,31042],"./de/imagine.json":[11464,11464],"./de/loading.json":[1412,1412],"./de/settings.json":[91591,91591],"./de/share.json":[79507,79507],"./de/tasks.json":[29238,29238],"./de/tasks_docs.json":[1854,1854],"./de/translation.json":[15123,15123],"./de/upsell-x.json":[65662,65662],"./de/upsell.json":[17119,17119],"./de/workspace.json":[88621,88621],"./el-GR/base.json":[69575,69575],"./el-GR/chat.json":[54868,54868],"./el-GR/companion.json":[78489,870],"./el-GR/data.report-issue.json":[77874,77874],"./el-GR/emojipicker.json":[17287,39668],"./el-GR/files.json":[19283,19283],"./el-GR/finance-cards.json":[2511,24892],"./el-GR/finance.json":[52242,52242],"./el-GR/imagine.json":[91064,91064],"./el-GR/loading.json":[55879,78260],"./el-GR/settings.json":[12087,12087],"./el-GR/share.json":[75587,75587],"./el-GR/tasks.json":[89222,89222],"./el-GR/tasks_docs.json":[66318,66318],"./el-GR/translation.json":[71779,71779],"./el-GR/upsell-x.json":[33486,33486],"./el-GR/upsell.json":[66063,66063],"./el-GR/workspace.json":[89386,67005],"./el/base.json":[6333,6333],"./el/chat.json":[21646,21646],"./el/companion.json":[89068,89068],"./el/data.report-issue.json":[37204,37204],"./el/emojipicker.json":[70802,70802],"./el/files.json":[22749,22749],"./el/finance-cards.json":[72850,72850],"./el/finance.json":[18012,18012],"./el/imagine.json":[57202,57202],"./el/loading.json":[99802,99802],"./el/settings.json":[76861,76861],"./el/share.json":[39733,39733],"./el/tasks.json":[31844,31844],"./el/tasks_docs.json":[73152,73152],"./el/translation.json":[53401,53401],"./el/upsell.json":[62945,62945],"./el/workspace.json":[89327,89327],"./en/base.json":[47919,47919],"./en/chat.json":[35372,35372],"./en/companion.json":[84126,84126],"./en/data.report-issue.json":[6794,6794],"./en/emojipicker.json":[588,588],"./en/files.json":[45323,45323],"./en/finance-cards.json":[82708,82708],"./en/finance.json":[11994,11994],"./en/imagine.json":[15728,15728],"./en/loading.json":[51500,51500],"./en/settings.json":[74623,74623],"./en/share.json":[92971,92971],"./en/tasks.json":[86638,86638],"./en/tasks_docs.json":[11174,11174],"./en/translation.json":[26347,26347],"./en/upsell.json":[53207,53207],"./en/workspace.json":[6709,6709],"./es-419/base.json":[50683,50683],"./es-419/chat.json":[47384,47384],"./es-419/companion.json":[87634,87634],"./es-419/data.report-issue.json":[12734,12734],"./es-419/emojipicker.json":[84440,84440],"./es-419/files.json":[40239,40239],"./es-419/finance-cards.json":[55920,55920],"./es-419/finance.json":[60230,60230],"./es-419/imagine.json":[70956,70956],"./es-419/loading.json":[65296,65296],"./es-419/settings.json":[87387,87387],"./es-419/share.json":[9119,9119],"./es-419/tasks.json":[28690,28690],"./es-419/tasks_docs.json":[47210,47210],"./es-419/translation.json":[20135,20135],"./es-419/upsell.json":[53451,53451],"./es-419/workspace.json":[86569,86569],"./es-ES/base.json":[14641,14641],"./es-ES/chat.json":[83458,83458],"./es-ES/companion.json":[77752,77752],"./es-ES/data.report-issue.json":[32048,32048],"./es-ES/emojipicker.json":[83190,83190],"./es-ES/files.json":[28953,28953],"./es-ES/finance-cards.json":[59558,59558],"./es-ES/finance.json":[89184,89184],"./es-ES/imagine.json":[28902,28902],"./es-ES/loading.json":[24262,24262],"./es-ES/settings.json":[20385,20385],"./es-ES/share.json":[34961,34961],"./es-ES/tasks.json":[34208,34208],"./es-ES/tasks_docs.json":[26556,26556],"./es-ES/translation.json":[3293,3293],"./es-ES/upsell-x.json":[69228,69228],"./es-ES/upsell.json":[11373,11373],"./es-ES/workspace.json":[98795,98795],"./es/base.json":[16462,16462],"./es/chat.json":[70445,70445],"./es/companion.json":[65029,65029],"./es/data.report-issue.json":[43189,43189],"./es/emojipicker.json":[36603,36603],"./es/files.json":[90440,90440],"./es/finance-cards.json":[61791,61791],"./es/finance.json":[89133,89133],"./es/imagine.json":[67099,67099],"./es/loading.json":[16043,16043],"./es/settings.json":[17142,17142],"./es/share.json":[7252,7252],"./es/tasks.json":[64629,64629],"./es/tasks_docs.json":[57827,57827],"./es/translation.json":[63920,63920],"./es/upsell-x.json":[69019,69019],"./es/upsell.json":[65194,65194],"./es/workspace.json":[34378,34378],"./fa-IR/base.json":[15657,15657],"./fa-IR/chat.json":[5738,5738],"./fa-IR/companion.json":[12448,12448],"./fa-IR/data.report-issue.json":[55064,55064],"./fa-IR/emojipicker.json":[66750,66750],"./fa-IR/files.json":[17902,95521],"./fa-IR/finance-cards.json":[88718,88718],"./fa-IR/finance.json":[74744,74744],"./fa-IR/imagine.json":[42414,42414],"./fa-IR/loading.json":[25838,25838],"./fa-IR/settings.json":[42521,42521],"./fa-IR/share.json":[65161,65161],"./fa-IR/tasks.json":[64344,64344],"./fa-IR/tasks_docs.json":[580,580],"./fa-IR/translation.json":[41589,41589],"./fa-IR/upsell.json":[59525,59525],"./fa-IR/workspace.json":[99091,99091],"./fa/base.json":[62481,62481],"./fa/chat.json":[18082,18082],"./fa/companion.json":[85816,85816],"./fa/data.report-issue.json":[19280,19280],"./fa/emojipicker.json":[72342,72342],"./fa/files.json":[81145,81145],"./fa/finance-cards.json":[11302,11302],"./fa/finance.json":[77792,77792],"./fa/imagine.json":[3558,3558],"./fa/loading.json":[87014,87014],"./fa/settings.json":[62401,62401],"./fa/share.json":[40305,40305],"./fa/tasks.json":[57728,57728],"./fa/tasks_docs.json":[5340,5340],"./fa/translation.json":[16669,16669],"./fa/upsell-x.json":[51788,51788],"./fa/upsell.json":[86157,86157],"./fa/workspace.json":[74571,74571],"./fi-FI/base.json":[94531,94531],"./fi-FI/chat.json":[2384,2384],"./fi-FI/companion.json":[30602,30602],"./fi-FI/data.report-issue.json":[99030,99030],"./fi-FI/emojipicker.json":[38160,38160],"./fi-FI/files.json":[36071,36071],"./fi-FI/finance-cards.json":[54152,54152],"./fi-FI/finance.json":[41134,41134],"./fi-FI/imagine.json":[56228,56228],"./fi-FI/loading.json":[86728,86728],"./fi-FI/settings.json":[37059,37059],"./fi-FI/share.json":[96647,96647],"./fi-FI/tasks.json":[5306,5306],"./fi-FI/tasks_docs.json":[22690,22690],"./fi-FI/translation.json":[53807,53807],"./fi-FI/upsell-x.json":[81146,81146],"./fi-FI/upsell.json":[41619,41619],"./fi-FI/workspace.json":[62465,62465],"./fi/base.json":[63945,63945],"./fi/chat.json":[48458,48458],"./fi/companion.json":[32800,32800],"./fi/data.report-issue.json":[11896,11896],"./fi/emojipicker.json":[59998,59998],"./fi/files.json":[80897,80897],"./fi/finance-cards.json":[93614,93614],"./fi/finance.json":[52984,52984],"./fi/imagine.json":[51246,51246],"./fi/loading.json":[80782,80782],"./fi/settings.json":[86489,86489],"./fi/share.json":[37385,37385],"./fi/tasks.json":[2616,2616],"./fi/tasks_docs.json":[49988,49988],"./fi/translation.json":[65333,65333],"./fi/upsell.json":[48741,48741],"./fi/workspace.json":[2419,2419],"./fil-PH/base.json":[62420,62420],"./fil-PH/chat.json":[73399,73399],"./fil-PH/companion.json":[76291,76291],"./fil-PH/data.report-issue.json":[82295,82295],"./fil-PH/emojipicker.json":[87969,87969],"./fil-PH/files.json":[25170,25170],"./fil-PH/finance-cards.json":[88565,88565],"./fil-PH/finance.json":[69002,13764],"./fil-PH/imagine.json":[89189,89189],"./fil-PH/loading.json":[26001,26001],"./fil-PH/settings.json":[56524,56524],"./fil-PH/share.json":[97846,97846],"./fil-PH/tasks.json":[85235,85235],"./fil-PH/tasks_docs.json":[24989,24989],"./fil-PH/translation.json":[39462,39462],"./fil-PH/upsell.json":[83156,83156],"./fil-PH/workspace.json":[91284,91284],"./fil/base.json":[31725,31725],"./fil/chat.json":[51870,51870],"./fil/companion.json":[89180,89180],"./fil/data.report-issue.json":[79268,79268],"./fil/emojipicker.json":[78722,78722],"./fil/files.json":[22381,22381],"./fil/finance-cards.json":[77826,77826],"./fil/finance.json":[57548,57548],"./fil/imagine.json":[2786,2786],"./fil/loading.json":[15914,15914],"./fil/settings.json":[43629,43629],"./fil/share.json":[60549,60549],"./fil/tasks.json":[15380,15380],"./fil/tasks_docs.json":[13136,13136],"./fil/translation.json":[34761,34761],"./fil/upsell-x.json":[79899,2280],"./fil/upsell.json":[78289,78289],"./fil/workspace.json":[28044,5663],"./fr-CA/base.json":[28005,28005],"./fr-CA/chat.json":[31878,31878],"./fr-CA/companion.json":[73444,73444],"./fr-CA/data.report-issue.json":[30156,30156],"./fr-CA/emojipicker.json":[54506,54506],"./fr-CA/files.json":[94549,94549],"./fr-CA/finance-cards.json":[11005,33386],"./fr-CA/finance.json":[11076,11076],"./fr-CA/imagine.json":[95242,95242],"./fr-CA/loading.json":[79986,79986],"./fr-CA/settings.json":[82757,82757],"./fr-CA/share.json":[98973,98973],"./fr-CA/tasks.json":[72524,72524],"./fr-CA/tasks_docs.json":[14680,14680],"./fr-CA/translation.json":[10369,10369],"./fr-CA/upsell-x.json":[78368,78368],"./fr-CA/upsell.json":[29001,29001],"./fr-CA/workspace.json":[92231,92231],"./fr-FR/base.json":[90965,90965],"./fr-FR/chat.json":[17782,17782],"./fr-FR/companion.json":[43188,43188],"./fr-FR/data.report-issue.json":[36092,36092],"./fr-FR/emojipicker.json":[58829,81210],"./fr-FR/files.json":[32581,32581],"./fr-FR/finance-cards.json":[41594,41594],"./fr-FR/finance.json":[59924,59924],"./fr-FR/imagine.json":[57498,57498],"./fr-FR/loading.json":[76002,76002],"./fr-FR/settings.json":[31893,31893],"./fr-FR/share.json":[79437,79437],"./fr-FR/tasks.json":[97980,97980],"./fr-FR/tasks_docs.json":[76232,76232],"./fr-FR/translation.json":[42353,42353],"./fr-FR/upsell.json":[94201,94201],"./fr-FR/workspace.json":[16727,16727],"./fr/base.json":[21174,21174],"./fr/chat.json":[46853,46853],"./fr/companion.json":[33245,33245],"./fr/data.report-issue.json":[29613,29613],"./fr/emojipicker.json":[31667,31667],"./fr/files.json":[90784,90784],"./fr/finance-cards.json":[2231,2231],"./fr/finance.json":[70421,70421],"./fr/imagine.json":[24531,24531],"./fr/loading.json":[75363,75363],"./fr/settings.json":[96926,96926],"./fr/share.json":[3740,3740],"./fr/tasks.json":[70013,70013],"./fr/tasks_docs.json":[56315,56315],"./fr/translation.json":[61656,61656],"./fr/upsell-x.json":[39939,39939],"./fr/upsell.json":[14130,14130],"./fr/workspace.json":[35266,35266],"./he-IL/base.json":[31989,31989],"./he-IL/chat.json":[51318,51318],"./he-IL/companion.json":[38996,38996],"./he-IL/data.report-issue.json":[8540,8540],"./he-IL/emojipicker.json":[16058,16058],"./he-IL/files.json":[58533,58533],"./he-IL/finance-cards.json":[84314,84314],"./he-IL/finance.json":[53364,53364],"./he-IL/imagine.json":[87098,87098],"./he-IL/loading.json":[92386,92386],"./he-IL/settings.json":[68149,68149],"./he-IL/share.json":[80205,80205],"./he-IL/tasks.json":[56828,56828],"./he-IL/tasks_docs.json":[12136,12136],"./he-IL/translation.json":[40529,40529],"./he-IL/upsell-x.json":[50627,73008],"./he-IL/upsell.json":[89049,89049],"./he-IL/workspace.json":[27127,27127],"./hi-IN/base.json":[6915,6915],"./hi-IN/chat.json":[92387,14768],"./hi-IN/companion.json":[6698,6698],"./hi-IN/data.report-issue.json":[91382,91382],"./hi-IN/emojipicker.json":[18576,18576],"./hi-IN/files.json":[89127,89127],"./hi-IN/finance-cards.json":[78952,78952],"./hi-IN/finance.json":[12014,12014],"./hi-IN/imagine.json":[27108,27108],"./hi-IN/loading.json":[57608,57608],"./hi-IN/settings.json":[98563,98563],"./hi-IN/share.json":[49703,49703],"./hi-IN/tasks.json":[58362,58362],"./hi-IN/tasks_docs.json":[90082,90082],"./hi-IN/translation.json":[56604,34223],"./hi-IN/upsell-x.json":[26298,26298],"./hi-IN/upsell.json":[47123,47123],"./hi-IN/workspace.json":[22209,22209],"./hi/base.json":[17615,17615],"./hi/chat.json":[20556,20556],"./hi/companion.json":[55454,55454],"./hi/data.report-issue.json":[21642,21642],"./hi/emojipicker.json":[68140,68140],"./hi/files.json":[42027,42027],"./hi/finance-cards.json":[38420,38420],"./hi/finance.json":[99546,99546],"./hi/imagine.json":[33008,33008],"./hi/loading.json":[98284,98284],"./hi/settings.json":[90527,90527],"./hi/share.json":[28363,28363],"./hi/tasks.json":[70318,70318],"./hi/tasks_docs.json":[53222,53222],"./hi/translation.json":[28171,28171],"./hi/upsell-x.json":[58678,58678],"./hi/upsell.json":[89271,89271],"./hi/workspace.json":[18613,18613],"./hr-HR/base.json":[38049,38049],"./hr-HR/chat.json":[94482,94482],"./hr-HR/companion.json":[92923,15304],"./hr-HR/data.report-issue.json":[10688,10688],"./hr-HR/emojipicker.json":[60998,60998],"./hr-HR/files.json":[71913,71913],"./hr-HR/finance-cards.json":[11862,11862],"./hr-HR/finance.json":[44080,44080],"./hr-HR/imagine.json":[52438,30057],"./hr-HR/loading.json":[74070,74070],"./hr-HR/settings.json":[59153,59153],"./hr-HR/share.json":[91905,91905],"./hr-HR/tasks.json":[97712,97712],"./hr-HR/tasks_docs.json":[83596,83596],"./hr-HR/translation.json":[55405,55405],"./hr-HR/upsell-x.json":[11164,11164],"./hr-HR/upsell.json":[77949,77949],"./hr-HR/workspace.json":[40635,40635],"./hr/base.json":[43160,43160],"./hr/chat.json":[92107,92107],"./hr/companion.json":[18815,18815],"./hr/data.report-issue.json":[50755,50755],"./hr/emojipicker.json":[41365,41365],"./hr/files.json":[83950,83950],"./hr/finance-cards.json":[53209,53209],"./hr/finance.json":[29595,29595],"./hr/imagine.json":[40825,40825],"./hr/loading.json":[77341,77341],"./hr/settings.json":[7840,7840],"./hr/share.json":[75314,75314],"./hr/tasks.json":[26159,26159],"./hr/tasks_docs.json":[71545,71545],"./hr/translation.json":[62650,62650],"./hr/upsell.json":[30848,30848],"./hr/workspace.json":[32608,32608],"./hu-HU/base.json":[66892,44511],"./hu-HU/chat.json":[47100,47100],"./hu-HU/companion.json":[73390,73390],"./hu-HU/data.report-issue.json":[16218,16218],"./hu-HU/emojipicker.json":[8412,8412],"./hu-HU/files.json":[92859,92859],"./hu-HU/finance-cards.json":[33508,33508],"./hu-HU/finance.json":[32074,32074],"./hu-HU/imagine.json":[55520,55520],"./hu-HU/loading.json":[40412,40412],"./hu-HU/settings.json":[95439,95439],"./hu-HU/share.json":[10075,10075],"./hu-HU/tasks.json":[15582,15582],"./hu-HU/tasks_docs.json":[11318,11318],"./hu-HU/translation.json":[29467,29467],"./hu-HU/upsell-x.json":[46502,46502],"./hu-HU/upsell.json":[57927,57927],"./hu-HU/workspace.json":[50181,50181],"./hu/base.json":[77291,77291],"./hu/chat.json":[88616,88616],"./hu/companion.json":[10978,10978],"./hu/data.report-issue.json":[28846,28846],"./hu/emojipicker.json":[85416,85416],"./hu/files.json":[93919,93919],"./hu/finance-cards.json":[43328,43328],"./hu/finance.json":[80022,80022],"./hu/imagine.json":[48828,48828],"./hu/loading.json":[91104,91104],"./hu/settings.json":[38763,38763],"./hu/share.json":[10511,10511],"./hu/tasks.json":[54818,54818],"./hu/tasks_docs.json":[29402,29402],"./hu/translation.json":[64951,64951],"./hu/upsell-x.json":[60898,60898],"./hu/upsell.json":[48187,48187],"./hu/workspace.json":[9977,9977],"./id-ID/base.json":[72431,72431],"./id-ID/chat.json":[91724,91724],"./id-ID/companion.json":[16190,16190],"./id-ID/data.report-issue.json":[91786,91786],"./id-ID/emojipicker.json":[92588,92588],"./id-ID/files.json":[46667,46667],"./id-ID/finance-cards.json":[65428,65428],"./id-ID/finance.json":[95770,95770],"./id-ID/imagine.json":[12880,12880],"./id-ID/loading.json":[78156,78156],"./id-ID/settings.json":[5343,5343],"./id-ID/share.json":[16651,16651],"./id-ID/tasks.json":[58606,58606],"./id-ID/tasks_docs.json":[17894,17894],"./id-ID/translation.json":[75e3,52619],"./id-ID/upsell.json":[85015,85015],"./id-ID/workspace.json":[79349,79349],"./id/base.json":[21849,21849],"./id/chat.json":[83642,83642],"./id/companion.json":[32176,32176],"./id/data.report-issue.json":[38760,38760],"./id/emojipicker.json":[96238,96238],"./id/files.json":[69489,69489],"./id/finance-cards.json":[59294,36913],"./id/finance.json":[10760,10760],"./id/imagine.json":[80670,80670],"./id/loading.json":[80190,80190],"./id/settings.json":[26057,26057],"./id/share.json":[68505,68505],"./id/tasks.json":[44328,44328],"./id/tasks_docs.json":[83668,83668],"./id/translation.json":[9061,9061],"./id/upsell-x.json":[34356,34356],"./id/upsell.json":[24245,24245],"./id/workspace.json":[31139,31139],"./it-IT/base.json":[57327,57327],"./it-IT/chat.json":[18,44780],"./it-IT/companion.json":[33438,33438],"./it-IT/data.report-issue.json":[21834,21834],"./it-IT/emojipicker.json":[47628,47628],"./it-IT/files.json":[90827,90827],"./it-IT/finance-cards.json":[43892,43892],"./it-IT/finance.json":[81370,81370],"./it-IT/imagine.json":[85104,85104],"./it-IT/loading.json":[20876,20876],"./it-IT/settings.json":[5471,5471],"./it-IT/share.json":[22123,22123],"./it-IT/tasks.json":[15790,15790],"./it-IT/tasks_docs.json":[85798,85798],"./it-IT/translation.json":[89739,89739],"./it-IT/upsell.json":[66231,66231],"./it-IT/workspace.json":[56021,56021],"./it/base.json":[1705,1705],"./it/chat.json":[86218,86218],"./it/companion.json":[51776,51776],"./it/data.report-issue.json":[46840,46840],"./it/emojipicker.json":[22814,22814],"./it/files.json":[22081,22081],"./it/finance-cards.json":[76398,76398],"./it/finance.json":[51384,51384],"./it/imagine.json":[65998,65998],"./it/loading.json":[95534,95534],"./it/settings.json":[83769,83769],"./it/share.json":[62217,62217],"./it/tasks.json":[43800,43800],"./it/tasks_docs.json":[31908,31908],"./it/translation.json":[11797,11797],"./it/upsell-x.json":[75588,75588],"./it/upsell.json":[24549,24549],"./it/workspace.json":[21395,21395],"./ja/base.json":[80429,80429],"./ja/chat.json":[49918,49918],"./ja/companion.json":[47708,47708],"./ja/data.report-issue.json":[2692,2692],"./ja/emojipicker.json":[67554,67554],"./ja/files.json":[93901,93901],"./ja/finance-cards.json":[62562,62562],"./ja/finance.json":[56972,56972],"./ja/imagine.json":[75042,75042],"./ja/loading.json":[36266,36266],"./ja/settings.json":[10477,10477],"./ja/share.json":[10469,10469],"./ja/tasks.json":[48500,48500],"./ja/tasks_docs.json":[70576,70576],"./ja/translation.json":[31017,31017],"./ja/upsell-x.json":[7688,7688],"./ja/upsell.json":[33233,33233],"./ja/workspace.json":[94751,94751],"./ko/base.json":[82568,82568],"./ko/chat.json":[88443,88443],"./ko/companion.json":[86031,86031],"./ko/data.report-issue.json":[10707,10707],"./ko/emojipicker.json":[19493,19493],"./ko/files.json":[38302,38302],"./ko/finance-cards.json":[89001,89001],"./ko/finance.json":[77355,99736],"./ko/imagine.json":[84745,84745],"./ko/loading.json":[92045,92045],"./ko/settings.json":[89200,89200],"./ko/share.json":[54178,54178],"./ko/tasks.json":[61375,61375],"./ko/tasks_docs.json":[42217,42217],"./ko/translation.json":[9578,9578],"./ko/upsell-x.json":[87185,87185],"./ko/upsell.json":[55504,55504],"./ko/workspace.json":[3824,3824],"./lt-LT/base.json":[5913,5913],"./lt-LT/chat.json":[12314,12314],"./lt-LT/data.report-issue.json":[73064,73064],"./lt-LT/emojipicker.json":[98382,98382],"./lt-LT/files.json":[29777,29777],"./lt-LT/finance-cards.json":[1054,1054],"./lt-LT/finance.json":[23336,23336],"./lt-LT/loading.json":[75902,75902],"./lt-LT/settings.json":[43881,43881],"./lt-LT/share.json":[59321,59321],"./lt-LT/tasks.json":[77032,77032],"./lt-LT/tasks_docs.json":[10260,10260],"./lt-LT/translation.json":[50309,50309],"./lt-LT/upsell-x.json":[84308,84308],"./lt-LT/upsell.json":[61845,61845],"./lt-LT/workspace.json":[26243,26243],"./lt/base.json":[97346,97346],"./lt/chat.json":[61873,61873],"./lt/companion.json":[53681,53681],"./lt/data.report-issue.json":[4561,4561],"./lt/emojipicker.json":[85663,85663],"./lt/files.json":[46708,46708],"./lt/finance-cards.json":[85171,85171],"./lt/finance.json":[40129,40129],"./lt/imagine.json":[81551,81551],"./lt/loading.json":[10823,10823],"./lt/settings.json":[9194,9194],"./lt/share.json":[8208,8208],"./lt/tasks.json":[4129,4129],"./lt/tasks_docs.json":[77167,77167],"./lt/translation.json":[10180,10180],"./lt/upsell.json":[36982,36982],"./lt/workspace.json":[99814,99814],"./mr-IN/base.json":[68943,68943],"./mr-IN/chat.json":[73900,73900],"./mr-IN/data.report-issue.json":[55882,55882],"./mr-IN/emojipicker.json":[27116,27116],"./mr-IN/finance-cards.json":[48359,70740],"./mr-IN/loading.json":[53132,53132],"./mr-IN/settings.json":[92927,92927],"./mr-IN/share.json":[31755,31755],"./mr-IN/translation.json":[77880,55499],"./mr-IN/upsell-x.json":[85526,85526],"./mr-IN/upsell.json":[6711,6711],"./mr-IN/workspace.json":[84469,84469],"./mr/base.json":[92835,92835],"./mr/chat.json":[15376,15376],"./mr/companion.json":[42154,42154],"./mr/data.report-issue.json":[93462,93462],"./mr/emojipicker.json":[880,880],"./mr/files.json":[21799,21799],"./mr/finance-cards.json":[81192,81192],"./mr/finance.json":[64078,64078],"./mr/imagine.json":[33412,33412],"./mr/loading.json":[53704,53704],"./mr/settings.json":[22403,22403],"./mr/share.json":[98727,98727],"./mr/tasks.json":[56442,56442],"./mr/tasks_docs.json":[90466,90466],"./mr/translation.json":[83279,83279],"./mr/upsell-x.json":[15098,15098],"./mr/upsell.json":[33907,33907],"./mr/workspace.json":[16897,16897],"./ms-MY/base.json":[18923,18923],"./ms-MY/chat.json":[8091,30472],"./ms-MY/companion.json":[81954,81954],"./ms-MY/data.report-issue.json":[20654,20654],"./ms-MY/emojipicker.json":[50120,27739],"./ms-MY/files.json":[61215,61215],"./ms-MY/finance-cards.json":[14528,14528],"./ms-MY/finance.json":[24438,24438],"./ms-MY/imagine.json":[64924,64924],"./ms-MY/loading.json":[72768,72768],"./ms-MY/settings.json":[99019,99019],"./ms-MY/share.json":[3823,3823],"./ms-MY/tasks.json":[69154,69154],"./ms-MY/tasks_docs.json":[7636,62874],"./ms-MY/translation.json":[60663,60663],"./ms-MY/upsell-x.json":[35970,35970],"./ms-MY/upsell.json":[80027,80027],"./ms-MY/workspace.json":[58169,58169],"./nl/base.json":[76784,76784],"./nl/chat.json":[52083,52083],"./nl/companion.json":[21319,21319],"./nl/data.report-issue.json":[68747,68747],"./nl/emojipicker.json":[64637,64637],"./nl/files.json":[3894,3894],"./nl/finance-cards.json":[68673,68673],"./nl/finance.json":[28691,28691],"./nl/imagine.json":[55873,55873],"./nl/loading.json":[38597,38597],"./nl/settings.json":[48568,48568],"./nl/share.json":[98762,98762],"./nl/tasks.json":[19367,19367],"./nl/tasks_docs.json":[80577,80577],"./nl/translation.json":[84754,84754],"./nl/upsell-x.json":[3833,3833],"./nl/upsell.json":[20312,20312],"./nl/workspace.json":[91848,91848],"./no-NO/base.json":[4031,4031],"./no-NO/chat.json":[88732,88732],"./no-NO/companion.json":[37646,37646],"./no-NO/data.report-issue.json":[73434,73434],"./no-NO/emojipicker.json":[53660,53660],"./no-NO/files.json":[57499,57499],"./no-NO/finance-cards.json":[49092,49092],"./no-NO/finance.json":[9994,9994],"./no-NO/imagine.json":[62176,62176],"./no-NO/loading.json":[37980,37980],"./no-NO/settings.json":[88495,88495],"./no-NO/share.json":[86203,86203],"./no-NO/tasks.json":[19742,19742],"./no-NO/tasks_docs.json":[50582,50582],"./no-NO/translation.json":[60635,60635],"./no-NO/upsell-x.json":[40902,40902],"./no-NO/upsell.json":[63911,63911],"./no-NO/workspace.json":[40293,40293],"./pl/base.json":[25614,25614],"./pl/chat.json":[4653,4653],"./pl/companion.json":[74885,74885],"./pl/data.report-issue.json":[57301,57301],"./pl/emojipicker.json":[79867,79867],"./pl/files.json":[72200,72200],"./pl/finance-cards.json":[75967,75967],"./pl/finance.json":[59309,59309],"./pl/imagine.json":[28187,28187],"./pl/loading.json":[62283,62283],"./pl/settings.json":[97782,97782],"./pl/share.json":[69556,69556],"./pl/tasks.json":[55093,55093],"./pl/tasks_docs.json":[12067,12067],"./pl/translation.json":[58992,58992],"./pl/upsell-x.json":[78651,78651],"./pl/upsell.json":[85642,85642],"./pl/workspace.json":[52394,52394],"./pt-PT/base.json":[24353,24353],"./pt-PT/chat.json":[25330,25330],"./pt-PT/companion.json":[25704,25704],"./pt-PT/data.report-issue.json":[28704,28704],"./pt-PT/emojipicker.json":[51526,51526],"./pt-PT/files.json":[97065,97065],"./pt-PT/finance-cards.json":[98614,98614],"./pt-PT/finance.json":[61136,61136],"./pt-PT/imagine.json":[7030,7030],"./pt-PT/loading.json":[89302,89302],"./pt-PT/settings.json":[46129,46129],"./pt-PT/share.json":[78881,78881],"./pt-PT/tasks.json":[9008,9008],"./pt-PT/tasks_docs.json":[46060,46060],"./pt-PT/translation.json":[55181,55181],"./pt-PT/upsell-x.json":[4252,4252],"./pt-PT/upsell.json":[32701,32701],"./pt-PT/workspace.json":[54395,54395],"./pt/base.json":[4326,4326],"./pt/chat.json":[26421,26421],"./pt/companion.json":[69549,69549],"./pt/data.report-issue.json":[53981,53981],"./pt/emojipicker.json":[57795,57795],"./pt/files.json":[62640,62640],"./pt/finance-cards.json":[78951,78951],"./pt/finance.json":[82341,82341],"./pt/imagine.json":[57699,57699],"./pt/loading.json":[83859,83859],"./pt/settings.json":[78574,78574],"./pt/share.json":[61004,61004],"./pt/tasks.json":[49421,49421],"./pt/tasks_docs.json":[38347,38347],"./pt/translation.json":[1640,1640],"./pt/upsell-x.json":[36275,36275],"./pt/upsell.json":[3298,3298],"./pt/workspace.json":[69842,69842],"./ro-RO/base.json":[81839,81839],"./ro-RO/chat.json":[49772,49772],"./ro-RO/data.report-issue.json":[72618,72618],"./ro-RO/emojipicker.json":[7372,7372],"./ro-RO/files.json":[68011,68011],"./ro-RO/finance-cards.json":[38868,38868],"./ro-RO/loading.json":[80204,80204],"./ro-RO/settings.json":[50175,50175],"./ro-RO/share.json":[21227,21227],"./ro-RO/tasks.json":[12078,12078],"./ro-RO/translation.json":[4715,4715],"./ro-RO/upsell-x.json":[11894,11894],"./ro-RO/upsell.json":[16631,16631],"./ro-RO/workspace.json":[95829,95829],"./ro/base.json":[62336,39955],"./ro/chat.json":[95968,95968],"./ro/companion.json":[72186,72186],"./ro/data.report-issue.json":[26758,26758],"./ro/emojipicker.json":[79264,79264],"./ro/files.json":[66551,66551],"./ro/finance-cards.json":[15448,15448],"./ro/finance.json":[78846,78846],"./ro/imagine.json":[26900,26900],"./ro/loading.json":[6008,6008],"./ro/settings.json":[21555,21555],"./ro/share.json":[3287,3287],"./ro/tasks.json":[59626,59626],"./ro/tasks_docs.json":[1394,1394],"./ro/translation.json":[16095,16095],"./ro/upsell-x.json":[54026,54026],"./ro/upsell.json":[2691,2691],"./ro/workspace.json":[96209,96209],"./ru/base.json":[56905,56905],"./ru/chat.json":[41418,41418],"./ru/companion.json":[88608,88608],"./ru/data.report-issue.json":[69112,69112],"./ru/emojipicker.json":[19486,19486],"./ru/files.json":[45697,45697],"./ru/finance-cards.json":[68782,68782],"./ru/finance.json":[9176,9176],"./ru/imagine.json":[23790,23790],"./ru/loading.json":[53326,53326],"./ru/settings.json":[8537,8537],"./ru/share.json":[2185,2185],"./ru/tasks.json":[67416,45035],"./ru/tasks_docs.json":[47556,47556],"./ru/translation.json":[8469,8469],"./ru/upsell-x.json":[356,356],"./ru/upsell.json":[17253,17253],"./ru/workspace.json":[58227,58227],"./sk-SK/base.json":[91313,91313],"./sk-SK/chat.json":[49762,49762],"./sk-SK/data.report-issue.json":[71824,71824],"./sk-SK/emojipicker.json":[98934,98934],"./sk-SK/files.json":[10598,88217],"./sk-SK/finance-cards.json":[91494,91494],"./sk-SK/finance.json":[89952,89952],"./sk-SK/loading.json":[77990,77990],"./sk-SK/settings.json":[65569,65569],"./sk-SK/share.json":[72081,72081],"./sk-SK/tasks.json":[26656,26656],"./sk-SK/tasks_docs.json":[34300,34300],"./sk-SK/translation.json":[23741,23741],"./sk-SK/upsell-x.json":[86335,86335],"./sk-SK/upsell.json":[48045,48045],"./sk-SK/workspace.json":[56299,56299],"./sk/base.json":[26964,26964],"./sk/chat.json":[37943,37943],"./sk/companion.json":[89379,89379],"./sk/data.report-issue.json":[66615,66615],"./sk/emojipicker.json":[3201,3201],"./sk/files.json":[20018,20018],"./sk/finance-cards.json":[39829,39829],"./sk/finance.json":[14231,14231],"./sk/imagine.json":[12037,12037],"./sk/loading.json":[32497,32497],"./sk/settings.json":[34124,34124],"./sk/share.json":[92694,92694],"./sk/tasks.json":[80083,80083],"./sk/tasks_docs.json":[31914,9533],"./sk/translation.json":[54694,54694],"./sk/upsell.json":[91860,91860],"./sk/workspace.json":[4372,4372],"./sl-SI/base.json":[31478,31478],"./sl-SI/chat.json":[1317,1317],"./sl-SI/data.report-issue.json":[1357,1357],"./sl-SI/emojipicker.json":[97587,97587],"./sl-SI/files.json":[40064,40064],"./sl-SI/finance-cards.json":[34807,34807],"./sl-SI/finance.json":[309,309],"./sl-SI/loading.json":[15843,15843],"./sl-SI/settings.json":[25630,25630],"./sl-SI/share.json":[56412,56412],"./sl-SI/tasks.json":[85181,85181],"./sl-SI/tasks_docs.json":[8251,8251],"./sl-SI/translation.json":[30744,30744],"./sl-SI/upsell-x.json":[40579,40579],"./sl-SI/upsell.json":[45522,45522],"./sl-SI/workspace.json":[93538,93538],"./sl/base.json":[1839,1839],"./sl/chat.json":[23148,23148],"./sl/companion.json":[2686,2686],"./sl/data.report-issue.json":[44362,44362],"./sl/emojipicker.json":[75116,75116],"./sl/files.json":[55883,55883],"./sl/finance-cards.json":[6548,6548],"./sl/finance.json":[10938,10938],"./sl/imagine.json":[53840,53840],"./sl/loading.json":[25068,25068],"./sl/settings.json":[7647,7647],"./sl/share.json":[59275,59275],"./sl/tasks.json":[76974,76974],"./sl/tasks_docs.json":[81945,81945],"./sl/translation.json":[3499,3499],"./sl/upsell.json":[50743,50743],"./sl/workspace.json":[68213,68213],"./sv-SE/base.json":[41259,63640],"./sv-SE/chat.json":[12587,12587],"./sv-SE/emojipicker.json":[4245,4245],"./sv-SE/finance-cards.json":[13337,13337],"./sv-SE/loading.json":[86397,86397],"./sv-SE/settings.json":[80096,80096],"./sv-SE/share.json":[12370,12370],"./sv-SE/translation.json":[25530,25530],"./sv-SE/upsell-x.json":[4993,4993],"./sv-SE/upsell.json":[81408,81408],"./sv-SE/workspace.json":[64992,64992],"./sv/base.json":[65413,65413],"./sv/chat.json":[49030,49030],"./sv/companion.json":[81508,81508],"./sv/data.report-issue.json":[81164,81164],"./sv/emojipicker.json":[87850,87850],"./sv/files.json":[98581,98581],"./sv/finance-cards.json":[44234,44234],"./sv/finance.json":[93892,93892],"./sv/imagine.json":[12490,12490],"./sv/loading.json":[31794,31794],"./sv/settings.json":[99557,99557],"./sv/share.json":[65117,65117],"./sv/tasks.json":[82188,82188],"./sv/tasks_docs.json":[42168,42168],"./sv/translation.json":[12142,89761],"./sv/upsell-x.json":[87744,87744],"./sv/upsell.json":[30633,30633],"./sv/workspace.json":[45575,45575],"./ta-IN/base.json":[35815,35815],"./ta-IN/chat.json":[32180,32180],"./ta-IN/data.report-issue.json":[19698,19698],"./ta-IN/emojipicker.json":[72884,72884],"./ta-IN/finance-cards.json":[21532,21532],"./ta-IN/loading.json":[60436,60436],"./ta-IN/settings.json":[29847,29847],"./ta-IN/share.json":[96323,96323],"./ta-IN/translation.json":[23651,23651],"./ta-IN/upsell-x.json":[6766,6766],"./ta-IN/upsell.json":[77359,77359],"./ta-IN/workspace.json":[33661,33661],"./ta/base.json":[10683,10683],"./ta/chat.json":[20600,20600],"./ta/companion.json":[27890,27890],"./ta/data.report-issue.json":[39966,39966],"./ta/emojipicker.json":[35640,35640],"./ta/files.json":[85007,85007],"./ta/finance-cards.json":[75664,75664],"./ta/finance.json":[11449,33830],"./ta/imagine.json":[61196,61196],"./ta/loading.json":[58928,58928],"./ta/settings.json":[98491,98491],"./ta/share.json":[63999,63999],"./ta/tasks.json":[39154,39154],"./ta/tasks_docs.json":[1290,1290],"./ta/translation.json":[48647,48647],"./ta/upsell-x.json":[38066,38066],"./ta/upsell.json":[11531,11531],"./ta/workspace.json":[68521,68521],"./te-IN/base.json":[9211,9211],"./te-IN/chat.json":[68216,68216],"./te-IN/data.report-issue.json":[32254,32254],"./te-IN/emojipicker.json":[3192,3192],"./te-IN/finance-cards.json":[21168,21168],"./te-IN/loading.json":[90448,90448],"./te-IN/settings.json":[58555,58555],"./te-IN/share.json":[5727,5727],"./te-IN/translation.json":[83623,83623],"./te-IN/upsell-x.json":[48914,48914],"./te-IN/upsell.json":[18379,18379],"./te-IN/workspace.json":[19497,19497],"./te/base.json":[7335,7335],"./te/chat.json":[92628,92628],"./te/companion.json":[32825,55206],"./te/data.report-issue.json":[93618,93618],"./te/emojipicker.json":[99956,99956],"./te/files.json":[79072,56691],"./te/finance-cards.json":[42428,42428],"./te/finance.json":[43474,43474],"./te/imagine.json":[98648,98648],"./te/loading.json":[69492,69492],"./te/settings.json":[73495,73495],"./te/share.json":[12995,12995],"./te/tasks.json":[26630,26630],"./te/tasks_docs.json":[54894,54894],"./te/translation.json":[15715,15715],"./te/upsell-x.json":[94894,94894],"./te/upsell.json":[42735,42735],"./te/workspace.json":[37693,37693],"./th/base.json":[35878,35878],"./th/chat.json":[37909,37909],"./th/companion.json":[24237,24237],"./th/data.report-issue.json":[1213,1213],"./th/emojipicker.json":[80003,80003],"./th/files.json":[42128,42128],"./th/finance-cards.json":[82023,82023],"./th/finance.json":[3429,3429],"./th/imagine.json":[19491,19491],"./th/loading.json":[16243,16243],"./th/settings.json":[41838,41838],"./th/share.json":[40716,40716],"./th/tasks.json":[65421,65421],"./th/tasks_docs.json":[35915,35915],"./th/translation.json":[936,936],"./th/upsell-x.json":[80435,80435],"./th/upsell.json":[81826,81826],"./th/workspace.json":[58354,58354],"./tr/base.json":[42012,42012],"./tr/chat.json":[83215,83215],"./tr/companion.json":[22427,22427],"./tr/data.report-issue.json":[91951,91951],"./tr/emojipicker.json":[40505,40505],"./tr/files.json":[4170,4170],"./tr/finance-cards.json":[44525,44525],"./tr/finance.json":[70175,70175],"./tr/imagine.json":[76253,76253],"./tr/loading.json":[58057,58057],"./tr/settings.json":[77044,77044],"./tr/share.json":[58366,58366],"./tr/tasks.json":[45979,45979],"./tr/tasks_docs.json":[76117,76117],"./tr/translation.json":[86158,86158],"./tr/upsell-x.json":[26837,26837],"./tr/upsell.json":[91036,91036],"./tr/workspace.json":[80684,80684],"./uk-UA/base.json":[77771,77771],"./uk-UA/chat.json":[89320,89320],"./uk-UA/companion.json":[52642,52642],"./uk-UA/data.report-issue.json":[24046,24046],"./uk-UA/emojipicker.json":[2696,2696],"./uk-UA/files.json":[29791,29791],"./uk-UA/finance-cards.json":[43680,43680],"./uk-UA/finance.json":[26262,26262],"./uk-UA/imagine.json":[50396,50396],"./uk-UA/loading.json":[58240,58240],"./uk-UA/settings.json":[23832,1451],"./uk-UA/share.json":[72399,72399],"./uk-UA/tasks.json":[21378,21378],"./uk-UA/tasks_docs.json":[80922,80922],"./uk-UA/translation.json":[13239,13239],"./uk-UA/upsell-x.json":[38402,38402],"./uk-UA/upsell.json":[96699,96699],"./uk-UA/workspace.json":[45209,45209],"./ur-IN/base.json":[19911,19911],"./ur-IN/chat.json":[16276,16276],"./ur-IN/companion.json":[30150,30150],"./ur-IN/data.report-issue.json":[52018,52018],"./ur-IN/emojipicker.json":[56052,56052],"./ur-IN/files.json":[40563,40563],"./ur-IN/finance-cards.json":[39836,39836],"./ur-IN/finance.json":[97458,97458],"./ur-IN/imagine.json":[27096,27096],"./ur-IN/loading.json":[20116,20116],"./ur-IN/settings.json":[61431,61431],"./ur-IN/share.json":[77507,77507],"./ur-IN/tasks.json":[99494,99494],"./ur-IN/tasks_docs.json":[61838,61838],"./ur-IN/translation.json":[23171,23171],"./ur-IN/upsell-x.json":[21998,21998],"./ur-IN/upsell.json":[96124,73743],"./ur-IN/workspace.json":[19293,19293],"./vi/base.json":[36281,36281],"./vi/chat.json":[87444,42682],"./vi/companion.json":[92048,92048],"./vi/data.report-issue.json":[29800,29800],"./vi/emojipicker.json":[88078,88078],"./vi/files.json":[74385,74385],"./vi/finance-cards.json":[32158,32158],"./vi/finance.json":[21403,43784],"./vi/imagine.json":[64862,64862],"./vi/loading.json":[79998,79998],"./vi/settings.json":[5257,5257],"./vi/share.json":[3929,3929],"./vi/tasks.json":[21640,21640],"./vi/tasks_docs.json":[66804,66804],"./vi/translation.json":[40005,40005],"./vi/upsell-x.json":[62036,62036],"./vi/upsell.json":[92949,92949],"./vi/workspace.json":[50019,50019],"./zh-TW/base.json":[89628,89628],"./zh-TW/chat.json":[58255,58255],"./zh-TW/companion.json":[90971,90971],"./zh-TW/data.report-issue.json":[22543,22543],"./zh-TW/emojipicker.json":[56185,56185],"./zh-TW/files.json":[21738,21738],"./zh-TW/finance-cards.json":[17581,17581],"./zh-TW/finance.json":[28639,28639],"./zh-TW/imagine.json":[55613,55613],"./zh-TW/loading.json":[44553,44553],"./zh-TW/settings.json":[5876,5876],"./zh-TW/share.json":[29118,29118],"./zh-TW/tasks.json":[56251,56251],"./zh-TW/tasks_docs.json":[5493,5493],"./zh-TW/translation.json":[95630,95630],"./zh-TW/upsell-x.json":[29365,29365],"./zh-TW/upsell.json":[62428,62428],"./zh-TW/workspace.json":[8012,8012],"./zh/base.json":[43176,43176],"./zh/chat.json":[22139,22139],"./zh/companion.json":[10927,10927],"./zh/data.report-issue.json":[94867,94867],"./zh/emojipicker.json":[2149,2149],"./zh/files.json":[35710,35710],"./zh/finance-cards.json":[55881,55881],"./zh/finance.json":[64107,64107],"./zh/imagine.json":[27593,27593],"./zh/loading.json":[62765,62765],"./zh/settings.json":[49840,49840],"./zh/share.json":[63650,63650],"./zh/tasks.json":[47839,47839],"./zh/tasks_docs.json":[7881,7881],"./zh/translation.json":[60266,60266],"./zh/upsell-x.json":[73457,73457],"./zh/upsell.json":[88880,88880],"./zh/workspace.json":[65392,65392]};function n(e){if(!s.o(a,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=a[e],n=t[0];return s.e(t[1]).then(()=>s.t(n,19))}n.keys=()=>Object.keys(a),n.id=52334,e.exports=n},52371:(e,t,s)=>{"use strict";s.d(t,{Xi:()=>d,av:()=>g,j7:()=>l,tU:()=>c});var a=s(79342),n=s(67961),r=s(88382),o=s(61312);let i=(0,s(17338).F)("inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"px-3 py-1 rounded-lg data-[state=active]:bg-surface-l2 data-[state=active]:text-primary data-[state=active]:shadow",underline:"text-md px-2 pb-1 border-b text-secondary border-transparent data-[state=active]:text-primary data-[state=active]:border-primary"}},defaultVariants:{variant:"default"}}),c=n.bL,l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.B8,{ref:t,className:(0,o.cn)("inline-flex items-center justify-center rounded-xl bg-surface-base p-1 text-secondary border border-border-l1 ",s),...r})});l.displayName=n.B8.displayName;let d=r.forwardRef((e,t)=>{let{className:s,variant:r,...c}=e;return(0,a.jsx)(n.l9,{ref:t,className:(0,o.cn)(i({variant:r}),s),...c})});d.displayName=n.l9.displayName;let g=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.UC,{ref:t,className:(0,o.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r})});g.displayName=n.UC.displayName},52542:(e,t,s)=>{"use strict";s.d(t,{C:()=>y});var a=s(79342),n=s(61312),r=s(84969),o=s(23054),i=s(88382);function c(e){let{children:t,minHeight:s,maxHeight:c,initialHeight:l,className:d,disabled:g,onStartResizing:m,onFinishResizing:p}=e,[u,h]=(0,i.useState)(!1),[f,k]=(0,i.useState)(l),b=(0,i.useRef)(null),x=(0,i.useRef)(document.body.clientHeight);(0,i.useEffect)(()=>{k(l)},[l]);let w=(0,i.useCallback)(e=>{e.preventDefault(),h(!0),null==m||m()},[m]),v=(0,i.useCallback)(()=>{h(!1),null==p||p()},[p]),y=(0,i.useCallback)(e=>{u&&b.current&&k(Math.max(s,Math.min(c,document.body.clientHeight-e.clientY)))},[u,s,c]),j=(0,i.useCallback)(()=>{k(Math.max(s,Math.min(c,l/x.current*document.body.clientHeight)))},[s,c,l]);return(0,i.useEffect)(()=>(window.addEventListener("mousemove",y),()=>window.removeEventListener("mousemove",y)),[y]),(0,i.useEffect)(()=>(window.addEventListener("mouseup",v),()=>window.removeEventListener("mouseup",v)),[v]),(0,i.useEffect)(()=>(window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)),[j]),(0,a.jsx)(r.N,{children:(0,a.jsx)(o.P.div,{initial:{y:f,opacity:0,height:0},animate:{y:0,opacity:1,height:f},exit:{y:f,opacity:0,height:0},transition:u?{duration:0}:{type:"ease",ease:"easeInOut",duration:.2},className:(0,n.cn)("h-dvh flex-shrink-0",d),children:(0,a.jsxs)("div",{ref:b,className:"relative flex flex-col h-full w-full",children:[(0,a.jsx)("div",{className:(0,n.cn)("absolute start-0 top-0 end-0 border-t-2 border-t-transparent w-full h-2 transition-colors border-l border-input-border z-50",g?void 0:"cursor-row-resize hover:border-t-sidebar-accent-foreground/20",u?"border-t-sidebar-accent-foreground/30":void 0),onMouseDown:g?void 0:w}),(0,a.jsxs)("div",{className:"h-full p-0",children:[t,u&&(0,a.jsx)("div",{className:"absolute inset-0 bg-transparent z-50"})]})]})})})}var l=s(23232),d=s(56691),g=s(11750),m=s(65146);let p=e=>{let{warningsCount:t,logsCount:s,errorsCount:r,onClear:c,isMinimized:l,onSizeToggle:p,onClose:h}=e,{t:f}=(0,m.Bd)("base"),k=(0,i.useCallback)(e=>{e.stopPropagation(),null==h||h()},[h]),b=(0,i.useCallback)(e=>{e.stopPropagation(),null==c||c()},[c]);return(0,a.jsxs)("div",{className:(0,n.cn)("flex w-full h-full max-h-12 items-center justify-between text-primary"),children:[(0,a.jsxs)("div",{className:(0,n.cn)("flex items-center justify-start gap-2 flex-1 h-full px-2 pl-4 py-1",p?"cursor-pointer":void 0),onClick:null!=p?p:void 0,children:[(0,a.jsx)(g.B9m,{size:20}),(0,a.jsx)("span",{className:"text-sm font-medium",children:f("code-execution.conse","Console")})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 py-1 pr-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 me-2",children:[r>0?(0,a.jsx)(u,{value:r,type:"error"}):null,t>0?(0,a.jsx)(u,{value:t,type:"warn"}):null,s>0?(0,a.jsx)(u,{value:s,type:"log"}):null]}),c?(0,a.jsx)(d.$n,{variant:"ghost",size:"iconMd","aria-label":"Clear",className:"rounded-full",onClick:b,children:(0,a.jsx)(g.otA,{size:18})}):null,p?(0,a.jsx)(o.P.div,{variants:{hidden:{opacity:0,scale:.9},visible:{opacity:1,scale:1}},initial:"hidden",animate:"visible",exit:"hidden",children:(0,a.jsx)(d.$n,{variant:"ghost",size:"iconMd","aria-label":l?"Expand":"Minimize",className:"rounded-full transition-colors",onClick:p,children:l?(0,a.jsx)(g.Mtm,{size:20}):(0,a.jsx)(g.D3D,{size:20})})},"follow-ups"):null,h?(0,a.jsx)(d.$n,{variant:"ghost",size:"iconMd","aria-label":"Close",className:"rounded-full",onClick:k,children:(0,a.jsx)(g.uv5,{size:20})}):null]})]})},u=e=>{let{value:t,type:s}=e,r="flex justify-center items-center pl-1.5 pr-2 py-0.5 rounded-full text-xs leading-[18px] font-medium gap-1 cursor-default select-none";return"error"===s?(0,a.jsxs)("div",{className:(0,n.cn)(r,"bg-red-100 text-fg-danger dark:bg-red-500/20"),children:[(0,a.jsx)(g.tPq,{size:14}),t]}):"warn"===s?(0,a.jsxs)("div",{className:(0,n.cn)(r,"bg-yellow-100 text-yellow-700 dark:bg-yellow-600 dark:text-yellow-100"),children:[(0,a.jsx)(g.CON,{size:14}),t]}):(0,a.jsxs)("div",{className:(0,n.cn)(r,"bg-gray-100 dark:bg-gray-700 text-primary"),children:[(0,a.jsx)(g.k3y,{size:14}),t]})};var h=s(61495),f=s(75500),k=s(5703),b=s(86979);let x=e=>{let{messages:t}=e,s="flex items-start justify-between rounded-xl pl-1 pr-4 py-1.5 text-sm gap-2",r=(0,i.useMemo)(()=>{let e=[],s=[];return t.forEach((t,a)=>{var n,r;let o=Object.values(null!=(n=t.files)?n:{}).join(","),i=null!=(r=t.message)?r:""+o;["error","warn"].includes(t.type)&&!s.includes(i)&&(s.push(i),e.push(a))}),e},[t]);return(0,a.jsx)(h.P,{className:"w-full px-4 flex flex-col gap-1 pb-6 flex-1",stickToBottom:!0,children:(0,a.jsx)(a.Fragment,{children:t.map((e,t)=>"error"===e.type?(0,a.jsxs)("div",{className:(0,n.cn)(s,"bg-red-100 text-fg-danger dark:bg-red-500/20"),children:[(0,a.jsxs)("div",{className:"flex items-start justify-start whitespace-pre-wrap",children:[(0,a.jsx)("div",{className:"w-6 h-5 flex justify-center items-center",children:(0,a.jsx)(g.tPq,{size:14,className:"mt-0.5"})}),(0,a.jsxs)("div",{children:[e.message,(0,a.jsx)(v,{files:e.files})]})]}),!e.disableFixButton&&e.message&&r.includes(t)?(0,a.jsx)(w,{error:e.message,className:"text-fg-danger hover:text-red-700 dark:hover:text-white"}):void 0]},"message_".concat(t)):"warn"===e.type?(0,a.jsxs)("div",{className:(0,n.cn)(s,"bg-yellow-100 text-yellow-700 dark:bg-yellow-600 dark:text-yellow-100"),children:[(0,a.jsxs)("div",{className:"flex items-start justify-start whitespace-pre-wrap",children:[(0,a.jsx)("div",{className:"w-6 h-5 flex justify-center items-center",children:(0,a.jsx)(g.CON,{size:15,className:"mt-0.5"})}),(0,a.jsxs)("div",{children:[e.message,(0,a.jsx)(v,{files:e.files})]})]}),!e.disableFixButton&&e.message&&r.includes(t)?(0,a.jsx)(w,{error:e.message,className:"text-yellow-500 hover:text-yellow-700 dark:text-yellow-100 dark:hover:text-white"}):void 0]},"message_".concat(t)):"system"===e.type?(0,a.jsx)("div",{className:(0,n.cn)(s),children:(0,a.jsxs)("div",{className:"flex items-start justify-start text-secondary italic whitespace-pre-wrap",children:[(0,a.jsx)("div",{className:"w-6 h-6 flex justify-center items-center opacity-20",children:(0,a.jsx)(g.k3y,{size:16})}),(0,a.jsxs)("div",{children:[e.message,(0,a.jsx)(v,{files:e.files})]})]})},"message_".concat(t)):(0,a.jsx)("div",{className:(0,n.cn)(s),children:(0,a.jsxs)("div",{className:"flex items-start justify-start text-primary whitespace-pre-wrap",children:[(0,a.jsx)("div",{className:"w-6 h-6 flex justify-center items-center opacity-20",children:(0,a.jsx)(g.k3y,{size:16})}),(0,a.jsxs)("div",{children:[e.message,(0,a.jsx)(v,{files:e.files})]})]})},"message_".concat(t)))})})},w=e=>{let{error:t,className:s}=e,r=(0,f.h)(),{t:o}=(0,m.Bd)("base"),c=(0,i.useCallback)(()=>{let e=o("code-execution.fix-error-prompt","Fix the runtime error: ")+"\n"+t;(0,b.M)(e,r)},[t,r,o]);return(0,a.jsx)(d.$n,{variant:"text",size:"noPadding",onClick:c,className:(0,n.cn)("text-xs font-bold ml-1 h-full",s),children:o("code-execution.fix-button","Fix This")})},v=e=>{let{files:t}=e,s=(0,l._)();if(!t)return null;let n=Object.keys(t).filter(e=>(0,k.w)(e));return 0===n.length?null:(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:n.map((e,n)=>(0,a.jsx)("a",{href:t[e],className:"no-a11y-check",target:"_blank",onClick:()=>s("console-image-click",void 0,{location:"message-list:FilesRender"}),children:(0,a.jsx)("img",{src:t[e],className:" max-h-[300px] max-w-[400px]"})},"".concat(e,"_").concat(n)))})},y=(0,i.forwardRef)((e,t)=>{let{onMouseCaptured:s=()=>{}}=e,[r,d]=(0,i.useState)(!1),[g,m]=(0,i.useState)(!0),[u,h]=(0,i.useState)([]),f=(0,l._)(),k=(0,i.useRef)(!1),b=(0,i.useRef)(!1),w=(0,i.useCallback)(e=>{let{type:t,message:s,disableFixButton:a,files:n}=e;k.current||(k.current=!0,d(!0)),"error"!==t||b.current||(b.current=!0,m(!1)),h(e=>[...e,{type:t,message:s,disableFixButton:a,files:n}])},[]),v=(0,i.useCallback)(()=>{h([]),m(!0),d(!1),k.current=!1,b.current=!1,f("console.clear",void 0,{location:"console"})},[f]),y=(0,i.useCallback)(()=>{m(!g),f("console.toggle",g?"minimize":"maximize",{location:"console"})},[g,f]);(0,i.useImperativeHandle)(t,()=>({addMessage:w,reset:()=>{h([]),m(!0),d(!1),k.current=!1,b.current=!1},open:()=>{m(!1),d(!0)}}),[w]);let j=(0,i.useCallback)(()=>s(!0),[s]),N=(0,i.useCallback)(()=>s(!1),[s]),C=(0,i.useMemo)(()=>u.filter(e=>"error"===e.type).length,[u]),S=(0,i.useMemo)(()=>u.filter(e=>"warn"===e.type).length,[u]),I=(0,i.useMemo)(()=>u.filter(e=>"log"===e.type).length,[u]),T=C+S+I>0,E=(0,i.useMemo)(()=>r?g?40:document.documentElement.clientHeight/3:0,[g,r]),R=80*!g;return(0,a.jsx)(o.P.div,{className:(0,n.cn)("w-full bg-surface-l1 overflow-hidden flex flex-col"),animate:r?g?"minimized":"fullsize":"invisible",initial:"invisible",variants:{invisible:{opacity:0},minimized:{opacity:1},fullsize:{opacity:1}},transition:{duration:.2,ease:"easeOut"},children:(0,a.jsx)(c,{minHeight:R,initialHeight:E,maxHeight:2*document.documentElement.clientHeight/3,className:"w-full overflow-hidden flex flex-col",onStartResizing:j,onFinishResizing:N,disabled:g,children:(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsx)(p,{errorsCount:C,logsCount:I,warningsCount:S,isMinimized:g,onSizeToggle:y,onClear:g||!T?void 0:v}),g?void 0:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(x,{messages:u})})]})})})})},52553:(e,t,s)=>{"use strict";s.d(t,{S:()=>g,g:()=>m});var a=s(38614),n=s(70888),r=s(74995),o=s(88382),i=s(65146),c=s(14908),l=s(24734),d=s(75500);function g(){let{t:e}=(0,i.Bd)("base"),t=(0,d.Ne)(),s=(0,a.aP)(r.A("conversationId")),g=(0,a.aP)(r.A("sidePanelContent")),m=(0,n.x)(r.A("listByConversationId")),p=(0,n.x)(r.A("delistByConversationId")),u=(0,n.x)(r.A("attachListByConversationId")),h=(0,n.x)(r.A("fetchUploadFile")),f=(0,l.K)(),k=s&&(null==g?void 0:g.type)==="messageThread"?"".concat(s,"_thread_").concat(g.data.parentResponseId):s||"no_conversation_id",b=(0,o.useMemo)(()=>m[k]||[],[m,k]);return{attachFiles:(0,o.useCallback)((s,a)=>{var n;if(!s.length)return!1;let r=null!=(n=u[k])?n:[],o=s.filter(e=>{var t;return e.type,!0});if(b.length+r.length+o.length>t)return void c.oR.error(e("Can only submit a maximum of max files per message. Please remove some files before uploading more.","Can only submit a maximum of {{max}} files per message. Please remove some files before uploading more.",{max:t}));o.forEach(e=>{h(e,k,a).metadataPromise.catch(e=>{f("use-file-attachments:attachFiles",e)})})},[b,k,u,h,e,f,t]),detachFile:(0,o.useCallback)((e,t)=>{if(!e.current){t&&p(k,t);return}let s=e.current.files;if(!s||!t)return;let a=new DataTransfer;Array.from(s).forEach(e=>{e!=e&&a.items.add(e)}),e.current.files=a.files,p(k,t)},[k,p])}}function m(e){return({".png":"image/png",".jpg":"image/jpeg",".jpeg":"image/jpeg",".webp":"image/webp",".txt":"text/plain",".log":"text/plain",".md":"text/plain",".csv":"application/csv",".json":"application/json",".yaml":"application/x-yaml",".yml":"application/x-yaml",".xml":"application/xml",".toml":"application/toml",".pdf":"application/pdf",".docx":"application/vnd.openxmlformats-officedocument.wordprocessingml.document",".xlsx":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})[e.startsWith(".")?e.toLowerCase():"."+e.toLowerCase()]||"text/plain"}},52619:(e,t,s)=>{"use strict";s.d(t,{$m:()=>d,As:()=>l,Wh:()=>g,nD:()=>c,ub:()=>m});var a=s(79342),n=s(61312),r=s(96554),o=s(52970),i=s(88382);let c=r.bL,l=i.forwardRef((e,t)=>{let{className:s,...o}=e;return(0,a.jsx)(r.q7,{ref:t,className:(0,n.cn)(s),...o})});l.displayName="AccordionItem";let d=i.forwardRef((e,t)=>{let{className:s,children:i,chevronPosition:c,icon:l,chevronClassName:d,disabled:g,showIconOnly:m,...p}=e,u=null!=c?c:"after",h=null!=m?m:g&&l;return(0,a.jsx)(r.Y9,{className:"flex m-0",children:(0,a.jsxs)(r.l9,{ref:t,className:(0,n.cn)("group/accordion flex flex-1 items-center text-sm font-medium transition-all text-left",s),disabled:g,...p,children:["before"===u&&(0,a.jsxs)("span",{className:"me-2 h-4 w-4 shrink-0 flex items-center justify-center relative",children:[l&&(0,a.jsx)("span",{className:(0,n.cn)(h?"":"group-hover/accordion:opacity-0 transition-opacity duration-200"),children:l}),!h&&(0,a.jsx)(o.vKP,{className:(0,n.cn)("h-4 w-4 text-muted-foreground transition-all duration-200 group-data-[state=open]/accordion:rotate-90",l?"absolute opacity-0 group-hover/accordion:opacity-100":"",d)})]}),i,"after"===u&&(0,a.jsxs)("span",{className:"ms-1 h-4 w-4 shrink-0 flex items-center justify-center relative",children:[l&&(0,a.jsx)("span",{className:(0,n.cn)(h?"":"group-hover/accordion:opacity-0 transition-opacity duration-200"),children:l}),!h&&(0,a.jsx)(o.D3D,{className:(0,n.cn)("h-4 w-4 text-muted-foreground transition-all duration-200 group-data-[state=open]/accordion:rotate-180",l?"absolute opacity-0 group-hover/accordion:opacity-100":"",d)})]})]})})});d.displayName=r.l9.displayName;let g=i.forwardRef((e,t)=>{let{className:s,children:i,chevronPosition:c,icon:l,disabled:d,showIconOnly:g,...m}=e,p=null!=c?c:"after",u=null!=g?g:d&&l;return(0,a.jsx)(r.Y9,{className:(0,n.cn)("z-20 sticky flex m-0 bg-gradient-to-b from-background via-background via-85% to-transparent group/accordion top-12 @[1280px]/mainview:top-0 @[1280px]/mainview:z-40"),children:(0,a.jsxs)(r.l9,{ref:t,className:(0,n.cn)("group/accordion flex flex-1 items-center text-sm font-medium transition-all text-left",s),disabled:d,...m,children:["before"===p&&(0,a.jsxs)("span",{className:"me-2 h-4 w-4 shrink-0 flex items-center justify-center relative",children:[l&&(0,a.jsx)("span",{className:(0,n.cn)(u?"":"group-hover/accordion:opacity-0 transition-opacity duration-200"),children:l}),!u&&(0,a.jsx)(o.vKP,{className:(0,n.cn)("h-4 w-4 text-muted-foreground transition-all duration-200 group-data-[state=open]/accordion:rotate-90",l?"absolute opacity-0 group-hover/accordion:opacity-100":"")})]}),i,"after"===p&&(0,a.jsxs)("span",{className:"ms-1 h-4 w-4 shrink-0 flex items-center justify-center relative",children:[l&&(0,a.jsx)("span",{className:(0,n.cn)(u?"":"group-hover/accordion:opacity-0 transition-opacity duration-200"),children:l}),!u&&(0,a.jsx)(o.D3D,{className:(0,n.cn)("h-4 w-4 text-muted-foreground transition-all duration-200 group-data-[state=open]/accordion:rotate-180",l?"absolute opacity-0 group-hover/accordion:opacity-100":"")})]})]})})});g.displayName=r.l9.displayName;let m=i.forwardRef((e,t)=>{let{className:s,children:o,...i}=e;return(0,a.jsx)(r.UC,{ref:t,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...i,children:(0,a.jsx)("div",{className:(0,n.cn)("pt-0",s),children:o})})});m.displayName=r.UC.displayName},54344:(e,t,s)=>{"use strict";s.d(t,{D:()=>r});var a=s(79342),n=s(61312);function r(e){let{children:t,className:s="",fadeSize:r="sm",role:o}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex-1 flex flex-col gap-1 h-full overflow-y-auto py-1",{sm:"[mask-image:linear-gradient(to_bottom,transparent,black_4px,black_calc(100%_-_4px),transparent)] [-webkit-mask-image:linear-gradient(to_bottom,transparent,black_4px,black_calc(100%_-_4px),transparent)]",md:"[mask-image:linear-gradient(to_bottom,transparent,black_8px,black_calc(100%_-_8px),transparent)] [-webkit-mask-image:linear-gradient(to_bottom,transparent,black_8px,black_calc(100%_-_8px),transparent)]",lg:"[mask-image:linear-gradient(to_bottom,transparent,black_16px,black_calc(100%_-_16px),transparent)] [-webkit-mask-image:linear-gradient(to_bottom,transparent,black_16px,black_calc(100%_-_16px),transparent)]"}[r],s),tabIndex:-1,role:o,children:t})}},55060:(e,t,s)=>{"use strict";s.d(t,{dI:()=>N,DF:()=>S,_q:()=>C});var a=s(79342),n=s(38614),r=s(11750),o=s(23232),i=s(41320),c=s(98100),l=s(58192),d=s(44845),g=s(95158),m=s(56907),p=s(74995),u=s(88382),h=s(65146);function f(){var e,t,s,a,r;let{t:o}=(0,h.Bd)("chat"),i=(0,n.aP)(p.A("activeModelId"))||l.Sk,c=(0,n.aP)(p.A("reasoningMode")),f=(0,n.aP)(p.A("conversationId")),k=(0,n.aP)(p.A("lastMessageId")),{data:b,isPending:x,refetch:w}=(0,m.IT)({queryKey:["get-rate-limits"],queryFn:()=>g.tW.rateLimitsGetRateLimits({body:{modelName:i,requestKind:(0,d.ot)(c)}}),enabled:!!i}),v=(0,u.useCallback)(e=>{let t=Math.floor(e/3600),s=Math.floor(e%3600/60);return t>0&&s>0?"".concat(o("time.hours",{defaultValue_one:"{{count}} hour",defaultValue_other:"{{count}} hours",count:t})," ").concat(o("time.minutes",{count:s,defaultValue_one:"{{count}} minutes",defaultValue_other:"{{count}} minutes"})):t>0?o("time.hours",{defaultValue_one:"{{count}} hour",defaultValue_other:"{{count}} hours",count:t}):o("time.minutes",{count:s,defaultValue_one:"{{count}} minutes",defaultValue_other:"{{count}} minutes"})},[o]),y=(0,u.useMemo)(()=>v((null==b?void 0:b.waitTimeSeconds)||(null==b?void 0:b.windowSizeSeconds)||0),[b,v]),j=(0,u.useMemo)(()=>v((null==b?void 0:b.windowSizeSeconds)||0),[b,v]);return(0,u.useEffect)(()=>{w().catch(()=>{})},[i,c,f,k]),{remainingQueries:null!=(e=null==b?void 0:b.remainingQueries)?e:0,windowSizeSeconds:null!=(t=null==b?void 0:b.windowSizeSeconds)?t:0,waitTimeSeconds:null!=(s=null==b?void 0:b.waitTimeSeconds)?s:0,totalQueries:null!=(r=null!=(a=null==b?void 0:b.totalTokens)?a:null==b?void 0:b.totalQueries)?r:0,prettyWaitTime:y,prettyWindowSize:j,isPending:x}}var k=s(61312),b=s(58711),x=s(23054),w=s(39116),v=s(42557),y=s(56691),j=s(60065);function N(){let{t:e}=(0,h.Bd)("upsell"),t=(0,w.useRouter)(),s=(0,o._)(),[n,c]=(0,u.useState)(!0),l=(0,i.Di)(),d=f(),g=(0,u.useCallback)(e=>{e.stopPropagation(),s("sign_up_redirect",void 0,{location:"login-upsell-banner"}),t.push("/sign-up")},[t,s]),m=(0,u.useCallback)(e=>{e.stopPropagation(),s("sign_in_redirect",void 0,{location:"login-upsell-banner"}),t.push("/sign-in")},[t,s]),p=(0,u.useCallback)(e=>{e.stopPropagation(),c(!1),s("upsell_banner_collapsed",void 0,{location:"login-upsell-banner"})},[c,s]);return!n||l?(0,a.jsxs)(x.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeInOut"},whileHover:{scale:1.01},className:(0,k.cn)("relative flex flex-row items-center justify-between gap-8 px-4 py-3 border bg-background border-highlight rounded-2xl","bg-black text-white border cursor-pointer dark"),onClick:g,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-bold",children:e("Sign up to continue with Grok","Sign up to continue with Grok")}),(0,a.jsx)("p",{className:"hidden @sm:block text-xs text-secondary",children:e("upsell-banner.login-collapsed.description","Enjoy higher rate limits, history, attachments, private chats, and more when you sign up for free",{waitTime:d.prettyWaitTime})})]}),(0,a.jsx)(y.$n,{variant:"filled",rounded:!0,size:"sm",children:e("Sign up","Sign up",{ns:"base"})})]}):(0,a.jsxs)(x.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeInOut"},whileHover:{scale:1.01},className:(0,k.cn)("w-11/12","relative flex flex-col items-start justify-between px-6 py-6 border bg-background border-highlight rounded-3xl","bg-black text-white border cursor-pointer dark"),onClick:g,children:[(0,a.jsx)(j.I,{starDensity:5e-4,className:"rounded-[23px]"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-1",children:e("Sign up to continue with Grok","Sign up to continue with Grok")}),(0,a.jsx)("p",{className:"text-secondary mb-4 text-sm",children:e("upsell-banner.login.description","Enjoy higher usage limits and more when you sign up for free.")}),(0,a.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(r.xv8,{size:20,className:"text-secondary"}),(0,a.jsx)("span",{children:e("upsell-banner.login.process-files","Process documents and edit images")})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(r.zD7,{size:20,className:"text-secondary"}),(0,a.jsx)("span",{children:e("upsell-banner.login.memories","Store memories and reference them across chats")})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(r.b7X,{size:20,className:"text-secondary"}),(0,a.jsx)("span",{children:e("upsell-banner.login.voice-mode","Activate real-time voice mode")})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(r.zWC,{size:20,className:"text-secondary"}),(0,a.jsx)("span",{children:e("upsell-banner.login.unlock-features","Unlock features like projects, private chats, and more")})]})]}),(0,a.jsx)("div",{className:"absolute top-4 right-4",children:(0,a.jsx)(y.$n,{variant:"ghost",size:"icon",onClick:p,"aria-label":"Collapse banner",children:(0,a.jsx)(r.xqZ,{size:18,className:"text-secondary"})})})]}),(0,a.jsxs)("div",{className:"flex w-full justify-end gap-3 z-10",children:[(0,a.jsx)(y.$n,{onClick:m,variant:"outline",rounded:!0,size:"sm",children:e("Sign in","Sign in",{ns:"base"})}),(0,a.jsx)(y.$n,{onClick:g,variant:"filled",rounded:!0,size:"sm",children:e("Sign up","Sign up",{ns:"base"})})]})]})}function C(){let{t:e}=(0,h.Bd)("upsell"),t=(0,n.aP)(p.A("reasoningMode")),s=(0,n.aP)(p.A("activeModelId")),{modelById:l}=(0,c.GB)(),d=f(),[g,m]=(0,u.useState)(!0),w=(0,i.Di)(),N=(0,v.wV)(),C=(0,o._)(),S=(0,b.e3)(p.A("setIsUpselling")),I=(0,u.useMemo)(()=>{var e;return(null==(e=l[s])?void 0:e.name)||s},[l,s]),T=(0,u.useMemo)(()=>"deepersearch"===t?e("Sign up for SuperGrok.deepersearch","Sign up for SuperGrok to continue with {{modelName}} DeeperSearch",{modelName:I}):"deepsearch"===t?e("Sign up for SuperGrok.deepsearch","Sign up for SuperGrok to continue with {{modelName}} DeepSearch",{modelName:I}):"think"===t?e("Sign up for SuperGrok.think","Sign up for SuperGrok to continue with {{modelName}} Think",{modelName:I}):e("Sign up for SuperGrok","Sign up for SuperGrok",{modelName:I}),[I,t,e]),E=(0,u.useMemo)(()=>"deepersearch"===t?e("Get SuperGrok for higher rate limits, switch to DeepSearch, or wait ","Get SuperGrok for higher rate limits, switch to DeepSearch, or wait {{waitTime}}.",{waitTime:d.prettyWaitTime}):e("Get SuperGrok for higher rate limits, or wait ","Get SuperGrok for higher rate limits, or wait {{waitTime}}.",{waitTime:d.prettyWaitTime}),[d,t,e]),R=(0,u.useCallback)(()=>{C("upsell_card_clicked",N.countryCode,{location:"supergrok-upsell-banner",countryCode:N.countryCode||""}),S(!0)},[S,N.countryCode,C]),A=(0,u.useCallback)(e=>{e.stopPropagation(),m(!1),C("upsell_banner_collapsed",void 0,{location:"supergrok-upsell-banner"})},[m,C]);return!g||w?(0,a.jsxs)(x.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeInOut"},whileHover:{scale:1.01},className:(0,k.cn)("relative flex flex-row items-center justify-between gap-8 px-4 py-3 border bg-background border-highlight rounded-2xl","bg-black text-white border cursor-pointer dark"),onClick:R,children:[(0,a.jsx)(j.I,{starDensity:.001,className:"rounded-[23px]"}),(0,a.jsx)("div",{className:"absolute inset-0 flex justify-center top-0 overflow-hidden rounded-[23px]",children:(0,a.jsx)("div",{className:"size-80 bg-red-500 bg-gradient-to-r from-sunset via-breeze to-cobalt aspect-square opacity-10 absolute bottom-4 blur-[32px] rounded-full"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-bold",children:T}),(0,a.jsx)("p",{className:"hidden @sm:block text-xs text-gray-100",children:E})]}),(0,a.jsx)(y.$n,{variant:"accent",size:"sm",className:"font-semibold rounded-full z-10 ",children:e("Get Started","Get Started")})]}):(0,a.jsxs)(x.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeInOut"},whileHover:{scale:1.01},className:(0,k.cn)("w-11/12","relative flex flex-col items-start justify-between px-6 py-6 border bg-background border-highlight rounded-3xl","bg-black text-white border cursor-pointer dark"),onClick:R,children:[(0,a.jsx)(j.I,{starDensity:5e-4,className:"rounded-[23px]"}),(0,a.jsx)("div",{className:"absolute inset-0 flex justify-center top-0 overflow-hidden rounded-[23px]",children:(0,a.jsx)("div",{className:"size-80 bg-red-500 bg-gradient-to-r from-sunset via-breeze to-cobalt aspect-square opacity-10 absolute top-0 blur-[32px] rounded-full transform -translate-y-1/2 w-full"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-1",children:T}),(0,a.jsx)("p",{className:"text-secondary mb-4 text-sm",children:e("upsell-banner.supergrok.description","Enjoy higher usage limits and more when you upgrade")}),(0,a.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(r.f36,{size:20,className:"text-secondary"}),(0,a.jsx)("span",{children:e("upsell-banner.login.early-access-4","Access to Grok 4 and new features")})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(r.AaN,{size:20,className:"text-secondary"}),(0,a.jsx)("span",{children:e("upsell-banner.supergrok.more-queries-simple","More queries for {{modelName}}",{modelName:I})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(r.Sxh,{size:20,className:"text-secondary"}),(0,a.jsx)("span",{children:e("upsell-banner.supergrok.context","Increased memory context")})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(r.v9l,{size:20,className:"text-secondary"}),(0,a.jsx)("span",{children:e("upsell-banner.supergrok.edit-images-voice","Increased access to image generation and voice mode")})]})]}),(0,a.jsx)("div",{className:"absolute top-4 right-4",children:(0,a.jsx)(y.$n,{variant:"ghost",size:"icon",onClick:A,"aria-label":"Collapse banner",children:(0,a.jsx)(r.xqZ,{size:18,className:"text-secondary"})})})]}),(0,a.jsx)("div",{className:"flex w-full justify-end gap-3 z-10",children:(0,a.jsx)(y.$n,{variant:"accent",size:"sm",className:"font-semibold rounded-full z-10 ",children:e("Get Started","Get Started")})})]})}function S(){let{t:e}=(0,h.Bd)("upsell"),t=(0,n.aP)(p.A("reasoningMode")),s=(0,n.aP)(p.A("activeModelId")),{modelById:r}=(0,c.GB)(),o=f(),i=(0,u.useMemo)(()=>{var e;return(null==(e=r[s])?void 0:e.name)||s},[r,s]),l=(0,u.useMemo)(()=>"deepersearch"===t?e("You have temporarily reached your limit with.deepersearch","You have temporarily reached your limit with.deepersearch",{modelName:i}):"deepsearch"===t?e("You have temporarily reached your limit with.deepsearch","You have temporarily reached your limit with {{modelName}} DeepSearch",{modelName:i}):"think"===t?e("You have temporarily reached your limit with.reasoning","You have temporarily reached your limit with {{modelName}} Think",{modelName:i}):e("You have temporarily reached your limit with","You have temporarily reached your limit with {{modelName}}",{modelName:i}),[i,t,e]),d=(0,u.useMemo)(()=>"deepersearch"===t?e("upsell-description.deepersearch",{defaultValue_one:"You can send up to {{count}} DeeperSearch query every {{totalTime}} which will reset in {{waitTime}}.",defaultValue_other:"You can send up to {{count}} DeeperSearch queries every {{totalTime}} which will reset in {{waitTime}}.",count:o.totalQueries,waitTime:o.prettyWaitTime,totalTime:o.prettyWindowSize}):"deepsearch"===t?e("You can send up to.deepsearch","You can send up to {{totalQueries}} DeepSearch queries every {{totalTime}} which will reset in {{waitTime}}.",{totalQueries:o.totalQueries,waitTime:o.prettyWaitTime,totalTime:o.prettyWindowSize}):"think"===t?e("You can send up to.reasoning","You can send up to {{totalQueries}} Think queries every {{totalTime}} which will reset in {{waitTime}}.",{totalQueries:o.totalQueries,waitTime:o.prettyWaitTime,totalTime:o.prettyWindowSize}):e("You can send up to","You can send up to {{totalQueries}} queries every {{totalTime}} which will reset in {{waitTime}}.",{totalQueries:o.totalQueries,waitTime:o.prettyWaitTime,totalTime:o.prettyWindowSize}),[o,t,e]);return(0,a.jsx)("div",{className:"flex flex-row items-center justify-between gap-8 px-4 py-3 border bg-background border-highlight rounded-2xl",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-bold",children:l}),(0,a.jsx)("p",{className:"hidden @sm:block text-xs text-secondary",children:d})]})})}},55493:(e,t,s)=>{"use strict";s.d(t,{E:()=>n});var a=s(99566);let n=(0,a.createServerReference)("70c72c9cd228872e1bd7799e445651f117107f6bef",a.callServer,void 0,a.findSourceMapURL,"getAuthUrlAndSetOAuthCookie")},55765:(e,t,s)=>{"use strict";s.d(t,{$:()=>a});let a={"c++":"cpp",coffeescript:"coffee","ld+json":"json",jsx:"javascript","text/bash":"bash","text/c":"c","text/c++":"cpp","text/cpp":"cpp","text/javascript":"javascript","text/latex":"latex","text/python":"python","text/sh":"bash","text/typescript":"typescript","text/x-c":"c","text/x-c++":"cpp","text/x-c++src":"cpp","text/x-latex":"latex","text/x-python":"python","text/x-tex":"latex",tsx:"typescript","x-ada":"ada","x-arduino":"cpp","x-asm":"asm","x-assembly":"assembly","x-basic":"basic","x-c":"c","x-c++src":"cpp","x-clojure":"clojure","x-cobol":"cobol","x-common-lisp":"lisp","x-csharp":"csharp","x-csrc":"c","x-dockerfile":"dockerfile","x-elixir":"elixir","x-erlang":"erlang","x-fortran":"fortran","x-fsharp":"fsharp","x-go":"go","x-haskell":"haskell","x-java":"java","x-javascript":"javascript","x-java-source":"java","x-kotlin":"kotlin","x-latex":"latex","x-lua":"lua","x-objective-c":"objective-c","x-objectivec":"objective-c","x-objcsrc":"objective-c","x-pascal":"pascal","x-perl":"perl","x-php":"php","x-python":"python","x-python-script":"python","x-r-source":"r","x-ruby":"ruby","x-rustsrc":"rust","x-scala":"scala","x-sh":"shell","x-shellscript":"shell","x-sql":"sql","x-swift":"swift","x-tex":"latex","x-typescript":"typescript"}},56115:(e,t,s)=>{"use strict";s.d(t,{R:()=>n});var a=s(88382);let n=e=>{let{hasNextPage:t,isFetchingNextPage:s,isLoading:n,fetchNextPage:r}=e,o=(0,a.useRef)(null),i=(0,a.useRef)(null),[c,l]=(0,a.useState)(!1),[d,g]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{if(!(null==o?void 0:o.current)||!(null==i?void 0:i.current))return;let e=new IntersectionObserver(e=>{let[t]=e;t&&l(t.isIntersecting)},{root:i.current,rootMargin:"300px 0px 300px 0px",threshold:.1}),t=o.current;return e.observe(t),()=>{t&&e.unobserve(t)}},[]),(0,a.useLayoutEffect)(()=>{!c||!t||s||d||n||(g(!0),r())},[c,t,s,r,d,n]),(0,a.useEffect)(()=>{if(d){let e=setTimeout(()=>{g(!1)},300);return()=>clearTimeout(e)}},[d]),{loadMoreRef:o,historyContainerRef:i}}},57137:(e,t,s)=>{"use strict";s.d(t,{l:()=>R});var a=s(20547),n=s(25443),r=s(44339),o=s(90311),i=s(55672),c=s(44660),l=s(36972),d=s(84432),g=s(80270),m=s(11012),p=s(92644),u=s(72121),h=s(88382),f=s(65146),k=s(99469),b=s(8254),x=s(75500),w=s(6224);let v=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,y=a.bP.create({name:"image",addOptions:()=>({inline:!1,allowBase64:!1,HTMLAttributes:{}}),inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes:()=>({src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}),parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML(e){let{HTMLAttributes:t}=e;return["img",(0,a.KV)(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:e=>t=>{let{commands:s}=t;return s.insertContent({type:this.name,attrs:e})}}},addInputRules(){return[(0,a.jT)({find:v,type:this.type,getAttributes:e=>{let[,,t,s,a]=e;return{src:s,alt:t,title:a}}})]}}),j=s(94826).Cy.extend({renderHTML(e){let{HTMLAttributes:t}=e;return["span",(0,a.KV)(t,{class:"text-sm px-1 rounded-sm !font-mono bg-sunset/10 text-rust dark:bg-dawn/10 dark:text-dawn"}),""]}});var N=s(79342),C=s(91772);let S=e=>{var t;let{node:s,updateAttributes:a}=e,n=(0,h.useId)(),r=null!=(t=s.attrs.checked)&&t;return(0,N.jsxs)(p.VR,{as:"li","data-type":"taskItem","data-checked":r,className:"task-item flex items-start gap-1.5 [&[data-checked=true]>.task-item-content>div>p:first-child]:line-through [&[data-checked=true]>.task-item-content>div>p:first-child]:text-muted-foreground",children:[(0,N.jsx)("div",{className:"flex items-center justify-center w-[var(--list-padding-inline-start)] h-[1lh] shrink-0",contentEditable:!1,children:(0,N.jsx)(C.S,{id:n,checked:r,onCheckedChange:()=>{a({checked:!r})},onPointerDown:e=>{e.preventDefault(),e.stopPropagation()},title:"Toggle task","aria-label":"Toggle task",tabIndex:-1})}),(0,N.jsx)(p.$p,{as:"div",className:"task-item-content [&>div>*:first-child]:my-0 [&>div>*:last-child]:my-0"})]})};var I=s(78884);class T{update(e,t){t.selection.eq(e.state.selection)&&t.doc.eq(e.state.doc)||this.updateOverlay()}destroy(){this.layer&&this.layer.parentNode&&this.layer.parentNode.removeChild(this.layer),this.editorView.dom.ownerDocument.removeEventListener("selectionchange",this.updateCursorBound),this.editorView.dom.removeEventListener("focus",this.updateCursorBound,!0),this.editorView.dom.removeEventListener("blur",this.updateCursorBound,!0),this.observer&&this.observer.disconnect()}updateOverlay(){var e,t;if(!this.cursor)return;let s=this.editorView.state.selection;if(!(s instanceof I.U3)||!s.empty||!this.cursor){this.cursor.style.display="none";return}let a=function(e,t){var s;let a=window.getSelection();if(!a||!a.rangeCount)return null;let n=null==a||null==(s=a.getRangeAt(0))?void 0:s.cloneRange();if(!n)return null;n.collapse(t);let r=n.getClientRects(),o=(null==r?void 0:r.length)?r[r.length-1]:null;return(null==o?void 0:o.height)?o:e.coordsAtPos(e.state.selection.head)}(this.editorView,s.$head===s.$from);if(!a){this.cursor.style.display="none";return}this.cursor.style.display="";let n=this.editorView.dom.offsetParent||this.editorView.dom,r=n.getBoundingClientRect();this.layer.parentNode||n.appendChild(this.layer),e=this.layer,t="ProseMirror-cursor-layer",e.classList.remove(t),e.offsetWidth,e.classList.add(t),this.cursor.style.height="".concat(a.bottom-a.top,"px"),this.cursor.style.left="".concat(a.left-r.left,"px"),this.cursor.style.top="".concat(a.top-r.top,"px")}constructor(e,t){var s;this.editorView=e,this.observer=null,this.width=null!=(s=t.width)?s:1,this.color=!1===t.color?void 0:t.color||"black",this.class=t.class;let a=e.dom.ownerDocument||document;this.layer=a.createElement("div"),this.layer.style.cssText="position: absolute; top: 0; left: 0; width: 100%; height: 100%;pointer-events: none; z-index: 50;",this.layer.classList.add("ProseMirror-cursor-layer"),this.cursor=a.createElement("div"),this.cursor.style.cssText="position: absolute; pointer-events: none;",this.cursor.style.width="".concat(this.width,"px"),this.color&&(this.cursor.style.backgroundColor=this.color),this.cursor.classList.add("ProseMirror-virtual-cursor"),this.class&&this.cursor.classList.add(this.class),this.layer.appendChild(this.cursor),this.updateCursorBound=()=>this.updateOverlay(),this.editorView.dom.ownerDocument.addEventListener("selectionchange",this.updateCursorBound),this.editorView.dom.addEventListener("focus",this.updateCursorBound,!0),this.editorView.dom.addEventListener("blur",this.updateCursorBound,!0),window.ResizeObserver&&(this.observer=new ResizeObserver(()=>this.updateOverlay()),this.observer.observe(this.editorView.dom)),this.updateOverlay()}}let E=new I.hs("Prosemirror-virtual-cursor"),R=e=>{let{content:t,isEditable:s,onUpdate:v}=e,{t:N}=(0,f.Bd)("files"),C=(0,x.h)(),R=(0,h.useMemo)(()=>{let e=[u.A,o.Ay.configure({resizable:!0}),l.A.configure({HTMLAttributes:{class:"border-border"}}),c.h,i.A,g.A.configure({HTMLAttributes:{class:"task-list ps-0"}}),d.Ay.extend({addNodeView:()=>(0,p.gu)(S,{as:"div",className:"file-editor-task-item-node"}),addKeyboardShortcuts(){var e;return{...null==(e=this.parent)?void 0:e.call(this),Tab:()=>(this.editor.commands.sinkListItem("taskItem"),!0)}}}).configure({nested:!0}),y,k.o,j,r.A.configure({placeholder:N("text-editor.placeholder.new-document","New document"),includeChildren:!0,showOnlyWhenEditable:!0}),w.M,b.Ay.configure({types:["heading","paragraph","bulletList","orderedList","taskList"]}),m.A,n.A];return C.ENABLE_VIRTUAL_CURSOR_IN_RICH_TEXT_EDITOR&&e.push(a.YY.create({name:"virtual-cursor",addProseMirrorPlugins:()=>[function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new I.k_({key:E,view:t=>new T(t,e),props:{attributes:e=>({"data-virtual-cursor":""+(e.selection instanceof I.U3)})}})}({width:2,color:"var(--tw-prose-body, var(--fg-primary))"})]})),e},[N,C.ENABLE_VIRTUAL_CURSOR_IN_RICH_TEXT_EDITOR]);return(0,p.hG)({extensions:R,content:t,editable:s,autofocus:!!s&&"end",onTransaction:e=>{let{editor:t,transaction:a}=e;if(s&&a.steps.length>0&&!a.getMeta("preventUpdate")){let e=t.getText(),s=t.getJSON(),a=t.storage.markdown.getMarkdown();v(null!=a?a:""),0===e.length&&s.content&&(0===s.content.length||1===s.content.length&&s.content[0]&&"heading"!==s.content[0].type)&&t.chain().focus().setHeading({level:1}).setMeta("preventUpdate",!0).run()}}})}},57448:(e,t,s)=>{"use strict";s.d(t,{W:()=>n});var a=s(88382);let n=e=>{var t,s,n,r;let{uniqueXPosts:o,uniqueWebSearchResults:i,uniqueBrowsedUrls:c}=(0,a.useMemo)(()=>{let{webSearchResults:t,xposts:s,steps:a,citedWebSearchResults:n,toolUsageResultById:r}=e,o=[...s||[],...(a||[]).flatMap(e=>e.xposts||[]),...Object.values(r||{}).flatMap(e=>{var t;return(null==(t=e.xSearchResults)?void 0:t.results)||[]})],i=[...t||[],...n||[],...(a||[]).flatMap(e=>e.webSearchResults||[]),...Object.values(r||{}).flatMap(e=>{var t;return(null==(t=e.webSearchResults)?void 0:t.results)||[]})],c=new Set,l=o.filter(e=>!(!(null==e?void 0:e.postId)||c.has(e.postId))&&(c.add(e.postId),!0)),d=new Set;return{uniqueXPosts:l,uniqueWebSearchResults:i.filter(e=>!(!(null==e?void 0:e.url)||d.has(e.url))&&(d.add(e.url),!0)),uniqueBrowsedUrls:(null==a?void 0:a.flatMap(e=>{var t,s,a;if(!(null==(t=e.tags)?void 0:t.includes("decision")))return[];let n=e.tags.indexOf("decision"),r=null==(s=e.text)?void 0:s[n];if(!r)return[];try{let e=JSON.parse(r);if("browse_page"===e.action){let t=null==(a=e.action_input)?void 0:a.url;return t?[t]:[]}}catch(e){}return[]}))||[]}},[null==(t=e.webSearchResults)?void 0:t.length,null==(s=e.xposts)?void 0:s.length,null==(n=e.steps)?void 0:n.length,null==(r=e.citedWebSearchResults)?void 0:r.length,Object.keys(e.toolUsageResultById||{}).length]);return{uniqueXPosts:o,uniqueWebSearchResults:i,uniqueBrowsedUrls:c}}},57607:(e,t,s)=>{"use strict";s.d(t,{i8:()=>eT,mJ:()=>eN,gh:()=>eC,Y5:()=>ej});var a=s(79342),n=s(62734),r=s(64868),o=s(14962),i=s(44428),c=s(82591),l=s(11750),d=s(42423),g=s(37469),m=s(56691),p=s(47127),u=s(43086),h=s(61884),f=s(64820),k=s(75500),b=s(41887),x=s(23232),w=s(4295),v=s(2376),y=s(24734),j=s(7658),N=s(4878),C=s(70526),S=s(48992),I=s(17703),T=s(34839),E=s(84499),R=s(61312),A=s(57373),_=s(86822),O=s(49972),P=s(93436),M=s(97960),L=s(44347),D=s(38541),B=s.n(D),z=s(84969),F=s(16506),U=s(39116),V=s(74995),H=s(53915),W=s(46815),G=s(7616),K=s(88382),q=s(65146),X=s(14908),Y=s(38614),Q=s(19728),$=s(88261),Z=s(33880),J=s(10505),ee=s(8142),et=s(17670),es=s(66587),ea=s(12702),en=s(30532),er=s(97141),eo=s(14281),ei=s(47392),ec=s(17825),el=s(52244),ed=s(25859),eg=s(80574),em=s(65258),ep=s(95158),eu=s(1509),eh=s(86530).hp;function ef(e,t){(0,I.iu)(e,void 0,{location:"tts-store",...t})}class ek{async init(){this.audioContext||(this.audioContext=new(window.AudioContext||window.webkitAudioContext)({sampleRate:this.sampleRate}),this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination),this.gainNode.gain.value=1,await this.audioContext.resume()),this.nextStartTime=0}feedChunk(e){if(!this.audioContext)return void console.error("Player not initialized");try{let s=eh.from(e,"base64").buffer,a=new Int16Array(s,0,s.byteLength/2);if(!a)return void console.error("Failed to decode PCM data");let n=new Float32Array(a.length);for(let e=0;e<a.length;e++){var t;n[e]=(null!=(t=a[e])?t:0)/32768}let r=this.audioContext.createBuffer(this.channels,n.length,this.sampleRate);r.copyToChannel(n,0);let o=this.audioContext.createBufferSource();o.buffer=r,o.connect(this.gainNode),this.lastSource&&(this.lastSource.onended=null),o.onended=()=>{var e;null==(e=this.onfinished)||e.call(this)},this.lastSource=o;let i=n.length/this.sampleRate,c=this.nextStartTime;this.nextStartTime+=i,o.start(c)}catch(e){console.error("Error feeding audio chunk:",e)}}async stop(){this.audioContext&&await this.audioContext.close()}constructor(){this.audioContext=null,this.gainNode=null,this.sampleRate=24e3,this.channels=1,this.nextStartTime=0,this.onfinished=null,this.lastSource=null}}class eb{constructor(e,t){this.set=e,this.get=t,this.player=null,this.currentStreamId=null,this.playbackStatus="stopped",this._readAudioStream=async e=>{let{raw:t}=await ep.chatApi.chatReadResponseRaw({responseId:e}),s=(0,eu.M)(t);this.player||(this.player=new ek),await this.player.init();let a=!0;try{for await(let t of s){var n;if(this.get().currentStreamId!==e||!this.player)break;(null==(n=t.result)?void 0:n.audioChunk)&&(this.player.feedChunk(t.result.audioChunk),a&&(this.set({playbackStatus:"playing"}),a=!1))}this.player.onfinished=()=>{ef("tts-finished"),this.set({currentStreamId:null,playbackStatus:"stopped"}),this.player=null}}catch(n){let e,t="Unknown",s="Unknown",a="Unknown";n instanceof Error?(e=n.message,t=n.name,s=n.cause?String(n.cause):"",a=n.stack?n.stack:""):e="string"==typeof n?n:String(n),ef("tts-stream-error",{message:e,error:t,cause:s,stack:a})}a&&this.set({playbackStatus:"stopped"})},this.getPlaybackStatus=e=>this.get().currentStreamId===e?this.get().playbackStatus:"stopped",this.playTextToSpeechForResponse=e=>{ef("tts-play"),this.stopTextToSpeech(),this.set({currentStreamId:e,playbackStatus:"loading"}),this._readAudioStream(e).catch(e=>{(0,I.vV)("tts-store:playTextToSpeechForResponse",e)})},this.stopTextToSpeech=e=>{ef("tts-stop"),this.player&&(!e||this.get().currentStreamId===e)&&(this.player.stop().catch(e=>{(0,I.vV)("tts-store:stopTextToSpeech",e)}),this.player=null,this.set({currentStreamId:null,playbackStatus:"stopped"}))}}}let ex=(0,em.y$)(eb,"useTextToSpeechStore"),ew=[],ev="opacity-0 group-focus-within:opacity-100 group-hover:opacity-100 [.last-response_&]:opacity-100 disabled:opacity-0 group-focus-within:disabled:opacity-60 group-hover:disabled:opacity-60 [.last-response_&]:disabled:opacity-60",ey="opacity-100",ej="h-8 mt-0.5",eN=(0,K.memo)(e=>{var t,s,D,em,ep,eu,eh,ef,ek,eb,ex,eN,eS,eR,eA,e_,eO;let{responseFamily:eP=ew,selectedId:eM,streamingResponse:eL,onPivotResponse:eD,onEditSubmit:eB,readOnly:ez,isIncognito:eF,queryBarHeight:eU,isLastResponse:eV,task:eH,allowBreakout:eW=!1,isThread:eG=!1,truncatable:eK=!1}=e,{t:eq}=(0,q.Bd)("chat"),eX=(0,w.c)(),eY=(0,eg.JH)(),eQ=(0,k.h)(),e$=(0,x._)(),eZ=(0,y.K)(),{route:eJ}=(0,E.wK)(),[e0,e1]=(0,K.useState)(),[e2,e3]=(0,K.useState)(),[e4,e5]=(0,K.useState)(!1),[e8,e6]=(0,K.useState)(!eK),e7=(0,K.useRef)(null),e9=(0,K.useRef)(null),te=(0,_.d)(V.A("fetchGetAsset")),tt=(0,Y.aP)(V.A("isRateLimited")),ts=(0,Y.aP)(V.A("conversationMode")),[ta,tn]=(0,K.useState)(!1),tr=(0,$.HM)(),to=(0,U.usePathname)(),ti=null==to?void 0:to.includes("/share/"),[tc,tl]=(0,K.useState)(!1),td=(0,K.useMemo)(()=>eP.findIndex(e=>e.responseId===eM),[eP,eM]),tg=null==(t=eP[td])?void 0:t.responseId;if(!tg)throw Error("Response: ".concat(tg," not found in family"));let tm=(0,M.A3)(e=>e.byId[tg]);if(!tm)throw Error("Response not found");eL&&(tm.streamingImageById=eL.streamingImageById);let tp=(0,O.w1)(e=>tm.conversationId?e.byId[tm.conversationId]:void 0),{getPersonaForConversation:tu}=(0,v.v5)(),th=tu(tp),[tf,tk]=(0,K.useState)({}),tb=(0,K.useCallback)(()=>{var e;null==(e=tm.fileAttachments)||e.forEach(e=>{e in tf||te({assetId:e}).then(t=>{tk(H.A(W.A(e),t))}).catch(t=>{if(t.errorMessage.message.includes("An unexpected database error occurred when creating AssetMetadata.")||t.errorMessage.message.includes("attempts to access asset")){(0,I.vV)("response-family:resetFileAttachments",t.errorMessage.message),tk(H.A(W.A(e),(0,N._k)(e,eq("hidden-attachment-name","Hidden attachment"))));return}eZ("response-family:resetFileAttachments",t)})})},[tm.fileAttachments,tf,te,eZ,eq]);(0,K.useEffect)(()=>{tb()},[tm.responseId]),(0,K.useEffect)(()=>{tk({})},[eM]);let tx=(0,K.useCallback)(e=>{tk(t=>G.A(e.assetId)(t))},[tk]),{resolvedTheme:tw}=(0,F.D)(),tv="dark"===tw,ty=(0,K.useMemo)(()=>Object.values(tf),[tf]),tj=(0,K.useMemo)(()=>ty.filter(e=>!e.isModelGenerated),[ty]),[tN,tC]=(0,K.useState)(tm.webpageUrls),tS=(0,K.useCallback)(e=>{tC(t=>t.filter(t=>t!==e)||[])},[]),tI="human"===tm.sender,tT=(0,M.A3)(V.A("byConversationId")),tE=(0,M.A3)(V.A("nodesByConversationId")),tR=(0,K.useMemo)(()=>{let e=tE[tm.conversationId],t=e?(0,S.t$)(tm.responseId,e).length:0,s=(0,S.iM)(tm.conversationId,tT).filter(e=>e.threadParentId===tm.responseId);return 0===s.length?t:s.length},[tE,tm.conversationId,tm.responseId,tT]),tA=(0,Y.aP)(V.A("sidePanelContent")),t_=(null==tA?void 0:tA.type)==="messageThread"?tA.data.parentResponseId:void 0,tO=eM===t_&&!eG,tP=ta||tO||tR>0&&!eG,tM=(0,K.useMemo)(()=>!!(tm.error&&tm.error.includes("content-moderated")),[tm.error]),tL=(0,K.useCallback)(async()=>{let e=eP[td-1];eD&&e&&(e$("pivot_prev_response",tm.responseId,{location:"chat-response",responseId:tm.responseId,conversationId:tm.conversationId}),e3("prev"),await eD(e.responseId,eG),e3(void 0))},[eP,td,eD,e$,tm.responseId,tm.conversationId,eG]),tD=(0,K.useCallback)(async()=>{let e=eP[td+1];eD&&e&&(e$("pivot_next_response",tm.responseId,{location:"chat-response",responseId:tm.responseId,conversationId:tm.conversationId}),e3("next"),await eD(e.responseId,eG),e3(void 0))},[eP,td,eD,e$,tm.responseId,tm.conversationId,eG]),tB=(0,K.useCallback)(()=>{var e,t,s,a;e$("copy_response",tm.responseId,{location:"response-family",responseId:tm.responseId,conversationId:tm.conversationId,copyTimestamp:String(Date.now()),responseLength:String((null==(e=tm.message)?void 0:e.length)||0),responseModelId:(null==(s=tm.metadata)||null==(t=s.requestModelDetails)?void 0:t.modelId)||"unknown",generationTimeMs:String(tm.generationTimeMs||0),timeToFirstTokenMs:String(tm.liveTimeToFirstTokenMs||0),isThinkHarder:String(!!(null==(a=tm.metadata)?void 0:a.is_think_harder))})},[tm,e$]),tz=(0,K.useCallback)(()=>eQ.USE_NEW_PROCESS_MESSAGE_COPY?(0,T.g5)(tm.message):(0,J.V)(tm.message),[tm,eQ]),tF=(0,K.useCallback)(()=>{tl(e=>!e),e$("edit_response",tm.responseId,{location:"chat-response",responseId:tm.responseId,conversationId:tm.conversationId})},[tm,e$]),tU=(0,K.useCallback)(async e=>{var t,s;let a=Y.aP.getState(),n=L.C$.getState();e$("regenerate_response",tm.responseId,{location:"chat-response",responseId:tm.responseId,conversationId:tm.conversationId,fileAttachments:String((null==(t=tm.fileAttachments)?void 0:t.length)||0),webpageUrls:String((null==(s=tm.webpageUrls)?void 0:s.length)||0),outputMode:a.outputMode,reasoningMode:a.reasoningMode,personalityId:n.userSettings.preferences.selectedSystemPromptId||"",personaId:(null==th?void 0:th.personaId)||""}),a.sendResponse({message:"",parentResponseId:tm.parentResponseId,conversationId:tm.conversationId,fileAttachmentIds:tm.fileAttachments||[],webpageUrls:tm.webpageUrls,setOpimisticUserResponse:!1,disableArtifactDiff:null==e?void 0:e.disableArtifactDiff,setUserResponse:!1,persona:th,enableRetries:eQ.ENABLE_AUTO_STREAM_RETRY,isFromGrokFiles:"files"===eJ.page,threadParentId:tm.threadParentId,ff:eQ,ctx:eY}).then(e=>{e.length||(0,I.vV)("response-family:handleClickRegenerate","Failed to regenerate model response")}).catch(e=>{(0,I.vV)("response-family:handleClickRegenerate",e)})},[e$,tm.responseId,tm.conversationId,tm.fileAttachments,tm.webpageUrls,tm.parentResponseId,tm.threadParentId,th,eQ,eJ.page,eY]),{data:tV}=(0,j.$1)(tm.conversationId,!ti),tH=String(!B().isEmpty(null==tV?void 0:tV.length)),tW=(0,K.useCallback)(()=>{if("streaming"===tm.state||"reconnecting"===tm.state)return;e$("open_thread_clicked",void 0,{location:"response-family",conversationId:tm.conversationId,responseId:tm.responseId});let{setSidePanelContent:e}=Y.aP.getState();e({type:"messageThread",data:{parentResponseId:tm.responseId,selectedText:"",conversationId:tm.conversationId}})},[e$,tm.conversationId,tm.responseId,tm.state]),tG=(0,K.useCallback)(()=>{var e,t,s,a,n;e$("like_response",null!=(n=null==e0?void 0:e0.type)?n:"type-unspecified",{location:"response-family",generatedImageUrls:tm.generatedImageUrls.join(","),responseId:tm.responseId,conversationId:tm.conversationId,hasWorkspace:tH,likeTimestamp:String(Date.now()),responseLength:String((null==(e=tm.message)?void 0:e.length)||0),responseModelId:(null==(s=tm.metadata)||null==(t=s.requestModelDetails)?void 0:t.modelId)||"unknown",generationTimeMs:String(tm.generationTimeMs||0),timeToFirstTokenMs:String(tm.liveTimeToFirstTokenMs||0),isThinkHarder:String(!!(null==(a=tm.metadata)?void 0:a.is_think_harder))})},[e0,e$,tm.generatedImageUrls,tm.responseId,tm.conversationId,null==(s=tm.message)?void 0:s.length,null==(em=tm.metadata)||null==(D=em.requestModelDetails)?void 0:D.modelId,tm.generationTimeMs,tm.liveTimeToFirstTokenMs,null==(ep=tm.metadata)?void 0:ep.is_think_harder,tH]),tK=(0,K.useCallback)(()=>{var e,t,s,a,n,r,o;e$("dislike_response",null!=(n=null==e0?void 0:e0.type)?n:"type-unspecified",{location:"response-family",generatedImageUrls:tm.generatedImageUrls.join(","),responseId:tm.responseId,conversationId:tm.conversationId,hasWorkspace:tH,dislikeTimestamp:String(Date.now()),responseLength:String((null==(e=tm.message)?void 0:e.length)||0),responseModelId:(null==(s=tm.metadata)||null==(t=s.requestModelDetails)?void 0:t.modelId)||"unknown",generationTimeMs:String(tm.generationTimeMs||0),timeToFirstTokenMs:String(tm.liveTimeToFirstTokenMs||0),isThinkHarder:String(!!(null==(a=tm.metadata)?void 0:a.is_think_harder))}),(null==e0?void 0:e0.type)==="wanted-something-else"&&P.P.getState().openReportDialog({responseId:tm.responseId,modelId:(null==(o=tm.metadata)||null==(r=o.requestModelDetails)?void 0:r.modelId)||void 0,type:A.CN.ResponseFeedback})},[e0,e$,tm.generatedImageUrls,tm.responseId,tm.conversationId,null==(eu=tm.message)?void 0:eu.length,null==(ef=tm.metadata)||null==(eh=ef.requestModelDetails)?void 0:eh.modelId,tm.generationTimeMs,tm.liveTimeToFirstTokenMs,null==(ek=tm.metadata)?void 0:ek.is_think_harder,tH]),tq=(0,K.useCallback)((e,t,s)=>{var a,n;let r=!t&&(null==e0?void 0:e0.value)==="like";if(e1({value:r?void 0:"like",type:null!=e?e:"no-type-specified"}),r)return e$("undo_like_response",null!=(a=null==e0?void 0:e0.type)?a:"type-unspecified",{location:"response-family",generatedImageUrls:tm.generatedImageUrls.join(","),responseId:tm.responseId,conversationId:tm.conversationId,hasWorkspace:tH});(null==e0?void 0:e0.value)==="dislike"&&e$("undo_dislike_response",null!=(n=null==e0?void 0:e0.type)?n:"type-unspecified",{location:"response-family",generatedImageUrls:tm.generatedImageUrls.join(","),responseId:tm.responseId,conversationId:tm.conversationId,hasWorkspace:tH}),s&&!r&&tG()},[null==e0?void 0:e0.value,null==e0?void 0:e0.type,e$,tm.generatedImageUrls,tm.responseId,tm.conversationId,tH,tG]),tX=(0,K.useCallback)((e,t,s)=>{var a,n,r,o;let i=!t&&(null==e0?void 0:e0.value)==="dislike";e1({value:i?void 0:"dislike",type:null!=e?e:"no-type-specified"}),i&&e$("undo_dislike_response",null!=(a=null==e0?void 0:e0.type)?a:"type-unspecified",{location:"response-family",generatedImageUrls:tm.generatedImageUrls.join(","),responseId:tm.responseId,conversationId:tm.conversationId,hasWorkspace:tH}),(null==e0?void 0:e0.value)==="like"&&e$("undo_like_response",null!=(n=null==e0?void 0:e0.type)?n:"type-unspecified",{location:"response-family",generatedImageUrls:tm.generatedImageUrls.join(","),responseId:tm.responseId,conversationId:tm.conversationId,hasWorkspace:tH}),"wanted-something-else"===e&&P.P.getState().openReportDialog({responseId:tm.responseId,modelId:(null==(o=tm.metadata)||null==(r=o.requestModelDetails)?void 0:r.modelId)||void 0,type:A.CN.ResponseFeedback}),s&&!i&&tK()},[null==e0?void 0:e0.value,null==e0?void 0:e0.type,e$,tm.generatedImageUrls,tm.responseId,tm.conversationId,null==(ex=tm.metadata)||null==(eb=ex.requestModelDetails)?void 0:eb.modelId,tH,tK]),tY=(0,K.useCallback)(()=>{(null==e0?void 0:e0.value)==="like"&&tG(),(null==e0?void 0:e0.value)==="dislike"&&tK()},[null==e0?void 0:e0.value,tG,tK]),tQ=(0,L.C$)(e=>e.userSettings.preferences.displayUserMessageMarkdown),[t$]=(0,K.useState)(tQ),tZ=(0,K.useCallback)(e=>{if(!tm.conversationId)return void(0,I.vV)("response-family:handleEditSave","No conversation id found");let t=e.length;if(t>C.H4)return void X.oR.error(eq("query-bar.too-long","Character Limit Exceeded: {{currentLength, number(maximumFractionDigits: 0)}}/{{maxLength, number(maximumFractionDigits: 0)}}",{maxLength:C.H4.toFixed(0),currentLength:t.toFixed(0)}));null==eB||eB(tm.responseId);let s=Y.aP.getState(),a=L.C$.getState();e$("edit_response_submit",tm.responseId,{location:"chat-response",responseId:tm.responseId,conversationId:tm.conversationId,fileAttachments:String(Object.keys(tf).length||0),webpageUrls:String(tN.length||0),outputMode:s.outputMode,reasoningMode:s.reasoningMode,personalityId:a.userSettings.preferences.selectedSystemPromptId||"",personaId:(null==th?void 0:th.personaId)||""}),s.sendResponse({message:e,parentResponseId:tm.parentResponseId,conversationId:tm.conversationId,fileAttachmentIds:Object.keys(tf),webpageUrls:tN,setOpimisticUserResponse:!0,setUserResponse:!0,persona:th,enableRetries:eQ.ENABLE_AUTO_STREAM_RETRY,isFromGrokFiles:"files"===eJ.page,ff:eQ,threadParentId:tm.threadParentId,ctx:eY}).then(e=>{e.length||(0,I.vV)("response-family:handleEditSave","Failed to response to edit")}).catch(e=>{(0,I.vV)("response-family:handleEditSave",e)}).finally(()=>tl(!1))},[tm.conversationId,tm.responseId,tm.parentResponseId,tm.threadParentId,eB,e$,tf,tN,th,eQ,eJ.page,eY,eq]),tJ=(0,K.useCallback)(()=>{tl(!1),tb(),tC(tm.webpageUrls||[])},[tb,tm.webpageUrls]),t0=(0,K.useCallback)(e=>{e.stopPropagation(),eK&&e6(e=>{let t=!e;return e$("toggle_expanded",t?"expanded":"collapsed",{location:"response-family",responseId:tm.responseId,conversationId:tm.conversationId}),t})},[eK,e$,tm.responseId,tm.conversationId]),t1=(0,K.useCallback)((e,t)=>{let s=M.A3.getState(),a=s.byId[tg];if(!a)return;let n=eY?eY.getState().setLastMessageId:Y.aP.getState().setLastMessageId,r=eY?eY.getState().setStreamedMessageId:Y.aP.getState().setStreamedMessageId,o=(a.experimentIds||[]).concat(a.responseId).filter(e=>e!==t.responseId);e$("user_side_by_side_preference",t.responseId||"",{location:"response-family",index:e.toString(),nonPreferredResponseIds:o.join(","),preferredResponseId:t.responseId||"",conversationId:a.conversationId||""}),n(null==t?void 0:t.responseId),r(""),s.updateResponse(a.responseId,{experimentIds:void 0})},[tg,eY,e$]);(0,K.useEffect)(()=>{if(!e7.current)return;let e=e7.current,t=new IntersectionObserver(e=>{let[t]=e;t&&e5(t.isIntersecting)},{root:null,rootMargin:"0px",threshold:0}),s=document.createElement("div");return s.style.height="1px",s.style.position="absolute",s.style.bottom="0",s.style.zIndex="1000",e.appendChild(s),t.observe(s),()=>{t.unobserve(s);try{null==e||e.removeChild(s)}catch(e){(0,I.vV)("response-family:intersection-observer-useEffect",e)}t.disconnect()}},[eM]);let t2=(0,Y.aP)(V.A("sideBySideConfig"));(0,K.useEffect)(()=>{"voice"===ts&&tc&&tl(!1)},[ts,tc]);let t3=eG&&!!e9.current&&e9.current.scrollHeight>280,t4=(0,K.useMemo)(()=>(0,ea.Jr)(),[]),t5=(0,K.useMemo)(()=>(0,ea.n_)(),[]),t8=null==(eN=eQ.RESPONSE_FEEDBACK_DROPDOWNS)?void 0:eN.value,t6=null!=(eR=null==t8?void 0:t8.show_like_dropdown)&&eR,t7=null!=(eA=null==t8?void 0:t8.show_dislike_dropdown)&&eA,t9=(0,b.N)(tm,null!=(e_=tm.conversationId)?e_:""),se=(0,M.A3)(e=>{var t,s;return(null==(t=tm.experimentIds)?void 0:t[0])?e.byId[null==(s=tm.experimentIds)?void 0:s[0]]:void 0}),st=!!(null==(eS=tm.experimentIds)?void 0:eS.length)&&!eG;if(null!=tg&&st&&se){let e=(null==t2||null==(eO=t2.singleThinkingDifferentSummary)?void 0:eO.sideBySideSingleThinkIndex)!==void 0?0===t2.singleThinkingDifferentSummary.sideBySideSingleThinkIndex?tm:se:void 0;return eQ.ENABLE_SINGLE_THINKING_DIFFERENT_SUMMARY_UI&&t2&&e?(0,a.jsx)(c.t,{fallbackRender:eI({isUser:tI}),children:(0,a.jsxs)(Q.d2,{config:t2,chosenThinkingResponseData:{response:e,isOptimistic:!1,isStreaming:!1},children:[(0,a.jsx)(Q.lX,{index:0,response:tm,isStreaming:!1,onClickPrefer:t1,hideThinking:!0}),(0,a.jsx)(Q.lX,{index:1,response:se,isStreaming:!1,onClickPrefer:t1,hideThinking:!0})]})}):(0,a.jsx)(c.t,{fallbackRender:eI({isUser:tI}),children:(0,a.jsx)(Q.Er,{children:(0,a.jsxs)(Q.$O,{children:[(0,a.jsx)(Q.lX,{index:0,response:tm,isStreaming:!1,onClickPrefer:t1}),(0,a.jsx)(Q.lX,{index:1,response:se,isStreaming:!1,onClickPrefer:t1})]})})})}return tm.metadata&&"artifactAction"in tm.metadata?(0,a.jsx)(c.t,{fallbackRender:eI({isUser:tI}),children:(0,a.jsx)(ee.i,{response:tm})}):(0,a.jsx)(c.t,{fallbackRender:eI({isUser:tI}),children:(0,a.jsx)(z.N,{mode:"wait",children:eH?(0,a.jsx)(Z.E,{task:eH,originalPrompt:tm}):(0,a.jsx)(ei._,{onRegenerate:tU,children:(0,a.jsxs)(er.i,{isUser:tI,ref:e=>{e7.current=e,t9.current=e},className:(0,R.cn)(tc&&"mb-2"),id:"response-".concat(tm.responseId),children:[(0,a.jsx)(i.a,{hidden:!0}),tm.parentQuotedText&&(0,a.jsxs)("div",{className:"mb-3 text-sm text-secondary whitespace-pre-wrap flex items-start bg-surface-l2 dark:bg-surface-l1 rounded-lg px-3 py-2",children:[(0,a.jsx)(l.Sbc,{className:"me-2 mt-0.5 text-secondary opacity-60",size:16}),(0,a.jsx)("span",{className:"me-2",children:tm.parentQuotedText})]}),(0,a.jsx)(en.s,{isUser:tI,isIncognito:eF,children:!ez&&tc?(0,a.jsx)(et.K,{initialMessage:tm.message,onCancel:tJ,onSave:tZ}):(0,a.jsxs)("div",{ref:e9,className:(0,R.cn)("relative",{"hover:cursor-pointer group":eK},{"max-h-64 overflow-hidden":t3&&!e8}),onClick:t0,children:[(0,a.jsx)(ec.jo,{readOnly:ez,response:tm,isStreaming:"streaming"===tm.state||"reconnecting"===tm.state,showMarkdown:tI?t$:void 0,isModerated:tM,allowBreakout:eW&&eQ.ENABLE_MARKDOWN_BREAKOUT,isThread:eG,isLastResponse:eV}),t3&&!e8&&(0,a.jsxs)("div",{className:"absolute h-64 bottom-0 left-0 right-0 flex flex-col",children:[(0,a.jsx)("div",{className:"grow w-full bg-gradient-surface-l1 dark:bg-gradient-surface-inset flex pt-12"}),(0,a.jsx)("div",{className:"w-full flex justify-center bg-surface-l1 dark:bg-surface-inset",children:(0,a.jsx)(ed.$n,{variant:"secondary",size:"sm",shape:"pill",onClick:t0,className:"text-xs group-hover:bg-button-ghost-hover",children:eq("Show more","Show more")})})]}),eK&&e8&&(0,a.jsx)("div",{className:"flex justify-center mt-4",children:(0,a.jsx)(ed.$n,{variant:"tertiary",size:"sm",shape:"pill",onClick:t0,className:"text-xs group-hover:bg-button-ghost-hover",children:eq("Show less","Show less")})})]})}),(0,a.jsx)(o.vO,{response:tm,className:tc?"bottom-[0.4rem]":""}),tr&&tj.length>0?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"flex flex-row flex-wrap justify-end gap-2 mt-2",children:tj.map(e=>(0,a.jsx)(g.u,{asset:e,onRemoveAsset:tc?tx:void 0,allowCompact:!0},e.assetId))})}):null,tm.imageEditUri?(0,a.jsx)(n.e,{response:tm}):null,(null==tN?void 0:tN.length)>0?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"flex flex-row flex-wrap justify-end gap-2 mt-2",children:tN.map(e=>(0,a.jsx)(f.i,{url:e,onDetachUrl:tc?tS:void 0},"".concat(tm.responseId,"-").concat(e)))})}):null,tm.error&&!tM&&"chat"===ts&&(0,a.jsx)("div",{className:"flex mt-2 -ml-5",children:(0,a.jsx)(es._,{title:eq("Grok was unable to finish replying.errorMessage","Grok was unable to finish replying."),description:eq("Grok was unable to finish replying.description","Please try again later or use a different model."),className:tI?"md:mr-0":"ml-4",onRetry:tU,conversationId:tm.conversationId})}),!tc&&!st&&(0,a.jsxs)(eC,{isUser:tI,children:[!e4&&tI&&!ez&&(0,a.jsx)(m.gx,{tooltipContent:eq("Edit","Edit"),tooltipContentProps:{side:tI?"right":"left"},variant:"ghostSecondary",size:eX?"iconMd":"iconSm",rounded:!0,onClick:tF,"aria-label":eq("response-action.edit","Edit"),disabled:tt,children:(0,a.jsx)(p.p,{children:(0,a.jsx)(l.rZj,{className:"size-4"})},"edit")}),!e4&&(0,a.jsx)(eT,{getText:tz,forceActionButtonsVisible:tP,onClickCopy:tB,isMobile:eX})]}),!tc&&!st&&(0,a.jsx)("div",{className:(0,R.cn)("action-buttons",ej,"flex flex-row flex-wrap w-full",tI?"justify-end":"justify-between",eV?"last-response":"","print:hidden"),children:(0,a.jsxs)("div",{className:(0,R.cn)("flex items-center gap-[2px] w-max","rounded-lg text-xs","px-2",tI?"end-4 -mr-2":"start-0 md:start-3 -ml-4",eX&&"-mt-2 opacity-100 p-0 gap-0"),style:{bottom:"".concat(eU,"px")},children:[!ez&&"chat"===ts&&tI?(0,a.jsx)(m.gx,{tooltipContent:(0,a.jsx)("p",{children:eq("Edit","Edit")}),tooltipContentProps:{side:"bottom"},variant:"ghostSecondary","aria-label":eq("response-action.edit","Edit"),size:eX?"iconMd":"iconSm",rounded:!0,onClick:tF,disabled:tt,className:(0,R.cn)(ev,tP?ey:null),children:(0,a.jsx)(p.p,{children:(0,a.jsx)(l.rZj,{className:"size-4"})},"edit")}):null,tI?(0,a.jsx)(eT,{getText:tz,forceActionButtonsVisible:tP,onClickCopy:tB,isMobile:eX}):null,eP.length>1?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.gx,{tooltipContent:(0,a.jsx)("p",{children:eq("go to previously sent message","Previous message")}),tooltipContentProps:{side:"bottom"},variant:"ghostSecondary","aria-label":eq("go to previously sent message","Previous message"),size:eX?"iconMd":"iconSm",rounded:!0,disabled:0===td||"prev"===e2,onClick:tL,children:(0,a.jsx)(p.p,{children:"prev"===e2?(0,a.jsx)(u.y,{size:"xs"}):(0,a.jsx)(l.YJP,{size:20})},"prev"===e2?"loading":"prev")}),(0,a.jsxs)("span",{className:(0,R.cn)("px-0.5"),children:[td+1,"\xa0/\xa0",eP.length]}),(0,a.jsx)(m.gx,{tooltipContent:(0,a.jsx)("p",{children:eq("go to next sent message","Next message")}),tooltipContentProps:{side:"bottom"},variant:"ghostSecondary","aria-label":eq("go to next sent message","Next message"),size:eX?"iconMd":"iconSm",rounded:!0,disabled:td===eP.length-1||"next"===e2,onClick:tD,children:(0,a.jsx)(p.p,{children:"next"===e2?(0,a.jsx)(u.y,{size:"xs"}):(0,a.jsx)(l.vKP,{size:20})},"next"===e2?"loading":"next")})]}):null,ez||"chat"!==ts||tI?null:(0,a.jsx)(m.gx,{tooltipContent:(0,a.jsx)("p",{children:eq("Regenerate","Regenerate")}),tooltipContentProps:{side:"bottom"},variant:"ghostSecondary","aria-label":"Regenerate",size:eX?"iconMd":"iconSm",rounded:!0,disabled:tt,onClick:()=>tU(),className:(0,R.cn)(ev,tP?ey:null),children:(0,a.jsx)(p.p,{children:(0,a.jsx)(l.V$7,{className:"size-4"})},"regenerate")}),ez||"chat"!==ts||tI?null:(0,a.jsx)(eE,{responseId:tm.responseId,forceActionButtonsVisible:tP}),!eQ.ENABLE_THREADS||ez||"chat"!==ts||"chat"!==eJ.page||tI||eG?null:(0,a.jsxs)(m.gx,{tooltipContent:(0,a.jsx)("p",{children:tR>0?eq("View thread","View thread"):eq("Start thread","Start thread")}),tooltipContentProps:{side:"bottom"},variant:"ghostSecondary","aria-label":eq("response-action.start-thread","Start thread"),size:eX?"iconMd":"iconSm",rounded:!0,onClick:tW,className:(0,R.cn)(ev,tP?ey:null,tO?"bg-button-ghost-hover":null,"relative"),children:[(0,a.jsx)(p.p,{children:(0,a.jsx)(l.vEG,{className:(0,R.cn)("size-4",tO?"text-primary":null)})},"thread"),tR>0&&(0,a.jsx)("span",{className:"absolute -top-1 -right-1 flex h-4 min-w-4 items-center justify-center rounded-full border px-1 text-[10px] bg-background font-medium",children:tR})]}),tI?null:(0,a.jsx)(eT,{getText:tz,forceActionButtonsVisible:tP,onClickCopy:tB,isMobile:eX}),!ez&&!tI&&!eX&&!t_&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(el.w,{variant:"ghostSecondary",size:eX?"iconMd":"iconSm",rounded:!0,conversationId:tm.conversationId,responseId:tm.responseId,iconProps:{className:"size-4"},className:(0,R.cn)(ev,tP?ey:null)})}),!ez&&!eX&&tm.memoryReferences&&(0,a.jsx)(d.sd,{responseId:tm.responseId,memoryReferences:tm.memoryReferences,className:(0,R.cn)(ev,tP?ey:null)}),!ez&&!tI&&(0,a.jsx)(ea.RD,{onClick:tq,options:t5,onDropdownClose:tY,onDropdownOpen:tq,hideDropdown:!t6||(null==e0?void 0:e0.value)==="like",triggerButton:(0,a.jsx)(m.gx,{"aria-label":eq("response-action.like","Like"),variant:"ghostSecondary",size:eX?"iconMd":"iconSm",rounded:!0,tooltipContent:(0,a.jsx)("p",{children:eq("Love this","Love this")}),tooltipContentProps:{side:"bottom"},className:(0,R.cn)(ev,tP?ey:null),children:(0,a.jsx)(p.p,{children:(null==e0?void 0:e0.value)==="like"?(0,a.jsx)(l.Gek,{className:(0,R.cn)("size-4 text-green-500",{"fill-green-200":tv,"fill-green-100":!tv})}):(0,a.jsx)(l.Gek,{className:"size-4"})},"like")})}),!ez&&!tI&&(0,a.jsx)(ea.RD,{onClick:tX,options:t4,onDropdownClose:tY,onDropdownOpen:tX,hideDropdown:!t7||(null==e0?void 0:e0.value)==="dislike",triggerButton:(0,a.jsx)(m.gx,{"aria-label":eq("response-action.dislike","Dislike"),variant:"ghostSecondary",size:eX?"iconMd":"iconSm",rounded:!0,tooltipContent:(0,a.jsx)("p",{children:eq("Needs improvement","Needs improvement")}),tooltipContentProps:{side:"bottom"},className:(0,R.cn)(ev,tP?ey:null),children:(0,a.jsx)(p.p,{children:(null==e0?void 0:e0.value)==="dislike"?(0,a.jsx)(l.d2e,{className:(0,R.cn)("size-4 text-blue-500",{"fill-blue-200":tv,"fill-blue-100":!tv})}):(0,a.jsx)(l.d2e,{className:"size-4"})},"dislike")})}),!ez&&!tI&&(0,a.jsx)(eo.y,{response:tm,responseRef:e7,setDropdownIsOpen:tn,isThread:eG,triggerButton:(0,a.jsx)(m.gx,{"aria-label":eq("response-action.more-actions","More actions"),variant:"ghostSecondary",rounded:!0,size:eX?"iconMd":"iconSm",tooltipContent:(0,a.jsx)("p",{children:eq("response-action.tooltip",{defaultValue:"More"})}),tooltipContentProps:{side:"bottom"},className:(0,R.cn)(ev,tP?ey:null),children:(0,a.jsx)(p.p,{children:(0,a.jsx)(l.gyB,{className:(0,R.cn)("size-4")})},"more-actions")})}),!ez&&!tI&&eQ.SHOW_RESPONSE_LOAD_TIMER&&null!=tm.liveTimeToFirstTokenMs&&(0,a.jsxs)(h.m_,{disableHoverableContent:!1,children:[(0,a.jsx)(h.k$,{asChild:!0,children:(0,a.jsx)("div",{className:(0,R.cn)("px-1.5 text-secondary hover:bg-button-ghost-hover rounded-md cursor-default",ev,tP?ey:null),children:tm.liveTimeToFirstTokenMs>=1e3?eq("response-first-token-time-seconds",{count:tm.liveTimeToFirstTokenMs/1e3,defaultValue:"{{count, number(maximumFractionDigits: 1)}}s"}):eq("response-first-token-time-ms",{count:tm.liveTimeToFirstTokenMs,defaultValue:"{{count, number(maximumFractionDigits: 0)}}ms"})})}),(0,a.jsxs)(h.ZI,{className:"flex flex-col bg-surface-l4 rounded-lg px-2.5 py-1.5",side:"right",children:[null!=tm.liveTimeToFirstChunkMs&&(0,a.jsxs)("div",{className:"flex flex-row gap-1 justify-between",children:[(0,a.jsx)("span",{className:"text-secondary",children:eq("first-chunk-time-label",{defaultValue:"Time to first chunk:"})}),(0,a.jsx)("span",{children:tm.liveTimeToFirstChunkMs>=1e3?"".concat((tm.liveTimeToFirstChunkMs/1e3).toFixed(3),"s"):"".concat(tm.liveTimeToFirstChunkMs,"ms")})]}),(0,a.jsxs)("div",{className:"flex flex-row gap-1 justify-between",children:[(0,a.jsx)("span",{className:"text-secondary",children:eq("first-token-time-label",{defaultValue:"Time to first token:"})}),(0,a.jsx)("span",{children:tm.liveTimeToFirstTokenMs>=1e3?"".concat((tm.liveTimeToFirstTokenMs/1e3).toFixed(3),"s"):"".concat(tm.liveTimeToFirstTokenMs,"ms")})]}),null!=tm.generationTimeMs&&(0,a.jsxs)("div",{className:"flex flex-row gap-1 justify-between",children:[(0,a.jsx)("span",{className:"text-secondary",children:eq("response-time-label",{defaultValue:"Response time:"})}),(0,a.jsx)("span",{children:tm.generationTimeMs>=1e3?"".concat((tm.generationTimeMs/1e3).toFixed(3),"s"):"".concat(tm.generationTimeMs,"ms")})]})]})]}),(0,a.jsx)(r.f,{response:tm,isUser:tI,isModerated:tM,className:(0,R.cn)(ev,tP?ey:null)})]})})]})})})})},(e,t)=>{var s,a;return e.onPivotResponse===t.onPivotResponse&&e.selectedId===t.selectedId&&(null==(s=e.responseFamily)?void 0:s.map(S.fK).join(","))===(null==(a=t.responseFamily)?void 0:a.map(S.fK).join(","))&&e.queryBarHeight===t.queryBarHeight&&e.isLastResponse===t.isLastResponse&&e.task===t.task});function eC(e){let{isUser:t,children:s}=e;return(0,a.jsx)("div",{className:(0,R.cn)("order-first sticky hidden","@md/mainview:block","top-11 h-0 opacity-0 group-focus-within:opacity-100 group-hover:opacity-100",t?"-mr-[36px] @lg/mainview:-mr-12":"-ml-[36px] @lg/mainview:-ml-[40px] -left-[26px]"),children:(0,a.jsx)("div",{className:"min-h-7 py-4 flex flex-col gap-0.5",children:s})})}function eS(e){let{isUser:t}=e,{t:s}=(0,q.Bd)("chat");return(0,a.jsx)(er.i,{isUser:t,children:(0,a.jsx)(en.s,{isUser:t,children:(0,a.jsx)("p",{children:s("Something went wrong rendering this message","Something went wrong rendering this message")})})})}function eI(e){let{isUser:t}=e;return e=>{let{error:s,resetErrorBoundary:n}=e;return(0,a.jsx)(eS,{isUser:t,error:s,resetErrorBoundary:n})}}function eT(e){let{getText:t,forceActionButtonsVisible:s,onClickCopy:n,isMobile:r,className:o}=e,{t:i}=(0,q.Bd)("base"),[c,d]=(0,K.useState)(!1),g=(0,K.useCallback)(()=>{d(!0),navigator.clipboard.writeText(t()).catch(e=>X.oR.error(e.message)),setTimeout(()=>d(!1),1e3),n()},[t,n]);return(0,a.jsx)(m.gx,{"aria-label":i("response-action.copy","Copy"),tooltipContent:c?(0,a.jsx)("p",{children:i("Copied!","Copied!")}):(0,a.jsx)("p",{children:i("Copy","Copy")}),tooltipContentProps:{side:"bottom"},variant:"ghostSecondary",size:r?"iconMd":"iconSm",rounded:!0,onClick:g,className:o||(0,R.cn)(ev,s?ey:null),children:(0,a.jsx)(p.p,{children:c?(0,a.jsx)(l.Srz,{className:"size-4"}):(0,a.jsx)(l.TdU,{className:"size-4"})},c?"copied":"copy")})}function eE(e){let{responseId:t,forceActionButtonsVisible:s}=e,{ENABLE_TEXT_TO_SPEECH:n}=(0,k.h)(),{t:r}=(0,q.Bd)("chat"),o=(0,w.c)(),i=ex(e=>e.currentStreamId===t),c=ex(e=>e.getPlaybackStatus(t)),d=(0,K.useCallback)(()=>{i?ex.getState().stopTextToSpeech():ex.getState().playTextToSpeechForResponse(t)},[t,i]);return((0,K.useEffect)(()=>{if(i)return()=>{ex.getState().stopTextToSpeech(t)}},[i,t]),n)?(0,a.jsx)(m.gx,{"aria-label":i?r("Stop","Stop"):r("Read Aloud","Read Aloud"),variant:"ghostSecondary",size:o?"iconMd":"iconSm",rounded:!0,tooltipContent:(0,a.jsx)("p",{children:i?r("Stop","Stop"):r("Read Aloud","Read Aloud")}),tooltipContentProps:{side:"bottom"},className:(0,R.cn)(ev,s?ey:null),onClick:d,children:(0,a.jsxs)(p.p,{children:["playing"==c?(0,a.jsx)(eR,{}):null,"stopped"==c?(0,a.jsx)(l.xvR,{className:"size-4"}):null,"loading"==c?(0,a.jsx)(u.y,{size:"xs"}):null]},"tts")},i?"stop":"read-aloud"):null}function eR(){let e=(0,K.useMemo)(()=>[(0,a.jsx)(l.fSs,{className:"size-4"},"volume0"),(0,a.jsx)(l.c6c,{className:"size-4"},"volume1"),(0,a.jsx)(l.jIq,{className:"size-4"},"volume2")],[]),t=(0,K.useCallback)(()=>e[Math.floor(Math.random()*e.length)],[e]),[s,n]=(0,K.useState)(t());return(0,K.useEffect)(()=>{let e=setInterval(()=>{n(t())},100);return()=>{clearInterval(e)}},[n,t]),s}eN.displayName="ResponseFamily"},57896:(e,t,s)=>{"use strict";s.d(t,{FE:()=>c,Ks:()=>i,TG:()=>o});var a=s(21236);let n=/^(https?:\/\/)?[^\s/]+\.[^\s/]+(\/[^\s/]+)*\/?$/i,r=/\.(jpg|jpeg|png|gif|bmp|webp|tiff?|svg)$/i;function o(e){try{let t=new URL(e).hostname;return null==t?void 0:t.replace(/^www\./,"")}catch(t){return e}}function i(e){if(!n.test(e))return!1;let{domain:t,isIcann:s}=(0,a.qg)(e,{detectIp:!1,mixedInputs:!1});return!(!t||!s||r.test(e))}function c(e){let t=o(e);return"https://www.google.com/s2/favicons?domain=".concat(t,"&sz=256")}},58247:(e,t,s)=>{"use strict";s.d(t,{S:()=>o});var a=s(79342),n=s(39729),r=s(61312);function o(e){let{icon:t,title:s,subtitle:o,className:i}=e,c=(0,r.cn)("flex-1 flex flex-col items-center justify-center p-4 gap-2 mb-2 rounded-2xl",i);return(0,a.jsxs)(n.Zp,{variant:"ghost",className:c,children:[(0,a.jsx)("div",{className:"flex flex-col items-center",children:(0,a.jsx)("span",{className:"text-fg-secondary",children:t})}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 items-center text-center text-sm",children:[(0,a.jsx)("h3",{className:"font-semibold text-sm",children:s}),(0,a.jsx)("span",{className:"text-fg-secondary max-w-md text-sm",children:o})]})]})}},58561:(e,t,s)=>{"use strict";s.d(t,{a:()=>a});let a={base:"vs-dark",inherit:!0,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{"editor.background":"#111213"}}},58655:(e,t,s)=>{"use strict";s.d(t,{C:()=>p});var a=s(79342),n=s(41320),r=s(61312),o=s(65146),i=s(24994),c=s(74366),l=s(26067),d=s(11750);function g(e){let{locale:t,onChange:s}=e,{t:n}=(0,o.Bd)();return(0,a.jsxs)(c.uB,{children:[(0,a.jsx)(c.G7,{placeholder:n("Search language","Search language")}),(0,a.jsx)(c.oI,{children:l.O4.map(e=>(0,a.jsx)(m,{locale:e,selected:t===e,onSelect:s},e))})]})}function m(e){let{locale:t,selected:s,onSelect:n}=e,{name:r,nativeName:o}=l.IB[t];return(0,a.jsxs)(c.h_,{value:t,keywords:[o,r],onSelect:()=>n(t),className:"justify-between cursor-pointer",children:[o,s?(0,a.jsx)(d.Srz,{className:"size-4","data-testid":"check-icon"}):(0,a.jsx)("span",{className:"text-muted-foreground",children:r})]})}function p(e){let{open:t,onOpenChange:s,locale:c,onLocaleChange:l}=e,{t:d}=(0,o.Bd)(),m=(0,n.Di)(),p=(0,r.cn)("bg-background rounded-2xl outline-none h-[calc(100dvh-64px-128px)] w-full md:w-[400px] max-w-3xl flex flex-col md:h-[min(500px,90dvh)]",{"rounded-b-none":m});return(0,a.jsx)(i.R,{open:t,setOpen:s,contentClassName:p,"aria-labelledby":"language-selector-title",titleClassName:"sr-only",title:d("Language Selector","Language Selector"),children:(0,a.jsx)(g,{locale:c,onChange:l})})}},58711:(e,t,s)=>{"use strict";s.d(t,{U9:()=>o,UP:()=>i,e3:()=>l,z$:()=>r});var a=s(24429),n=s(65258);let r=1,o=2,i=3;class c{constructor(e,t){this.set=e,this.get=t,this.isUpselling=!1,this.upsellCategory="individual",this.targetTier=a.i.SuperGrok,this.upsellLayers=[],this.setIsUpselling=(0,n.kp)(this.set,"isUpselling"),this.setUpsellCategory=(0,n.kp)(this.set,"upsellCategory"),this.setTargetTier=(0,n.kp)(this.set,"targetTier"),this.setUpsellLayers=(0,n.kp)(this.set,"upsellLayers"),this.setCurrentlyShownUpsell=(0,n.kp)(this.set,"currentlyShownUpsell"),this.addUpsellLayer=(e,t)=>{let{upsellLayers:s,currentlyShownUpsell:a}=this.get(),n=[{priority:e,id:t},...s];this.setUpsellLayers(n);let r=g(n);(null==a?void 0:a.id)!==(null==r?void 0:r.id)&&this.setCurrentlyShownUpsell(r)},this.removeUpsellLayer=e=>{let{upsellLayers:t,currentlyShownUpsell:s}=this.get(),a=t.filter(t=>t.id!==e);a.length!==t.length&&this.setUpsellLayers(a);let n=g(a);(null==s?void 0:s.id)!==(null==n?void 0:n.id)&&this.setCurrentlyShownUpsell(n)}}}let l=(0,n.y$)(c,"useUpsellStore");function d(e){switch(e.toLowerCase()){case"supergrok":return a.i.SuperGrok;case"supergrokpro":case"supergrok-pro":return a.i.SuperGrokPro;default:return null}}function g(e){let t;for(let s of e)t?s.priority>t.priority&&(t=s):t=s;return t}!function(e){let t=window.location.hash,s=new URLSearchParams(window.location.search);"#subscribe"===t&&e.getState().setIsUpselling(!0);let n=s.get("target");if(n){let t=d(n);null!==t&&e.getState().setTargetTier(t)}e.subscribe((e,t)=>{var s;e.isUpselling!==t.isUpselling&&(s=e.isUpselling?"subscribe":void 0,window.history.pushState({},"","".concat(window.location.pathname).concat(window.location.search).concat(s?"#".concat(s):"")))}),window.addEventListener("popstate",()=>{let t=window.location.hash,s=new URLSearchParams(window.location.search);e.getState().setIsUpselling("#subscribe"===t);let n=s.get("target");if(n){let t=d(n);null!==t&&e.getState().setTargetTier(t)}else e.getState().setTargetTier(a.i.SuperGrok)})}(l)},58939:(e,t,s)=>{"use strict";s.d(t,{Yp:()=>L,Oh:()=>p.O,w8:()=>ez,TP:()=>eZ});var a=s(69643),n=s(88382),r=s(79342),o=s(25859),i=s(39729),c=s(23232),l=s(84499),d=s(61312),g=s(11750),m=s(65146),p=s(47095),u=s(73772),h=s(24994),f=s(23054),k=s(14908);let b={initial:{opacity:1,scale:1},copied:{opacity:0,scale:.8,transition:{duration:.2}}};function x(e){let{t}=(0,m.Bd)("workspace"),[s,a]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{if(s){let e=setTimeout(()=>{a(!1)},2e3);return()=>clearTimeout(e)}},[s]),(0,r.jsxs)(o.$n,{size:"md",variant:"secondary",shape:"rectangle",onClick:()=>{navigator.clipboard.writeText(e.text).then(()=>{a(!0)}).catch(e=>{k.oR.error(t("workspace-copy-link-button.error","Failed to copy link")),console.error("Failed to copy: ",e)})},className:"flex items-center gap-2",children:[(0,r.jsx)(f.P.div,{variants:b,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1,transition:{duration:.2,delay:0}},className:"flex items-center",children:s?(0,r.jsx)(g.Jlk,{className:"size-4 text-fg-positive"}):(0,r.jsx)(g.qYV,{className:"size-4 text-fg-secondary"})},s?"check":"link"),(0,r.jsx)("span",{children:s?t("workspace-copy-link-button.copied","Copied!"):t("workspace-copy-link-button.label","Copy Link")})]})}var w=s(35819),v=s(3683);function y(e){var t;let{workspace:s}=e,a=(0,c._)(),{t:o}=(0,m.Bd)("workspace"),[i,l]=(0,n.useState)(null!=(t=s.isPublic)&&t),d=(0,v.M)(e=>e.updateWorkspace);return(0,n.useEffect)(()=>{var e;l(null!=(e=s.isPublic)&&e)},[s]),(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"grid gap-2 grid-rows-auto sm:grid-cols-1",children:(0,r.jsx)(j,{title:o("workspace-share.everyone.title","Everyone"),subtitle:o("workspace-share.everyone.subtitle","Allow anyone to access the project, instructions, and files."),checked:i,onChange:e=>{var t;l(e),d(null!=(t=s.workspaceId)?t:"",{isPublic:e}),e&&a("ws_share_public",void 0,{location:"share-form"})}})})})}function j(e){let{title:t,subtitle:s,checked:a,onChange:o}=e,c=(0,n.useId)();return(0,r.jsxs)(i.Zp,{variant:"ghost",className:"rounded-xl p-3 flex gap-1 justify-between",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("label",{htmlFor:c,children:t}),(0,r.jsx)("span",{className:"text-secondary",children:s})]}),(0,r.jsx)(w.d,{id:c,checked:a,onCheckedChange:o})]})}var N=s(75500),C=s(74933),S=s(80226);let I=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;function T(e){var t;let{workspace:s}=e,a=(0,c._)(),{t:i}=(0,m.Bd)("workspace"),{workspaceId:l}=s,[d,g]=(0,n.useState)(""),p=(0,v.M)(e=>e.setProjectPublicAccess),u=(0,v.M)(e=>e.setProjectEmailAccess),h=(0,v.M)(e=>e.loadWorkspacePermissions),f=(0,v.M)(e=>e.permissionsById[l]),k=(0,n.useId)();if((0,n.useEffect)(()=>{h(l)},[l,h]),null==f?void 0:f.error)return(0,r.jsx)(E,{children:i("project-permissions-load-error","Unable to load project permissions. Try to reload page.")});if((null==f?void 0:f.status)==="loading"&&!f.data)return(0,r.jsxs)(E,{className:"flex flex-col gap-2",children:[(0,r.jsx)(S.E,{className:"h-10 w-full"}),(0,r.jsx)(S.E,{className:"h-10 w-full"}),(0,r.jsx)(S.E,{className:"h-10 w-full"})]});let b=null==f?void 0:f.data,x=null!=(t=null==b?void 0:b.users)?t:[],w=d.trim(),y=I.test(w),j=e=>{u(l,e.email,!1),a("ws_unshare_email",void 0,{location:"permissions-form"})};return(0,r.jsxs)(E,{children:[(0,r.jsx)("div",{className:"grid gap-2 grid-rows-auto sm:grid-cols-1 text-sm mb-6",children:(0,r.jsx)(R,{title:i("workspace-share.everyone.title","Everyone"),subtitle:i("workspace-share.everyone.subtitle","Allow anyone to access the project, instructions, and files."),checked:!!(b&&"ACCESS_LEVEL_NONE"!==b.publicAccess),onChange:e=>{p(l,e),e?a("ws_share_public",void 0,{location:"permissions-form"}):a("ws_unshare_public",void 0,{location:"permissions-form"})}})}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),y&&(g(""),u(l,w,!0),a("ws_share_email",void 0,{location:"permissions-form"}))},children:[(0,r.jsx)("label",{htmlFor:k,className:"block text-sm mb-2",children:i("project-email-share-input.label","Specific emails")}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(C.p,{id:k,value:d,onChange:e=>g(e.target.value),placeholder:i("project-email-share-input.placeholder","Enter email here"),className:"rounded-xl shadow-none",name:"email","data-1p-ignore":!0}),(0,r.jsx)(o.$n,{variant:"primary",size:"sm",shape:"rectangle",type:"submit",disabled:!y,children:i("project-sharing-form-add-email-button.label","Add")})]})]}),(0,r.jsx)("div",{className:"flex gap-2 mt-2",children:x.filter(e=>"ACCESS_LEVEL_NONE"!==e.access).map(e=>(0,r.jsx)(A,{user:e,onDelete:j},e.email))})]})}function E(e){let{children:t,className:s}=e;return(0,r.jsx)("div",{className:(0,d.cn)("sm:min-w-[500px]",s),children:t})}function R(e){let{title:t,subtitle:s,checked:a,onChange:o}=e,i=(0,n.useId)();return(0,r.jsxs)("div",{className:"flex gap-1 justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("label",{htmlFor:i,children:t}),(0,r.jsx)("span",{className:"text-secondary",children:s})]}),(0,r.jsx)(w.d,{id:i,checked:a,onCheckedChange:o})]})}function A(e){let{user:t,onDelete:s}=e,{t:a}=(0,m.Bd)("workspace");return(0,r.jsxs)("div",{className:"border rounded-full flex items-center gap-1 bg-popover py-1 ps-3 pe-1 text-sm",children:[t.email,(0,r.jsxs)(o.$n,{size:"xs",shape:"circle",variant:"tertiary",onClick:()=>s(t),children:[(0,r.jsx)(g.uv5,{}),(0,r.jsx)("span",{className:"sr-only",children:a("project-permissions-form-delete-email-button.label","Revoke access for {{email}}",{email:t.email})})]})]})}function _(e){var t;let{open:s,onOpenChange:a,workspace:n}=e,{t:i}=(0,m.Bd)("workspace"),c=(0,N.h)(),p=(0,l.KQ)({page:"workspace",workspaceId:null!=(t=n.workspaceId)?t:"",tab:"attachments"},window.location.origin);return(0,r.jsx)(h.R,{open:s,setOpen:a,contentClassName:(0,d.cn)("focus:outline-0 focus-within:outline-0 gap-2","bg-background rounded-3xl","sm:min-w-[340px]","flex flex-col","md:overflow-hidden","px-4 py-4"),titleClassName:"flex justify-between items-center",title:(0,r.jsxs)(r.Fragment,{children:[i("workspace-share.title","Share Project"),(0,r.jsx)(o.$n,{className:"-m-1",variant:"tertiary",size:"md",shape:"square","aria-label":i("workspace-instructions-close.label","Close"),onClick:()=>a(!1),tabIndex:-1,children:(0,r.jsx)(g.uv5,{size:18,className:"text-secondary"})})]}),footerClassName:"sm:justify-start pt-1",footer:(0,r.jsx)(x,{text:p}),children:c.USE_PERMISSIONS?(0,r.jsx)(T,{workspace:n}):(0,r.jsx)(y,{workspace:n})})}let O=(0,n.memo)(e=>{let{workspaceId:t,open:s,onOpenChange:a,onDeleteStarted:n}=e,i=(0,v.M)(e=>e.deleteWorkspace),{t:c}=(0,m.Bd)("workspace");return s?(0,r.jsx)(h.R,{open:s,setOpen:a,contentClassName:(0,d.cn)("focus:outline-0 focus-within:outline-0 gap-2","bg-background rounded-3xl","w-full md:w-5/6 lg:w-3/5 max-w-3xl","flex flex-col","md:overflow-hidden","px-6 py-6"),titleClassName:"flex justify-between",title:(0,r.jsxs)(r.Fragment,{children:[c("workspace-detetion.title","Are you sure?"),(0,r.jsx)(o.$n,{className:"-mt-1",variant:"tertiary",size:"md",shape:"square","aria-label":c("workspace-instructions-close.label","Close"),onClick:()=>a(!1),tabIndex:-1,children:(0,r.jsx)(g.uv5,{size:18,className:"text-secondary"})})]}),description:c("workspace-deletion.description","This action cannot be undone. Project will be lost forever."),footerClassName:"sm:justify-end pt-1 flex flex-col-reverse md:flex-row",footer:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.$n,{onClick:()=>{a(!1)},variant:"tertiary",size:"md",shape:"rectangle",className:"text-secondary",children:c("workspace-deletion-cancel.label","Cancel")}),(0,r.jsxs)(o.$n,{onClick:()=>{null==n||n(),t&&i(t)},variant:"danger",size:"md",shape:"rectangle",className:"shadow-none text-primary",children:[(0,r.jsx)(g.lMJ,{className:"size-4 text-fg-danger"}),c("workspace-deletion-confirm.label","Delete project")]})]})}):null});function P(e){let{t}=(0,m.Bd)("workspace"),{push:s}=(0,l.wK)(),a=(0,c._)(),r=(0,v.M)(e=>e.cloneWorkspace);return(0,n.useMemo)(()=>({clone:async()=>{var n,o;let i=t("project-cloned-name","{{projectName}} (clone)",{projectName:null!=(n=e.name)?n:""});s({page:"workspace",workspaceId:null!=(o=(await r(e.workspaceId,{name:i})).workspaceId)?o:"",conversationId:null}),a("ws_clone",e.workspaceId,{location:"workspaceCloneHook",isReadonly:String(e.isReadonly),isPublic:String(e.isPublic)})}}),[r,a,s,t,e.isPublic,e.isReadonly,e.name,e.workspaceId])}function M(e){let{workspace:t,className:s,iconSize:a,onDeleteStarted:i,onEditStarted:c,children:l,size:p="sm"}=e,{t:h}=(0,m.Bd)("workspace"),{workspaceId:f}=t,[k,b]=(0,n.useState)(!1),[x,w]=(0,n.useState)(!1),v=(0,n.useCallback)(()=>{setTimeout(()=>{b(!0)},1)},[]),y=(0,n.useCallback)(()=>{setTimeout(()=>{w(!0)},1)},[]),{clone:j}=P(t),N=(0,d.cn)(s);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(u.rI,{children:[(0,r.jsx)(u.ty,{asChild:!0,children:l||(0,r.jsx)(o.$n,{variant:"tertiary",shape:"square",size:p,className:N,"aria-label":h("workspace-menu.label","Open menu"),children:(0,r.jsx)(g.gyB,{size:null!=a?a:14})})}),(0,r.jsxs)(u.SQ,{onCloseAutoFocus:e=>e.preventDefault(),side:"bottom",align:"end",sideOffset:6,alignOffset:-5,className:"flex flex-col shadow-sm shadow-black/5 border-border-l1 min-w-40",children:[(0,r.jsxs)(u._2,{onSelect:y,children:[(0,r.jsx)(g._HI,{size:16,className:"me-2"}),h("share-workspace-button.label","Share")]}),c&&(0,r.jsxs)(u._2,{onSelect:c,children:[(0,r.jsx)(g.w$p,{size:16,className:"me-2"}),h("workspace-menu.rename.label","Rename")]}),(0,r.jsxs)(u._2,{onSelect:j,children:[(0,r.jsx)(g.HT$,{size:16,className:"me-2"}),h("workspace-menu.clone.label","Clone")]}),(0,r.jsxs)(u._2,{onSelect:v,children:[(0,r.jsx)(g.lMJ,{size:16,className:"me-2"}),h("remove-workspace-button.label","Remove")]})]})]}),(0,r.jsx)(O,{workspaceId:f,open:k,onOpenChange:b,onDeleteStarted:i}),(0,r.jsx)(_,{open:x,onOpenChange:w,workspace:t})]})}function L(e){let{workspace:t,onClick:s,className:a}=e,{name:n,icon:u,workspaceId:h}=t,f=(0,c._)(),{t:k}=(0,m.Bd)("workspace"),b=(0,d.cn)("group relative",a);return(0,r.jsxs)("div",{className:b,children:[(0,r.jsx)(l.N_,{route:{page:"workspace",workspaceId:null!=h?h:"",tab:"attachments"},onClick:s,children:(0,r.jsxs)(i.Zp,{className:"flex flex-row items-center @sm:flex-col @sm:items-stretch gap-2 px-5 py-4 pe-12 @sm:pe-5 max-w-4/5 rounded-2xl hover:bg-surface-l1 shadow-none h-full overflow-hidden bg-none bg-transparent",children:[(0,r.jsx)(p.O,{icon:u,className:"size-4"}),(0,r.jsx)("div",{className:"text-sm font-medium truncate",children:n})]})}),(0,r.jsx)(M,{workspace:t,onDeleteStarted:()=>{f("ws_delete_click",void 0,{location:"workspaces"})},children:(0,r.jsx)(o.$n,{variant:"tertiary",shape:"square",size:"sm",className:"visible @sm:invisible @sm:group-hover:visible absolute right-3 top-1/2 -translate-y-1/2 @sm:top-3 @sm:translate-y-0","aria-label":k("workspace-menu.label","Open menu"),children:(0,r.jsx)(g.gyB,{size:12})})})]})}var D=s(5663),B=s(33231),z=s(38614),F=s(20301),U=s(13010),V=s(69358),H=s(82591),W=s(28503),G=s(48175),K=s(12971),q=s(46748),X=s(41320),Y=s(74995),Q=s(52371),$=s(72993),Z=s(54344),J=s(56691),ee=s(83638),et=s(7658),es=s(72712);let ea=e=>(0,r.jsx)(es.I,{...e,viewBox:"-1 0 22 22",children:(0,r.jsx)("path",{d:"M3.91835 16.291L4.61347 15.5721L5.18063 16.1205L4.77927 16.7997L3.91835 16.291ZM2.46528 18.75V19.75H0.71283L1.60435 18.2413L2.46528 18.75ZM2.25 10C2.25 12.1874 3.15492 14.1617 4.61347 15.5721L3.22323 17.0099C1.3911 15.2383 0.25 12.7515 0.25 10H2.25ZM10 2.25C5.71979 2.25 2.25 5.71979 2.25 10H0.25C0.25 4.61522 4.61522 0.25 10 0.25V2.25ZM17.75 10C17.75 5.71979 14.2802 2.25 10 2.25V0.25C15.3848 0.25 19.75 4.61522 19.75 10H17.75ZM10 17.75C14.2802 17.75 17.75 14.2802 17.75 10H19.75C19.75 15.3848 15.3848 19.75 10 19.75V17.75ZM2.46528 17.75H10V19.75H2.46528V17.75ZM4.77927 16.7997L3.32621 19.2587L1.60435 18.2413L3.05742 15.7822L4.77927 16.7997Z",fill:"currentColor"})});var en=s(58247),er=s(19841),eo=s(24734);function ei(e){var t,s;let{push:a,route:o}=(0,l.wK)(),i=(0,c._)(),{conversation:g,action:m,onActionRequest:p,workspaceId:u}=e,h=null!=(t=g.conversationId)?t:"",[f,k]=(0,n.useState)(!1),[b,x]=(0,n.useState)(null!=(s=g.title)?s:""),[w,v]=(0,n.useState)(!1),[y,j]=(0,n.useState)("");(0,n.useEffect)(()=>{var e;x(null!=(e=g.title)?e:"")},[m]);let{mutate:N,error:C}=(0,et.Fx)(h);(0,eo.Y)("list-item:delete",C),(0,n.useEffect)(()=>{C&&v(!1)},[C]);let{mutate:S,error:I}=(0,et.jT)(h);(0,eo.Y)("list-item:update",I),(0,n.useEffect)(()=>{I&&j("")},[I]);let T=(0,n.useCallback)(e=>{let t=z.aP.getState();t.setConversationId(e),t.setSidePanelContent(void 0),a({page:"workspace",conversationId:e,workspaceId:u})},[a,u]);if(w)return null;let E=y?{...g,title:y}:g,R="workspace"===o.page&&o.conversationId===h;return(0,r.jsx)("div",{className:(0,d.cn)("h-[48px] rounded-2xl grid grid-cols-1 grid-rows-1 hover:bg-button-ghost-hover",R&&"bg-button-ghost-active"),onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),children:(0,r.jsx)(er.w,{isCurrent:!1,isSelected:f,isHovered:f,isDeleting:"delete"===m,isEditing:"edit"===m,newTitle:b,onNewTitleChange:x,conversation:E,className:"p-4 rounded-2xl ",onDeleteStart:()=>p(h,"delete"),onEditStart:()=>p(h,"edit"),onDeleteConfirm:()=>{i("delete_conversation",h,{location:"workspace"}),p(h,null),v(!0),N()},onCancel:()=>p(h,null),onEditSave:()=>{i("update_conversation",h,{location:"workspace"}),p(h,null);let e=b.trim();j(e),S({title:e})},onSelect:T})})}function ec(e){let{conversations:t,workspaceId:s}=e,{t:a}=(0,m.Bd)("workspace"),[o,i]=(0,n.useState)(null),[c,l]=(0,n.useState)(null),d=(0,n.useCallback)((e,t)=>{i(t),l(e)},[]);return 0===t.length?(0,r.jsx)(en.S,{icon:(0,r.jsx)(ea,{size:20,strokeWidth:1.5}),title:a("workspace-conversations-list.empty.label","No conversations yet")}):(0,r.jsx)("div",{children:t.map(e=>{let t=e.conversationId;return(0,r.jsx)(ei,{workspaceId:s,conversation:e,action:c===t?o:null,onActionRequest:d},t)})})}function el(e){var t;let{t:s}=(0,m.Bd)("workspace"),{workspace:a}=e,{workspaceId:o}=a,{data:i,isPending:c,isError:l,fetchNextPage:d,hasNextPage:g,isFetchingNextPage:p,refetch:u}=(0,et.fY)(null!=o?o:""),h=(0,n.useCallback)(()=>{g&&!p&&d()},[g,p,d]),f=(0,ee.B)(h);if(c)return(0,r.jsx)(eg,{});let k=null!=(t=null==i?void 0:i.pages.flatMap(e=>{var t;return null!=(t=e.conversations)?t:[]}))?t:[];return(0,r.jsxs)(Z.D,{fadeSize:"md",className:"py-2",children:[(0,r.jsx)(ec,{workspaceId:null!=o?o:"",conversations:k}),g&&!l&&(0,r.jsx)("div",{ref:f,className:"h-10 flex items-center justify-center",children:p?s("workspace-conversations-loading-more","Loading more…"):s("workspace-conversations-scroll-to-load","Scroll to load more")}),l&&(0,r.jsx)(ed,{onRefetch:u})]})}function ed(e){let{onRefetch:t}=e,{t:s}=(0,m.Bd)("workspace");return(0,r.jsxs)(i.Zp,{className:"flex flex-col items-center px-8 py-4",variant:"ghost",children:[s("conversations-loading-error.title","Unable to load conversations"),(0,r.jsx)(J.$n,{variant:"outline",onClick:t,children:s("conversations-loading-error.cta","Retry")})]})}function eg(){return(0,r.jsx)(V.P,{children:(0,r.jsxs)("div",{role:"status","aria-busy":"true",className:"flex flex-col gap-1",children:[(0,r.jsx)(S.E,{className:"w-full h-10"}),(0,r.jsx)(S.E,{className:"w-full h-10"}),(0,r.jsx)(S.E,{className:"w-full h-10"})]})})}var em=s(99667);s(10986),s(34500);var ep=s(37931);function eu(e){let{value:t,onChange:s}=e,{t:a}=(0,m.Bd)("workspace"),{availableModes:n}=(0,K._W)(),i=n.find(e=>e.mode===t);return(0,r.jsxs)(ep.l6,{value:t,onValueChange:s,children:[(0,r.jsx)(ep.bq,{size:"md",id:"model-select-trigger","aria-label":a("Model select","Model select"),asChild:!0,children:(0,r.jsxs)(o.$n,{variant:"secondary",size:"md",shape:"rectangle",className:"w-full",children:[i?(0,r.jsx)(K.xw,{mode:i,showDescription:!1}):(0,r.jsx)("span",{className:"text-italic",children:a("preferred-mode-selector-empty","None")}),(0,r.jsx)(g.D3D,{className:"size-3 text-secondary transition-transform"})]})}),(0,r.jsx)(ep.gC,{side:"bottom",align:"start",alignOffset:-4,className:"p-0",children:n.map(e=>(0,r.jsx)(ep.eb,{value:e.mode,children:(0,r.jsx)(K.xw,{mode:e,showDescription:!0})},e.mode))})]})}function eh(e){var t,s,a;let{open:i,onOpenChange:c,workspace:l}=e,{t:p}=(0,m.Bd)("workspace"),u=(0,X.Di)(),f=null!=(t=l.customPersonality)?t:"",k=null!=(s=l.preferredModel)?s:"",b=null!=(a=l.isReadonly)&&a,[x,w]=(0,n.useState)(f),[y,j]=(0,n.useState)(k);(0,n.useEffect)(()=>{w(f),j(k)},[f,k,i]);let N=(0,n.useId)(),C=null;return C=b?(0,r.jsx)(ef,{workspace:l}):(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-fg-primary",children:p("instructions-preferred-mode-label","Preferred mode")}),(0,r.jsx)(eu,{value:y,onChange:j})]}),(0,r.jsxs)(h.R,{open:i,setOpen:c,contentClassName:(0,d.cn)("focus:outline-0 focus-within:outline-0 gap-2","bg-background rounded-3xl","w-full md:w-5/6 lg:w-3/5 max-w-[1200px]","flex flex-col","md:overflow-hidden","px-6 py-6"),titleClassName:"flex justify-between text-lg",title:(0,r.jsxs)(r.Fragment,{children:[p("instructions-modal.title","Project settings"),(0,r.jsx)(o.$n,{className:"-m-1",variant:"tertiary",size:"md",shape:"square","aria-label":p("workspace-instructions-close.label","Close"),onClick:()=>c(!1),tabIndex:-1,children:(0,r.jsx)(g.uv5,{size:18,className:"text-secondary"})})]}),description:(0,r.jsx)("div",{className:"flex flex-col",children:(0,r.jsx)("span",{className:"text-sm text-fg-primary",children:p("instruction-input.label","Project instructions")})}),children:[(0,r.jsx)("label",{className:"sr-only",htmlFor:N,children:p("workspace-instruction.title","Custom instructions")}),(0,r.jsx)(em.q,{placeholder:p("instruction-input.placeholder","Grok will follow the instructions for all conversations in this project."),value:x,onChange:w,isDirty:f!==x||k!==y,onSave:e=>{var t;w(e);let{updateWorkspace:s}=v.M.getState();s(null!=(t=l.workspaceId)?t:"",{customPersonality:e,preferredModel:y}),c(!1)},onReset:()=>{w(f),j(k),c(!1)},disabled:b,textareaId:N,minRows:10,maxRows:u?15:25,formAddition:C})]})}function ef(e){let{workspace:t}=e,{t:s}=(0,m.Bd)("workspace"),{clone:a}=P(t);return(0,r.jsxs)("div",{className:"flex items-center justify-between bg-surface-l1 rounded-2xl p-3",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("div",{className:"text-fg-primary text-sm",children:s("instructions-modal-readonly.header","Read-only project")}),(0,r.jsx)("div",{className:"text-fg-secondary text-sm",children:s("instructions-modal-readonly.text","To make edits, clone this project to your account")})]}),(0,r.jsx)(o.$n,{shape:"rectangle",variant:"secondary",size:"sm",onClick:a,children:s("instructions-modal-readonly.clone-button.label","Clone")})]})}function ek(e){let{workspace:t,className:s}=e,{t:a}=(0,m.Bd)("workspace"),o=(0,c._)(),[i,l]=(0,n.useState)(!1),p=(0,d.cn)("group flex flex-col h-auto items-start rounded-2xl text-start p-4 bg-surface-l1 border-l1 dark:hover:bg-surface-l2 hover:bg-surface-l4-hover",s);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(J.$n,{variant:"outline",className:p,onClick:()=>{l(!0),o("ws_instructions_click",void 0,{location:"section"})},children:[(0,r.jsxs)("div",{className:"flex gap-2 font-semibold items-center",children:[(0,r.jsx)(g.Qfo,{size:16,strokeWidth:1.5,className:"text-fg-secondary group-hover:text-fg-primary transition-colors duration-100"}),a("workspace-intruction-button.label","Instructions")]}),(0,r.jsx)("div",{className:"text-fg-secondary w-full truncate",children:t.customPersonality||(0,r.jsx)("span",{className:"italic",children:a("workspace-intruction-button.empty","Set up instructions for Grok in this project")})})]}),(0,r.jsx)(eh,{workspace:t,open:i,onOpenChange:l})]})}var eb=s(26676);let ex=(0,n.memo)(e=>{var t;let{workspace:s,editing:a,onEditingChange:i,disabled:c}=e,{t:l}=(0,m.Bd)("workspace"),p=(0,n.useRef)(null);!function(e,t){(0,n.useEffect)(()=>{if(!e||!t.current)return;if("none"!==document.body.style.pointerEvents){var s;null==(s=t.current)||s.select();return}let a=setTimeout(()=>{var e;null==(e=t.current)||e.select()},200);return()=>clearTimeout(a)},[e,t])}(a,p);let[u,h]=(0,n.useState)(null!=(t=s.name)?t:"");(0,n.useEffect)(()=>{s.name&&h(s.name)},[s.name]);let f=(0,n.useCallback)(e=>{var t;let{updateWorkspace:a}=v.M.getState();a(null!=(t=s.workspaceId)?t:"",{name:e})},[s.workspaceId]),k=()=>{f(u),i(!1)},b=(0,n.useId)();return c?(0,r.jsx)("h1",{className:(0,d.cn)("ms-1 @sm:ms-2 flex-1 bg-transparent text-2xl focus-visible:outline-none border-b-secondary min-w-0 truncate group","text-md"),children:u}):a?(0,r.jsxs)("form",{className:"flex-1 flex gap-2 justify-between items-center min-w-0",onSubmit:e=>{e.preventDefault(),k()},children:[(0,r.jsx)("div",{"aria-live":"polite",className:"sr-only",children:l("workspace-name-save.announce","Editing project name")}),(0,r.jsx)("input",{"aria-label":l("workspace-name-input.label","Project name"),type:"text",value:u,onChange:e=>{h(e.target.value)},onKeyDown:e=>{if("Escape"===e.key){var t;i(!1),h(null!=(t=s.name)?t:"")}},onBlur:()=>{},className:(0,d.cn)("flex-1 px-1 @sm:px-2 text-2xl focus-visible:outline-none bg-input-background py-1 rounded-xl","text-md font-semibold"),id:b,ref:p,autoFocus:!0}),(0,r.jsx)(o.$n,{variant:"tertiary",size:"sm",shape:"square","aria-label":l("workspace-name-save.label","Save"),type:"submit",disabled:!u,children:(0,r.jsx)(g.Jlk,{size:16})})]}):(0,r.jsxs)("h1",{role:"button",tabIndex:0,"aria-expanded":"false",onClick:()=>{i(!0)},className:(0,d.cn)("ms-1 @sm:ms-2 flex-1 bg-transparent text-2xl focus-visible:outline-none border-b-secondary min-w-0 truncate group","text-md font-semibold"),children:[u,(0,r.jsx)(g.w$p,{size:16,className:"hidden @sm:inline ms-1 @sm:ms-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-fg-secondary"})]})}),ew=(0,n.memo)(function(e){let{workspace:t}=e,{t:s}=(0,m.Bd)("workspace"),{push:a}=(0,l.wK)(),i=(0,X.Di)(),c=(0,v.M)(e=>e.toggleSidePanel),[d,p]=(0,n.useState)(!1),u=(0,n.useCallback)(e=>{var s;let{updateWorkspace:a}=v.M.getState();a(null!=(s=t.workspaceId)?s:"",{icon:e})},[t.workspaceId]),{clone:h}=P(t);return(0,r.jsxs)("div",{className:"flex flex-col w-full",children:[(0,r.jsxs)("div",{className:"flex-1 flex items-center justify-start min-w-0 w-full",children:[(0,r.jsx)(eb.n,{icon:t.icon,onChange:u,disabled:t.isReadonly,sizeClass:"w-4",buttonSize:"iconSm"}),(0,r.jsx)(ex,{workspace:t,editing:d,onEditingChange:p,disabled:t.isReadonly}),d||(0,r.jsxs)(r.Fragment,{children:[t.isReadonly||(0,r.jsx)(M,{workspace:t,className:"ms-1 @sm:ms-2",iconSize:16,size:"sm",onDeleteStarted:()=>{a({page:"workspaces"})},onEditStarted:()=>{p(!0)}}),!i&&(0,r.jsx)(o.$n,{variant:"tertiary",size:"sm",shape:"square","aria-label":s("projects-sidepanel-collapse-button.label","Collapse side panel"),onClick:()=>{c(!1)},children:(0,r.jsx)(g.KD8,{size:18,className:"text-fg-secondary"})})]})]}),t.isReadonly&&(0,r.jsxs)("div",{className:"mt-1 flex flex-col gap-2 @sm:gap-4 border rounded-2xl p-4 text-sm bg-surface-l1",children:[(0,r.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,r.jsx)(g.c_I,{size:16}),(0,r.jsx)("div",{className:"font-semibold",children:s("project-readonly-alert-title","Read-only project")})]}),(0,r.jsx)("div",{children:(0,r.jsx)(m.x6,{ns:"workspace",i18nKey:"readonly-project-clone-action",defaults:"To make edits <clone>clone</clone> project",components:{clone:(0,r.jsx)(o.$n,{variant:"secondary",shape:"pill",size:"xs",onClick:h})}})})]})]})});var ev=s(10678),ey=s(51459),ej=s(17703),eN=s(44347);function eC(e){let{workspaceId:t}=e,s=(0,c._)(),{t:a}=(0,m.Bd)("chat"),{push:o}=(0,l.wK)(),i=function(){let e=(0,c._)();return t=>e("create_workspace_convo",t,{location:"workspace-query-bar:useLogCreation"})}(),{mutate:d,error:g}=(0,et.tX)({onSuccess:i});(0,eo.Y)("workspace",g);let p=(0,n.useCallback)(e=>{d({conversationId:e.conversationId,workspaceId:t}),s("ws_start_convo","",{location:"workspace-main:onCreateConversationSuccess"}),o({page:"workspace",workspaceId:t,conversationId:e.conversationId})},[d,s,o,t]),u=function(e,t){let s=(0,z.aP)(Y.A("establishNewConversation")),a=(0,eN.C$)(Y.A("isIncognito")),r=(0,N.h)();return(0,n.useCallback)(async n=>{let o,{query:i,fileAttachmentIds:c,webpageUrls:l,toolOverrides:d,isPreset:g,disableMemory:m}=n;if(!i)return!1;r.WORKSPACE_AGENT&&(o={agenticWorkspace:{workspaceId:e}});let p=await s({message:i,fileAttachmentIds:c,webpageUrls:l,toolOverrides:d,temporary:a,isPreset:g,enableRetries:r.ENABLE_AUTO_STREAM_RETRY,workspaceIds:[e],responseMetadata:o,ff:r,disableMemory:m}).catch(e=>{(0,ej.vV)("workspace:establishNewConversation",e)});return!!p&&(t(p),!0)},[r,a,s,e,t])}(t,p);return(0,r.jsx)(ey.s,{className:"",textAreaClassName:"min-h-14 pt-5 my-0 mb-5",placeholder:a("workspace-query-placeholder","Start a conversation in this project"),onQuery:u,isIncognito:!1,onFrontPage:!1,expandable:!1},"query-bar")}var eS=s(42557);function eI(e){let{workspace:t}=e,{workspaceId:s,isReadonly:a}=t,{t:n}=(0,m.Bd)("workspace"),{route:o,replace:i}=(0,l.wK)(),c=(0,X.Di)(),{user:d}=(0,eS.wV)(),g="workspace"===o.page&&o.tab||"conversations";d||"conversations"!==g||(g="attachments");let p=()=>{i({page:"workspace",workspaceId:s,tab:"attachments"})};return(0,r.jsxs)("div",{className:"pt-3 px-3 @container h-full flex flex-col relative max-h-[100vh]",children:[(0,r.jsx)(ew,{workspace:t}),(0,r.jsx)(ek,{workspace:t,className:"my-2 w-full"}),(0,r.jsxs)(Q.tU,{value:g,className:"flex-1 overflow-hidden flex flex-col relative pt-1 h-full",children:[d&&(0,r.jsxs)(Q.j7,{className:"!bg-transparent flex items-end p-0 bg-none border-b rounded-none border-none",children:[(0,r.jsx)(Q.Xi,{variant:"underline",value:"attachments",asChild:!0,className:"data-[state=inactive]:border-border-l1 border-b",children:(0,r.jsx)(l.N_,{className:"font-semibold text-sm",route:{page:"workspace",workspaceId:s,tab:"attachments"},children:n("workspace-tab.attachments","Files")})}),(0,r.jsx)(Q.Xi,{variant:"underline",value:"conversations",asChild:!0,className:"data-[state=inactive]:border-border-l1 border-b",children:(0,r.jsx)(l.N_,{className:"font-semibold text-sm",route:{page:"workspace",workspaceId:s,tab:"conversations"},children:n("workspace-tab.conversations","Conversations")})}),(0,r.jsx)("div",{className:"border-border-l1 border-b flex-1"})]}),(0,r.jsx)(Q.av,{value:"conversations",className:"overflow-auto",children:(0,r.jsx)(el,{workspace:t})}),(0,r.jsxs)(Q.av,{value:"attachments",className:"overflow-hidden flex-1 flex flex-col",children:[(0,r.jsx)($.C,{workspaceId:s,onFileAddStarted:p,isReadonly:a,className:"my-1 ms-[1px]"}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,r.jsx)($.n,{workspace:t})})]})]}),c&&(0,r.jsx)(eC,{workspaceId:s}),(0,r.jsx)(ev.h,{className:"m-2",workspaceId:s,onDrop:p,disabled:a})]})}var eT=s(36401),eE=s(35181),eR=s(48992),eA=s(49972),e_=s(97960),eO=s(52553),eP=s(92437);function eM(e){let{onDrop:t,className:s}=e,{t:a}=(0,m.Bd)("workspace"),o=(0,c._)(),{attachFiles:i}=(0,eO.S)(),l=(0,n.useRef)(null),d=(0,n.useCallback)(e=>{null==t||t(),i(e),e.forEach(e=>{o("upload_file",e.name,{location:"workspace-query-file-drop",mimeType:e.type})})},[i,t,o]),g=(0,eP.t)({ref:l,onDrop:d});return(0,r.jsx)(eP.u,{ref:l,dragState:g,title:a("workspace-query-dropzone.title","Attach to message"),subtitle:a("workspace-query-dropzone.description","Drop here to add files to your message"),className:s})}function eL(e){let{onClick:t,workspace:s}=e;return(0,r.jsxs)("button",{className:(0,d.cn)("border border-border-l2 px-3 py-1 rounded-full","text-sm text-secondary flex flex-row items-center gap-1"),onClick:t,children:[(0,r.jsx)(p.O,{icon:s.icon,className:(0,d.cn)("[&>svg]:h-3.5 [&>svg]:w-3.5")}),(0,r.jsx)("span",{className:(0,d.cn)("max-w-[0px] @[340px]:max-w-[70px] @[375px]:max-w-[100px] @[430px]:max-w-[150px] @[500px]:max-w-[200px] truncate"),children:s.name})]})}function eD(e){let{workspace:t}=e,s=(0,X.Di)(),{route:a,push:o}=(0,l.wK)(),i="workspace"===a.page&&a.conversationId||null,c=(0,eA.w1)(e=>e.fetchGetConversation),{data:d,isLoading:g,error:m}=(0,eE.v)(i?c(i):void 0);(0,n.useEffect)(()=>{let e=e_.A3.getState();(null==d?void 0:d.conversationId)&&(z.aP.getState().setConversationId(null==d?void 0:d.conversationId),e.loadInitialResponses(null==d?void 0:d.conversationId).then(e=>{var t;let s=z.aP.getState();if(d.conversationId===(null==(t=e[0])?void 0:t.conversationId)){let t=(0,eR.Mb)(e);if(!t)return void s.setLastMessageId(void 0);if("streaming"===t.state||"reconnecting"===t.state){s.setLastMessageId(t.parentResponseId),s.setStreamedMessageId(t.responseId);return}if("optimistic"===t.state){s.setLastMessageId(t.parentResponseId),s.setOptimisticMessageId(t.responseId);return}s.setLastMessageId(t.responseId)}}))},[d]);let p=t.workspaceId;return i||d?(0,r.jsxs)("div",{className:"relative h-full flex-1",children:[(0,r.jsx)(F.hx,{hideIncognito:!0,conversation:d,conversationIsLoading:g,extraLeftContent:s&&(0,r.jsx)(eL,{workspace:t,onClick:()=>{o({page:"workspace",workspaceId:p,conversationId:null})}})}),(0,r.jsx)(eT.T,{conversationId:null!=i?i:"",conversation:d,isOptimisticConversation:!1,conversationIsLoading:g,conversationError:m,hideFollowUps:!0}),(0,r.jsx)(eM,{className:"z-50 m-2"})]}):(0,r.jsxs)("div",{className:"relative h-full flex-1",children:[(0,r.jsxs)("div",{className:"flex flex-col justify-between h-full",children:[(0,r.jsx)("div",{className:"flex-1 flex flex-col justify-center items-center"}),(0,r.jsx)("div",{className:"flex flex-col justify-end  pb-4 px-5",children:(0,r.jsx)(eC,{workspaceId:p})})]}),(0,r.jsx)(eM,{className:"z-50 m-2"})]})}function eB(e){let{workspaceId:t}=e,{t:s}=(0,m.Bd)("chat"),{route:i}=(0,l.wK)(),c=(0,X.Di)(),u=(0,v.M)(e=>e.loadWorkspace),h=(0,v.M)(e=>e.byId[t]),{modeUiList:k,getModelModeIfExistsAndAccessible:b}=(0,K._W)(),x=(0,z.aP)(Y.A("setModelMode")),w=(0,z.aP)(Y.A("setActiveModelId")),y=null==h?void 0:h.data;(0,q.r)(null==y?void 0:y.name),(0,n.useEffect)(()=>{let e=null==y?void 0:y.preferredModel;if(e){let t=b(e);t&&(w(t.modelId),x(t.mode))}},[null==y?void 0:y.preferredModel,b,w,x,k]),(0,n.useEffect)(()=>{h||u(t)},[h,u,t]);let[,j]=function(){let[e,t]=(0,a.M)("recent-workspaces",[]);return[e,(0,n.useCallback)(e=>{t(t=>t[0]===e?t:[e,...t.filter(t=>t!==e)].slice(0,4))},[t])]}();(0,n.useEffect)(()=>{(null==y?void 0:y.workspaceId)&&j(null==y?void 0:y.workspaceId)},[y]);let N=(0,v.M)(e=>e.sidePanelExpanded),C=(0,v.M)(e=>e.toggleSidePanel);if(!h||(null==h?void 0:h.status)==="loading")return(0,r.jsxs)(V.P,{children:[(0,r.jsxs)("div",{className:"gap-4 flex flex-row w-full p-4",children:[(0,r.jsxs)("div",{className:"w-[300px] flex flex-col gap-4",children:[(0,r.jsx)(S.E,{className:"h-10 w-full"}),(0,r.jsx)(S.E,{className:"h-20 w-full"})]}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col gap-4",children:[(0,r.jsx)(S.E,{className:"h-10 w-full"}),(0,r.jsx)(S.E,{className:"h-20 w-full"})]})]}),(0,r.jsx)(U.CommandMenu,{})]});if((null==h?void 0:h.error)||!y)return(0,r.jsxs)("div",{className:"h-dvh w-full flex flex-col content-center",children:[(0,r.jsx)(W.J,{title:s("workspace-error.title","Error"),description:s("workspace-error.description","There was an issue finding ID {{workspaceId}}",{workspaceId:t}),cta:s("workspace-error.cta","Return home")}),(0,r.jsx)(U.CommandMenu,{})]});if(c){let e="workspace"===i.page&&i.conversationId;return(0,r.jsxs)(H.t,{fallbackRender:()=>(0,r.jsx)(W.J,{title:s("workspace-error.title","Error"),description:s("workspace-unexpected-error.description","Something went wrong"),cta:s("workspace-error.cta","Return home")}),children:[(0,r.jsx)("div",{className:"w-full flex-1 h-dvh",children:e?(0,r.jsx)("div",{className:"w-full h-full flex ",children:(0,r.jsx)(eD,{workspace:y})}):(0,r.jsxs)("div",{className:"flex-1 flex flex-col h-full",children:[(0,r.jsx)("div",{className:"mt-3 ms-1",children:(0,r.jsx)(F.n9,{})}),(0,r.jsx)(eI,{workspace:y})]})}),(0,r.jsx)(U.CommandMenu,{})]})}return(0,r.jsxs)(H.t,{fallbackRender:()=>(0,r.jsx)(W.J,{title:s("workspace-error.title","Error"),description:s("workspace-unexpected-error.description","Something went wrong"),cta:s("workspace-error.cta","Return Home")}),children:[(0,r.jsxs)(G.K,{collapsed:!N,onCollapsedChange:e=>C(!e),sideContent:(0,r.jsx)(eI,{workspace:y}),autoSaveId:"workspace-page-layout",style:{height:"100vh"},direction:"horizontal",className:"w-full h-[100vh] overflow-hidden",tagName:"main",children:[!N&&(0,r.jsxs)(f.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:(0,d.cn)("absolute start-3 top-3 z-50 flex gap-1"),children:[(0,r.jsx)(o.$n,{variant:"tertiary",size:"sm",shape:"square","aria-label":s("projects-sidepanel-collapse-button.label","Expand side panel"),onClick:()=>C(!0),children:(0,r.jsx)(g.KD8,{className:"",size:18})}),(0,r.jsxs)("button",{className:(0,d.cn)("border border-border-l2 px-3 py-1 rounded-full","text-sm text-secondary flex flex-row items-center gap-1"),onClick:()=>C(!0),children:[(0,r.jsx)(p.O,{icon:y.icon,className:(0,d.cn)("[&>svg]:h-3.5 [&>svg]:w-3.5")}),(0,r.jsx)("span",{className:(0,d.cn)("max-w-[0px] @[340px]:max-w-[75px] @[375px]:max-w-[100px] @[430px]:max-w-[150px] @[500px]:max-w-[200px] truncate"),children:y.name})]})]}),(0,r.jsx)(eD,{workspace:y})]}),(0,r.jsx)(U.CommandMenu,{})]})}function ez(e){let{workspaceId:t}=e,s=(0,c._)(),{push:a}=(0,l.wK)();return(0,B.v)(D.Ib,e=>{e.preventDefault(),e.stopPropagation(),a({page:"main"}),s("pressed_cmd_j",void 0,{location:"workspace-page-content:useHotkeys"})},[s,a]),(0,r.jsx)(eB,{workspaceId:t})}var eF=s(61079);function eU(e){let{onClick:t,responsive:s,...a}=e,i=(0,N.h)(),{t:c}=(0,m.Bd)("workspace"),l=(0,v.M)(Y.A("setCreateDialogIsOpen")),{add:p,isPending:u}=(0,eF.O)(),h=(0,n.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),null==t||t(),i.ENABLE_PROJECT_CREATOR?l(!0):p().catch((0,ej.HX)("app-sidebar:create-workspace"))},[i.ENABLE_PROJECT_CREATOR,t,l,p]);return(0,r.jsxs)(o.$n,{variant:"secondary",shape:"rectangle",size:"md",onClick:h,"aria-busy":u,...a,children:[u?(0,r.jsx)(g.wmz,{className:"animate-spin",size:16,"aria-hidden":!0}):(0,r.jsx)(g.FWt,{size:16,"aria-hidden":!0}),(0,r.jsx)("span",{className:(0,d.cn)(!1!==s&&"sr-only sm:not-sr-only"),children:u?c("add-workspace-button.pending","Creating project"):c("add-workspace-button.label","Create project")})]})}function eV(e){let{children:t,className:s}=e;return(0,r.jsxs)("div",{className:(0,d.cn)("h-dvh w-full relative selection:bg-highlight",s),children:[(0,r.jsx)(F.hx,{hideIncognito:!0}),(0,r.jsx)("div",{className:"max-w-[50rem] px-5 pt-16 @sm:pt-18 mx-auto w-full flex-col h-full relative items-center",children:t}),(0,r.jsx)(U.CommandMenu,{})]})}var eH=s(16506),eW=s(39116),eG=s(3547);let eK=(0,n.memo)(function(){let{theme:e}=(0,eH.D)(),t=(0,eW.useRouter)(),{t:s}=(0,m.Bd)("workspace"),a=(0,c._)(),i=new URLSearchParams({return_to:"".concat(location.pathname).concat(location.search).concat(location.hash)}).toString(),l=(0,n.useCallback)(()=>{a("sign_in_redirect",void 0,{location:"project-anon-page"}),t.push("/sign-in".concat(i?"?".concat(i):""))},[a,t,i]),d=(0,n.useCallback)(()=>{a("sign_up_redirect",void 0,{location:"project-anon-page"}),t.push("/sign-up".concat(i?"?".concat(i):""))},[a,t,i]);return(0,r.jsxs)("main",{className:"h-full flex flex-col justify-center items-center",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-4 text-center",children:s("anon-promo.unlock-projects-title","Unlock Projects on Grok")}),(0,r.jsx)("p",{className:"mb-6 text-center max-w-[600px]",children:s("anon-promo.projects-description","Projects let you create customized workspaces, upload files for contextual chats, and share read-only access for private, collaborative conversations.")}),(0,r.jsxs)("div",{className:"border border-border-l1 bg-surface-l1 rounded-3xl flex flex-col gap-3 p-4 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 font-bold text-sm",children:[(0,r.jsx)(eG.Ln,{value:{color:"blue",icon:"book-open"}}),s("anon-promo.my-project-label","My Project")]}),(0,r.jsxs)("div",{className:"border border-border-l2 bg-surface-l2 rounded-2xl flex gap-1 py-1 ps-1.5 pe-3",children:[(0,r.jsx)(S.E,{className:"h-4 w-4 rounded-full m-3"}),(0,r.jsxs)("div",{className:"flex flex-col justify-around gap-2 py-1",children:[(0,r.jsx)(S.E,{className:"rounded-full h-[6px] w-[80px]"}),(0,r.jsx)(S.E,{className:"rounded-full h-[6px] w-[226px]"})]})]}),(0,r.jsxs)("div",{className:"border border-border-l2 bg-surface-l2 rounded-2xl flex gap-1 py-1 ps-1.5 pe-3",children:[(0,r.jsx)("img",{src:"dark"===e?"/file-icons/file-dark.svg":"/file-icons/file-light.svg",alt:s("anon-promo.file-icon-alt","file icon")}),(0,r.jsxs)("div",{className:"flex flex-col justify-around gap-2 py-1",children:[(0,r.jsx)(S.E,{className:"rounded-full h-[6px] w-[120px]"}),(0,r.jsx)(S.E,{className:"rounded-full h-[6px] w-[36px]"})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,r.jsx)(o.$n,{size:"md",variant:"secondary",shape:"rectangle",onClick:l,children:(0,r.jsx)("div",{children:s("anon-promo.sign-in","Sign in")})}),(0,r.jsx)(o.$n,{size:"md",variant:"primary",shape:"rectangle",onClick:d,children:(0,r.jsx)("div",{children:s("anon-promo.sign-up","Sign up")})})]})]})});function eq(){let{t:e}=(0,m.Bd)("workspace");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:e("what-can-you-do.title","What You Can Do with Projects")}),(0,r.jsxs)("ul",{className:"list-disc pl-6 mb-6 space-y-2",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:e("what-can-you-do.create-customize-title","Create and Customize")}),":"," ",e("what-can-you-do.create-customize-description","Build a new project in seconds. Upload files (like documents, code, or data) and add specific instructions to guide Grok's responses.")]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:e("what-can-you-do.contextual-conversations-title","Contextual Conversations")}),":"," ",e("what-can-you-do.contextual-conversations-description","Start chats within your project, and Grok will automatically use your uploaded files and custom instructions as context – ensuring smarter, more relevant answers every time.")]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:e("what-can-you-do.share-read-only-title","Share Read-Only Access")}),":"," ",e("what-can-you-do.share-read-only-description","Share your projects with friends, colleagues, or teams in a read-only format. They can view the project, files, and instructions, then start their own conversations using the same context. All conversations remain private to each user, so no one sees anyone else's chats.")]})]}),(0,r.jsx)("p",{className:"mb-6",children:e("what-can-you-do.projects-benefits-description","Projects are designed to make your Grok experience more efficient, collaborative, and powerful. Whether you're brainstorming ideas, analyzing data, or building something new, Projects keep everything organized and contextual.")})]})}function eX(e){let{className:t}=e,s=(0,c._)(),{t:a}=(0,m.Bd)("workspace"),o=(0,v._)(),l=(0,v.M)(e=>e.loadFirstPage),g=(0,v.M)(e=>e.listPageToken);(0,n.useEffect)(()=>{0===o.length&&l()},[l,o.length]);let p=(0,v.M)(e=>e.listStatus),u=(0,v.M)(e=>e.loadNextPage),h=(0,n.useCallback)(()=>{g&&"loading"!==p&&u()},[g,p,u]),f=(0,ee.B)(h);if("loading"===p&&0===o.length)return(0,r.jsx)(eQ,{});if("error"===p)return(0,r.jsx)(eY,{onRetry:l});let k=(0,d.cn)("pb-8",t);if(0===o.length)return(0,r.jsxs)(i.Zp,{variant:"ghost",className:"p-4 sm:p-6 flex flex-col",children:[(0,r.jsx)(eq,{}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)(eU,{variant:"primary",responsive:!1})})]});let b=()=>{s("ws_nav_click",void 0,{location:"workspaces"})};return(0,r.jsxs)("div",{"data-testid":"workspaces-list",className:k,children:[(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:o.map(e=>(0,r.jsx)(L,{workspace:e,onClick:b},e.workspaceId))}),g&&(0,r.jsx)("div",{ref:f,className:"text-center mt-8",children:"loading"===p?a("workspaces-loading.label","Loading more…"):a("workspaces-scrollto.label","Scroll to load more")})]})}function eY(e){let{onRetry:t}=e,{t:s}=(0,m.Bd)("workspace");return(0,r.jsxs)(i.Zp,{variant:"ghost",className:"p-8 flex flex-col gap-4 items-center text-center",children:[(0,r.jsx)(g.lW3,{className:"size-4"}),s("workspaces-error.description","An issue occurred when loading your projects"),(0,r.jsx)(J.$n,{variant:"outline",className:"shadow-none",onClick:t,children:s("workspaces-error.cta","Try again")})]})}function eQ(){return(0,r.jsx)(V.P,{children:(0,r.jsxs)("div",{className:"flex flex-col @sm:flex-row gap-3",children:[(0,r.jsx)(e$,{}),(0,r.jsx)(e$,{}),(0,r.jsx)(e$,{})]})})}function e$(){return(0,r.jsxs)(i.Zp,{variant:"ghost",className:"flex-1 rounded-xl p-4 flex @sm:flex-col items-center  @sm:items-start gap-4",children:[(0,r.jsx)(S.E,{className:"bg-surface-l1 w-8 h-8 rounded-full"}),(0,r.jsx)(S.E,{className:"bg-surface-l1 w-32 h-4"})]})}function eZ(){let{user:e}=(0,eS.wV)(),t=(0,c._)(),{t:s}=(0,m.Bd)("workspace");return((0,q.r)(s("workspaces-page-title","Projects"),s("projects-page-description","Projects – your personalized workspace for supercharging conversations with Grok.")),e)?(0,r.jsx)(eV,{children:(0,r.jsxs)("main",{className:"w-full h-full flex flex-col",children:[(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"flex justify-between align-center mb-6 min-h-[42px]",children:[(0,r.jsx)("h1",{className:"text-2xl flex gap-2 items-center font-semibold",children:s("workspaces-page.title","Projects")}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(eU,{onClick:()=>{t("ws_create_click",void 0,{location:"workspaces"})}})})]})}),(0,r.jsx)(Z.D,{children:(0,r.jsx)(eX,{})})]})}):(0,r.jsx)(eV,{children:(0,r.jsx)(eK,{})})}},59075:(e,t,s)=>{"use strict";s.d(t,{j:()=>r});var a=s(65258);class n{constructor(e,t){this.set=e,this.get=t,this.isOpen=!1,this.currentImage=null,this.setImage=e=>{this.set({currentImage:e})},this.open=e=>{this.set({currentImage:null!=e?e:null,isOpen:!0})},this.close=()=>{this.set({currentImage:null,isOpen:!1})}}}let r=(0,a.y$)(n,"useImageEditorStore")},59996:(e,t,s)=>{"use strict";s.d(t,{A:()=>I});var a=s(79342),n=s(56691),r=s(13103),o=s(41320);let i=e=>{let t,s,a,n=e.match(/(\d+)\s*(\d+)%\s*(\d+)%/);if(!n||!n[1]||!n[2]||!n[3])return"#000000";let r=parseInt(n[1])/360,o=parseInt(n[2])/100,i=parseInt(n[3])/100;if(0===o)t=s=a=i;else{let e=(e,t,s)=>(s<0&&(s+=1),s>1&&(s-=1),s<1/6)?e+(t-e)*6*s:s<.5?t:s<2/3?e+(t-e)*(2/3-s)*6:e,n=i<.5?i*(1+o):i+o-i*o,c=2*i-n;t=e(c,n,r+1/3),s=e(c,n,r),a=e(c,n,r-1/3)}let c=e=>{let t=Math.round(255*e).toString(16);return 1===t.length?"0"+t:t};return"#".concat(c(t)).concat(c(s)).concat(c(a))};var c=s(17703),l=s(61312),d=s(84852),g=s(11750),m=s(16506),p=s(88382),u=s(65146),h=s(43897),f=s(14908),k=s(47127),b=s(1826),x=s(89720);let w=p.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsxs)(x.bL,{ref:t,className:(0,l.cn)("relative flex w-full touch-none select-none items-center",s),...n,children:[(0,a.jsx)(x.CC,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,a.jsx)(x.Q6,{className:"absolute h-full bg-primary"})}),(0,a.jsx)(x.zi,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});w.displayName=x.bL.displayName;let v={white:{light:"--white",dark:"--white"},black:{light:"--black",dark:"--black"},yellow:{light:"--yellow-200",dark:"--yellow-300"},red:{light:"--red-300",dark:"--red-400"},green:{light:"--green-300",dark:"--green-400"},blue:{light:"--blue-300",dark:"--blue-400"}},y={white:"#fcfcfc",black:"#050505",gray900:"#242529"},j={borderRadius:"24px",cursor:"crosshair",overflow:"hidden"},N=e=>{let{className:t,strokeColor:s,setStrokeColor:n}=e,{resolvedTheme:r}=(0,m.D)(),o=(0,p.useMemo)(()=>{let e=getComputedStyle(document.documentElement);return Object.entries(v).map(t=>{let[s,{light:a,dark:n}]=t;return{key:s,displayColor:i(e.getPropertyValue("dark"===r?n:a))}})},[r]);return(0,a.jsx)("div",{className:(0,l.cn)("flex gap-2 py-2 px-3 flex-nowrap overflow-x-auto no-scrollbar [mask-image:linear-gradient(to_right,transparent,black_8px,black_calc(100%_-_8px),transparent)] [-webkit-mask-image:linear-gradient(to_right,transparent,black_8px,black_calc(100%_-_8px),transparent)]",t),children:o.map(e=>{let{key:t,displayColor:r}=e;return(0,a.jsx)(C,{displayColor:r,strokeColor:s,setStrokeColor:n},t)})})},C=e=>{let{displayColor:t,strokeColor:s,setStrokeColor:n}=e;return(0,a.jsx)("div",{className:(0,l.cn)("w-6 h-6 border border-border-l1 rounded-full cursor-pointer ring-offset-2 ring-offset-surface-l2 ring-ring hover:opacity-85 flex-shrink-0",s===t&&"ring-2"),style:{backgroundColor:t},onClick:()=>n(t),onKeyDown:e=>"Enter"===e.key&&n(t),tabIndex:0,role:"button","aria-label":"Select ".concat(t," color")})},S=e=>{let{strokeWidth:t,width:s=32,height:n=32}=e;return(0,a.jsx)("svg",{width:s,height:n,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:"text-fg-primary",children:(0,a.jsx)("circle",{cx:"8",cy:"8",r:"1",stroke:"currentColor",strokeWidth:Math.min(t/2,28),fill:"currentColor"})})},I=e=>{let{open:t,setOpen:s,onAttach:i}=e,{t:x}=(0,u.Bd)("base"),{resolvedTheme:v}=(0,m.D)(),C=(0,p.useRef)(null),I=(0,o.Di)(),[T,E]=(0,p.useState)("dark"===v?y.white:y.black),[R,A]=(0,p.useState)(5),_="dark"===v?y.gray900:y.white,O=(0,p.useCallback)(async()=>{try{var e;let t=await (null==(e=C.current)?void 0:e.exportImage("png"));if(!t)throw Error("Failed to export image");let a=t.split(",")[1];if(!a)throw Error("Failed to export image");let n=atob(a),r=new Uint8Array(n.length);for(let e=0;e<n.length;e++)r[e]=n.charCodeAt(e);let o=new Blob([r],{type:"image/png"}),c=new File([o],"drawing.png",{type:"image/png"});i(c),s(!1)}catch(e){(0,c.vV)("drawing-modal:handleExport",e),f.oR.error(x("drawing-modal.error","Error exporting drawing"))}},[i,s,x]);return(0,a.jsx)(r.lG,{open:t,onOpenChange:s,children:(0,a.jsxs)(r.Cf,{className:(0,l.cn)("focus:outline-none rounded-none","bg-transparent rounded-2xl outline-none w-full flex flex-col items-center justify-center px-4 h-[100dvh] pt-16 pb-24",I&&"gap-2 p-2 pb-[72px]"),overlayClassname:"backdrop-blur-lg","aria-describedby":void 0,children:[(0,a.jsx)(d.s,{children:(0,a.jsx)(r.c7,{children:(0,a.jsx)(r.L3,{children:x("drawing-modal.title","Sketchpad")})})}),(0,a.jsxs)("div",{className:"w-full h-full rounded-3xl max-w-[1280px] max-h-[960px] relative border border-border-l1","data-vaul-no-drag":!0,children:[(0,a.jsx)(n.$n,{className:(0,l.cn)("absolute -top-3 -right-3 shadow-sm",I&&"top-2 right-2"),variant:"filledSecondary",title:x("Close","Close"),rounded:!0,size:"iconSm",onClick:()=>s(!1),tabIndex:-1,children:(0,a.jsx)(g.uv5,{size:18,className:"text-secondary"})}),(0,a.jsx)(h.K,{ref:C,style:j,strokeWidth:R,strokeColor:T,canvasColor:_})]}),(0,a.jsxs)("div",{className:(0,l.cn)("flex justify-center items-center bg-surface-l2 rounded-full p-2 max-w-[calc(100%-16px)] fixed bottom-2 shadow-sm",!I&&"bottom-6"),children:[(0,a.jsx)(N,{strokeColor:T,setStrokeColor:E}),(0,a.jsxs)("div",{className:"flex me-3",children:[(0,a.jsxs)(b.AM,{children:[(0,a.jsx)(b.Wv,{asChild:!0,children:(0,a.jsx)(n.gx,{tooltipContent:(0,a.jsx)("p",{children:x("drawing-modal.strokeWidth","Stroke Width")}),tooltipContentProps:{side:"bottom"},variant:"ghostSecondary","aria-label":x("drawing-modal.strokeWidth","Stroke Width"),rounded:!0,size:"iconMd",children:(0,a.jsx)(k.p,{children:(0,a.jsx)(g.R2l,{size:14})},"stroke-width")})}),(0,a.jsx)(b.hl,{side:"top",sideOffset:16,className:"w-64 p-4",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(w,{value:[R],defaultValue:[R],onValueChange:e=>{let[t]=e;return A(null!=t?t:0)},min:1,max:25,step:1,className:"w-full"}),(0,a.jsx)(S,{strokeWidth:R})]})})]}),(0,a.jsx)(n.gx,{tooltipContent:(0,a.jsx)("p",{children:x("drawing-modal.undo","Undo")}),tooltipContentProps:{side:"bottom"},variant:"ghostSecondary","aria-label":x("drawing-modal.undo","Undo"),rounded:!0,size:"md",onClick:()=>{var e;return null==(e=C.current)?void 0:e.undo()},children:(0,a.jsx)(k.p,{children:(0,a.jsx)(g.ejX,{size:14})},"undo")}),(0,a.jsx)(n.gx,{tooltipContent:(0,a.jsx)("p",{children:x("drawing-modal.redo","Redo")}),tooltipContentProps:{side:"bottom"},variant:"ghostSecondary","aria-label":x("drawing-modal.redo","Redo"),rounded:!0,size:"md",onClick:()=>{var e;return null==(e=C.current)?void 0:e.redo()},children:(0,a.jsx)(k.p,{children:(0,a.jsx)(g.UfX,{size:14})},"redo")}),(0,a.jsx)(n.gx,{tooltipContent:(0,a.jsx)("p",{children:x("drawing-modal.clear","Clear")}),tooltipContentProps:{side:"bottom"},variant:"ghostSecondary","aria-label":x("drawing-modal.clear","Clear"),rounded:!0,size:"md",onClick:()=>{var e;return null==(e=C.current)?void 0:e.clearCanvas()},children:(0,a.jsx)(k.p,{children:(0,a.jsx)(g.ucK,{size:14})},"clear")})]}),(0,a.jsx)(n.$n,{variant:"filled",rounded:!0,onClick:O,children:x("drawing-modal.done","Done")})]})]})})}},60059:(e,t,s)=>{"use strict";s.d(t,{r:()=>x});var a=s(79342),n=s(75500),r=s(88382);let o=null,i=null,c={typescriptreact:"tsx"};var l=s(28513),d=s(61312),g=s(48424),m=s(16506),p=s(88493);let u={whiteSpace:"pre",lineHeight:"inherit",fontSize:"inherit"};function h(e){let{children:t,customStyle:s}=e;return(0,a.jsx)("div",{style:s,children:(0,a.jsx)("code",{style:u,children:t})})}function f(e){let{children:t,customStyle:s,...n}=e,{resolvedTheme:o}=(0,m.D)(),[i,c,d]=(0,l._)("react-syntax-highlighter/dist/esm/default-highlight","react-syntax-highlighter/dist/esm/styles/hljs/atom-one-light","react-syntax-highlighter/dist/esm/styles/hljs/atom-one-dark");return(0,a.jsx)(i,{...n,style:"dark"===o?d:c,customStyle:s,renderer:n.wrapLongLines?void 0:function(){let{overscanRowCount:e=10}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=>{let{rows:s,stylesheet:n,useInlineStyles:o}=t,i=r.useRef(null),c=()=>i.current?1.5*parseFloat(getComputedStyle(i.current).fontSize):21.6,l=(0,g.Te)({count:s.length,getScrollElement:()=>i.current,estimateSize:()=>c(),overscan:e});return(0,r.useEffect)(()=>{let e=i.current;if(!e)return;let t=new ResizeObserver(()=>{l.measure()});return t.observe(e),()=>t.unobserve(e)},[l]),(0,a.jsx)("div",{ref:i,style:{height:"100%",width:"100%",overflow:"auto"},children:(0,a.jsx)("div",{style:{height:"".concat(l.getTotalSize(),"px"),width:"100%",position:"relative"},children:l.getVirtualItems().map(e=>(0,a.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"".concat(1.5,"em"),transform:"translateY(".concat(e.start,"px)")},children:(function(e){let{rows:t,stylesheet:s,useInlineStyles:a}=e;return e=>{let{index:n,key:r,style:o}=e;return(0,p.Ay)({node:t[n],stylesheet:s,style:o,useInlineStyles:a,key:r})}})({rows:s,stylesheet:n,useInlineStyles:o})({index:e.index,key:e.key,style:{}})},e.key))})})}}(),children:t})}function k(e){let{children:t,customStyle:n,...l}=e,{resolvedTheme:d}=(0,m.D)(),{highlighter:g,loadLanguage:p,loadedLanguages:u}=function(){let[e,t]=(0,r.useState)(!1),[a,n]=(0,r.useState)(new Set(["typescript","python"])),l=(0,r.useCallback)(async()=>o||i||(i=(async()=>{let[{createHighlighterCore:e},{createJavaScriptRegexEngine:t},{bundledLanguages:a},{bundledThemes:n}]=await Promise.all([Promise.all([s.e(45976),s.e(59825)]).then(s.bind(s,59825)),s.e(93648).then(s.bind(s,93648)),s.e(96573).then(s.bind(s,96573)),s.e(95506).then(s.bind(s,95506))]),r=["slack-dark","slack-ochin"].map(e=>n[e]).filter(Boolean),i=["typescript","python"].map(e=>a[e]).filter(Boolean),l=await e({themes:r,langs:i,langAlias:c,engine:t({forgiving:!0})});return o=l,l})()),[]),d=(0,r.useCallback)(async e=>{if(!(!o||a.has(e)))try{let[{bundledLanguages:t}]=await Promise.all([s.e(96573).then(s.bind(s,96573))]),a=t[e in c?c[e]:e];a&&(await o.loadLanguage(a),n(t=>new Set([...t,e])))}catch(t){console.error("Failed to load language: ".concat(e),t)}},[a]);return(0,r.useEffect)(()=>{let e=!0;return(async()=>{try{t(!0),await l(),e&&t(!1)}catch(s){e&&(t(!1),console.error("Shiki highlighter initialization error:",s))}})(),()=>{e=!1}},[l]),{highlighter:o,isLoading:e,loadLanguage:d,loadedLanguages:a}}(),f=(0,r.useMemo)(()=>"string"==typeof t?t:t.map(e=>{if("string"==typeof e)return e}).join(""),[t]);(0,r.useEffect)(()=>{l.language&&g&&p&&p(l.language)},[l.language,g,p]);let k=!l.language||"text"===l.language||u.has(l.language);return g&&k?(0,a.jsx)(b,{content:f,language:l.language,theme:"dark"===d?"slack-dark":"slack-ochin",highlighter:g,customStyle:n,wrapLongLines:l.wrapLongLines}):(0,a.jsx)(h,{customStyle:n,children:f})}function b(e){let{content:t,language:s,theme:n,highlighter:r,customStyle:o,wrapLongLines:i}=e,[{useShikiHighlighter:c}]=(0,l._)("react-shiki"),g=c(t,s,n,{delay:20,highlighter:r||void 0});return g&&r?(0,a.jsx)("div",{className:(0,d.cn)("shiki not-prose relative [&_pre]:overflow-auto [&_pre]:rounded-b-lg [&_pre]:px-4 [&_pre]:py-4 !p-0 border border-border-l1",i&&"[&_pre]:whitespace-pre-wrap [&_pre]:break-words [&_code]:whitespace-pre-wrap [&_code]:break-words"),style:o,children:g}):(0,a.jsx)(h,{customStyle:o,children:t})}function x(e){let t=(0,n.h)(),s=(0,a.jsx)(h,{...e}),o=t.ENABLE_SHIKI_CODE_HIGHLIGHTING?k:f;return(0,a.jsx)(r.Suspense,{fallback:s,children:(0,a.jsx)(o,{...e})})}},60065:(e,t,s)=>{"use strict";s.d(t,{I:()=>o});var a=s(79342),n=s(17338),r=s(88382);let o=e=>{let{starDensity:t=1e-4,allStarsTwinkle:s=!0,twinkleProbability:o=.7,minTwinkleSpeed:i=.3,maxTwinkleSpeed:c=.5,className:l,minSpeed:d=.01,maxSpeed:g=.1,style:m={},starColor:p}=e,u=(0,r.useRef)(null),h=(0,r.useRef)([]),f=(0,r.useCallback)((e,a)=>Array.from({length:Math.floor(e*a*t)},()=>{let t=d+Math.random()*(g-d),n=Math.random()*Math.PI*2;return{x:Math.random()*e,y:Math.random()*a,radius:.05*Math.random()+.8,opacity:.5*Math.random(),twinkleSpeed:s||Math.random()<o?i+Math.random()*(c-i):null,velocityX:Math.cos(n)*t,velocityY:Math.sin(n)*t}}),[t,s,o,i,c,d,g]);return(0,r.useEffect)(()=>{let e=u.current,t=()=>{if(e){if(!e.getContext("2d"))return;let{width:t,height:s}=e.getBoundingClientRect();e.width=t,e.height=s,h.current=f(t,s)}};t();let s=new ResizeObserver(t);return e&&s.observe(e),()=>{e&&s.unobserve(e)}},[t,s,o,i,c,d,g,f]),(0,r.useEffect)(()=>{let e,t=u.current;if(!t)return;let s=t.getContext("2d");if(!s)return;let a=()=>{s.clearRect(0,0,t.width,t.height),h.current=h.current.map(e=>{let a=e.x+e.velocityX,n=e.y+e.velocityY;a<0&&(a=t.width),a>t.width&&(a=0),n<0&&(n=t.height),n>t.height&&(n=0);let r=null!==e.twinkleSpeed?.5+Math.abs(.5*Math.sin(.001*Date.now()/e.twinkleSpeed)):e.opacity;return s.beginPath(),s.arc(a,n,e.radius,0,2*Math.PI),s.fillStyle="rgba(".concat(p?p.join(", "):"255, 255, 255",", ").concat(r,")"),s.fill(),{...e,x:a,y:n,opacity:r}}),e=requestAnimationFrame(a)};return a(),()=>{cancelAnimationFrame(e)}},[]),(0,a.jsx)("canvas",{style:m,ref:u,className:(0,n.cx)("absolute inset-0 h-full w-full",l)})}},60078:(e,t,s)=>{"use strict";s.d(t,{A9:()=>S,B:()=>g,BY:()=>h,Cd:()=>n,GF:()=>N,Gp:()=>m,LQ:()=>j,PT:()=>v,Q_:()=>T,Y5:()=>A,rn:()=>R});var a=s(6132);let n=["1D","5D","1M","3M","6M","YTD","1Y","5Y","MAX"],r=a.z.enum(n),o=a.z.object({value:a.z.number(),currency:a.z.string(),currencySymbol:a.z.string().nullish()}),i=a.z.object({symbol:a.z.string(),name:a.z.string(),currentPrice:o,metrics:a.z.object({open:a.z.number().nullish(),high:a.z.number().nullish(),low:a.z.number().nullish(),marketCap:a.z.union([a.z.string(),a.z.number()]).nullish(),yearHigh:a.z.number().nullish(),yearLow:a.z.number().nullish(),allTimeHigh:a.z.number().nullish(),allTimeLow:a.z.number().nullish(),branding:a.z.object({logo_url:a.z.string().nullish(),icon_url:a.z.string().nullish(),image_url:a.z.string().nullish()}).nullish(),peRatio:a.z.number().nullish(),dividendYield:a.z.number().nullish(),prevDayClose:a.z.number().nullish()}),assetType:a.z.enum(["STOCK","COIN"]),exchange:a.z.string().nullish()}),c=a.z.object({timestamp:a.z.string(),value:a.z.number()}),l=a.z.record(r,a.z.array(c)),d=a.z.record(r,a.z.array(c)),g=a.z.object({cardType:a.z.literal("finance_card"),created_at:a.z.string(),timestamp:a.z.string(),timeZone:a.z.string(),variant:a.z.literal("SINGLE"),entity:i,chartData:a.z.object({price_data:l}),query:a.z.string().optional()}),m=a.z.object({cardType:a.z.literal("finance_card"),created_at:a.z.string(),timestamp:a.z.string(),timeZone:a.z.string(),variant:a.z.literal("COMPARISON"),entities:a.z.array(i),chartData:a.z.record(a.z.object({price_data:l,percent_data:d})),query:a.z.string().optional()}),p=a.z.object({label:a.z.string(),value:a.z.object({value:a.z.number(),currency:a.z.string(),currency_symbol:a.z.string().nullish()})}),u=a.z.object({financialsType:a.z.string(),data:a.z.record(p)}),h=a.z.object({cardType:a.z.literal("finance_card"),created_at:a.z.string().nullish(),timestamp:a.z.string(),timeZone:a.z.string(),variant:a.z.literal("FINANCIALS"),tickers:a.z.array(a.z.string()),reports:a.z.record(a.z.string(),u),cik:a.z.string(),companyName:a.z.string(),startDate:a.z.string(),endDate:a.z.string(),filingDate:a.z.string(),fiscalPeriod:a.z.string(),fiscalYear:a.z.string(),sourceFilingFileUrl:a.z.string(),query:a.z.string().nullish()}),f=a.z.object({text:a.z.string().nullish(),language_code:a.z.string().nullish()}),k=a.z.object({open_now:a.z.boolean().nullish(),weekday_descriptions:a.z.array(a.z.string()).nullish(),next_close_time:a.z.string().nullish(),next_open_time:a.z.string().nullish()}),b=a.z.object({latitude:a.z.number(),longitude:a.z.number()}),x=a.z.object({name:a.z.string().nullish(),widthPx:a.z.number().int().nullish(),heightPx:a.z.number().int().nullish(),photo_uri:a.z.string().nullish()}),w=a.z.object({id:a.z.string(),formatted_address:a.z.string().nullish(),formatted_phone_number:a.z.string().nullish(),display_name:f.nullish(),opening_hours:k.nullish(),price_level:a.z.enum(["PRICE_LEVEL_UNSPECIFIED","PRICE_LEVEL_FREE","PRICE_LEVEL_INEXPENSIVE","PRICE_LEVEL_MODERATE","PRICE_LEVEL_EXPENSIVE","PRICE_LEVEL_VERY_EXPENSIVE"]).nullish(),rating:a.z.number().nullish(),user_ratings_total:a.z.number().int().nullish(),google_maps_uri:a.z.string().nullish(),coordinates:b.nullish(),city_or_country:a.z.string().nullish(),photos:a.z.array(x).nullish(),utc_offset_minutes:a.z.number().int().nullish(),timezone:a.z.string().nullish()}),v=a.z.object({id:a.z.string(),cardType:a.z.literal("places_card"),locs:a.z.array(w),num_items_to_render:a.z.number(),created_at:a.z.string().nullish(),query:a.z.string().nullish(),data:a.z.unknown()}),y=a.z.object({thumbnail:a.z.string(),source:a.z.string(),title:a.z.string(),link:a.z.string(),original:a.z.string(),original_width:a.z.number().int(),original_height:a.z.number().int()}),j=a.z.object({id:a.z.string(),cardType:a.z.literal("images_card"),query:a.z.string(),images:a.z.array(y),num_items_to_render:a.z.number(),created_at:a.z.string().nullish()}),N=a.z.object({id:a.z.string(),cardType:a.z.literal("image_card"),image:y,align:a.z.enum(["LEFT","CENTER","RIGHT"]).nullish(),size:a.z.enum(["SMALL","LARGE"]).nullish(),caption:a.z.string().nullish(),created_at:a.z.string().nullish()}),C=a.z.object({imageUuid:a.z.string(),imageUrl:a.z.string(),progress:a.z.number(),seq:a.z.number()}),S=a.z.object({id:a.z.string(),cardType:a.z.literal("image_generation_card"),query:a.z.string().nullish(),data:a.z.unknown().nullish(),created_at:a.z.string().nullish(),image_chunk:C}),I=a.z.object({username:a.z.string().nullish(),name:a.z.string().nullish(),text:a.z.string().nullish(),createTime:a.z.string().nullish(),profileImageUrl:a.z.string().nullish(),postId:a.z.string().nullish(),citationId:a.z.string().nullish(),parentPostId:a.z.string().nullish(),quotePostId:a.z.string().nullish(),viewCount:a.z.number().nullish(),communityNote:a.z.string().nullish(),verifiedType:a.z.string().nullish()}),T=a.z.object({id:a.z.string(),cardType:a.z.literal("x_posts_card"),post_ids:a.z.string().array(),xposts:I.array(),created_at:a.z.string().nullish()}),E=a.z.object({id:a.z.string().nullish(),name:a.z.string().nullish(),username:a.z.string().nullish(),profile_image_url:a.z.string().nullish(),profile_banner_url:a.z.string().nullish(),verified:a.z.boolean().nullish(),verified_type:a.z.string().nullish(),affiliation:a.z.object({url:a.z.string().nullish(),user_id:a.z.array(a.z.string().nullish()).nullish(),description:a.z.string().nullish(),badge_url:a.z.string().nullish()}).nullish(),public_metrics:a.z.object({followers_count:a.z.number().nullish(),following_count:a.z.number().nullish(),tweet_count:a.z.number().nullish(),listed_count:a.z.number().nullish()}).nullish(),description:a.z.string().nullish()}),R=a.z.object({id:a.z.string(),cardType:a.z.literal("x_users_card"),user_handles:a.z.string().array(),xusers:E.array(),created_at:a.z.string().nullish()}),A=a.z.object({id:a.z.string(),cardType:a.z.literal("citation_card"),url:a.z.string(),created_at:a.z.string().nullish()})},61079:(e,t,s)=>{"use strict";s.d(t,{I:()=>m,O:()=>g});var a=s(3547),n=s(23232),r=s(4408),o=s(3683),i=s(88382),c=s(65146),l=s(31651),d=s(84499);function g(){let{t:e}=(0,c.Bd)("workspace"),t=(0,n._)(),{push:s}=(0,d.wK)(),[a,r]=(0,i.useState)(!1),l=(0,o.M)(e=>e.createWorkspace);return{isPending:a,add:async function(){let a,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{name:o,icon:i,instructions:c}=n;r(!0);try{let n=await l({name:null!=o?o:e("workspace-default-name","New Project"),icon:null!=i?i:m(),customPersonality:c});t("ws_create",n.workspaceId,{location:"workspace:useAddWorkspace"}),a=n.workspaceId,s({page:"workspace",workspaceId:n.workspaceId,tab:"attachments"})}finally{r(!1)}return a}}}function m(){let e=(0,r.z)(Object.keys(a.Pt)),t=(0,r.z)(a.Tj);return(0,l.K)({icon:e,color:t})}},61349:(e,t,s)=>{"use strict";s.d(t,{SX:()=>a.S}),s(65047);var a=s(6942)},61495:(e,t,s)=>{"use strict";s.d(t,{P:()=>o});var a=s(79342),n=s(61312),r=s(88382);let o=(0,r.forwardRef)((e,t)=>{let{className:s,onScroll:o,children:c,onUnhookScroll:l,isStreaming:d,stickToBottom:g,onAutoScroll:m,forceScrollToBottom:p,onScrollStop:u}=e,h=(0,r.useRef)(null),f=(0,r.useRef)(null),k=(0,r.useRef)(!1),b=(0,r.useRef)(null),x=(0,r.useCallback)(()=>{(()=>{if(!h.current)return;f.current&&cancelAnimationFrame(f.current);let e=h.current,t=e.scrollTop,s=e.scrollHeight-e.clientHeight,a=s-t;if(a<=0)return;let n=null,r=o=>{if(!e)return;n||(n=o);let i=Math.min((o-n)/400,1);e.scrollTop=t+a*(1-(1-i)*(1-i)),i<1?f.current=requestAnimationFrame(r):(e.scrollTop=s,f.current=null)};f.current=requestAnimationFrame(r)})(),null==u||u()},[u]);(0,r.useEffect)(()=>{p&&x()},[x,p]),(0,r.useEffect)(()=>{let e=h.current;if(!e)return;let t=t=>{k.current=!0;let s=i(e),a=t.deltaY<0?"up":"down";f.current&&(cancelAnimationFrame(f.current),f.current=null),"up"===a&&(null==l||l(s)),null==o||o(s),b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{k.current=!1},100)};return e.addEventListener("wheel",t,{passive:!0}),()=>{e.removeEventListener("wheel",t)}},[o,l]);let w=(0,r.useCallback)(e=>{h.current&&h.current.scrollTo({top:h.current.scrollHeight,behavior:e})},[]);return(0,r.useEffect)(()=>{if(!h.current)return;let e=new MutationObserver(()=>{if(!h.current)return;let e=i(h.current);d&&(g&&!k.current&&x(),null==m||m(e))});return e.observe(h.current,{childList:!0,subtree:!0}),()=>{e.disconnect()}},[d,x,g,m]),(0,r.useImperativeHandle)(t,()=>{var e,t,s;return{scrollToBottom:w,scrollTo:e=>{var t;f.current&&(cancelAnimationFrame(f.current),f.current=null),null==(t=h.current)||t.scrollTo(e)},el:h.current,scrollHeight:null==(e=h.current)?void 0:e.scrollHeight,scrollTop:null==(t=h.current)?void 0:t.scrollTop,clientHeight:null==(s=h.current)?void 0:s.clientHeight}}),(0,a.jsx)("div",{ref:h,className:(0,n.cn)("w-full h-full overflow-y-auto overflow-x-hidden scrollbar-gutter-stable",s),style:{overflowAnchor:"none"},children:c})});function i(e){return e.scrollHeight<e.scrollTop+e.clientHeight+30}},62454:(e,t,s)=>{"use strict";s.d(t,{a:()=>r});var a=s(87891),n=s(88382);let r=e=>{var t;let{content:s}=e,[r,o]=(0,n.useState)(void 0),[i,c]=(0,n.useState)(void 0),[l,d]=(0,n.useState)(!1),g=(0,a.R)(e=>e.handleArtifactSelect);(0,n.useEffect)(()=>{c(void 0)},[s]);let m=(0,n.useCallback)(e=>{var t,s;let{artifact:a}=e,n=(null==r?void 0:r.id)===a.id&&(null==r?void 0:r.versionId)===a.versionId;((null==r?void 0:r.incomplete)||!n)&&g(a),o(a),c(null!=(t=a.content)?t:""),d(null!=(s=a.incomplete)&&s)},[g,r]),p=(0,n.useCallback)(()=>{o(void 0),c("")},[c]);return{activeArtifact:r,content:null!=(t=null!=i?i:s)?t:"",isEditing:l,onSetActiveArtifact:m,onClearActiveArtifact:p}}},62734:(e,t,s)=>{"use strict";s.d(t,{e:()=>g});var a=s(79342),n=s(67591),r=s(39489),o=s(80226),i=s(4878),c=s(11750),l=s(88382),d=s(65146);let g=e=>{let{response:t}=e,{t:s}=(0,d.Bd)("chat"),{ASSET_SERVER_URL:g}=(0,r.v)(),m=t?(0,i.sU)(g,t.imageEditUri):void 0,[p,u]=l.useState(!1),[h,f]=l.useState(!0),k=(0,l.useMemo)(()=>p?Error(s("Failed to load image","Failed to load image")):void 0,[p,s]);return(0,a.jsxs)("div",{className:"h-auto flex items-center rounded-xl gap-2 mt-1.5",children:[(0,a.jsx)(c.Sbc,{className:"text-fg-secondary size-4"}),(0,a.jsxs)("figure",{className:"size-9 overflow-hidden rounded-lg flex items-center justify-center relative",children:[h&&!p&&(0,a.jsx)(o.E,{className:"absolute inset-0 justify-center items-center"}),p?(0,a.jsx)(n.V,{fileName:"",labelClassName:"-ml-2",metadata:k}):(0,a.jsx)("img",{className:"w-full h-full object-cover",src:m,alt:s("Original image to edit","Original image to edit"),onError:()=>u(!0),onLoad:()=>f(!1)})]})]})}},63278:(e,t,s)=>{"use strict";s.d(t,{S:()=>i});var a=s(84499),n=s(67169),r=s(88382),o=s(17703);function i(){let{push:e}=(0,a.wK)(),t=(0,n.B)(e=>e.createMediaPostFromUrl),s=(0,n.B)(e=>e.generateVideoForImage),i=(0,n.B)(e=>e.like);return(0,r.useCallback)(async a=>{let n=await t(a);i(n.id).catch(e=>{(0,o.vV)("imagine-from-media-url:like",e)}),s(n.id,"normal","imagine-from-media-url").catch(e=>{(0,o.vV)("imagine-from-media-url:generateVideoForImage",e)}),e({page:"imagine-post",postId:n.id})},[t,s,i,e])}},64820:(e,t,s)=>{"use strict";s.d(t,{i:()=>g});var a=s(79342),n=s(56691),r=s(61884),o=s(57896),i=s(61312),c=s(11750),l=s(88382),d=s(65146);function g(e){let{url:t,isErrored:s,onDetachUrl:g}=e,{t:m}=(0,d.Bd)("base"),p=(0,l.useCallback)(()=>{t&&g&&g(t)},[t,g]);return(0,a.jsxs)(r.m_,{delayDuration:300,children:[(0,a.jsx)(r.k$,{asChild:!0,children:(0,a.jsxs)("div",{className:(0,i.cn)("flex flex-row items-center rounded-xl px-3 h-10 ","bg-chip text-sm","transition ease-in-out",g&&"pr-1.5",s&&"text-red-400"),children:[(0,a.jsxs)("a",{className:"flex flex-row items-center",href:t,target:"_blank",rel:"noopener noreferrer nofollow",children:[(0,a.jsx)(c.qYV,{className:"!size-4 me-2 shrink-0"}),(0,a.jsx)("span",{className:"truncate max-w-full sm:max-w-[250px]",children:(0,o.TG)(t)})]}),g&&(0,a.jsx)(n.$n,{className:"rounded-full ms-1 p-0.5",variant:"ghost",size:"iconSm","aria-label":m("asset-chip-remove.label","Remove"),onClick:p,children:(0,a.jsx)(c.X,{size:16})})]})}),(0,a.jsx)(r.ZI,{className:"max-w-2xl truncate",side:"bottom",children:t})]})}},64838:(e,t,s)=>{"use strict";s.d(t,{N:()=>i});var a=s(79342),n=s(96534),r=s(61312),o=s(86639);let i=e=>{let{post:t}=e;return(0,a.jsxs)("a",{href:"https://x.com/".concat(t.username,"/status/").concat(t.postId),className:"block p-3 flex-shrink-0 w-80 bg-card h-[136px] border not-prose border-card-border hover:border-card-focus hover:bg-card-hover rounded-3xl group/xpost transition-all !no-underline",target:"_blank",rel:"noopener noreferrer",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center gap-2 w-full min-w-0",children:[(0,a.jsx)("img",{className:(0,r.cn)("size-8 rounded-full bg-important border border-card-border"),src:t.profileImageUrl,alt:"".concat(t.name,"'s profile")}),(0,a.jsxs)("div",{className:"flex flex-col overflow-hidden flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex gap-1 items-center min-w-0",children:[(0,a.jsxs)("div",{className:"flex gap-1 items-center flex-1 min-w-0 leading-tight",children:[(0,a.jsx)("span",{className:"m-0 truncate text-primary font-medium min-w-0",children:t.name}),(0,a.jsx)("span",{className:"text-xs text-secondary shrink-0",children:"\xb7"}),"string"==typeof t.createTime&&(0,a.jsx)(n.S,{className:"text-xs whitespace-nowrap shrink-0",date:new Date(t.createTime||""),noTooltip:!0})]}),(0,a.jsx)(o.A,{className:"mx-1 size-3 text-secondary group-hover/xpost:text-primary transition-all shrink-0"})]}),(0,a.jsxs)("span",{className:"text-xs text-secondary truncate leading-tight",children:["@",t.username]})]})]}),(0,a.jsx)("p",{className:"text-primary text-xs mt-2 line-clamp-3 mb-0",children:t.text})]})}},64868:(e,t,s)=>{"use strict";s.d(t,{f:()=>m});var a=s(79342),n=s(61312),r=s(68541);let o={Fast:"fast",Expert:"expert",Heavy:"heavy",Auto:"auto"},i={Aurora:"aurora",Flux:"flux",Imagine:"imagine"},c={aurora:i.Aurora,flux:i.Flux,imagine:i.Imagine},l={[r.wF.Low]:o.Fast,[r.wF.High]:o.Expert,[r.wF.Auto]:o.Auto};var d=s(11750),g=s(65146);function m(e){var t,s,m;let{response:p,isUser:u,isModerated:h,className:f}=e,{t:k}=(0,g.Bd)();if(u)return null;let b=null==(t=p.requestMetadata)?void 0:t.mode,x=null==(s=p.uiLayout)?void 0:s.effort,w=null;"MODEL_MODE_AUTO"===b?w=x&&!["AUTO","UNSPECIFIED"].includes(x)&&x&&x!==r.wF.Unspecified&&l[x]||null:b&&(w=b);let v=!!w,y=p.imageModel&&(m=p.imageModel)&&c[m.toLowerCase()]||null;return p.partial||v||y||h?(0,a.jsxs)("div",{className:(0,n.cn)("flex items-center gap-2 px-1 text-secondary select-none",f),children:[p.partial&&(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(d.m2P,{size:16}),k("Interrupted","Interrupted")]}),h&&(0,a.jsx)("span",{children:k("Moderated","Moderated")}),v&&(0,a.jsxs)("span",{className:"capitalize",children:[w===o.Fast&&k("model-mode.fast.name","Fast"),w===o.Expert&&k("model-mode.expert.name","Expert"),w===o.Heavy&&k("model-mode.heavy.name","Heavy")]}),y&&(0,a.jsxs)("span",{className:"capitalize",children:[y===i.Aurora&&k("image-model.aurora.name","Aurora"),y===i.Flux&&k("image-model.flux.name","Flux"),y===i.Imagine&&k("image-model.imagine.name","Imagine")]})]}):null}},65047:(e,t,s)=>{"use strict";s.d(t,{QueryClientProvider:()=>o});var a=s(79342),n=s(56907),r=s(6942);let o=e=>{let{children:t,dehydratedState:s}=e,o=(0,r.S)();return(0,a.jsx)(n.Ht,{client:o,children:(0,a.jsx)(n.f,{state:s,children:t})})}},65312:(e,t,s)=>{"use strict";s.d(t,{L8:()=>c,L_:()=>i,Rs:()=>n,YF:()=>o,aT:()=>r,z8:()=>l});var a=s(71540);let n={cell:{sheet:0,col:0,row:0},sheetProperties:{0:{name:"Sheet1",rowCount:256,colCount:26}}},r=a.sj.define({combine:e=>{var t;return null!=(t=e[0])?t:n}}),o=a.sj.define({combine:e=>{var t;return null!=(t=e[0])?t:{cellFromPointer:()=>void 0,scrollToCell:()=>{}}}}),i=new a.xx,c=new a.xx;function l(e){return function(t){let{state:s,dispatch:a}=t,n=s.facet(r);return a(s.update({effects:[i.reconfigure(r.of({...n,...e}))]})),!0}}},65761:(e,t,s)=>{"use strict";s.d(t,{M:()=>d,P:()=>l});var a=s(79342),n=s(93649),r=s(87206),o=s(61312),i=s(83123),c=s(88382);function l(e){let t=new Date(e),s=new Date,a=(s.getTime()-t.getTime())/864e5;return a<1?(0,r.B)((0,i.a)(e,s,{locale:n.A.language})):a<7?(0,r.B)((0,i.a)(e,s,{unit:"day",locale:n.A.language})):t.getFullYear()===s.getFullYear()?t.toLocaleDateString(n.A.language,{day:"numeric",month:"short"}):t.toLocaleDateString(n.A.language,{day:"numeric",month:"short",year:"numeric"})}function d(e){let{conversation:t}=e,s=(0,c.useMemo)(()=>{if(t.modifyTime||t.createTime)return l(t.modifyTime||t.createTime)},[t.modifyTime,t.createTime]);return s?(0,a.jsx)("span",{className:(0,o.cn)("text-secondary text-sm"),children:s}):null}},65912:(e,t,s)=>{"use strict";s.d(t,{T:()=>c});var a=s(5862),n=s(66570),r=s(38541),o=s.n(r),i=s(88382);function c(){let e=(0,i.useRef)(void 0),t=(0,i.useRef)(0),s=(0,i.useRef)([]),r=(0,i.useRef)(void 0),c=(0,i.useRef)(0),[l,d]=(0,i.useState)(void 0),[g,m]=(0,i.useState)(0),[p,u]=(0,i.useState)(0),h=(0,i.useCallback)(a=>{if((0,n.V0)(),void 0==e.current&&(e.current=Date.now()),"Backspace"===a.key&&t.current++,r.current){let e=Date.now()-r.current;s.current.push(e)}r.current=Date.now(),c.current++},[]),f=(0,i.useCallback)(()=>{let t=(0,a.PI)(e.current);return e.current=void 0,Number.isNaN(t)?0:t},[]),k=(0,i.useCallback)(()=>{let e=t.current;return t.current=0,e},[]),b=(0,i.useCallback)(()=>{let e=c.current;return c.current=0,e},[]),x=(0,i.useCallback)(()=>{let e=s.current;return s.current=[],o().mean(e)},[]),w=(0,i.useCallback)(()=>(d(void 0),l),[l]),v=(0,i.useCallback)(()=>{e.current=void 0,t.current=0,s.current=[]},[]),y=(0,i.useCallback)(()=>(m(0),g),[g]);return{handleKeyDown:h,consumeCompositionTimeMs:f,consumeBackspaceCount:k,consumeAvgKeystrokeLatency:x,consumeKeystrokeCount:b,position:l,setPosition:d,consumePosition:w,reset:v,consumeTypeaheadReqCount:y,incrementTypeaheadReqCount:()=>{m(e=>e+1)},consumeSuggestionsShownCount:(0,i.useCallback)(()=>(u(0),p),[p]),incrementSuggestionsShownCount:(0,i.useCallback)(()=>{u(e=>e+1)},[])}}},66408:(e,t,s)=>{"use strict";s.d(t,{Q:()=>r,r:()=>o});var a=s(5862),n=s(88382);function r(){let e=(0,n.useRef)(void 0),t=(0,n.useRef)(void 0),s=(0,n.useCallback)(()=>{e.current=Date.now()},[]),r=(0,n.useCallback)(()=>{t.current=Date.now()},[]);return{handleSendStart:s,handleEditorOpen:r,consumeTimeToSendMs:(0,n.useCallback)(()=>{let t=(0,a.PI)(e.current);return e.current=void 0,t},[]),consumeEditorTimeMs:(0,n.useCallback)(()=>{let e=(0,a.PI)(t.current);return t.current=void 0,e},[]),timeToSendStart:e.current,editorOpenTime:t.current}}let o=e=>e.replace(/^https?:\/\/[^/]+\/?/,"").replace(/\/(original_image|image)\.jpg$/,"")},66587:(e,t,s)=>{"use strict";s.d(t,{_:()=>f});var a=s(79342),n=s(25859),r=s(23232),o=s(17703),i=s(61312),c=s(56096),l=s(11750),d=s(23054),g=s(88382),m=s(65146),p=s(92099),u=s(38614);function h(e){let{use:t,children:s}=e;return t?(0,a.jsx)("div",{className:"flex flex-col gap-1",children:s}):s}function f(e){let{title:t,description:s,conversationId:f,onRetry:k,onContinue:b,onCancel:x,supportUrl:w,className:v}=e,{t:y}=(0,m.Bd)("chat"),[j,{width:N}]=(0,p.A)(),C=(0,r._)();return(0,g.useEffect)(()=>{let e=c.x.getState().bestSubscription,t=u.aP.getState();C("error_response_viewed",void 0,{location:"error-response",subscriptionTier:e||"unknown",modelId:t.activeModelId,modelMode:t.modelMode,conversationId:f||""}),(0,o.N8)("error-response",{type:"error_response_viewed",subscriptionTier:e||"unknown",modelId:t.activeModelId,modelMode:t.modelMode})},[]),(0,a.jsx)("div",{className:(0,i.cn)("w-full max-w-[48rem]"),ref:j,children:(0,a.jsx)(d.P.div,{initial:{translateY:5,opacity:0},animate:{translateY:0,opacity:1},exit:{translateY:5,opacity:0},className:(0,i.cn)("w-fit","p-4 bg-card","shadow-sm","border border-input-border rounded-2xl","ml-4 md:mx-4",v),children:(0,a.jsxs)("div",{className:(0,i.cn)("flex items-center gap-2"),children:[(0,a.jsx)(l.hcu,{className:(0,i.cn)("h-5 w-5 flex-shrink-0 me-1")}),(0,a.jsxs)(h,{use:N>500,children:[(0,a.jsx)("div",{className:(0,i.cn)("text-primary text-sm text-left"),children:t}),s&&(0,a.jsx)("div",{className:(0,i.cn)("text-secondary text-sm",N>500?"block":"hidden"),children:s}),w&&(0,a.jsxs)("div",{className:"text-secondary text-sm",children:[y("Try again or ","Try again or "),(0,a.jsx)("a",{href:w,target:"_blank",rel:"noopener noreferrer",className:(0,i.cn)("text-secondary underline decoration-dotted decoration-secondary/50","underline-offset-4 hover:text-primary"),children:y("Contact Support","Contact Support")})]})]}),(k||x||b)&&(0,a.jsxs)("div",{className:(0,i.cn)("flex items-center gap-2"),children:[x&&(0,a.jsx)(n.$n,{variant:"secondary",shape:"pill",size:"sm",onClick:x,children:y("Cancel","Cancel")}),k&&(0,a.jsxs)(n.$n,{variant:"secondary",shape:"pill",size:"sm",onClick:k,children:[(0,a.jsx)(l.ktO,{className:"me-2 h-4 w-4"}),y("Retry","Retry")]}),b&&(0,a.jsxs)(n.$n,{variant:"secondary",shape:"pill",size:"sm",onClick:b,children:[(0,a.jsx)(l.ktO,{className:"me-2 h-4 w-4"}),y("Continue","Continue")]})]})]})})})}},67153:(e,t,s)=>{"use strict";s.d(t,{L:()=>c});var a=s(91733),n=s(17703),r=s(88382),o=s(59625),i=s(19093);let c=()=>{let[e,t]=(0,o.A)(a.Jt),[s,c]=(0,o.A)(a.X$),{user:l,refreshAnonUser:d}=(0,i.useSession)(),g=(0,r.useCallback)(async()=>{let{privateKey:e,anonUserId:s}=await (0,a.L5)();t(s),c(e),await d(s,e)},[c,t,d]);return(0,r.useCallback)(async()=>{!l&&s&&e&&await d(e,s).catch(()=>{g().catch(e=>{console.error("Failed to initialize session"),(0,n.vV)("maybe-refresh-anon-session",e)})})},[l,s,e,d,g])}},67169:(e,t,s)=>{"use strict";s.d(t,{B:()=>C,_:()=>N});var a=s(17703);class n{constructor(e){this.section_count=0,this.is_kids_mode=!1,this.enable_nsfw=!0,this.skip_upsampler=!1,this.is_initial=!1,this.last_prompt=void 0,Object.assign(this,e)}}function r(e){return{type:"conversation.item.create",timestamp:Date.now(),item:{type:"message",content:[e]}}}function o(e,t){return r({requestId:crypto.randomUUID(),text:e,type:"input_scroll",properties:t})}function i(e,t){(0,a.iu)(e,void 0,{location:"imagine-websocket",...t})}class c{setEnableWebSocketConsoleLogging(e){this.enableWebSocketConsoleLogging=e}debugLog(e){var t,s,a,n,r;if(!this.enableWebSocketConsoleLogging)return;let o=null!=(s=null==(t=e.requestId)?void 0:t.slice(0,5))?s:"";o&&(o="["+o+"]"),console.log("WS[".concat(null!=(a=({connect:"\uD83D\uDD17",disconnect:"❌",error:"\uD83D\uDEA8",send:"\uD83D\uDD3A",receive:"\uD83D\uDCE5"})[e.event])?a:e.event," ").concat(null!=(r=null!=(n=({input_text:"\uD83D\uDCDD",input_scroll:"⏬",update_session:"\uD83D\uDD04",reset:"\uD83C\uDFC1",error:"\uD83D\uDEA8",json:"{}",image:"\uD83D\uDDBC️"})[e.type])?n:e.type)?r:""," ] ").concat(o," ").concat(e.message))}establishConnection(){this.reconnect()}failAllOnDisconnect(){if(this.requests.size>0){for(let t of this.requests.keys()){var e;null==(e=this.finishedCallbacks.get(t))||e()}i("image_feed_websocket_server_error",{code:"unknown",message:"disconnected while processing request"})}this.reset()}reconnect(){if(this.socket&&(this.socket.readyState===WebSocket.OPEN||this.socket.readyState===WebSocket.CONNECTING))return;this.connectionCount>0&&i("image_feed_websocket_connect_reconnecting");let e=Date.now();this.connectionCount++,this.socket=new WebSocket(function(){let e=window.location.host;return e.startsWith("localhost")?"ws://localhost:26000/ws/imagine/listen":e.includes("mouseion.dev")?"wss://grok-api.gcp.mouseion.dev/ws/imagine/listen":"wss://grok.com/ws/imagine/listen"}()),i("image_feed_websocket_connect_start_fixed"),this.socket.addEventListener("open",()=>{let t=Date.now()-e;this.debugLog({event:"connect",message:"connected "+t+"ms"}),i("image_feed_websocket_connect_success"),this.flushSendQueue(),this.checkRequestTimeoutsInterval=setInterval(()=>{this.checkRequestTimeouts()},1e3)}),this.socket.addEventListener("close",()=>{this.checkRequestTimeoutsInterval&&(clearInterval(this.checkRequestTimeoutsInterval),this.checkRequestTimeoutsInterval=null)}),this.socket.addEventListener("close",()=>{this.debugLog({event:"disconnect",message:"disconnected"}),this.failAllOnDisconnect(),i("image_feed_websocket_connect_disconnected")}),this.socket.addEventListener("message",e=>{var t,s,a,n,r,o,c;let l,d=JSON.parse(e.data),g=d.request_id,m=d.order;this.requestLastResponseTime.set(g,Date.now());let p=this.requests.get(g);if(this.debugLog((l=(l=null!=(c=null!=(o=d.full_prompt)?o:d.prompt)?c:"").slice(0,120),d.percentage_complete&&(l="("+d.percentage_complete+"%) "+l),d.moderated&&(l="\uD83D\uDEAB "+l),void 0!==d.order&&(l="["+d.order+"] "+l),{event:"receive",requestId:d.request_id,type:d.type,message:l})),"error"===d.current_status&&i("image_feed_image_generation_error"),"error"===d.type){i("image_feed_websocket_server_error",{code:d.err_code||"unknown",message:d.err_message||"unknown"}),"image_query_rejected"==d.err_code&&(i("image_feed_rate_limited"),null==(t=this.onErrorCallback)||t.call(this,d.err_code,null!=(s=d.err_message)?s:"")),"rate_limit_exceeded"==d.err_code&&(i("image_feed_query_rejected"),null==(a=this.onErrorCallback)||a.call(this,d.err_code,null!=(n=d.err_message)?n:"")),this.finishRequest(g);return}d.moderated&&i("image_feed_image_moderated"),p&&(p[m]||i("image_feed_image_generation_started"),p[m]={...p[m],...d},p[m]&&(null==(r=this.updateCallbacks.get(g))||r(p[m])),"completed"!==d.current_status||p[m].completed_event_sent||(p[m].completed_event_sent=!0,i("image_feed_image_generated")),p.every(e=>"completed"===e.current_status)&&this.finishRequest(g))}),this.socket.addEventListener("error",()=>{i("image_feed_websocket_connect_error")})}finishRequest(e){var t;null==(t=this.finishedCallbacks.get(e))||t(),this.requests.delete(e),this.updateCallbacks.delete(e),this.finishedCallbacks.delete(e),this.requestLastResponseTime.delete(e)}checkRequestTimeouts(){let e=Date.now();this.requestLastResponseTime.forEach((t,s)=>{if(e-t>3e4){var a;null==(a=this.finishedCallbacks.get(s))||a(),this.requests.delete(s),this.updateCallbacks.delete(s),this.finishedCallbacks.delete(s),this.requestLastResponseTime.delete(s)}})}currentProperties(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new n({is_initial:e})}flushSendQueue(){this.isConnected()&&(this.sendQueue.forEach(e=>this.send(JSON.parse(e))),this.sendQueue=[])}isConnected(){var e;return(null==(e=this.socket)?void 0:e.readyState)===WebSocket.OPEN}send(e,t,s){var a,n,r,o,i,c,l,d,g,m,p,u,h,f,k,b,x,w,v,y,j,N,C,S,I,T,E,R,A,_;let O=null==(r=e.item)||null==(n=r.content)||null==(a=n[0])?void 0:a.requestId;if(O){if(this.requests.set(O,[]),t){this.updateCallbacks.set(O,t);let s=6;(null==(l=e.item)||null==(c=l.content)||null==(i=c[0])||null==(o=i.properties)?void 0:o.is_initial)&&(s=4);for(let a=0;a<s;a++)t({type:"json",input_type:null==(m=e.item)||null==(g=m.content)||null==(d=g[0])?void 0:d.type,current_status:"start_stage",order:a,request_id:O,id:O+"-"+a})}s&&this.finishedCallbacks.set(O,s)}if(this.isConnected()){let t;this.debugLog((t=(null!=(_=null!=(A=null==(f=e.item)||null==(h=f.content)||null==(u=h[0])?void 0:u.text)?A:null==(w=e.item)||null==(x=w.content)||null==(b=x[0])||null==(k=b.properties)?void 0:k.last_prompt)?_:"").slice(0,120),(null==(N=e.item)||null==(j=N.content)||null==(y=j[0])||null==(v=y.properties)?void 0:v.is_initial)&&(t="⭐️ "+t),{event:"send",requestId:null==(I=e.item)||null==(S=I.content)||null==(C=S[0])?void 0:C.requestId,type:null==(R=e.item)||null==(E=R.content)||null==(T=E[0])?void 0:T.type,message:t})),null==(p=this.socket)||p.send(JSON.stringify(e))}else this.sendQueue.push(JSON.stringify(e)),this.reconnect()}fetch(e,t,s){return new Promise((i("image_feed_text_sent"),t)?a=>{this.switchContext(e),this.send(o(e,this.currentProperties(t)),s,()=>{a(!0)})}:t=>{var a;this.send((a=this.currentProperties(),r({requestId:crypto.randomUUID(),text:e,type:"input_text",properties:a})),s,()=>{t(!0)})})}switchContext(e){this.send(r({type:"update_session",properties:{...this.currentProperties(),last_prompt:e}}))}fetchMore(e,t){return i("image_feed_load_more_images"),new Promise(s=>{this.send(o(e,this.currentProperties()),t,()=>{s(!0)})})}reset(){this.requests.clear(),this.isConnected()&&this.send(r({type:"reset"})),this.updateCallbacks.clear(),this.finishedCallbacks.clear(),this.requestLastResponseTime.clear(),this.sendQueue=[],this.requests.clear()}constructor(e){this.socket=null,this.requests=new Map,this.updateCallbacks=new Map,this.finishedCallbacks=new Map,this.requestLastResponseTime=new Map,this.sendQueue=[],this.checkRequestTimeoutsInterval=null,this.connectionCount=0,this.enableWebSocketConsoleLogging=!1,this.onErrorCallback=e}}class l{getProgress(){let e=Date.now()/1e3,t=this.x+this.v*(e-this.lastTime);return 100*(t=Math.max(0,Math.min(1,t)))}update(e){let t=Date.now()/1e3,s=t-this.lastTime;if(s<=0)return;let a=this.x+this.v*s,n=e/100-a;this.x=a+this.alpha*n,this.v+=this.beta*n/s,this.v=Math.max(0,this.v),this.x=Math.max(0,Math.min(1,this.x)),this.lastTime=t}constructor(e,t,s){if(e<0||e>1)throw Error("Alpha must be between 0 and 1");if(t<0||t>1)throw Error("Beta must be between 0 and 1");this.alpha=e,this.beta=t,this.x=0,this.v=s>0?1/s:0,this.lastTime=Date.now()/1e3}}var d=s(65258),g=s(95158),m=s(98585),p=s(1509),u=s(92554),h=s(38541),f=s.n(h),k=s(6132);function b(e,t){(0,a.iu)(e,void 0,{location:"imagine-media-store",...t})}function x(e){var t,s,a,n,r;return{id:"".concat(e.request_id,"-").concat(e.order),itemId:e.id,mediaUrl:null!=(t=e.url)?t:"",prompt:null!=(s=e.full_prompt)?s:"",originalPrompt:null!=(a=e.prompt)?a:"",blobSrc:e.blob?"data:image/jpeg;base64,"+e.blob:void 0,isGenerated:!0,progress:null!=(n=e.percentage_complete)?n:0,mediaType:m.ik.MediaPostTypeImage,moderated:null!=(r=e.moderated)&&r}}let w=k.z.object({id:k.z.string(),mediaUrl:k.z.string()}).passthrough(),v=(e,t)=>!!t.progress-!!e.progress;class y{constructor(e,t){var s=this;this.set=e,this.get=t,this.promiseById={},this.byId={},this.favoritesById={},this.list=[],this.favoritesList=[],this.favoritedInApp=[],this.listPromiseByQuery={},this.nextPageCursorByQuery={},this.imageStreamById={},this.videoByMediaId={},this.globalVideoProgress={progress:100,numberOfVideosInProgress:0},this.smoothedVideoProgress={},this.byPrompt={},this.postPageSections={},this.homeGenPrompts=[],this.firstFetchStatus={},this.lastSwitchContext=null,this.videoGenModerated=!1,this.requestRateLimited=!1,this.requestRejected=!1,this.errorClearTimeout=null,this.connectWebSocket=()=>{var e;null==(e=this.imageGenSessions)||e.establishConnection()},this.setEnableWebSocketConsoleLogging=e=>{var t;null==(t=this.imageGenSessions)||t.setEnableWebSocketConsoleLogging(e)},this.pushPostPageSection=(e,t)=>{this.set(s=>(0,u.jM)(s,s=>{s.postPageSections[e]=[...s.postPageSections[e]||[""],t]}))},this.pushHomeGenPrompt=e=>{this.set(t=>(0,u.jM)(t,t=>{t.homeGenPrompts=[...t.homeGenPrompts||[],e]}))},this.clearHomeGenPrompts=()=>{this.set(e=>(0,u.jM)(e,e=>{e.homeGenPrompts=[]}))},this.setImageDimensions=(e,t,s)=>{let a=this.get(),n=a.byId[e]||a.favoritesById[e];n&&(n.width!==t||n.height!==s)&&this.set(a=>(0,u.jM)(a,a=>{a.byId[e]&&(a.byId[e].width=t,a.byId[e].height=s),a.favoritesById[e]&&(a.favoritesById[e].width=t,a.favoritesById[e].height=s)}))},this.switchContext=e=>{var t;this.lastSwitchContext!==e&&(this.lastSwitchContext=e,null==(t=this.imageGenSessions)||t.switchContext(e))},this.fetchImageGen=async(e,t,s,a)=>{var n;this.lastSwitchContext=null;let r=null!=s?s:e;this.set(e=>(0,u.jM)(e,e=>{e.firstFetchStatus[r]="loading"}));let o=await (null==(n=this.imageGenSessions)?void 0:n.fetch(e,t,e=>{let t=x(e);(!a||a(t,void 0===this.byId[t.id]))&&(this.upsertMediaPost(t),this.upsertByPrompt(r,t))}));return this.set(e=>(0,u.jM)(e,e=>{e.firstFetchStatus[r]="complete"})),null!=o&&o},this.fetchImageGenMore=async(e,t,s)=>{var a;let n=await (null==(a=this.imageGenSessions)?void 0:a.fetchMore(e,a=>{let n=x(a);(!s||s(n,void 0===this.byId[n.id]))&&(this.upsertMediaPost(n),this.upsertByPrompt(null!=t?t:e,n))}));return null!=n&&n},this.resetImageGen=()=>{var e;b("image_feed_reset"),null==(e=this.imageGenSessions)||e.reset(),this.set(e=>(0,u.jM)(e,e=>{Object.values(e.byPrompt).flatMap(e=>e.map(e=>e.id)).forEach(t=>{delete e.byId[t]}),e.byPrompt={},e.firstFetchStatus={},e.postPageSections={},e.homeGenPrompts=[]})),N.getState().reset(),this.lastSwitchContext=null},this.upsertByPrompt=(e,t)=>{this.set(s=>(0,u.jM)(s,s=>{let a=!1;s.byPrompt[e]=(s.byPrompt[e]||[]).map(e=>e.id===t.id?(a=!0,t):e).sort(v),a||(s.byPrompt[e]=[...s.byPrompt[e]||[],t].sort(v))}))},this.upsertMediaPost=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s.set(t=>(0,u.jM)(t,t=>{var s;t.byId[e.id]=e,t.videoByMediaId[e.id]=(null!=(s=e.childPosts)?s:[]).filter(e=>"MEDIA_POST_TYPE_VIDEO"===e.mediaType).sort((e,t)=>{var s,a;return new Date(null!=(s=e.createTime)?s:"")>new Date(null!=(a=t.createTime)?a:"")?1:-1}).map(e=>({...e,progress:100}))})),e.originalPost&&!t&&s.upsertMediaPost(w.parse(e.originalPost),!0)},this.upsertChildMediaPost=e=>{this.set(t=>(0,u.jM)(t,t=>{var s;t.videoByMediaId[e.id]=(null!=(s=e.childPosts)?s:[]).filter(e=>"MEDIA_POST_TYPE_VIDEO"===e.mediaType).sort((e,t)=>{var s,a;return new Date(null!=(s=e.createTime)?s:"")>new Date(null!=(a=t.createTime)?a:"")?1:-1}).map(e=>({...e,progress:100}))}))},this.appendMediaPostsBySource={[m.ZW.MediaPostSourcePublic]:(0,d.BC)(this.set,"byId","id"),[m.ZW.MediaPostSourceInvalid]:(0,d.BC)(this.set,"byId","id"),[m.ZW.MediaPostSourceLiked]:(0,d.BC)(this.set,"favoritesById","id")},this.idsertListPromiseByQuery=(0,d.q5)(this.set,"listPromiseByQuery"),this.idsertPromiseById=(0,d.q5)(this.set,"promiseById"),this.idsertNextPageCursorByQuery=(0,d.q5)(this.set,"nextPageCursorByQuery"),this.upsertImageStreamById=(0,d.el)(this.set,"imageStreamById","id"),this.fetchListMediaPosts=e=>{let t=this.get(),s=(0,m.KQ)(e),n=JSON.stringify(s),r={filter:s,limit:40,cursor:t.nextPageCursorByQuery[n]},o=JSON.stringify(r),i=t.listPromiseByQuery[o];if(i)return i;let c=g.LL.mediaListMediaPosts({body:r}).then(e=>(e.nextCursor&&t.idsertNextPageCursorByQuery(e.nextCursor,n),e.posts)?f().compact(e.posts.map(e=>{let t=w.safeParse(e);return t.success?t.data:null})):[]);return t.idsertListPromiseByQuery(c,o),c.then(s=>{var a;t.appendMediaPostsBySource[null!=(a=e.source)?a:m.ZW.MediaPostSourcePublic](s),s.forEach(e=>t.upsertChildMediaPost(e))}).catch((0,a.HX)("fetchListMediaPosts")),c},this.fetchMediaPost=e=>{let t=this.get();if(t.byId[e])return Promise.resolve(t.byId[e]);if(t.favoritesById[e])return Promise.resolve(t.favoritesById[e]);if(t.promiseById[e])return t.promiseById[e];let s=g.LL.mediaGetMediaPost({body:{id:e}}).then(e=>e.post).then(w.parse).then(e=>(this.upsertMediaPost(e),e));return t.idsertPromiseById(s,e),s.then(e=>(this.upsertMediaPost(e),e)).catch((0,a.HX)("fetchMediaPost")),s},this.createMediaPostFromUrl=e=>g.LL.mediaCreateMediaPost({body:{mediaUrl:e,mediaType:m.ik.MediaPostTypeImage}}).then(e=>e.post).then(w.parse).then(e=>(this.upsertMediaPost(e),e)),this.resolveMediaPostForMaybeGenerated=e=>{if(!e)return Promise.resolve(void 0);let t=this.get();return e.isGenerated?e.mediaPostId&&t.byId[e.mediaPostId]?Promise.resolve(t.byId[e.mediaPostId]):g.LL.mediaCreateMediaPost({body:{mediaUrl:e.mediaUrl,mediaType:m.ik.MediaPostTypeImage}}).then(e=>e.post).then(w.parse).then(t=>(t.prompt=e.prompt,this.upsertMediaPost(t),this.set(s=>(0,u.jM)(s,s=>{let a=e.id,n=t.id;a&&s.byId[a]&&n&&(s.byId[a].mediaPostId=n)})),t)):Promise.resolve(e)},this.like=e=>{var t;let s=this.get().byId[e];return s&&(null==(t=s.userInteractionStatus)?void 0:t.likeStatus)!==!0?this.resolveMediaPostForMaybeGenerated(s).then(t=>{let s=(null==t?void 0:t.id)||e;return this.set(t=>(0,u.jM)(t,t=>{t.byId[s]&&(t.byId[s].userInteractionStatus={likeStatus:!0},t.byId[e]&&(t.byId[e].userInteractionStatus={likeStatus:!0}),t.promiseById[s]=Promise.resolve(t.byId[s]),t.favoritesById[s]=t.byId[s],-1===t.favoritedInApp.indexOf(s)&&t.favoritedInApp.push(s))})),s}).then(e=>g.LL.mediaLike({body:{id:e}})).then(()=>{}):Promise.resolve()},this.unlike=e=>{let t=this.get(),s=t.byId[e]||t.favoritesById[e];return s?this.resolveMediaPostForMaybeGenerated(s).then(t=>{let s=(null==t?void 0:t.id)||e;return this.set(t=>(0,u.jM)(t,t=>{t.byId[s]&&(t.byId[s].userInteractionStatus={likeStatus:!1},t.promiseById[s]=Promise.resolve(t.byId[s])),t.byId[e]&&(t.byId[e].userInteractionStatus={likeStatus:!1}),t.favoritesById[s]&&(t.favoritedInApp=t.favoritedInApp.filter(e=>e!==s),delete t.favoritesById[s]),t.favoritesById[e]&&delete t.favoritesById[e]})),s}).then(e=>g.LL.mediaUnlike({body:{id:e}})).then(()=>{}):Promise.resolve()},this.generateVideoForImage=async(e,t,s)=>{for(let a=0;a<3;a++){let n=a+1;try{let a=await this._runGenerateVideoForImage(e,t,n,s);if("error_try_again"===a)continue;return}catch(i){let e,a="Unknown",r="Unknown",o="Unknown";i instanceof Error?(e=i.message,a=i.name,r=i.cause?String(i.cause):"",o=i.stack?i.stack:""):e="string"==typeof i?i:String(i),b("image_feed_video_generation_error",{message:e,error:a,cause:r,stack:o,attempt:String(n),location:s,mode:t})}}},this._runGenerateVideoForImage=async(e,t,s,n)=>{let r,o=this.get().byId[e]||this.get().favoritesById[e];if(!o||!(o=await this.resolveMediaPostForMaybeGenerated(o)))return;this.like(e).catch((0,a.HX)("generateVideoForImage"));let i=o.id,c=String(Date.now()+Math.random());this.set(t=>(0,u.jM)(t,t=>{t.videoByMediaId[i]||(t.videoByMediaId[i]=[]),t.videoByMediaId[i].push({videoId:c,progress:0}),e!==i&&(t.videoByMediaId[e]||(t.videoByMediaId[e]=[]),t.videoByMediaId[e].push({videoId:c,progress:0}))}));let d=o.mediaUrl.split("/").filter(e=>e.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/i)).map(e=>e.slice(0,36)).pop();b("imagine_video_gen_start",{location:n,mode:t});let{raw:m}=await g.chatApi.chatCreateConversationAndRespondRaw({body:{fileAttachments:[d||o.mediaUrl],modelName:"grok-3",temporary:!0,message:"".concat(o.mediaUrl," --mode=").concat(t),toolOverrides:{videoGen:!0}}}),h=(0,p.M)(m),f=new l(.08,.1,16),k=setInterval(()=>{this.set(e=>(0,u.jM)(e,e=>{let t=f.getProgress();e.smoothedVideoProgress[i]=t}))},100),x=-1,w=!1,v="";try{for await(let t of h){var y,j;let s=null==(y=t.result)?void 0:y.response;(null==s||null==(j=s.modelResponse)?void 0:j.message)&&(v=s.modelResponse.message);let a=null==s?void 0:s.streamingVideoGenerationResponse;a&&(a.moderated&&(w=!0),a.progress&&a.progress>x&&(f.update(a.progress),x=a.progress),this.set(t=>(0,u.jM)(t,t=>{var s,n,r,o;let l=null!=(n=null==(s=t.videoByMediaId[e])?void 0:s.findIndex(e=>e.videoId===a.videoId||e.videoId===c))?n:-1;if(t.videoByMediaId[e]&&l>-1&&(t.videoByMediaId[e][l]=a),e!==i){let e=null!=(o=null==(r=t.videoByMediaId[i])?void 0:r.findIndex(e=>e.videoId===a.videoId||e.videoId===c))?o:-1;t.videoByMediaId[i]&&e>-1&&(t.videoByMediaId[i][e]=a)}})))}}catch(c){let e,a="Unknown",o="Unknown",i="Unknown";c instanceof Error?(e=c.message,a=c.name,o=c.cause?String(c.cause):"",i=c.stack?c.stack:""):e="string"==typeof c?c:String(c),b("image_feed_video_generation_error",{error:a,message:e,cause:o,stack:i,attempt:String(s),location:n,mode:t}),r="error_try_again"}return(!v.toLowerCase().includes("i generated a video")||w)&&b("image_feed_video_gen_other_error",{message:v,moderated:w.toString()}),w&&b("image_feed_video_generation_moderated",{message:v}),w&&(this.set(e=>(0,u.jM)(e,e=>{e.videoGenModerated=!0})),setTimeout(()=>{this.set(e=>(0,u.jM)(e,e=>{e.videoGenModerated=!1}))},3e3)),clearInterval(k),this.set(e=>(0,u.jM)(e,e=>{delete e.smoothedVideoProgress[i]})),r},this.fetchGenerateImages=async e=>{let{prompt:t,onImageStreamOptimistic:s,onImageStreamStart:a,onImageStreamUpdate:n,env:r}=e;s([{id:"optimistic"+Math.random(),mediaUrl:"",progress:0},{id:"optimistic"+Math.random(),mediaUrl:"",progress:0},{id:"optimistic"+Math.random(),mediaUrl:"",progress:0},{id:"optimistic"+Math.random(),mediaUrl:"",progress:0}]);let{raw:o}=await g.chatApi.chatCreateConversationAndRespondRaw({body:{modelName:"grok-3",temporary:!0,message:"".concat(t?" ".concat(t):""),toolOverrides:{imageGen:!0},responseMetadata:{modelConfigOverride:{modelMap:{imageGenModel:"imagine"}}},...S}});for await(let e of(0,p.M)(o)){var i;let s=null==(i=e.result)?void 0:i.response;if(!s)continue;let{streamingImageGenerationResponse:o}=s;if(o){let{imageId:e,imageUrl:s,progress:i}=o;if(e&&s&&i){let c=this.get(),l={...o,id:e,mediaUrl:"".concat(r.ASSET_SERVER_URL,"/").concat(s),progress:i,prompt:null!=t?t:"",isGenerated:!0};c.imageStreamById[e]?n(l):a(l),c.upsertImageStreamById(l),c.upsertMediaPost(l)}}}},this.imageGenSessions=new c((e,t)=>{this.set(t=>(0,u.jM)(t,t=>{t.requestRateLimited="rate_limit_exceeded"==e||t.requestRateLimited,t.requestRejected="image_query_rejected"==e||t.requestRejected})),this.errorClearTimeout&&clearTimeout(this.errorClearTimeout),this.errorClearTimeout=setTimeout(()=>{this.set(e=>(0,u.jM)(e,e=>{e.requestRateLimited=!1,e.requestRejected=!1}))},4e3)})}}class j{constructor(e,t){this.set=e,this.get=t,this.scrollPositionByPageId={},this.positionerByKey={},this.positionerLastItemCount={},this.getScrollPosition=e=>{var t;return null!=(t=this.get().scrollPositionByPageId[e])?t:0},this.getPositioner=(e,t)=>{var s;return t<(null!=(s=this.get().positionerLastItemCount[e])?s:0)?void this.set(()=>({positionerByKey:{...this.get().positionerByKey,[e]:void 0}})):(this.set(()=>({positionerLastItemCount:{...this.get().positionerLastItemCount,[e]:t}})),this.get().positionerByKey[e])},this.setPositioner=(e,t,s)=>{this.set(()=>({positionerByKey:{...this.get().positionerByKey,[e]:t}})),"number"==typeof s?this.set(()=>({positionerLastItemCount:{...this.get().positionerLastItemCount,[e]:s}})):this.set(()=>({positionerLastItemCount:{...this.get().positionerLastItemCount,[e]:0}}))},this.reset=()=>{this.set(()=>({scrollPositionByPageId:{},positionerByKey:{},positionerLastItemCount:{}}))}}}let N=(0,d.y$)(j,"useScrollStore"),C=(0,d.y$)(y,"useMediaStore");(0,d.lB)(C,"byId","list",e=>Object.values(e).filter(e=>!e.isGenerated)),(0,d.lB)(C,"smoothedVideoProgress","globalVideoProgress",e=>{var t;let s=Object.values(e).filter(e=>"number"==typeof e&&e<100);return{progress:null!=(t=Math.max(...s))?t:100,numberOfVideosInProgress:s.length}}),(0,d.lB)(C,"favoritesById","favoritesList",e=>{let{favoritedInApp:t}=C.getState(),s=new Set(t),a=Object.values(e).filter(e=>!s.has(e.id));return[...t.slice().reverse().map(t=>e[t]).filter(e=>void 0!==e),...a]});let S={enableImageGeneration:!0,returnImageBytes:!1,returnRawGrokInXaiRequest:!1,enableImageStreaming:!0,imageGenerationCount:2,forceConcise:!1,enableSideBySide:!0,sendFinalMetadata:!0,isReasoning:!1,disableTextFollowUps:!0,disableMemory:!1,forceSideBySide:!1}},67548:(e,t,s)=>{"use strict";s.d(t,{o:()=>o});var a=s(79342),n=s(57896),r=s(65146);let o=e=>{let{url:t,query:s}=e;return(0,a.jsx)(r.x6,{ns:"chat",i18nKey:"super-search-box-step.browse-page",defaults:'Browsing <site>{{url}}</site> for <bold>"{{query}}"</bold>',values:{url:(0,n.TG)(t),query:s},components:{site:(0,a.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer nofollow"}),bold:(0,a.jsx)("strong",{})}})}},67591:(e,t,s)=>{"use strict";s.d(t,{V:()=>l});var a=s(79342),n=s(38614),r=s(4878),o=s(74995),i=s(88382),c=s(51375);function l(e){let{fileName:t,metadata:s,localFile:l,onClick:d,onRemove:g,isPrivate:m,isDisabled:p,removeRequiresConfirmation:u,isDeleted:h,asset:f,labelClassName:k,hideEdit:b,allowCompact:x,variant:w}=e,[v,y]=(0,i.useState)(!u),j=(0,n.aP)(o.A("sidePanelContent")),N=(0,n.aP)(o.A("setSidePanelContent")),C=void 0===s,S=s instanceof Error,I=(0,i.useMemo)(()=>{if(!C&&!S){var e,t=s;let a=null==(e=t.thirdPartyFileMimeType)?void 0:e.toLowerCase();if(a){if(a.includes(r.af))return"https://docs.google.com/document/d/".concat(t.thirdPartyFileId);if(a.includes(r.fJ))return"https://docs.google.com/spreadsheets/d/".concat(t.thirdPartyFileId);if(a.includes(r.fs))return"https://docs.google.com/presentation/d/".concat(t.thirdPartyFileId);if([r.k9,r.Ap,r.lF,r.$H,r.SL,r.a7].some(e=>a.includes(e)))return"https://onedrive.live.com/view.aspx?resid=".concat(t.thirdPartyFileId)}return}},[S,C,s]),T=(0,i.useCallback)(()=>{I&&window.open(I,"_blank","noopener,noreferrer")},[I]),E=(0,i.useCallback)(e=>{e.stopPropagation(),v?null==g||g(null==f?void 0:f.assetId):y(!0)},[g,v,f]),R=!!g&&!p,A=(0,i.useMemo)(()=>!C&&!S&&(null==j?void 0:j.type)==="asset"&&j.data.fileMetadataId===s.fileMetadataId,[C,S,j,s]),_=(0,i.useCallback)(()=>{if(!h&&!p&&!m&&!C&&!S){if(d)return void d(f);if(I)return void T();if(A)return void N(void 0);N({type:"asset",data:s,hideEdit:b})}},[A,p,s,d,m,C,S,f,N,b,T,I,h]);return(0,a.jsx)(c.Q,{fileName:t,localFile:l,metadata:s,isPrivate:m,isDisabled:p||h,isFileSelected:A,showRemoveIcon:R,handleClick:_,handleRemove:E,isDeleted:h,showTrashRemoveIcon:u&&v,labelClassName:k,variant:w,allowCompact:x})}},69358:(e,t,s)=>{"use strict";s.d(t,{P:()=>n});var a=s(88382);function n(e){let{children:t,delayMs:s=200}=e,[n,r]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=setTimeout(()=>{r(!0)},s);return()=>{clearTimeout(e)}},[s]),n?t:null}},69458:(e,t,s)=>{"use strict";s.d(t,{B4:()=>d,cY:()=>u,cy:()=>n,fH:()=>o,gq:()=>i,j$:()=>k,o0:()=>p,rv:()=>g,s3:()=>b});var a=s(88382);let n=e=>{let{iframeRef:t}=e,[s,n]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=()=>n(!0),s=t.current;if(s)return s.addEventListener("load",()=>n(!0)),()=>{s.removeEventListener("load",e)}},[t,n]),{isIframeReady:s,injectHTML:(0,a.useCallback)(e=>{var s;(null==(s=t.current)?void 0:s.contentWindow)&&t.current.contentWindow.postMessage({type:"html",html:e},"https://artifacts.grokusercontent.com")},[t])}},r=["text/x-python","text/python"];function o(e){var t;return r.includes(null!=(t=e.contentType)?t:"")}function i(e){var t;return o(e)&&(null==(t=e.content)?void 0:t.includes("import pygame"))}let c=["text/x-tex","text/x-latex","text/latex","text/x"],l=["text/cpp","text/c","text/x-c++src","text/javascript","text/typescript","text/bash",...c,"text/x-sh",...r];function d(e){var t;return!i(e)&&l.includes(null!=(t=e.contentType)?t:"")}function g(e){var t;return c.includes(null!=(t=e.contentType)?t:"")}let m=["text/html"];function p(e){return m.includes(h(e))}function u(e){var t;let s=h(e);return null!=(t=s.split("/")[1])?t:s}function h(e){var t,s;return null!=(s=null==(t=e.contentType)?void 0:t.split(";")[0])?s:""}let f=["text/plain","text/markdown","text/html"];function k(e,t){let s=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return!!(t.ENABLE_LATEX_PREVIEW&&s&&g(e))||f.includes(h(e))}function b(e){var t,s;return null!=(s=null==(t=e.contentType)?void 0:t.includes("report"))&&s}},69580:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var a=s(79342),n=s(39489),r=s(61312),o=s(88382),i=s(69458),c=s(52542);let l="https://artifacts.grokusercontent.com";function d(e){let{srcDoc:t,autofocus:s,className:d,iframeRef:g,disableConsole:m,messageHandlers:p}=e,[u,h]=(0,o.useState)(!1),{nonce:f}=(0,n.v)(),k=(0,o.useRef)(null),b=null!=g?g:k,x=(0,o.useRef)(null),{isIframeReady:w,injectHTML:v}=(0,i.cy)({iframeRef:b});return(0,o.useEffect)(()=>{var e;v(t),null==(e=x.current)||e.reset()},[w,t]),(0,o.useEffect)(()=>{let e=e=>{var t,s;if(e.origin!==l)return;let a=null;try{if(!(a=JSON.parse(e.data)))return}catch(e){return}"console_message"===a.type&&(null==(t=x.current)||t.addMessage({type:a.level,message:a.message})),p&&(null==(s=p[a.type])||s.call(p,a))};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[p]),(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsx)("div",{className:(0,r.cn)("flex flex-col flex-1",u?"pointer-events-none":""),children:(0,a.jsx)("iframe",{className:(0,r.cn)("w-full flex-1",d),sandbox:"allow-scripts allow-same-origin",src:l,ref:b,nonce:f,onLoad:()=>{if(s){var e,t;null==(t=b.current)||null==(e=t.contentWindow)||e.focus()}}})}),m?void 0:(0,a.jsx)(c.C,{ref:x,onMouseCaptured:h})]})}},69630:(e,t,s)=>{"use strict";s.d(t,{OO:()=>eJ,Ad:()=>e4,Cn:()=>e9,Sw:()=>tt});var a=s(79342),n=s(60078),r=s(38074),o=s(70697),i=s(56691),c=s(91772),l=s(80226);let d=["www.archives.gov"],g=[".pdf"];var m=s(48589),p=s(75500),u=s(23232),h=s(88382);let f=e=>{var t,s,a;let n=e[e.length-1];if(">"===n||"]"===n||")"===n||"}"===n)return e.length;let r=-1;(null!=(t=e.match(/\*\*/g))?t:[]).length%2==1&&(r=e.lastIndexOf("**"));let o=-1;if((null!=(s=e.match(RegExp("(?<!\\*)\\*(?!\\*)","g")))?s:[]).length%2==1){let t=-1;for(let s=e.length-1;s>=0;s--)if("*"===e[s]&&"*"!==e[s-1]&&"*"!==e[s+1]){t=s;break}o=t}let i=-1;if((null!=(a=e.match(RegExp("(?<!_)_(?!_)","g")))?a:[]).length%2==1){let t=-1;for(let s=e.length-1;s>=0;s--)if("_"===e[s]&&(0===s||"_"!==e[s-1])&&(s===e.length-1||"_"!==e[s+1])){t=s;break}i=t}let c=-1,l=e.lastIndexOf("[](");l>e.lastIndexOf(")")&&(c=l);let d=-1,g=e.lastIndexOf("\\[");g>e.lastIndexOf("]")&&(d=g);let m=-1,p=e.lastIndexOf("\\(");p>e.lastIndexOf("\\)")&&(m=p);let u=-1,h=e.lastIndexOf("\n"),f=e.substring(h).trim();(f.startsWith("-")||0===f.length)&&(u=h);let k=-1;/^\d+\.?/.test(f)&&(k=h);let b=-1,x=e.lastIndexOf("</grok-card>");x>-1&&(b=x+12);let w=[r,o,i,d,m,u,k,c].filter(t=>-1!==t&&t>e.length-100);return 0===w.length?e.length:Math.max(Math.min(...w),b)};var k=s(28513),b=s(17703),x=s(34839),w=s(57896),v=s(61312),y=s(80119),j=s(30853),N=s(16535);s(38148);var C=s(38541),S=s.n(C),I=s(74995),T=s(65146),E=s(55771),R=s(10731),A=s(68193),_=s(16954),O=s(33568),P=s(61822),M=s(75184),L=s(38614),D=s(98046),B=s(97960),z=s(57607),F=s(11750);function U(e){var t;let{toolCall:s,isStreaming:n,Trigger:r}=e,{t:o}=(0,T.Bd)("base"),i=(0,p.h)(),c=null==s||null==(t=s.args)?void 0:t.image_url;return(0,a.jsxs)("div",{className:"flex flex-col not-prose",children:[(0,a.jsx)(r,{icon:(0,a.jsx)(F.xfq,{size:16,className:"text-secondary shrink-0"}),children:(0,a.jsxs)("div",{className:(0,v.cn)("font-sans font-semibold text-xs flex flex-row gap-2",n&&"animate-pulse"),children:[o("view image","View Image"),(0,a.jsx)("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"text-fg-secondary hover:underline",children:(0,w.TG)(c)})]})}),i.SHOW_TOOL_IMAGE&&(0,a.jsx)("img",{className:"w-fit object-contain self-center max-h-[300px]",src:c,alt:c})]})}var V=s(52619);function H(e){let{toolCall:t,isStreaming:s,Trigger:n}=e,r="url"in t.args?t.args.url:void 0;return(0,a.jsx)("div",{className:"flex flex-col gap-1",children:(0,a.jsx)(n,{icon:(0,a.jsx)(F.fCU,{size:16,className:"text-secondary shrink-0"}),children:(0,a.jsx)("div",{className:(0,v.cn)("font-sans font-semibold text-xs truncate",s&&"animate-pulse"),children:s?(0,a.jsx)(T.x6,{ns:"chat",i18nKey:"tool-usage-card.browse-page",defaults:"Browsing <site>{{url}}</site>",values:{url:r},components:{site:(0,a.jsx)("a",{href:r,target:"_blank",rel:"noopener noreferrer nofollow",className:"text-primary"})}}):(0,a.jsx)(T.x6,{ns:"chat",i18nKey:"tool-usage-card.browsed-page",defaults:"Browsed <site>{{url}}</site>",values:{url:r},components:{site:(0,a.jsx)("a",{href:r,target:"_blank",rel:"noopener noreferrer nofollow",className:"text-primary"})}})})})})}var W=s(20113);function G(e){let{functionCall:t}=e,s=t.args.language||"python";return(0,a.jsx)(W.J,{className:(0,v.cn)("language-".concat(s)),negativeMargin:!1,hasTopOffset:!1,hideRunCode:!0,children:t.args.code})}var K=s(17825),q=s(36889),X=s(86979),Y=s(92181);function Q(e){let{toolCall:t,toolResult:s}=e;return(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(eN,{toolCall:t,toolResult:s,Title:$,Args:Z,defaultExpanded:!0}),(null==s?void 0:s.error)&&(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"rounded-xl bg-destructive/10 border border-destructive/25 text-destructive text-sm font-medium p-4 flex items-center gap-2",children:[(0,a.jsx)(F.hcu,{size:16,className:"text-destructive shrink-0"}),s.error]}),(0,a.jsx)(J,{toolResult:s})]})]})}function $(e){var t,s;let{toolCall:n,Trigger:r}=e,{t:o}=(0,T.Bd)("base"),i=(0,q.wk)(!1),c=null!=(t=n.args.function_calls)?t:[];return(0,a.jsx)(r,{icon:(0,a.jsx)(F.KbA,{size:16,className:"text-secondary shrink-0"}),children:(0,a.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[(0,a.jsx)("span",{className:"font-semibold",children:o("edit-spreadsheet.updated-spreadsheet","Updated {{name}}",{name:null!=(s=null==i?void 0:i.name)?s:"Spreadsheet"})}),(0,a.jsx)("span",{className:"text-secondary",children:"\xb7"}),(0,a.jsx)("span",{className:"text-secondary",children:o("edit-spreadsheet.changes",{count:c.length,defaultValue:"{{count}} changes",defaultValue_one:"{{count}} change",defaultValue_zero:"No changes made",keyWithCount_many:"{{count}} changes"})})]})})}function Z(e){var t,s;let{toolCall:n}=e,r=null!=(s=null==n||null==(t=n.args)?void 0:t.function_calls)?s:[],o=(0,q.wk)(!1),i=S().groupBy(r,e=>{var t,s,a,n,r,i;return"createSheet"===e.functionName?e.arguments.name:null!=(i=null==o||null==(t=o.sheets[null!=(n=null==(s=e.arguments)?void 0:s.sheet)?n:0])?void 0:t.name)?i:"Sheet ".concat((null!=(r=null==(a=e.arguments)?void 0:a.sheet)?r:0)+1)});return(0,a.jsx)("div",{className:"flex flex-col gap-2",children:Object.entries(i).map(e=>{let[t,s]=e;return(0,a.jsx)(ee,{sheet:t,commands:s},t)})})}function J(e){let{toolResult:t}=e,{t:s}=(0,T.Bd)("base"),n=(0,p.h)(),r=(0,h.useCallback)(()=>{let e=t.error;e&&(0,X.M)(e,n)},[t,n]),o=(0,K.dr)();return(0,B.A3)(e=>{if(!(null==o?void 0:o.conversationId)||!(null==o?void 0:o.responseId))return!1;let t=e.byConversationId[o.conversationId]||[],s=t[t.length-1];return!!s&&"human"!==s.sender&&s.responseId===o.responseId})?(0,a.jsx)(i.$n,{variant:"filled",size:"pill",onClick:r,className:"w-fit self-end font-semibold",children:s("edit-spreadsheet.fix-error","Ask Grok to fix")}):null}function ee(e){let{sheet:t,commands:s}=e,{t:n}=(0,T.Bd)("base"),r=(0,q.wk)(!1);return(0,a.jsx)(V.nD,{type:"single",collapsible:!0,className:"rounded-xl bg-surface-l2 dark:bg-surface-l2 border border-border-l1 divide-y divide-border-l1 overflow-hidden",defaultValue:t,children:(0,a.jsxs)(V.As,{value:t,className:"flex flex-col divide-y divide-border-l1",children:[(0,a.jsxs)("div",{className:"flex flex-row px-4 h-10 items-center w-full text-sm justify-between",children:[(0,a.jsx)("button",{className:"text-sm grow text-left h-full font-semibold",onClick:()=>{if(!r)return;let e=r.sheets.findIndex(e=>e.name===t);-1!==e&&r.setNodeProps({activeSheet:e})},children:t}),(0,a.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,a.jsx)("span",{className:"text-secondary text-right select-none",children:n("edit-spreadsheet.changes",{count:s.length,defaultValue:"{{count}} changes",defaultValue_one:"{{count}} change",defaultValue_zero:"0 changes",keyWithCount_many:"{{count}} changes"})}),(0,a.jsx)(V.$m,{children:(0,a.jsx)("span",{className:"sr-only",children:n("edit-spreadsheet.toggle-edits","Toggle edits")})})]})]}),(0,a.jsx)(V.ub,{className:"p-4",children:s.map((e,t)=>{var s;return(0,a.jsx)("div",{className:"text-ellipsis overflow-hidden whitespace-pre",children:(null==(s=Y.Pi[e.functionName])?void 0:s.descriptor(e.arguments))||e.functionName},t)})})]})})}var et=s(15665),es=s(87891);async function ea(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=[];try{for(let n of t){let t=Y.Pi[n.functionName];if(!t)throw Error("Unknown spreadsheet command: ".concat(n.functionName));let r=await t.execute(n.arguments)(e);if(a.push(r),Y.bS.has(n.functionName)){let e=(0,Y.YC)(r);e.length>0&&((0,b.vV)("tool-call:client:edit-spreadsheet:not-implemented",Error("#N/IMPL – formula not implemented"),{functionName:n.functionName,cells:JSON.stringify(e),...s}),(0,b.iu)("spreadsheet_error","not-implemented",{location:"tool-call:client:edit-spreadsheet",functionName:n.functionName,cells:JSON.stringify(e),...s}))}}let n=t.filter(e=>"createSheet"===e.functionName).length,r=t.filter(e=>"deleteSheet"===e.functionName).length,o=t.length-n-r;n>0&&(0,b.iu)("spreadsheet_chat_create",n.toString(),{location:"tool-call:client:edit-spreadsheet"}),r>0&&(0,b.iu)("spreadsheet_chat_delete",r.toString(),{location:"tool-call:client:edit-spreadsheet"}),o>0&&(0,b.iu)("spreadsheet_chat_update",o.toString(),{location:"tool-call:client:edit-spreadsheet"})}catch(e){if(e instanceof Error)return(0,b.vV)("tool-call:client:edit-spreadsheet:spreadsheet_error",e,s),console.error("Error applying operation to spreadsheet",e.message),{result:a,error:e};throw e}return{result:a}}function en(e,t){var s;return(null!=(s=null==e?void 0:e.toolResponses)?s:[]).find(e=>e.toolCallId===t)}let er=new Set;function eo(e){let t=function(e){var t;let s=(0,B.A3)(),a=(0,K.dr)(),n=(0,h.useRef)(a);n.current=a;let r=(0,es.R)(e=>e.setAssetContent),[o,i]=(0,h.useState)(en(a,e.toolUsageCardId)),c=(0,h.useRef)(void 0!==o||er.has(null!=(t=e.toolUsageCardId)?t:""));return c.current||(c.current=void 0!==o),(0,h.useEffect)(function(){var t;if(c.current)return;let a=n.current,o=null==a?void 0:a.inflightResponseId;if(!a||!o)return;let l=e.toolUsageCardId;if(!l)return;let d=en(a,l);if(d)return void i(d);let g=null!=(t=e.args.function_calls)?t:[],m=(0,et.F$)(),p=m.state.activeId;if(!p)return;let u=m.findById(q.gU,p);if(!u||!u.calcEngine)return void console.warn("Spreadsheet not found or not initialized",{spreadsheet:u});c.current=!0,er.add(l),ea(u,g,{responseId:o,toolCallId:l}).then(e=>{let{result:t,error:a}=e;return Promise.all([s.addToolResponse(o,{toolCallId:l,toolName:"edit_spreadsheet",result:t,error:null==a?void 0:a.message}),a?Promise.resolve():u.calcEngine.exportToBuffer().then(e=>r(p,e))])})},[i,e,a,s,r]),o}(e.toolCall);return(0,a.jsx)(Q,{toolCall:e.toolCall,toolResult:t})}var ei=s(9158),ec=s(85467);function el(e){let{config:t,...s}=e,{toolCall:n,isStreaming:r,toolResult:o,layout:i}=s,{t:c}=(0,T.Bd)("base"),l="query"in n.args?n.args.query:void 0,d=l&&"string"==typeof l,g=t.getItems(o),m=t.itemTypeName||"results",p=(0,h.useMemo)(()=>{if(!g)return[];let e=new Set;return g.filter(s=>{let a=t.getKey(s);return!(!a||e.has(a))&&(e.add(a),!0)})},[g,t]);return(0,a.jsx)(V.nD,{type:"single",collapsible:!0,className:"w-full",children:(0,a.jsxs)(V.As,{value:n.name,className:"group/accordion-item rounded-xl border border-border-l1 w-full overflow-hidden data-[state=open]:bg-surface-l2 transition-colors",children:[(0,a.jsx)(V.$m,{chevronPosition:"before",icon:t.icon,className:"min-h-10 px-3 py-2","aria-label":"Expand ".concat(m),disabled:!g||0===g.length,children:(0,a.jsxs)("div",{className:"flex items-center justify-between w-full gap-2",children:[(0,a.jsx)("div",{className:(0,v.cn)("font-sans font-semibold text-xs text-left line-clamp-1",r&&i!==ec.ksv.FunctionCall&&"animate-pulse"),children:d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"sm:hidden",children:l}),(0,a.jsx)("span",{className:"hidden sm:inline",children:d?null!=r&&r&&i!==ec.ksv.FunctionCall?t.translations.searching({query:l,t:c}):t.translations.searched({query:l,t:c}):n.name})]}):(0,a.jsx)("span",{children:n.name})}),(!r||g&&g.length>0)&&(0,a.jsx)("span",{className:"text-xs text-secondary shrink-0",children:t.translations.resultCount({count:(null==g?void 0:g.length)||0,t:c})})]})}),(0,a.jsx)(V.ub,{className:"p-2 pt-0 max-h-64 overflow-y-auto",style:{overscrollBehavior:"contain"},children:p.length>0?(0,a.jsx)("div",{className:"flex flex-col gap-px",children:p.map((e,s)=>(0,a.jsx)(t.ItemComponent,{item:e},t.getKey(e)||s))}):r?(0,a.jsx)("div",{className:"text-xs text-secondary px-1",children:c("tool-usage-card.searching","Searching...")}):(0,a.jsx)("div",{className:"text-xs text-secondary px-1",children:t.translations.emptyState({count:0,t:c})})})]})})}let ed={icon:(0,a.jsx)(F.WIv,{size:16,className:"text-secondary shrink-0"}),getItems:e=>{var t,s;return null!=(s=null==e||null==(t=e.webSearchResults)?void 0:t.results)?s:[]},getKey:e=>(null==e?void 0:e.url)&&(0,w.TG)(e.url),ItemComponent:function(e){let{item:t}=e,s=(0,u._)(),n=(0,h.useCallback)(()=>{s("accordion_web_search_result_click",t.url,{location:"tool-usage-card-accordion-item",href:t.url||""})},[t.url,s]);return t.url?(0,a.jsxs)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer nofollow",onClick:n,className:"flex px-1 h-8 rounded-md hover:bg-button-ghost-hover group text-left flex-row gap-2 items-center shrink-0 w-full min-w-0 cursor-pointer","aria-label":"".concat(t.title||"Search result"," - ").concat((0,w.TG)(t.url)),children:[(0,a.jsx)("div",{className:"flex-shrink-0 flex items-center justify-center",children:(0,a.jsx)(o.tj,{faviconUrl:t.favicon,url:t.url})}),t.title&&(0,a.jsx)("div",{className:"text-sm font-medium text-primary line-clamp-1 break-all",children:t.title}),t.url&&(0,a.jsx)("div",{className:"text-xs text-secondary line-clamp-1 shrink-0",children:(0,w.TG)(t.url)})]}):null},itemTypeName:"results",translations:{searching:e=>{let{query:t,t:s}=e;return s("tool-usage-card.searching-for-",'Searching for "{{ query }}"',{query:t})},searched:e=>{let{query:t,t:s}=e;return s("tool-usage-card.searched-for-",'Searched for "{{ query }}"',{query:t})},resultCount:e=>{let{count:t,t:s}=e;return s("tool-usage-card.n-results","{{ count }} results",{count:t,defaultValue_zero:"No results"})},emptyState:e=>{let{t}=e;return t("tool-usage-card.no-results-found","No results found")}}},eg={pills:e=>(0,a.jsx)(eN,{Title:ep,...e}),inline:e=>(0,a.jsx)(eN,{Title:eh,...e}),accordion:e=>(0,a.jsx)(el,{...e,config:ed})};function em(e){let t=e.layout===ec.ksv.FunctionCall?"accordion":"pills",s=eg[t];return s?(0,a.jsx)(s,{...e}):(console.warn("Unknown web search style: ".concat(t,", falling back to pills")),eg.pills(e))}function ep(e){var t;let{toolCall:s,isStreaming:n,toolResult:r,Trigger:o,layout:i}=e,{t:c}=(0,T.Bd)("base"),l="query"in s.args?s.args.query:void 0,d=l&&"string"==typeof l,g=null==r||null==(t=r.webSearchResults)?void 0:t.results;return(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)(o,{icon:(0,a.jsx)(F.WIv,{size:16,className:"text-secondary shrink-0"}),children:(0,a.jsx)("div",{className:(0,v.cn)("font-sans font-semibold text-xs",n&&i!==ec.ksv.FunctionCall&&"animate-pulse"),children:d?n&&i!==ec.ksv.FunctionCall?c("tool-usage-card.searching-for-",'Searching for "{{ query }}"',{query:l}):c("tool-usage-card.searched-for-",'Searched for "{{ query }}"',{query:l}):s.name})}),g&&g.length>0&&(0,a.jsx)(eu,{webSearchResults:g})]})}function eu(e){let{webSearchResults:t}=e,{t:s}=(0,T.Bd)("base"),n=(0,L.aP)(e=>e.setSidePanelContent),r=(0,u._)(),c=(0,h.useRef)(null),l=t.filter((e,t,s)=>{if(!e.url)return!1;let a=(0,w.TG)(e.url);return s.findIndex(e=>e.url&&(0,w.TG)(e.url)===a)===t});(0,h.useEffect)(()=>{if(!c.current||0===l.length)return;let e=()=>{let e=c.current;if(!e)return;let t=e.querySelectorAll("[data-pill]"),s=e.querySelector("[data-show-all]");t.forEach(e=>{e.style.display=""});let a=e.clientWidth-(((null==s?void 0:s.clientWidth)||80)+20)-8,n=0,r=-1;for(let e=0;e<t.length;e++){let s=t[e].offsetWidth;if(n+s+8*(e>0)<=a)n+=s+8*(e>0),r=e;else break}t.forEach((e,t)=>{e.style.display=t>r?"none":""})},t=requestAnimationFrame(e),s=new ResizeObserver(e);return s.observe(c.current),()=>{cancelAnimationFrame(t),s.disconnect()}},[l.length]);let{inPanel:d}=(0,ei.OB)(),g=(0,h.useCallback)(()=>{r("show_all_tool_usage_web_search_results",void 0,{location:"tool-usage-card"}),n({type:"webSearchResults",data:{webSearchResults:t}},d)},[n,r,t,d]);return(0,a.jsx)("div",{className:"flex flex-col gap-2 ps-8 pe-2 pb-2",children:(0,a.jsx)("div",{className:"relative w-full h-full",children:(0,a.jsxs)("div",{ref:c,className:"flex gap-2 w-[calc(100%+16px)] h-full flex-row items-center",children:[l.map((e,t)=>(0,a.jsx)("div",{"data-pill":!0,className:"flex-shrink-0",children:(0,a.jsx)(o.pX,{webSearchResult:e})},t)),(0,a.jsx)(i.$n,{"data-show-all":!0,onClick:g,size:"xs",variant:"textSecondary",className:"self-center m-0 p-0 flex-shrink-0","aria-label":s("tool-usage-card.show-all-search-results","Show all {{ count }} search results",{count:t.length}),children:s("tool-usage-card.show-all","Show All ({{ count }})",{count:t.length})})]})})})}function eh(e){var t;let{toolCall:s,isStreaming:n,toolResult:r,Trigger:o,layout:c}=e,{t:l}=(0,T.Bd)("base"),d=(0,L.aP)(e=>e.setSidePanelContent),{inPanel:g}=(0,ei.OB)(),m=(0,u._)(),p="query"in s.args?s.args.query:void 0,f=p&&"string"==typeof p,k=null==r||null==(t=r.webSearchResults)?void 0:t.results,b=(0,h.useCallback)(()=>{k&&0!==k.length&&(m("inline_web_search_results_click",void 0,{location:"tool-usage-card-inline",count:String(k.length)}),d({type:"webSearchResults",data:{webSearchResults:k}},g))},[d,m,k,g]);return(0,a.jsx)(o,{icon:(0,a.jsx)(F.WIv,{size:16,className:"text-secondary shrink-0"}),children:(0,a.jsxs)("div",{className:"flex items-center justify-between w-full gap-2",children:[(0,a.jsx)("div",{className:(0,v.cn)("font-sans font-semibold text-xs",n&&c!==ec.ksv.FunctionCall&&"animate-pulse"),children:f?n&&c!==ec.ksv.FunctionCall?l("tool-usage-card.searching-for-",'Searching for "{{ query }}"',{query:p}):l("tool-usage-card.searched-for-",'Searched for "{{ query }}"',{query:p}):s.name}),k&&k.length>0&&!n&&(0,a.jsx)(i.$n,{onClick:b,variant:"ghost",size:"xs",className:"text-xs text-secondary hover:text-primary px-2 py-0 h-auto rounded-lg","aria-label":l("tool-usage-card.show-all-results","Show all {{ count }} search results",{count:k.length}),children:l("tool-usage-card.n-results","{{ count }} results",{count:k.length})})]})})}let ef={icon:(0,a.jsx)(F.vjv,{size:14,className:"text-primary shrink-0"}),getItems:e=>{var t;return null==e||null==(t=e.xSearchResults)?void 0:t.results},getKey:e=>e.postId,ItemComponent:function(e){let{item:t}=e,s=(0,u._)(),n=(0,h.useCallback)(()=>{s("accordion_x_post_click",t.postId,{location:"tool-usage-card-accordion-item",postId:t.postId||"",href:t.username?"https://x.com/".concat(t.username,"/status/").concat(t.postId):""})},[t.postId,t.username,s]);if(!t.postId)return null;let r=t.username?"https://x.com/".concat(t.username,"/status/").concat(t.postId):"https://x.com/i/status/".concat(t.postId);return(0,a.jsxs)("a",{href:r,target:"_blank",rel:"noopener noreferrer nofollow",onClick:n,className:"flex px-1 h-8 rounded-md hover:bg-button-ghost-hover group text-left flex-row gap-2 items-center shrink-0 w-full min-w-0 cursor-pointer","aria-label":"Post by @".concat(t.username),children:[(0,a.jsx)("div",{className:"flex-shrink-0 flex items-center justify-center overflow-hidden",children:(0,a.jsx)(o.KH,{profileImageUrl:t.profileImageUrl,name:t.name,className:"size-[16px] !my-0"})}),(0,a.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[t.text&&(0,a.jsx)("div",{className:"text-sm text-primary line-clamp-1 break-words break-all leading-5 whitespace-normal",children:t.text}),(0,a.jsx)("div",{className:"flex flex-row gap-1 shrink-0",children:t.username&&(0,a.jsx)("div",{className:"text-sm text-secondary",children:"@"+t.username})})]})]})},itemTypeName:"posts",translations:{searching:e=>{let{query:t,t:s}=e;return s("tool-usage-card.searching-x-for-",'Searching for "{{ query }}"',{query:t})},searched:e=>{let{query:t,t:s}=e;return s("tool-usage-card.searched-x-for-",'Searched for "{{ query }}"',{query:t})},resultCount:e=>{let{count:t,t:s}=e;return s("tool-usage-card.n-posts","{{ count }} posts",{count:t,defaultValue_zero:"No posts"})},emptyState:e=>{let{t}=e;return t("tool-usage-card.no-posts-found","No posts found")}}},ek={pills:e=>(0,a.jsx)(eN,{Title:ex,...e}),inline:e=>(0,a.jsx)(eN,{Title:ev,...e}),accordion:e=>(0,a.jsx)(el,{...e,config:ef})};function eb(e){let t=e.layout===ec.ksv.FunctionCall?"accordion":"pills",s=ek[t];return s?(0,a.jsx)(s,{...e}):(console.warn("Unknown X search style: ".concat(t,", falling back to pills")),ek.pills(e))}function ex(e){var t;let{toolCall:s,isStreaming:n,toolResult:r,Trigger:o,layout:i}=e,c="query"in s.args?s.args.query:void 0,l=c&&"string"==typeof c,d=null==r||null==(t=r.xSearchResults)?void 0:t.results;return(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)(o,{icon:(0,a.jsx)(F.vjv,{size:14,className:"text-primary shrink-0"}),children:(0,a.jsx)("div",{className:(0,v.cn)("font-sans font-semibold text-xs flex items-center gap-1",n&&i!==ec.ksv.FunctionCall&&"animate-pulse"),children:l?n&&i!==ec.ksv.FunctionCall?(0,a.jsx)(T.x6,{ns:"base",i18nKey:"tool-usage-card.searching-x-for-",defaults:'Searching for "{{query}}"',values:{query:c}}):(0,a.jsx)(T.x6,{ns:"base",i18nKey:"tool-usage-card.searched-x-for-",defaults:'Searched for "{{query}}"',values:{query:c}}):s.name})}),d&&d.length>0&&(0,a.jsx)(ew,{xPosts:d})]})}function ew(e){let{xPosts:t}=e,{t:s}=(0,T.Bd)("base"),n=(0,L.aP)(e=>e.setSidePanelContent),r=(0,u._)(),c=(0,h.useRef)(null),l=t.filter((e,t,s)=>!!e.postId&&s.findIndex(t=>t.postId===e.postId)===t);(0,h.useEffect)(()=>{if(!c.current||0===l.length)return;let e=()=>{let e=c.current;if(!e)return;let t=e.querySelectorAll("[data-pill]"),s=e.querySelector("[data-show-all]");t.forEach(e=>{e.style.display=""});let a=e.clientWidth-(((null==s?void 0:s.clientWidth)||80)+20)-8,n=0,r=-1;for(let e=0;e<t.length;e++){let s=t[e].offsetWidth;if(n+s+8*(e>0)<=a)n+=s+8*(e>0),r=e;else break}t.forEach((e,t)=>{e.style.display=t>r?"none":""})},t=requestAnimationFrame(e),s=new ResizeObserver(e);return s.observe(c.current),()=>{cancelAnimationFrame(t),s.disconnect()}},[l.length]);let{inPanel:d}=(0,ei.OB)(),g=(0,h.useCallback)(()=>{r("show_all_tool_usage_x_posts",void 0,{location:"tool-usage-card"}),n({type:"xPosts",data:t},d)},[n,r,t,d]);return(0,a.jsx)("div",{className:"flex flex-col gap-2 ps-8 pe-2 pb-2",children:(0,a.jsx)("div",{className:"relative w-full h-full",children:(0,a.jsxs)("div",{ref:c,className:"flex gap-2 w-[calc(100%+16px)] h-full flex-row items-center",children:[l.map((e,t)=>(0,a.jsx)("div",{"data-pill":!0,className:"flex-shrink-0",children:(0,a.jsx)(o.MA,{xPost:e})},t)),(0,a.jsx)(i.$n,{"data-show-all":!0,onClick:g,size:"xs",variant:"textSecondary",className:"self-center m-0 p-0 flex-shrink-0",children:s("tool-usage-card.show-all","See All ({{ count }})",{count:t.length})})]})})})}function ev(e){var t;let{toolCall:s,isStreaming:n,toolResult:r,Trigger:o,layout:c}=e,{t:l}=(0,T.Bd)("base"),d=(0,L.aP)(e=>e.setSidePanelContent),{inPanel:g}=(0,ei.OB)(),m=(0,u._)(),p="query"in s.args?s.args.query:void 0,f=p&&"string"==typeof p,k=null==r||null==(t=r.xSearchResults)?void 0:t.results,b=(0,h.useCallback)(()=>{k&&0!==k.length&&(m("inline_x_search_results_click",void 0,{location:"tool-usage-card-inline",count:String(k.length)}),d({type:"xPosts",data:k},g))},[d,m,k,g]);return(0,a.jsx)(o,{icon:(0,a.jsx)(F.vjv,{size:14,className:"text-primary shrink-0"}),children:(0,a.jsxs)("div",{className:"flex items-center justify-between w-full gap-2",children:[(0,a.jsx)("div",{className:(0,v.cn)("font-sans font-semibold text-xs",n&&c!==ec.ksv.FunctionCall&&"animate-pulse"),children:f?n&&c!==ec.ksv.FunctionCall?(0,a.jsx)(T.x6,{ns:"base",i18nKey:"tool-usage-card.searching-x-for-",defaults:'Searching for "{{query}}"',values:{query:p}}):(0,a.jsx)(T.x6,{ns:"base",i18nKey:"tool-usage-card.searched-x-for-",defaults:'Searched for "{{query}}"',values:{query:p}}):s.name}),k&&k.length>0&&!n&&(0,a.jsx)(i.$n,{onClick:b,variant:"ghost",size:"xs",className:"text-xs text-secondary hover:text-primary px-2 py-0 h-auto rounded-lg","aria-label":l("tool-usage-card.show-all-x-posts","Show all {{ count }} posts",{count:k.length}),children:l("tool-usage-card.n-posts","{{ count }} posts",{count:k.length})})]})})}let ey=function(e){let{toolCall:t,isStreaming:s,Trigger:n}=e,r="query"in t.args?t.args.query:void 0,o=r&&"string"==typeof r;return(0,a.jsx)("div",{className:"flex flex-col",children:(0,a.jsx)(n,{icon:(0,a.jsx)(F.vjv,{size:14,className:"text-primary shrink-0"}),children:(0,a.jsx)("div",{className:(0,v.cn)("font-sans font-semibold text-xs flex items-center gap-1",s&&"animate-pulse"),children:o?s?(0,a.jsx)(T.x6,{ns:"base",i18nKey:"tool-usage-card.search-x-user-",defaults:'Search for user "{{query}}"',values:{query:r}}):(0,a.jsx)(T.x6,{ns:"base",i18nKey:"tool-usage-card.searched-x-user-",defaults:'Searched for user "{{query}}"',values:{query:r}}):t.name})})})},ej={web_search:e=>(0,a.jsx)(em,{...e}),web_search_with_snippets:e=>(0,a.jsx)(eN,{Title:ep,...e}),browse_page:e=>(0,a.jsx)(eN,{...e,Title:H}),code_executor:e=>(0,a.jsx)(eN,{...e,toolCall:e.toolCall,Args:G}),execute_code:e=>(0,a.jsx)(eN,{...e,toolCall:e.toolCall,Args:G}),code_execution:e=>(0,a.jsx)(eN,{...e,toolCall:e.toolCall,Args:G}),x_search:e=>(0,a.jsx)(eb,{...e}),x_keyword_search:e=>(0,a.jsx)(eb,{...e}),x_semantic_search:e=>(0,a.jsx)(eb,{...e}),x_user_search:e=>(0,a.jsx)(eN,{Title:ey,...e}),edit_spreadsheet:e=>(0,a.jsx)(eo,{...e}),view_image:e=>(0,a.jsx)(eN,{Title:U,...e}),default:e=>(0,a.jsx)(eN,{...e})};function eN(e){let{toolCall:t,toolResult:s,isStreaming:n,Args:r,Title:o=eC,defaultExpanded:i=!1,flatten:c,layout:l}=e,d=(0,p.h)(),g=null!=r?r:d.HIDE_TOOL_JSON_ARGS?void 0:eS,m=void 0!==g?eT:eI;return(0,a.jsx)("div",{className:(0,v.cn)(c?"-mx-2 -my-2":"rounded-xl border border-border-l1 w-full overflow-hidden bg-surface"),children:g?(0,a.jsx)(V.nD,{type:"single",collapsible:!0,className:"w-full",defaultValue:i?t.toolUsageCardId+"":void 0,children:(0,a.jsxs)(V.As,{value:t.toolUsageCardId+"",children:[(0,a.jsx)(o,{toolCall:t,isStreaming:n,toolResult:s,Trigger:m,flatten:c,layout:l}),(0,a.jsx)(V.ub,{className:"p-2 pt-0 ps-4",children:(0,a.jsx)(g,{functionCall:t,toolCall:t})})]})}):(0,a.jsx)(o,{toolCall:t,isStreaming:n,toolResult:s,Trigger:m,flatten:c,layout:l})})}function eC(e){let{toolCall:t,isStreaming:s,Trigger:n}=e,r=(0,h.useMemo)(()=>S().startCase(t.name.replace(/_/g," ")),[t.name]);return(0,a.jsx)(n,{icon:(0,a.jsx)(F.PXj,{size:16,className:"text-secondary shrink-0"}),children:(0,a.jsx)("div",{className:(0,v.cn)("font-sans font-semibold text-xs",s&&"animate-pulse"),children:r})})}function eS(e){let{functionCall:t}=e,s=(0,u._)(),{t:n}=(0,T.Bd)("base"),r=(0,h.useCallback)(()=>{s("tool_usage_copy",t.name,{location:"tool-renderers",args:JSON.stringify(t.args)})},[t.args,t.name,s]),o=(0,h.useMemo)(()=>t.args?JSON.stringify(t.args,null,2):n("tool-usage-card","No arguments"),[t.args,n]);return(0,a.jsxs)("div",{className:"relative group/args",children:[(0,a.jsx)("div",{className:"bg-surface-l1 border border-border-l1 text-secondary p-2 rounded-xl text-[12px] overflow-auto max-h-48 font-mono",children:o}),t.args&&(0,a.jsx)(z.i8,{className:"absolute top-1 right-1 opacity-0 group-hover/args:opacity-100 transition-opacity",getText:()=>o,forceActionButtonsVisible:!1,onClickCopy:r,isMobile:!1})]})}function eI(e){let{icon:t,children:s}=e;return(0,a.jsxs)("div",{className:"flex flex-row gap-2 items-center min-h-10 px-3 py-2",children:[t,s]})}function eT(e){let{icon:t,children:s}=e;return(0,a.jsx)(V.$m,{chevronPosition:"before",icon:t,className:"min-h-10 px-3 py-2",children:s})}function eE(e){let{responseId:t,toolUsage:s,isStreaming:n=!1,toolUsageResults:r,toolUsageResultById:o,flatten:i,layout:c}=e,l=(0,B.dr)(t,"toolUsageResultById"),d=(0,h.useMemo)(()=>l||o||S().keyBy(r,"toolUsageCardId"),[r,o,l]),g=(0,h.useMemo)(()=>s.calls.map(e=>{let t=e.toolUsageCardId?d[e.toolUsageCardId]:void 0;return{toolCall:e,toolResult:t}}),[s.calls,d]);return(0,a.jsx)("div",{className:"flex flex-col gap-2 my-2",children:g.map((e,t)=>{let{toolCall:s,toolResult:r}=e,o=ej[s.name]||ej.default;return(0,a.jsx)(o,{toolCall:s,isStreaming:n,toolResult:r,flatten:i,layout:c},t)})})}var eR=s(72137),eA=s(3665),e_=s(47127),eO=s(2280),eP=s(52265),eM=s(52970),eL=s(14908);let eD=e=>{let{wide:t=!0,...s}=e;return(0,p.h)().ENABLE_DATA_GRID_MARKDOWN_TABLE?(0,a.jsx)(eB,{...s}):(0,a.jsx)(ez,{...s,wide:t})},eB=e=>{let{className:t,rowMarkers:s=!1,verticalBorder:n=!1,negativeMargin:r=!0,hasTopOffset:o=!0,node:i,...c}=e,{isNested:l,sender:d}=(0,h.useContext)(eJ),{headers:g=[],rows:m=[]}=i?(0,eA.x9)(i):{},p=(0,v.cn)(r&&"[&_div+div]:!mt-0 mt-3 mb-3",!l&&r&&"@md:-mx-breakout","human"===d&&"-mx-0 mt-2 mb-2 min-w-52 dark:border-0 border rounded-xl",r&&"@md:-mr-4",t);return(0,a.jsxs)("div",{dir:"auto",className:(0,v.cn)("my-2 relative group/table overflow-x-auto bg-surface-l2 rounded-xl border border-border-l1 overflow-hidden",p),...c,children:[(0,a.jsx)(eU,{title:"table",node:i,hasTopOffset:o}),(0,a.jsx)(eR.b,{headers:g,rows:m,editable:!1,verticalBorder:n,rowMarkers:s,theme:s?void 0:{cellHorizontalPadding:16}})]})},ez=e=>{let{node:t,children:s,wide:n=!0,...r}=e,{isStreaming:o}=(0,h.useContext)(eJ),{t:c}=(0,T.Bd)("base"),{onCopy:l,isCopied:d}=eV({node:t}),g=n?eF:h.Fragment;return(0,a.jsx)(g,{children:(0,a.jsxs)("div",{dir:"auto",className:"table-container relative group/table w-fit",children:[!o&&(0,a.jsx)("div",{className:"sticky w-full right-2 z-10 @[1280px]/mainview:z-40 top-12 @[1280px]/mainview:top-0 print:hidden",children:(0,a.jsx)("div",{className:"absolute top-1 right-1 flex flex-row gap-0.5",children:(0,a.jsx)(i.gx,{"aria-label":c("response-action.copy","Copy"),tooltipContent:d?(0,a.jsx)("p",{children:c("Copied!","Copied!")}):(0,a.jsx)("p",{children:c("table.copy-table","Copy Table")}),tooltipContentProps:{side:"bottom"},variant:"ghostSecondary",size:"iconSm",rounded:!0,onClick:l,className:(0,v.cn)("dark:bg-surface-l1 dark:text-text-l1 dark:hover:bg-surface-l2"),disabled:d,children:(0,a.jsx)(e_.p,{children:d?(0,a.jsx)(eM.Srz,{className:"size-4"}):(0,a.jsx)(F.TdU,{className:"size-4"})},d?"copied":"copy")})})}),(0,a.jsx)("table",{dir:"auto",...r,className:"w-fit min-w-content [&>thead>tr>th:last-child]:pr-8","data-wide":n,children:s})]})})},eF=e=>{let{children:t}=e,s=(0,h.useRef)(null),n=(0,eO.tg)({ref:s,direction:"horizontal"});return(0,a.jsx)("div",{ref:s,className:(0,v.cn)("table-scroll-container my-2 w-[100cqw] overflow-x-auto overscroll-x-contain","flex flex-row items-center"),style:{"--content-width":"min(100cqw, var(--content-max-width))","--gutter-width":"calc((100cqw - var(--content-width)) / 2)",marginInline:"calc(var(--gutter-width) * -1)",scrollbarWidth:"none",...n},children:(0,a.jsx)("div",{style:{marginInline:"var(--gutter-width)"},children:t})})},eU=e=>{let{title:t="table",node:s,hasTopOffset:n=!0}=e,{isNested:r,isStreaming:o}=(0,h.useContext)(eJ),{t:c}=(0,T.Bd)("base"),{onSave:l,onCopy:d,isCopied:g}=eV({node:s});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex flex-row px-4 py-2 h-10 items-center border-b border-border-l1",children:(0,a.jsx)("span",{className:"font-mono text-xs",children:t})}),(0,a.jsx)("div",{className:(0,v.cn)("sticky w-full right-2 z-10",!r&&n&&"@[1280px]/mainview:z-40 @[1280px]/mainview:top-10 top-24 @[0px]/preview:top-5",r&&n&&"top-40","print:hidden"),children:(0,a.jsxs)("div",{className:"absolute bottom-1 right-1 flex flex-row gap-0.5",children:[(0,a.jsxs)(i.gx,{onMouseDown:e=>e.preventDefault(),"aria-label":c("response-action.save","Save"),tooltipContent:g?(0,a.jsx)("p",{children:c("Copied!","Copied!")}):(0,a.jsx)("p",{children:c("table.save-as-csv","Save as CSV")}),tooltipContentProps:{side:"bottom"},variant:"sticky",size:"sm",onClick:l,disabled:o,children:[(0,a.jsx)(F.f5X,{className:"size-4"}),(0,a.jsx)("span",{className:"hidden @sm:block",children:c("Save","Save")})]}),(0,a.jsx)(i.$n,{onMouseDown:e=>e.preventDefault(),onClick:d,variant:"sticky",size:"sm",disabled:g,children:g?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eM.Srz,{className:"size-4"}),(0,a.jsx)("span",{className:"hidden @sm:block",children:c("Copied","Copied")})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(F.TdU,{className:"size-4"}),(0,a.jsx)("span",{className:"hidden @sm:block",children:c("Copy","Copy")})]})})]})})]})},eV=e=>{let{node:t}=e,s=(0,u._)(),[a,n]=(0,h.useState)(!1);return{onSave:(0,h.useCallback)(()=>{if(!t)return;let e=new Blob([(0,eA.J1)(t)],{type:"text/csv"});(0,eP.W)(e,"table.csv"),s("save_response_table","",{location:"chat-markdown:table"})},[s,t]),onCopy:(0,h.useCallback)(()=>{if(t){n(!0);try{(0,eA.fZ)(t)}catch(e){e instanceof Error&&eL.oR.error(e.message)}setTimeout(()=>n(!1),1e3),s("copy_response_table","",{location:"chat-markdown:table"})}},[s,t]),isCopied:a}},eH=[];function eW(){let e=this.data();e.micromarkExtensions=[{...e.micromarkExtensions||[]},{disable:{null:["codeIndented"]}}]}let eG=()=>e=>{(0,M.YR)(e,"list",e=>{e.spread=!1})},eK=()=>e=>{(0,M.YR)(e,"element",e=>{"span"===e.tagName&&e.properties&&e.properties.className&&"string"==typeof e.properties.className&&e.properties.className.includes("katex-error")&&(e.tagName="span",e.properties={},e.children&&e.children[0]&&"text"===e.children[0].type&&(e.children=[{type:"text",value:e.children[0].value}]))})},eq=()=>e=>{(0,M.YR)(e,(e,t,s)=>{var a;return"code"!==(null==(a=e.parent)?void 0:a.type)&&"raw"===e.type&&"<br>"===e.value},(e,t,s)=>{t&&(s.children[t]={type:"text",value:"\n"})})},eX=()=>e=>{(0,M.YR)(e,"break",(e,t,s)=>{s.children.splice(t,1,{type:"text",value:"\n"})})},eY=()=>e=>(0,M.YR)(e,"element",e=>{if("table"!==e.tagName)return;let t=(0,y.Ub)("tr",e),s=[];for(let e of t){let t=(0,y.Ub)("td, th",e);for(let e=0;e<t.length;e++){let a=t[e],n=(0,N.d)(a).trim().length;s[e]||(s[e]=[]),s[e].push(n)}}let a=s.flat().sort((e,t)=>e-t),n=e=>0===a.length?0:a[Math.floor(e*(a.length-1))],r=n(.1),o=n(.25),i=n(.5),c=n(.85),l=e=>0===e.length?0:e.slice().sort((e,t)=>e-t)[Math.floor(e.length/2)],d=s.map(e=>{let t=l(e);return t<=r?"xs":t<=o?"sm":t<=i?"md":t<=c?"lg":"xl"});for(let e of t){let t=(0,y.Ub)("td, th",e);for(let e=0;e<t.length;e++){let s=t[e];s.properties=s.properties||{},s.properties["data-col-size"]=d[e]||"sm"}}}),eQ=()=>e=>{(0,M.YR)(e,"element",e=>{var t;if("p"!==e.tagName&&"li"!==e.tagName||!(null==(t=e.children)?void 0:t.length))return;let s=[],a=[];if(e.children.forEach(e=>{var t;(null==e?void 0:e.type)==="element"&&"grok-card"===e.tagName&&"citation_card"===decodeURIComponent((null==(t=e.properties)?void 0:t.dataType)||"")?s.push(e):e&&a.push(e)}),s.length>0){let t=a[a.length-1];(null==t?void 0:t.type)==="text"&&"string"==typeof t.value&&(t.value=t.value.trimEnd()),e.children=[...a,...s]}})},e$=()=>e=>{(0,M.YR)(e,(e,t,s)=>{var a,n,r;if("element"!==e.type||"grok-card"!==e.tagName||!s||void 0===t||!("children"in s)||!Array.isArray(s.children))return;let o=null==(a=e.properties)?void 0:a.dataType;if("citation_card"!==(o?decodeURIComponent(o):""))return;let i=s.children;if(t>0){let e=i[t-1];if(e&&"element"===e.type&&"grok-card"===e.tagName){let t=null==(n=e.properties)?void 0:n.dataType;if("citation_card"===(t?decodeURIComponent(t):""))return}}let c=[e],l=t+1;for(;l<i.length;){let e=i[l];if(e&&"element"===e.type&&"grok-card"===e.tagName){let t=null==(r=e.properties)?void 0:r.dataType;if("citation_card"===(t?decodeURIComponent(t):""))c.push(e),l++;else break}else break}if(c.length>1){let e=c.map(e=>{var t;let s=null==(t=e.properties)?void 0:t.dataId;return s?decodeURIComponent(s):""}).filter(e=>e).join(","),a={type:"element",tagName:"grok-card-list",properties:{dataType:encodeURIComponent("citation_card_list"),dataId:encodeURIComponent(e)},children:[]};s.children.splice(t,c.length,a)}})},eZ=(0,h.memo)(e=>{let[,t]=(0,h.useState)(!1);return(0,h.useEffect)(()=>{Promise.allSettled([(0,k.H)("katex/contrib/mhchem"),(0,k.H)("katex/contrib/copy-tex")]).then(e=>{t(e.every(e=>"fulfilled"===e.status))})},[]),(0,a.jsx)(E.o,{...e})},(e,t)=>e.children===t.children),eJ=(0,h.createContext)({isNested:!1,sender:"",isStreaming:!1});function e0(e){if(null==e)return null;let t=h.Children.toArray(e),s=0,n=[];for(let e of t)if("string"==typeof e)for(let t of e.split(/(\s+)/))""!==t&&(""===t.trim()?n.push((0,a.jsx)("span",{children:t},"space-".concat(s++))):n.push((0,a.jsx)("span",{className:"animate-gaussian",children:t},"word-".concat(s++))));else h.isValidElement(e)?n.push(h.cloneElement(e,{key:"element-".concat(s++),className:(0,v.cn)(e.props.className,"animate-gaussian")})):n.push((0,a.jsx)("span",{className:"animate-gaussian",children:String(e)},"other-".concat(s++)));return n}let e1={p(e){let{className:t,children:s,node:n,...r}=e;return(0,a.jsx)("p",{dir:"auto",style:{whiteSpace:"pre-wrap"},className:(0,v.cn)("break-words",t),...r,children:s})},strong(e){let{className:t,children:s,node:n,...r}=e;return(0,a.jsx)("strong",{className:(0,v.cn)("font-semibold",t),...r,children:s})},h1(e){let{className:t,children:s,node:n,...r}=e;return(0,a.jsx)("h1",{dir:"auto",className:(0,v.cn)("text-3xl",t),...r,children:s})},h2(e){let{className:t,children:s,node:n,...r}=e;return(0,a.jsx)("h2",{dir:"auto",className:(0,v.cn)("text-2xl mt-[1.5em]",t),...r,children:s})},h3(e){let{className:t,children:s,node:n,...r}=e;return(0,a.jsx)("h3",{dir:"auto",className:(0,v.cn)("text-xl",t),...r,children:s})},h4(e){let{className:t,children:s,node:n,...r}=e;return(0,a.jsx)("h4",{dir:"auto",className:(0,v.cn)(t),...r,children:s})},h5(e){let{className:t,children:s,node:n,...r}=e;return(0,a.jsx)("h5",{dir:"auto",className:(0,v.cn)(t),...r,children:s})},h6(e){let{className:t,children:s,node:n,...r}=e;return(0,a.jsx)("h6",{dir:"auto",className:(0,v.cn)(t),...r,children:s})},input(e){let{className:t,children:s,node:n,...r}=e;return"checkbox"===r.type?(0,a.jsx)(c.S,{className:(0,v.cn)(t),checked:r.checked,disabled:r.disabled,required:r.required,name:r.name,value:r.value}):(0,a.jsx)("input",{dir:"auto",className:(0,v.cn)(t),...r})},ul(e){let{className:t,children:s,node:n,...r}=e;return(0,a.jsx)("ul",{dir:"auto",className:(0,v.cn)("marker:text-secondary",t),...r,children:s})},ol(e){let{className:t,children:s,node:n,...r}=e,o=(()=>{var e;if(!n||!n.children)return!1;let t=n.children.filter(e=>"element"===e.type&&"li"===e.tagName);if(t.length<2)return!1;let s=null==(e=n.properties)?void 0:e.start;return"number"==typeof s&&s>1&&s===t.length})();return(0,a.jsx)("ol",{dir:"auto",className:(0,v.cn)("marker:text-secondary",t),...o&&{reversed:!0},...r,children:s})},li(e){let{className:t,children:s,node:n,...r}=e;return(0,a.jsx)("li",{className:(0,v.cn)("break-words",t),...r,children:s})},pre(e){let{children:t,node:s,...n}=e;return(0,a.jsx)("div",{dir:"auto",className:"not-prose",children:t})},table:eD,thead(e){let{children:t,node:s,...n}=e;return(0,a.jsx)("thead",{className:"sticky [top:var(--thead-sticky-top)] [&_th]:h-10 [background-color:var(--thead-bg-color)] [box-shadow:0_1px_0_0_var(--thead-border-b-color)] border-b-0",...n,children:t})},tr(e){let{children:t,node:s,...n}=e;return(0,a.jsx)("tr",{className:"border-primary/10",...n,children:t})},th(e){let{children:t,node:s,...n}=e;return(0,a.jsx)("th",{className:"break-words",...n,children:t})},td(e){let{children:t,node:s,...n}=e;return(0,a.jsx)("td",{style:{whiteSpace:"pre-wrap"},className:"break-words",...n,children:t})},blockquote(e){let{children:t,node:s,...n}=e;return(0,a.jsx)("blockquote",{dir:"auto",className:"border-border-l3",...n,children:t})},hr(e){let{children:t,node:s,...n}=e;return(0,a.jsx)("hr",{className:"border-border-l2",...n})},code:W.J,"code-block":e=>{let{children:t,code:s,...n}=e;return(0,a.jsx)(W.J,{...n,children:s})},callout(e){let{children:t,icon:s,...n}=e;return(0,a.jsxs)("div",{className:(0,v.cn)("bg-warm-gray-1000/[3%] dark:bg-white/[3%] border border-border-l1 rounded-2xl px-4 py-2 my-3","flex flex-row items-start gap-2"),...n,children:[s?"".concat(s," "):"",(0,a.jsx)("span",{className:"whitespace-pre-wrap",children:"string"==typeof t?t.trim():t})]})},details(e){let{children:t,node:s,...n}=e;return(0,a.jsx)("details",{className:"my-3",...n,children:t})},summary(e){let{children:t,node:s,...n}=e;return(0,a.jsx)("summary",{className:"font-semibold cursor-pointer hover:text-fg-secondary",...n,children:t})},"image-card":e=>{let{alt:t="image",src:s,streaming:n}=e;return(0,a.jsx)(D.a,{images:[{imageKey:"image-1",url:n?void 0:s,isModerated:!1,intermediateResults:n?[]:void 0}],ariaLabel:t,statsigLocation:"image-card",align:"CENTER",size:"LARGE"})}},e2={p(e){let{className:t,children:s,node:n,...r}=e;return(0,a.jsx)("p",{dir:"auto",style:{whiteSpace:"pre-wrap"},className:(0,v.cn)("break-words",t),...r,children:s})},h1:e=>{let{children:t}=e;return(0,a.jsxs)("p",{dir:"auto",className:"break-words",children:["# ",t]})},h2:e=>{let{children:t}=e;return(0,a.jsxs)("p",{dir:"auto",className:"break-words",children:["## ",t]})},h3:e=>{let{children:t}=e;return(0,a.jsxs)("p",{dir:"auto",className:"break-words",children:["### ",t]})},h4:e=>{let{children:t}=e;return(0,a.jsxs)("p",{dir:"auto",className:"break-words",children:["#### ",t]})},h5:e=>{let{children:t}=e;return(0,a.jsxs)("p",{dir:"auto",className:"break-words",children:["##### ",t]})},h6:e=>{let{children:t}=e;return(0,a.jsxs)("p",{dir:"auto",className:"break-words",children:["###### ",t]})},strong:e=>{let{children:t}=e;return(0,a.jsxs)("span",{children:["**",t,"**"]})},em:e=>{let{children:t}=e;return(0,a.jsxs)("span",{children:["*",t,"*"]})},del:e=>{let{children:t}=e;return(0,a.jsxs)("span",{children:["~~",t,"~~"]})},pre(e){let{children:t,node:s,...n}=e;return(0,a.jsx)("div",{dir:"auto",className:"not-prose",children:t})},blockquote(e){let{children:t,node:s,...n}=e;return(0,a.jsx)("p",{dir:"auto",className:"break-words",children:t})}},e3=e=>({p(t){let{className:s,children:n,node:r,...o}=t;return(0,a.jsx)("p",{dir:"auto",style:{whiteSpace:"pre-wrap"},className:(0,v.cn)("break-words",s),...o,children:ts(n,e)})},h1(t){let{className:s,children:n,node:r,...o}=t;return(0,a.jsx)("h1",{dir:"auto",className:(0,v.cn)("break-word break-before-page text-3xl",s),...o,children:ts(n,e)})},h2(t){let{className:s,children:n,node:r,...o}=t;return(0,a.jsx)("h2",{dir:"auto",className:(0,v.cn)("break-words break-before-page text-2xl mt-[1.5em]",s),...o,children:ts(n,e)})},h3(t){let{className:s,children:n,node:r,...o}=t;return(0,a.jsx)("h3",{dir:"auto",className:(0,v.cn)("break-words break-before-page text-xl",s),...o,children:ts(n,e)})},h4(t){let{className:s,children:n,node:r,...o}=t;return(0,a.jsx)("h4",{dir:"auto",className:(0,v.cn)("break-words break-before-page",s),...o,children:ts(n,e)})},h5(t){let{className:s,children:n,node:r,...o}=t;return(0,a.jsx)("h5",{dir:"auto",className:(0,v.cn)("break-words break-before-page",s),...o,children:ts(n,e)})},h6(t){let{className:s,children:n,node:r,...o}=t;return(0,a.jsx)("h6",{dir:"auto",className:(0,v.cn)("break-words break-before-page",s),...o,children:ts(n,e)})},li(t){let{className:s,children:n,node:r,...o}=t;return(0,a.jsx)("li",{className:(0,v.cn)("break-words break-before-page",s),...o,children:ts(n,e)})},pre(t){let{children:s,node:n,...r}=t;return(0,a.jsx)("div",{className:"not-prose",children:ts(s,e)})},td(t){let{children:s,node:n,...r}=t;return(0,a.jsx)("td",{style:{whiteSpace:"pre-wrap"},className:"break-words",...r,children:ts(s,e)})},th(t){let{children:s,node:n,...r}=t;return(0,a.jsx)("th",{className:"break-words",...r,children:ts(s,e)})}}),e4=e=>{let{responseId:t,sender:s,webSearchResults:n,xposts:r,children:i,isNested:c,hideCitations:l,shouldRenderHtml:m,matchedWords:f=eH,cardAttachmentsJson:k,toolUsageResults:b,toolUsageResultById:v,setExtractedMedia:y,allowBreakout:j=!1,flattenToolUsageCards:N,layout:C}=e,T=(0,p.h)(),E=(0,h.useMemo)(()=>(0,x.x1)({content:i,hideCitations:null!=l&&l,shouldPreserveLeadingWhitespace:"human"===s,responseId:t}),[i,l,t,s]),M=(0,h.useMemo)(()=>{let e={};return null==k||k.forEach(t=>{try{let s=JSON.parse(t);if("object"==typeof s&&(null==s?void 0:s.id)){if("image_generation_card"===s.cardType&&s.id in e)return;e[s.id]=t}}catch(e){}}),e},[k]),D=(0,h.useMemo)(()=>S().keyBy(n,"url"),[n]),B=(0,h.useMemo)(()=>S().keyBy(r,e=>"https://x.com/".concat(e.username,"/status/").concat(e.postId)),[r]),z=(0,h.useMemo)(()=>{let e=S().mapValues(D,e=>(0,a.jsx)(o.pi,{webSearchResult:e,asPill:T.RENDER_CITATION_AS_PILL},e.url)),t=S().mapValues(B,e=>(0,a.jsx)(o.GS,{xPost:e,asPill:T.RENDER_CITATION_AS_PILL},e.postId));return{...e,...t}},[T.RENDER_CITATION_AS_PILL,B,D]),F=(0,h.useMemo)(()=>(null==f?void 0:f.length)?e3(f):{},[f]),U=(0,L.aP)(I.A("setSidePanelContent")),V=(0,h.useRef)({});(0,h.useEffect)(()=>()=>{null==y||y([])},[y]),(0,R.A)(()=>{null==y||y(Object.values(V.current))},100,[V.current]);let H=(0,h.useMemo)(()=>({a(e){var t,s,n,r;let o,{className:i,children:c,node:m,...p}=e,h=(0,u._)();try{o=new URL(null!=(t=p.href)?t:"")}catch(e){return c}if("www.youtube.com"!==(s=o).hostname?1:s.pathname.startsWith("/watch")&&null!==s.searchParams.get("v")?0:+!s.pathname.match(/\/shorts\/\w+/))if("www.reddit.com"!==(n=o).hostname?1:!n.pathname.match(/\/r\/\w+\/comments\/\w+\//)){if("x.com"===(r=o).hostname&&r.pathname.match(/\/\w+\/status\/\w+/)&&!V.current[o.href]){let e=B[o.href];e&&(V.current[o.href]={type:"x",url:o.href,...e})}}else V.current[o.href]||(V.current[o.href]={type:"reddit",url:o.href});else V.current[o.href]||(V.current[o.href]={type:"youtube",url:o.href});let k=".".concat(o.pathname.toLowerCase().split(".").pop()),b=p.href&&void 0===c?z[p.href]:void 0;if(!l&&b)return b;if(d.includes(o.hostname)&&g.some(e=>e===k)){let e=(0,w.TG)(p.href||"");return(0,a.jsx)("a",{...p,target:"_blank",rel:"noopener noreferrer nofollow",onClick:t=>{h("side_panel_click",e,{href:p.href||"",origin:e,location:"chat-markdown:a:side-panel"}),t.preventDefault(),p.href&&U({type:"rawAsset",data:{fileMetadataId:p.href,fileMimeType:k,fileName:p.href,fileUri:p.href,parsedFileUri:p.href,createTime:new Date().toISOString(),fileSource:"SELF_UPLOAD_FILE_SOURCE",thirdPartyFileId:"",thirdPartyFileMimeType:""}})},children:ts(c,f)})}let x=(0,w.TG)(p.href||"");return(0,a.jsx)("a",{...p,target:"_blank",rel:"noopener noreferrer nofollow",onClick:()=>{h("link_click",x,{href:p.href||"",origin:x,location:"chat-markdown:a:link"})},children:ts(c,f)})},"tool-usage-card":tc({toolUsageResults:b,toolUsageResultById:v,responseId:t,flattenToolUsageCards:N,layout:C}),"grok-card":ti({cardJsonStrById:M,urlToCitationChip:z,hideCitations:l}),"grok-card-list":to({cardJsonStrById:M,urlToCitationChip:z})}),[z,l,f,U,t,b,v,M,B,N,C]),W=(0,h.useMemo)(()=>[eW,[O.A,{singleTilde:!1}],[P.A,{singleDollarTextMath:!1}],eG,eX],[]),G=(0,h.useMemo)(()=>{let e=[[_.A,{tagfilter:!0,passThrough:tr}],ta,eY,...T.ENABLE_MOVE_CITATION_CARDS_TO_END?[eQ]:[],e$];return[[A.A,{throwOnError:!1,strict:!1}],eK,eq,...m?e:[]]},[m,T.ENABLE_MOVE_CITATION_CARDS_TO_END]),K=(0,h.useMemo)(()=>"human"===s?{code:e1.code,ul:e1.ul,ol:e1.ol,li:e1.li,...e2}:{...e1,...F,...H,table:e=>(0,a.jsx)(eD,{...e,wide:j})},[s,F,H,j]),q=(0,h.useMemo)(()=>({isNested:!!c,sender:s,isStreaming:!1}),[c,s]);return(0,a.jsx)(eJ.Provider,{value:q,children:(0,a.jsx)(eZ,{remarkPlugins:W,rehypePlugins:G,components:K,children:E})})},e5={...e1,p(e){let{className:t,children:s,node:n,...r}=e;return(0,a.jsx)("p",{dir:"auto",style:{whiteSpace:"pre-wrap"},className:(0,v.cn)("break-words",t),...r,children:e0(s)})},h1(e){let{className:t,children:s,node:n,...r}=e;return(0,a.jsx)("h1",{dir:"auto",className:(0,v.cn)("break-word text-3xl",t),...r,children:e0(s)})},h2(e){let{className:t,children:s,node:n,...r}=e;return(0,a.jsx)("h2",{dir:"auto",className:(0,v.cn)("break-words text-2xl mt-[1.5em]",t),...r,children:e0(s)})},h3(e){let{className:t,children:s,node:n,...r}=e;return(0,a.jsx)("h3",{dir:"auto",className:(0,v.cn)("break-words text-xl",t),...r,children:e0(s)})},h4(e){let{className:t,children:s,node:n,...r}=e;return(0,a.jsx)("h4",{dir:"auto",className:(0,v.cn)("break-words",t),...r,children:e0(s)})},h5(e){let{className:t,children:s,node:n,...r}=e;return(0,a.jsx)("h5",{dir:"auto",className:(0,v.cn)("break-words",t),...r,children:e0(s)})},h6(e){let{className:t,children:s,node:n,...r}=e;return(0,a.jsx)("h6",{dir:"auto",className:(0,v.cn)("break-words",t),...r,children:e0(s)})},li(e){let{className:t,children:s,node:n,...r}=e;return(0,a.jsx)("li",{className:(0,v.cn)("break-words",t),...r,children:e0(s)})},pre(e){let{children:t,node:s,...n}=e;return(0,a.jsx)("div",{className:"not-prose",children:e0(t)})},"image-card":e=>{let{alt:t="image",src:s,streaming:n}=e;return(0,a.jsx)(D.a,{images:[{imageKey:"image-1",url:n?void 0:s,isModerated:!1,intermediateResults:n?[]:void 0}],ariaLabel:t,statsigLocation:"image-card",align:"CENTER",size:"LARGE"})}},e8=e=>{let{responseId:t,sender:s,webSearchResults:n,xposts:r,hideCitations:i,shouldRenderHtml:c,cardAttachmentsJson:l,toolUsageResults:d,toolUsageResultById:g,children:k,allowBreakout:b=!1,flattenToolUsageCards:x,layout:v}=e,y=(0,p.h)(),j=k.trim().startsWith("```"),N=(0,m.o)(k,20),C=function(e,t){let s=h.useRef(void 0),a=h.useRef(!1),n=e;if(t&&a.current){let t=f(e);t>-1&&(n=e.substring(0,t))}return h.useEffect(()=>{t&&(a.current=!0,s.current&&clearTimeout(s.current),s.current=window.setTimeout(()=>{a.current=!1},3e3))},[t,n]),n}(k,!j),I="human"===s?k:j&&!y.ENABLE_SHIKI_CODE_HIGHLIGHTING?N:C,T=(0,u._)(),E=(0,h.useMemo)(()=>{let e={};return null==l||l.forEach(t=>{try{let s=JSON.parse(t);s.id&&(e[s.id]=t)}catch(e){}}),e},[l]),R=(0,h.useMemo)(()=>S().keyBy(n,"url"),[n]),M=(0,h.useMemo)(()=>S().keyBy(r,e=>"https://x.com/".concat(e.username,"/status/").concat(e.postId)),[r]),L=(0,h.useMemo)(()=>{let e=S().mapValues(R,e=>(0,a.jsx)(o.pi,{webSearchResult:e,asPill:y.RENDER_CITATION_AS_PILL},e.url)),t=S().mapValues(M,e=>(0,a.jsx)(o.GS,{xPost:e,asPill:y.RENDER_CITATION_AS_PILL},e.postId));return{...e,...t}},[R,M,y.RENDER_CITATION_AS_PILL]),D=(0,h.useMemo)(()=>({a(e){let{className:t,children:s,node:n,...r}=e,o=r.href&&void 0===s&&L[r.href];if(!i&&o)return o;let c=(0,w.TG)(r.href||"");return(0,a.jsx)("a",{...r,target:"_blank",rel:"noopener noreferrer nofollow",onClick:()=>{T("link_click",c,{href:r.href||"",origin:c,location:"chat-markdown:streaming-markdown-chunk:a:link"})},children:s})},"tool-usage-card":tc({toolUsageResults:d,toolUsageResultById:g,responseId:t,isStreaming:!0,flattenToolUsageCards:x,layout:v}),"grok-card":ti({cardJsonStrById:E,urlToCitationChip:L,hideCitations:i}),"grok-card-list":to({cardJsonStrById:E,urlToCitationChip:L})}),[L,i,T,t,d,g,E,x,v]),B=(0,h.useMemo)(()=>[eW,[O.A,{singleTilde:!1}],[P.A,{singleDollarTextMath:!1}],eG,eX],[]),z=(0,h.useMemo)(()=>{let e=[[_.A,{tagfilter:!0,passThrough:tr}],ta,eY,...y.ENABLE_MOVE_CITATION_CARDS_TO_END?[eQ]:[],e$];return[[A.A,{throwOnError:!1,strict:!1}],eK,eq,...c?e:[]]},[c,y.ENABLE_MOVE_CITATION_CARDS_TO_END]),F=(0,h.useMemo)(()=>({...e5,...D,table:e=>(0,a.jsx)(eD,{...e,wide:b})}),[D,b]);return(0,a.jsx)(eZ,{remarkPlugins:B,rehypePlugins:z,components:F,children:I})};e8.displayName="StreamingChatMarkdownChunk";let e6=h.memo(e8,te),e7=e=>{let{responseId:t,sender:s,webSearchResults:n,xposts:r,toolUsageResults:o,toolUsageResultById:i,cardAttachmentsJson:c,children:l,isNested:d,hideCitations:g,shouldRenderHtml:m,allowBreakout:p=!1,layout:u}=e,f=(0,h.useMemo)(()=>(0,x.Fs)(l,null!=g&&g,t),[l,g,t]),k=(0,h.useMemo)(()=>f.slice(0,-1).join("\n\n"),[f]),b=(0,h.useMemo)(()=>({isNested:!!d,sender:s,isStreaming:!0}),[d,s]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e4,{responseId:t,sender:s,webSearchResults:n,xposts:r,toolUsageResults:o,toolUsageResultById:i,cardAttachmentsJson:c,children:k,hideCitations:g,isNested:!!d,shouldRenderHtml:m,allowBreakout:p,layout:u}),f.length>0&&(0,a.jsx)(eJ.Provider,{value:b,children:(0,a.jsx)(e6,{responseId:t,sender:s,webSearchResults:n,xposts:r,toolUsageResults:o,toolUsageResultById:i,cardAttachmentsJson:c,hideCitations:g,children:f[f.length-1],shouldRenderHtml:m,allowBreakout:p,layout:u})})]})};e7.displayName="StreamingChatMarkdown";let e9=h.memo(e7,te);function te(e,t){var s,a,n,r,o,i,c,l;return(null==(s=e.webSearchResults)?void 0:s.length)===(null==(a=t.webSearchResults)?void 0:a.length)&&(null==(n=e.xposts)?void 0:n.length)===(null==(r=t.xposts)?void 0:r.length)&&(null==(o=e.toolUsageResults)?void 0:o.length)===(null==(i=t.toolUsageResults)?void 0:i.length)&&(null==(c=e.cardAttachmentsJson)?void 0:c.length)===(null==(l=t.cardAttachmentsJson)?void 0:l.length)&&e.children===t.children&&Object.keys(e.toolUsageResultById||{}).length===Object.keys(t.toolUsageResultById||{}).length&&e.allowBreakout===t.allowBreakout&&e.layout===t.layout}let tt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t||0===t.length||"string"!=typeof e)return e;let s=t.map(e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"),n=RegExp("(".concat(s,")"),"gi"),r=e.split(n);return 1===r.length?e:r.map((e,t)=>t%2==1?(0,a.jsx)("span",{className:"bg-orange-200 text-primary dark:bg-orange-600 rounded-sm px-0.5 font-semibold",children:e},t):e)},ts=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t&&0!==t.length?h.Children.map(e,e=>"string"==typeof e?tt(e,t):e):e};function ta(){let{allowedTags:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e?new Set(e):tn;return e=>{(0,M.YR)(e,"element",(e,s,a)=>{if(a&&void 0!=s&&!t.has(e.tagName)){let t=(0,j.V)(e);a.children[s]={type:"text",value:t}}})}}let tn=new Set(["math","maction","maligngroup","malignmark","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mprescripts","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msubsup","msup","mtable","mtd","mtext","mtr","munder","munderover","none","semantics","annotation","annotation-xml","a","abbr","address","article","aside","b","bdi","bdo","blockquote","br","caption","circle","cite","code","col","colgroup","data","dd","del","details","dfn","div","dl","dt","ellipse","em","figcaption","figure","footer","form","g","h1","h2","h3","h4","h5","h6","header","hr","i","input","ins","kbd","li","label","line","main","mark","nav","ol","p","path","polygon","polyline","pre","q","rect","rp","rt","ruby","s","samp","section","small","span","strong","sub","summary","sup","svg","table","tbody","td","tfoot","th","thead","time","tr","u","ul","var","wbr","tool-usage-card","grok-card","image-card",...Object.keys(e1)]),tr=["a","style","callout","tool-usage-card","grok-card","grok-card-list","image-card","code-block"];function to(e){let{cardJsonStrById:t,urlToCitationChip:s}=e;return e=>{var r,o;let{node:c}=e,{t:l}=(0,T.Bd)("chat"),d=(0,p.h)(),[g,m]=(0,h.useState)(!1),u=null==(r=c.properties)?void 0:r.dataId,f=null==(o=c.properties)?void 0:o.dataType,k=u?decodeURIComponent(u):"",b=f?decodeURIComponent(f):"",x=(0,h.useMemo)(()=>k.split(",").filter(e=>e.trim()),[k]),w=(0,h.useMemo)(()=>S().compact(x.map(e=>{let s=t[e];if(s)try{let e=n.Y5.safeParse(JSON.parse(s));if(e.success)return e.data}catch(e){}})),[x]),y=(0,h.useMemo)(()=>S().uniqBy(w,"url"),[w]),j=(0,h.useMemo)(()=>y.map(e=>s[e.url]).filter(Boolean),[y]);if("citation_card_list"===b){let e=1,t=j.length-e;1===t&&(t--,e++);let s=t>0,n=g?j:j.slice(0,e);return(0,a.jsxs)("span",{className:(0,v.cn)(d.RENDER_CITATION_AS_PILL&&"inline-flex flex-row items-center"),children:[n,s&&!g&&(0,a.jsx)(i.$n,{variant:"filledSecondary",size:"xxs",rounded:!0,tabIndex:-1,className:(0,v.cn)(d.RENDER_CITATION_AS_PILL&&"ms-1","border-none ms-0.5","bg-surface-inset hover:bg-surface-invert text-secondary hover:text-fg-invert","dark:bg-surface-l2 dark:hover:bg-surface-l4 dark:text-fg-secondary dark:hover:text-fg-primary"),onClick:()=>m(!0),children:l("+N more","+{{numCitations}} more",{numCitations:t})}),g&&(0,a.jsx)(i.$n,{variant:"filledSecondary",size:"xxs",rounded:!0,tabIndex:-1,className:(0,v.cn)(d.RENDER_CITATION_AS_PILL&&"ms-1","border-none ms-0.5","bg-surface-invert text-fg-invert hover:text-secondary","dark:bg-surface-l4 dark:text-fg-primary dark:hover:text-fg-secondary "),onClick:()=>m(!1),children:l("show less","show less")})]})}return null}}function ti(e){let{cardJsonStrById:t,urlToCitationChip:s,hideCitations:o}=e;return e=>{var i,c;let{node:d}=e,g=null==(i=d.properties)?void 0:i.dataId,m=null==(c=d.properties)?void 0:c.dataType,p=g?decodeURIComponent(g):"",u=m?decodeURIComponent(m):"",h=t[p];if(!h)return"citation_card"===u?null:(0,a.jsx)(l.E,{className:(0,v.cn)("w-full h-48","image_generation_card"===u&&"h-32","images_search_card"===u&&"md:h-48"),style:{aspectRatio:"images_search_card"===u?3/4:4/3}},"card-skeleton-".concat(p));if(!o&&"citation_card"===u)try{let e=n.Y5.safeParse(JSON.parse(h));if(e.success){let t=s[e.data.url];if(t)return t}}catch(e){(0,b.vV)("chat-markdown.grok-card.citation-card",e)}return(0,a.jsx)(r._,{cardAttachmentJson:h})}}function tc(e){let{toolUsageResults:t,toolUsageResultById:s,responseId:n,isStreaming:r,flattenToolUsageCards:o,layout:i}=e;return e=>{var c,l;let{node:d}=e,g=null==(c=d.properties)?void 0:c.dataNotification,m=null==(l=d.properties)?void 0:l.dataCalls,p=g?decodeURIComponent(g):"",u=[];if(m)try{let e=decodeURIComponent(m);u=JSON.parse(e)}catch(e){u=[]}let h={notification:p,calls:u};return(0,a.jsx)(eE,{isStreaming:r,responseId:n,toolUsage:h,toolUsageResults:t,toolUsageResultById:s,flatten:o,layout:i})}}},70697:(e,t,s)=>{"use strict";s.d(t,{GS:()=>N,K0:()=>E,KH:()=>S,LT:()=>_,MA:()=>A,O9:()=>y,id:()=>I,pX:()=>j,pi:()=>x,tj:()=>w});var a=s(79342),n=s(38614),r=s(56096),o=s(8143),i=s(11750),c=s(56691),l=s(1826),d=s(76928),g=s(23232),m=s(57896),p=s(61312),u=s(74995),h=s(88382),f=s(65146),k=s(96534),b=s(17703);function x(e){let{webSearchResult:t,asPill:s}=e;return(0,a.jsxs)(l.AM,{children:[(0,a.jsx)(l.Wv,{hoverOpen:!0,className:"citation",children:(0,a.jsx)(v,{webSearchResult:t,asPill:s})}),(0,a.jsx)(l.hl,{side:"top",className:"max-w-sm text-base bg-popover text-primary rounded-2xl not-prose p-0",align:"center",hoverOpen:!0,children:(0,a.jsx)(y,{webSearchResult:t,className:"hover:bg-transparent !no-underline"})})]})}function w(e){let{faviconUrl:t,url:s}=e,[n,r]=(0,h.useState)(!1),[o,c]=(0,h.useState)(!1);return t&&!n?(0,a.jsx)("img",{className:"size-[16px] m-0 rounded-full",src:t,alt:"",onError:()=>r(!0)}):o?(0,a.jsx)(i.qYV,{className:"size-3 m-[3px]"}):(0,a.jsx)("img",{className:"size-[16px] m-0 rounded-full",src:(0,m.FE)(s),alt:"",onError:()=>c(!0)})}let v=h.forwardRef((e,t)=>{let{webSearchResult:s,isClickable:n=!0,asPill:r,...o}=e;return(0,a.jsx)(O,{ref:t,isClickable:n,url:s.url,asPill:r,...o,children:r?(0,m.TG)(s.url):(0,a.jsx)(w,{faviconUrl:s.favicon,url:s.url})})});function y(e){let{webSearchResult:t,className:s}=e,n=(0,g._)();return(0,a.jsx)("a",{href:t.url,className:(0,p.cn)("block text-base hover:bg-card-hover rounded-xl focus:outline-none focus-within:outline-none focus-visible:ring-1 focus-visible:ring-ring",s),target:"_blank",rel:"noopener noreferrer nofollow",onClick:()=>{n("web_search_result_card_click",t.url,{location:"citation:WebSearchResultCard:click",href:t.url||""})},children:(0,a.jsxs)("div",{dir:"auto",className:"flex flex-col gap-1 px-4 py-3 max-w-full",children:[(0,a.jsx)("span",{className:"text-sm font-semibold",children:t.title}),(0,a.jsx)("p",{className:"text-sm line-clamp-3",children:t.preview}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(v,{webSearchResult:t,className:"ms-0",isClickable:!1}),(0,a.jsx)("span",{className:"text-xs text-secondary truncate flex-1",children:(0,m.TG)(t.url)})]})]})})}let j=h.forwardRef((e,t)=>{let{webSearchResult:s,isClickable:n=!0,className:r}=e,o=(0,g._)();return n?(0,a.jsx)("a",{className:"flex",href:s.url,target:"_blank",rel:"noopener noreferrer nofollow",ref:t,onClick:()=>{o("web_search_result_click",s.url,{location:"citation:WebSearchResultChip:click",href:s.url||""})},children:(0,a.jsxs)(R,{className:(0,p.cn)(r,"opacity-70 hover:opacity-100 hover:filter-none"),children:[(0,a.jsx)(w,{faviconUrl:s.favicon,url:s.url}),(0,m.TG)(s.url)]})}):(0,a.jsx)(R,{className:(0,p.cn)(r,"opacity-100 ml-1.5"),ref:t,children:(0,a.jsx)(w,{faviconUrl:s.favicon,url:s.url})})});function N(e){let{xPost:t,asPill:s}=e;return(0,a.jsxs)(l.AM,{children:[(0,a.jsx)(l.Wv,{hoverOpen:!0,className:"citation",children:(0,a.jsx)(C,{xPost:t,asPill:s})}),(0,a.jsx)(l.hl,{side:"top",className:"max-w-sm text-base bg-popover text-primary rounded-2xl not-prose p-0",align:"center",hoverOpen:!0,children:(0,a.jsx)(I,{xPost:t,className:"hover:bg-transparent !no-underline hover:no-underline"})})]})}let C=h.forwardRef((e,t)=>{let{xPost:s,isClickable:n=!0,asPill:r,...o}=e,c=s.profileImageUrl?(0,a.jsx)("img",{className:"size-[18px] m-0 rounded-full",src:s.profileImageUrl,alt:""}):(0,a.jsx)(i.uv5,{className:"size-3 m-[3px]"});return(0,a.jsx)(O,{ref:t,isClickable:n,url:"https://x.com/".concat(s.username,"/status/").concat(s.postId,"?referrer=grok-com"),asPill:r,...o,children:r?"@".concat(s.username):c})});function S(e){let{profileImageUrl:t,name:s,large:n,medium:r,className:o}=e;return t?(0,a.jsx)("img",{className:(0,p.cn)("inline-flex align-text-bottom rounded-full","border border-surface-l1 dark:border-transparent",n?"size-16":r?"size-14":"size-10",o),src:t,alt:s?"".concat(s,"'s profile"):"Profile"}):(0,a.jsx)(i.uv5,{className:(0,p.cn)("inline-flex align-text-bottom rounded-full","border border-surface-l1 dark:border-transparent",n?"size-16":r?"size-14":"size-10")})}function I(e){let{xPost:t,className:s}=e,n=(0,h.useMemo)(()=>new Date(t.createTime),[t.createTime]),r="https://x.com/".concat(t.username,"/status/").concat(t.postId,"?referrer=grok-com"),o=(0,g._)();return(0,a.jsxs)("a",{href:r,dir:"auto",className:(0,p.cn)("block px-4 py-3 hover:bg-button-ghost-hover rounded-xl group w-full",s),target:"_blank",rel:"noopener noreferrer",onClick:()=>{o("xpost_card_click",t.postId,{location:"citation:XPostSidePanelCard:click",href:r||""})},children:[(0,a.jsxs)("div",{className:"flex flex-row items-center gap-3 w-full min-w-0",children:[(0,a.jsx)(S,{profileImageUrl:t.profileImageUrl,name:t.name}),(0,a.jsxs)("div",{className:"flex flex-col gap-0 overflow-hidden flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex gap-1 items-center min-w-0",children:[(0,a.jsx)("div",{className:"flex gap-1 items-center flex-1 min-w-0",children:(0,a.jsx)("span",{className:"text-sm text-primary truncate font-semibold min-w-0 leading-snug",children:t.name})}),(0,a.jsx)(k.S,{className:"text-sm whitespace-nowrap shrink-0 leading-snug",date:n,noTooltip:!0})]}),(0,a.jsxs)("span",{className:"text-sm text-secondary truncate leading-snug",children:["@",t.username]})]})]}),(0,a.jsx)("p",{dir:"auto",className:"text-primary text-sm mt-2 line-clamp-3",children:t.text})]})}function T(e){let{xPost:t,wide:s}=e,n=(0,d.S)(t.createTime),r="https://x.com/".concat(t.username,"/status/").concat(t.postId,"?referrer=grok-com"),i=(0,g._)();return(0,a.jsxs)("button",{className:(0,p.cn)("not-prose","grid grid-cols-[fit-content(100px)_1fr] grid-rows-[fit-content(100px)_1fr] gap-y-1 gap-x-2","bg-surface-l1 border border-border-l1 overflow-hidden","hover:bg-surface-l4-hover dark:hover:bg-surface-l2","rounded-3xl px-3.5 py-3","w-fit","flex-grow flex-shrink basis-0","text-start","select-text"),onClick:()=>{let e=window.getSelection();e&&e.toString()||(window.open(r,"_blank"),i("xpost_card_click",t.postId,{location:"citation:XPostConversationCard:click",href:r||""}))},children:[(0,a.jsx)("div",{className:(0,p.cn)("flex-shrink-0","col-span-1",s?"row-span-2":"row-span-1"),children:(0,a.jsx)(S,{profileImageUrl:t.profileImageUrl,name:t.name})}),(0,a.jsx)("div",{dir:"auto",className:(0,p.cn)("flex flex-col gap-1 items-start text-sm flex-1 overflow-hidden","col-span-1 row-span-1"),children:(0,a.jsxs)("div",{className:"flex flex-row gap-0 items-center flex-wrap w-full",children:[(0,a.jsx)(c.$n,{variant:"text",size:"none",className:"font-semibold truncate me-1",children:t.name}),t.verifiedType&&(0,a.jsx)("span",{className:"me-1",children:(0,a.jsx)(o.$h,{verifiedType:t.verifiedType})}),(0,a.jsxs)("div",{className:"flex flex-row gap-1 items-center flex-shrink text-secondary",children:[(0,a.jsxs)(c.$n,{variant:"textSecondary",size:"none",className:"truncate",children:["@",t.username]}),n&&(0,a.jsxs)(a.Fragment,{children:["•",(0,a.jsx)(k.S,{className:"whitespace-nowrap shrink-0 leading-none",date:n,noTooltip:!0})]})]})]})}),(0,a.jsx)("p",{dir:"auto",className:(0,p.cn)("text-sm text-primary leading-snug w-full line-clamp-3","row-span-1",s?"col-span-1":"col-span-2"),children:t.text})]})}function E(e){let{xPosts:t}=e,{t:s}=(0,f.Bd)("chat");return 0===t.length?null:1===t.length&&t[0]?(0,a.jsx)("div",{children:(0,a.jsx)(T,{xPost:t[0],wide:!0})}):2===t.length&&t[0]&&t[1]?(0,a.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,a.jsx)(T,{xPost:t[0]}),(0,a.jsx)(T,{xPost:t[1]})]}):t[0]&&t[1]&&t[2]?(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,a.jsx)(T,{xPost:t[0]}),(0,a.jsx)(T,{xPost:t[1]}),(0,a.jsx)(T,{xPost:t[2]})]}),t.length>3&&(0,a.jsx)("span",{className:"self-end",children:(0,a.jsx)(c.$n,{variant:"outline",size:"sm",onClick:()=>{n.aP.getState().toggleSidePanelContent({type:"xPosts",data:t})},children:s("xpostcard.see-all",{defaultValue_one:"See all ({{count}})",defaultValue_other:"See all ({{count}})",count:t.length})})})]}):null}let R=(0,h.forwardRef)((e,t)=>{let{children:s,className:n}=e;return(0,a.jsx)("div",{ref:t,className:(0,p.cn)("gap-1 inline-flex align-text-bottom items-center justify-center select-none transition","my-0 rounded-3xl px-2 py-0.5","bg-surface-l3 border border-border-l1","text-primary text-opacity-100","text-xs",n),children:s})});R.displayName="CitationPill";let A=h.forwardRef((e,t)=>{let{xPost:s,isClickable:n=!0,className:r,...o}=e,c=(0,g._)(),[l,d]=(0,h.useState)(!1),m=s.profileImageUrl&&!l?(0,a.jsx)("img",{className:"size-[16px] m-0 rounded-full",src:s.profileImageUrl,alt:"",onError:()=>d(!0)}):(0,a.jsx)(i.uv5,{className:"size-3 m-[3px]"});if(n){let e="https://x.com/".concat(s.username,"/status/").concat(s.postId,"?referrer=grok-com");return(0,a.jsx)("a",{className:"flex",href:e,target:"_blank",rel:"noopener noreferrer",...o,ref:t,onClick:()=>{c("xpost_pill_click",s.postId,{location:"citation:XPostPill:click",href:e})},children:(0,a.jsxs)(R,{className:(0,p.cn)(r,"opacity-70 hover:opacity-100 hover:filter-none"),children:[m,"@",s.username]})})}return(0,a.jsxs)("div",{className:(0,p.cn)(r,"opacity-100 ml-1.5"),...o,ref:t,children:[m,"@",s.username]})});function _(e){let{webSearchResults:t,xPosts:s,browsedUrls:r}=e,{t:o}=(0,f.Bd)("base"),i=(0,n.aP)(u.A("sidePanelContent")),c=(0,n.aP)(u.A("setSidePanelContent")),l=(0,h.useMemo)(()=>{if((null==i?void 0:i.type)!=="xPosts")return!1;let e=i.data.map(e=>e.citationId);return s.every((t,s)=>t.citationId===e[s])&&s.length===e.length},[i,s]),d=(0,h.useCallback)(()=>{if(l)return void c(void 0);c({type:"xPosts",data:s})},[l,s,c]),m=(0,h.useMemo)(()=>{if((null==i?void 0:i.type)!=="webSearchResults")return!1;let e=i.data.webSearchResults.map(e=>e.url);return t.every((t,s)=>t.url===e[s])&&t.length===e.length},[i,t]),k=(0,g._)(),b=(0,h.useCallback)(()=>{if(k("web_search_results_click",m?"webPagesSelected is open":"webPagesSelected is not open",{location:"citation:SearchResults:click",href:t.map(e=>e.url).join(",")}),m)return void c(void 0);c({type:"webSearchResults",data:{webSearchResults:t,browsedUrls:r}})},[k,t,m,c,r]);return 0!==t.length||0!==s.length||(null==r?void 0:r.length)?(0,a.jsxs)("div",{className:"search-results flex -ml-1 text-sm gap-2 mb-1",children:[s.length>0&&(0,a.jsxs)("div",{className:(0,p.cn)("flex flex-row items-center pr-4 py-1","rounded-full cursor-pointer","bg-foreground border border-card-border","hover:bg-card-hover hover:border-card-border-focus"),onClick:d,children:[s.slice(0,3).map((e,t)=>(0,a.jsx)("div",{style:{zIndex:3-t},children:(0,a.jsx)(C,{xPost:e,isClickable:!1,className:(0,p.cn)("flex bg-popover border border-background","z-".concat(3-t),t>0&&"-ms-2")})},t)),(0,a.jsx)("div",{className:"truncate",children:o("xPostsLabel",{count:s.length,defaultValue_one:"{{count}} \uD835\uDD4F post",defaultValue_other:"{{count}} \uD835\uDD4F posts"})})]}),t.length>0&&(0,a.jsxs)("div",{className:(0,p.cn)("flex flex-row items-center pe-3 ps-0.5 h-8 gap-1","rounded-full cursor-pointer bg-foreground","bg-foreground border border-card-border","hover:bg-card-hover hover:border-card-border-focus"),onClick:b,children:[t.slice(0,3).map((e,t)=>(0,a.jsx)("div",{style:{zIndex:3-t},children:(0,a.jsx)(v,{webSearchResult:e,isClickable:!1,className:(0,p.cn)("flex bg-popover overflow-hidden border border-background rounded-full","z-".concat(3-t),t>0&&"-ms-2.5")})},t)),(0,a.jsx)("div",{className:"truncate",children:o("webPages",{defaultValue_one:"one web page",defaultValue_other:"{{count}} web pages",count:t.length+((null==r?void 0:r.length)||0)})})]})]}):null}let O=h.forwardRef((e,t)=>{let{children:s,isClickable:n,url:o,className:i,asPill:c,...l}=e,d=(0,p.cn)("no-copy inline-flex align-text-bottom items-center justify-center select-none transition","my-0 rounded-md","bg-important border border-card-border",n?"opacity-60 hover:opacity-100 grayscale hover:filter-none":"opacity-100 ms-1.5",i),m=(0,g._)();return c?(0,a.jsx)("a",{href:o,target:"_blank",rel:"noopener noreferrer nofollow",className:(0,p.cn)("no-copy border-none inline-flex items-center justify-center ms-1","px-2 h-6 text-xs font-medium rounded-full","bg-surface-inset hover:!bg-surface-invert !text-secondary hover:!text-fg-invert","dark:bg-surface-l2 dark:hover:bg-surface-l4 dark:text-fg-secondary dark:hover:text-fg-primary","visited:text-secondary dark:visited:text-fg-secondary","focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","!no-underline hover:!no-underline",i),onClick:()=>{m("citation_click",o,{location:"citation:InlineCitationChip:click",href:o||""});let e=r.x.getState();(0,b.N8)("InlineCitationChip",{type:"citation_click",subscriptionTier:e.bestSubscription||"unknown"})},ref:t,...l,children:s}):n&&o?(0,a.jsx)("a",{href:o,target:"_blank",rel:"noopener noreferrer nofollow",className:(0,p.cn)("no-copy citation","web-search-result-chip","focus:outline-none focus-visible:outline-none focus-visible:bg:input rounded-md ms-1 me-0.5"),ref:t,onClick:()=>{m("citation_click",o,{location:"citation:InlineCitationChip:click",href:o||""})},...l,children:(0,a.jsx)("div",{className:d,children:s})}):(0,a.jsx)("div",{className:d,...l,ref:t,children:s})});O.displayName="InlineCitationChip"},71019:(e,t,s)=>{"use strict";s.d(t,{j:()=>o});var a=s(79342),n=s(11750);s(88382);var r=s(14908);let o={success:e=>(0,r.oR)((0,a.jsxs)("div",{className:"flex items-center gap-3 font-bold text-sm",children:[(0,a.jsx)(n.rAV,{size:16,className:"shrink-0"}),e]})),error:e=>(0,r.oR)((0,a.jsxs)("div",{className:"flex items-center gap-3 font-bold text-sm",children:[(0,a.jsx)(n.lW3,{size:16,className:"text-red-300 shrink-0"}),e]}))}},71307:(e,t,s)=>{"use strict";s.d(t,{d:()=>f});var a=s(79342),n=s(11750),r=s(52619),o=s(75500),i=s(61312),c=s(38541),l=s.n(c),d=s(84969),g=s(23054),m=s(88382),p=s(65146),u=s(9037),h=s(17704);function f(e){var t;let{response:s,isStreaming:n}=e,c=(0,o.h)(),[p,h]=(0,m.useState)(void 0),f=(0,m.useRef)(null),[x,w]=(0,m.useState)(50),[v,y]=(0,m.useState)([,,,,].fill(!1)),j=(0,m.useCallback)(()=>{if(f.current){let e=!!p;w(Math.max(10,Math.min(Math.floor((f.current.clientWidth-100*!!e)/4),200)))}},[p]);(0,m.useLayoutEffect)(()=>{j();let e=new ResizeObserver(j);return f.current&&e.observe(f.current),window.addEventListener("resize",j),()=>{e.disconnect(),window.removeEventListener("resize",j)}},[p,j]);let N=null!=(t=s.progressReportById)?t:{},C=Array.from({length:4},(e,t)=>t.toString()),S=e=>{y(t=>{let s=[...t];return s[e]=!s[e],s})},I=l().groupBy(s.traceSteps,"rolloutId"),T=!!s.error||!n&&!!s.partial,E=!!s.message||T;return(0,a.jsx)(r.nD,{type:"single",collapsible:!0,value:p,onValueChange:h,children:(0,a.jsxs)(r.As,{value:"heavy",className:(0,i.cn)("flex flex-col -mx-2 gap-3 p-4 bg-surface-l1 border border-border-l1 rounded-2xl"),children:[(0,a.jsx)(b,{response:s,value:p,containerRef:f,orderedIds:C,progressByRolloutId:N,numCols:x,isStreaming:n,isInterrupted:T,isFinishedThinking:E}),(0,a.jsx)(r.ub,{className:"overflow-hidden",children:(0,a.jsx)(d.N,{children:(0,a.jsx)(g.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.1},className:"flex flex-col gap-2 overflow-hidden",children:Array.from({length:4}).map((e,t)=>{var n,r;let o=C[t]?N[C[t]]:void 0,l=C[t],m=l&&I[l]||[];return(0,a.jsxs)(g.P.div,{layout:!0,transition:{duration:.2},className:"flex flex-col gap-2",children:[(0,a.jsx)("div",{className:"group/agent",children:(0,a.jsx)(k,{index:t,progressReport:o,isExpanded:null!=(n=v[t])&&n,onToggle:()=>S(t),numCols:x,isFinishedThinking:E,steps:m})}),(0,a.jsx)(d.N,{children:c.ENABLE_HEAVY_NOTE&&m.length>0&&v[t]&&(0,a.jsx)(g.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:(0,i.cn)("ms-2.5 bg-surface-l2 overflow-hidden","border border-border-l1 rounded-2xl"),children:(0,a.jsx)("div",{className:(0,i.cn)("relative isolate","w-full h-full bg-transparent overflow-hidden","max-h-[20vh]","flex flex-col justify-end","px-3 leading-snug"),children:(0,a.jsx)(u.y0,{traceSteps:m,responseId:null!=(r=s.responseId)?r:"",isStreaming:!E,flattenToolUsageCards:!0})})})})]},t)})})})})]})})}function k(e){var t;let{index:s,progressReport:r,isExpanded:c,onToggle:l,numCols:m,isFinishedThinking:u,steps:h}=e,{t:f}=(0,p.Bd)("base"),k=(0,o.h)(),b=f("heavy-thinking-box.agent","Agent {{number}}",{number:String(s+1).padStart(2,"0")}),w=f("heavy-thinking-box.agent-completed","Agent {{number}} Completed",{number:String(s+1).padStart(2,"0")}),v=u?w:b,y=u?n.Jlk:h&&(null==(t=h[h.length-1])?void 0:t.type)==="tool"?n.vji:n.Sxh;return k.ENABLE_HEAVY_NOTE&&0!==h.length?(0,a.jsxs)("div",{className:(0,i.cn)("flex flex-row items-center gap-2 cursor-pointer text-secondary"),onClick:l,children:[(0,a.jsxs)("div",{className:"flex items-center justify-center relative",children:[(0,a.jsx)(y,{size:16,className:(0,i.cn)("-mt-[1px] group-hover/agent:opacity-0 transition-all",!u&&"animate-pulse group-hover/agent:animate-none")}),(0,a.jsx)(g.P.div,{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover/agent:opacity-100 transition-opacity",animate:{rotate:c?0:-90},transition:{duration:.1},children:(0,a.jsx)(n.yQN,{size:16})})]}),(0,a.jsx)("div",{className:(0,i.cn)("font-mono uppercase text-xs select-none me-1 shrink-0"),children:v}),!u&&(0,a.jsx)(x,{progress:null==r?void 0:r.percentage,index:s,numCols:m,height:4,showLoading:!0})]}):(0,a.jsxs)("div",{className:"flex flex-row items-center gap-2 text-secondary",children:[(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsx)(y,{size:16,className:(0,i.cn)("-mt-[1px]",!u&&"animate-pulse")})}),(0,a.jsx)("div",{className:(0,i.cn)("font-mono uppercase text-xs select-none me-1 shrink-0"),children:v}),!u&&(0,a.jsx)(d.N,{mode:"wait",children:(0,a.jsx)(x,{progress:null==r?void 0:r.percentage,index:s,numCols:m,height:4,showLoading:!0})})]})}function b(e){let{response:t,value:s,containerRef:n,orderedIds:c,progressByRolloutId:l,numCols:u,isStreaming:f,isInterrupted:k,isFinishedThinking:b}=e,{t:w}=(0,p.Bd)("base"),v=(0,o.h)().ENABLE_HEAVY_NOTE&&t.traceSteps&&t.traceSteps.length>0,y=(0,m.useMemo)(()=>k?w("heavy-thinking-box.status.interrupted","Interrupted"):t.message?w("heavy-thinking-box.status.completed","Completed"):w("heavy-thinking-box.status.agents-working","Agents Working"),[k,t.message,w]),j=f&&!t.message?"bg-green-300 animate-pulse":t.message?"bg-blue-300":"bg-secondary",N=!!t.thinkingEndTime||!!t.liveThinkingEndTime,{formattedDuration:C}=(0,h.h)(t,N),S=(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-sans font-semibold text-primary",children:y}),(0,a.jsx)("span",{className:"font-mono text-secondary",children:"\xb7"}),(0,a.jsx)("span",{className:"font-mono uppercase text-primary",children:w("heavy-thinking-box.grok-4-heavy","Grok 4 Heavy")}),!(!N&&b)&&C&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"font-mono text-secondary",children:"\xb7"}),(0,a.jsx)("span",{className:"font-mono uppercase text-secondary",children:C})]})]}),I=f||v?(0,a.jsx)(r.$m,{chevronPosition:"before",icon:(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(j)}),chevronClassName:"w-5 h-5",children:S}):(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"me-2 h-4 w-4 shrink-0 flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(j)})}),S]});return(0,a.jsxs)("div",{className:"font-mono text-secondary text-sm",children:[I,!b&&(0,a.jsx)(d.N,{children:(0,a.jsx)(g.P.div,{variants:{closed:{opacity:1,height:"auto"},open:{opacity:0,height:0}},animate:s?"open":"closed",transition:{duration:.2},className:(0,i.cn)(s?"mt-0":"mt-3"),children:(0,a.jsx)("div",{ref:n,className:"w-full",children:(0,a.jsx)("div",{className:"flex flex-col gap-[1px] w-full",children:Array.from({length:4}).map((e,t)=>{let s=c[t],n=s?l[s]:void 0;return(0,a.jsx)(x,{progress:b?1:null==n?void 0:n.percentage,numCols:u,height:1,index:t},s)})})})})})]})}let x=m.memo(function(e){let{progress:t,numCols:s,height:n=1,showLoading:r=!1,index:o=0}=e,{t:i}=(0,p.Bd)("base"),c=Math.floor((null!=t?t:0)*s);if(null==t&&r)return(0,a.jsxs)(g.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-row items-center gap-1",children:[(0,a.jsx)("div",{className:"grid grid-rows-4 grid-cols-4 gap-[2px] mb-0.5",children:Array.from({length:16}).map((e,t)=>(0,a.jsx)(g.P.div,{className:"w-[2px] h-[2px] rounded-full bg-[hsla(var(--secondary)/0.25)]",animate:{opacity:[.25,1,.25]},transition:{duration:1.5,repeat:1/0,delay:t%4*.2+.1*Math.floor(t/4)+.2*o,ease:"easeInOut"}},t))}),(0,a.jsx)("span",{className:"font-mono uppercase text-secondary/25 text-xs",children:i("heavy-thinking-box.initializing","Initializing...")})]},"init-".concat(o));let l=c/s*100,d="radial-gradient(circle 1px at 50% 50%, black 0, black 1px, transparent 1px)",m={WebkitMaskImage:d,maskImage:d,WebkitMaskRepeat:"repeat",maskRepeat:"repeat",WebkitMaskSize:"".concat(4,"px ").concat(4,"px"),maskSize:"".concat(4,"px ").concat(4,"px")};return(0,a.jsx)(g.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},style:{width:"".concat(4*s,"px"),height:"".concat(4*n,"px")},className:"overflow-hidden",children:(0,a.jsxs)("div",{className:"relative w-full h-full",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-[hsla(var(--secondary)/0.25)]",style:m}),(0,a.jsx)(g.P.div,{className:"absolute inset-0 overflow-hidden",initial:{width:"".concat(l,"%")},animate:{width:"".concat(l,"%")},transition:{duration:.3,ease:"linear"},children:(0,a.jsx)("div",{className:"absolute inset-0 bg-sunset",style:m})})]})},"matrix-".concat(o))})},71716:(e,t,s)=>{"use strict";s.d(t,{f:()=>r});var a=s(64332);let n=new Worker(s.tu(new URL(s.p+s.u(75318),s.b)),{type:void 0}),r=a.LV(n)},71865:(e,t,s)=>{"use strict";s.d(t,{d:()=>i,n:()=>o});var a=s(79342),n=s(625),r=s(24429);function o(){let{isEnterpriseUser:e}=(0,r.Q2)(),{currentTeam:t}=(0,n.hd)();return e&&!!(null==t?void 0:t.teamId)}function i(e){let{children:t,requiredAcl:s,requireTeams:r=!1,requireSelectedTeam:o=!1,loadingFallback:i,errorFallback:c,permissionDeniedFallback:l}=e,{currentTeam:d,isLoadingAcls:g,aclsError:m,teams:p,isLoadingTeams:u,teamsError:h,refreshAcls:f,checkPermission:k}=(0,n.hd)(),b=!!s&&!!(null==d?void 0:d.teamId),x=r||o&&!(null==d?void 0:d.teamId);if((b&&g||x&&u)&&i)return(0,a.jsx)(a.Fragment,{children:i});let w=b?m:x?h:void 0;if(w&&c){let e=b?f:()=>Promise.resolve();return(0,a.jsx)(a.Fragment,{children:"function"==typeof c?c(w,e):c})}if(o&&!(null==d?void 0:d.teamId))return"function"==typeof l?l(["team-selected"]):l||null;if(r&&(!p||0===p.length))return"function"==typeof l?l(["teams-list"]):l||null;if(s&&(null==d?void 0:d.teamId)&&!k(s)){if(l){let e=(Array.isArray(s)?s:[s]).filter(e=>!k(e));return(0,a.jsx)(a.Fragment,{children:"function"==typeof l?l(e):l})}return null}return(0,a.jsx)(a.Fragment,{children:t})}},72137:(e,t,s)=>{"use strict";s.d(t,{b:()=>u});var a=s(79342),n=s(7130),r=s(61312),o=s(63502),i=s(16506),c=s(88382),l=s(48521),d=s(38541),g=s.n(d);function m(e){if("number"==typeof e)return e;if(e.length>0){let t=Number(e);isNaN(t)||(e=t)}return e}let p={};function u(e){let{headers:t=[],rows:s,rowCount:d=s.length,colCount:u=t.length,editable:h=!1,onCellsEdited:f,rowHeight:k=44,headerHeight:b=40,colGrow:x=!0,theme:w=p,rowMarkers:v=!0,width:y="auto",height:j="auto",...N}=e,{resolvedTheme:C}=(0,i.D)(),S=(0,c.useMemo)(()=>({..."dark"===C?l.R6:l.b,headerFontStyle:"600 14px",...w}),[C,w]),I=c.useMemo(()=>"dark"===C?l.__:l.mX,[C]),T=(0,c.useCallback)(e=>{var t,a;let[n,r]=e,i=String(null!=(a=null==(t=s[r])?void 0:t[n])?a:"");return{kind:o.dd.Text,displayData:i,data:i,allowOverlay:h}},[s,h]),E=(0,c.useCallback)(e=>!!h&&!!f&&(f(e.map(e=>{let{location:[t,s],value:a}=e;return{col:t,row:s,value:a.data}})),!0),[h,f]),[R,A]=(0,c.useState)(Array.from({length:u},(e,s)=>{var a;return{id:String(s),title:String(null!=(a=t[s])?a:""),grow:x?1:void 0}}));(0,c.useEffect)(function(){A(e=>Array.from({length:u},(s,a)=>{var n,r;return{...null!=(n=e[a])?n:{id:String(a)},title:String(null!=(r=t[a])?r:""),grow:x?1:void 0}}))},[t,u,x]);let[_,O]=(0,c.useState)(null);(0,c.useEffect)(function(){A(e=>e.map((e,t)=>{let s;return _&&_.col===t&&(s="asc"===_.direction?"headerArrowUp":"headerArrowDown"),{...e,indicatorIcon:s}}))},[_]);let P=(0,c.useCallback)((e,t)=>{A(s=>s.map(s=>e===s?{...s,width:t}:s))},[]),M=(0,c.useCallback)(e=>{O(t=>t&&t.col===e?"asc"===t.direction?{col:e,direction:"desc"}:null:{col:e,direction:"asc"})},[]),L=function(e){var t;let{sort:s,rows:a,getCellContent:n}=e,r=void 0===s?void 0:e.columns.findIndex(e=>s.column===e||void 0!==e.id&&s.column.id===e.id);-1===r&&(r=void 0);let i=null!=(t=null==s?void 0:s.direction)?t:"asc",l=c.useMemo(()=>{let e;if(void 0===r)return;let t=Array(a),c=[r,0];for(let e=0;e<a;e++)c[1]=e,t[e]=function(e){var t,s,a,n,r;switch(e.kind){case o.dd.Number:return null!=(s=null==(t=e.data)?void 0:t.toString())?s:"";case o.dd.Boolean:return null!=(n=null==(a=e.data)?void 0:a.toString())?n:"";case o.dd.Markdown:case o.dd.RowID:case o.dd.Text:case o.dd.Uri:return null!=(r=e.data)?r:"";case o.dd.Bubble:case o.dd.Image:return e.data.join("");case o.dd.Drilldown:return e.data.map(e=>e.text).join("");case o.dd.Protected:case o.dd.Loading:return"";case o.dd.Custom:return e.copyData}}(n(c));return e=(null==s?void 0:s.mode)==="raw"?g().range(a).sort((e,s)=>{var a,n;return(a=t[e])>(n=t[s])?1:a===n?0:-1}):(null==s?void 0:s.mode)==="smart"?g().range(a).sort((e,s)=>(function(e,t){if(e=m(e),t=m(t),"string"==typeof e&&"string"==typeof t)return e.localeCompare(t);if("number"==typeof e&&"number"==typeof t){if(e===t)return 0}else if(e==t)return 0;return e>t?1:-1})(t[e],t[s])):g().range(a).sort((e,s)=>t[e].localeCompare(t[s])),"desc"===i&&e.reverse(),e},[n,a,null==s?void 0:s.mode,i,r]),d=c.useCallback(e=>void 0===l?e:l[e],[l]),p=c.useCallback(e=>{let[t,s]=e;return void 0===l?n([t,s]):n([t,l[s]])},[n,l]);return void 0===l?{getCellContent:e.getCellContent,getOriginalIndex:d}:{getOriginalIndex:d,getCellContent:p}}({columns:R,rows:d,getCellContent:T,sort:_?{column:R[_.col],direction:_.direction,mode:"smart"}:{column:R[0]}});return(0,a.jsx)(n.H,{className:(0,r.cn)(N.className,"overscroll-contain"),width:"auto"===y?void 0:"100%",height:"auto"===j?void 0:"100%",columns:R,rows:s.length,onCellsEdited:E,onColumnResize:P,rowMarkers:{kind:v?"clickable-number":"none",theme:I},verticalBorder:!0,rowHeight:k,headerHeight:b,theme:S,onHeaderClicked:e=>M(e),onHeaderIndicatorClick:e=>M(e),copyHeaders:!0,getCellsForSelection:!0,...L,...N})}},72993:(e,t,s)=>{"use strict";s.d(t,{n:()=>v,C:()=>R});var a=s(79342),n=s(69358),r=s(39489),o=s(54344),i=s(56691),c=s(39729),l=s(80226),d=s(24734),g=s(7658),m=s(88382),p=s(65146),u=s(91623),h=s(11750),f=s(37469),k=s(23054),b=s(58247);function x(e){let{assets:t,placeholder:s,uploadingFiles:n,onRemoveAsset:r,workspaceId:o,isReadonly:i}=e,c=(0,g.P9)(o);return t.length+n.length+c.length===0?null!=s?s:(0,a.jsx)(w,{}):(0,a.jsxs)("div",{className:"flex-1 flex flex-col gap-1 @sm:grid @sm:grid-cols-2 @sm:auto-rows-max",children:[n.map((e,t)=>(0,a.jsx)(k.P.div,{className:"max-w-full",initial:{opacity:0,translateY:-10},animate:{opacity:1,translateY:0},exit:{opacity:0,translateY:-10},children:(0,a.jsx)(u.t,{file:e,onRemoveFile:()=>{},metadata:void 0})},"file"+t)),c.map((e,t)=>(0,a.jsx)(k.P.div,{className:"max-w-full",initial:{opacity:0,translateY:-10},animate:{opacity:1,translateY:0},exit:{opacity:0,translateY:-10},children:(0,a.jsx)(u.t,{file:new File([e.thirdPartyFileId],e.name),onRemoveFile:()=>{},metadata:{fileMimeType:e.mimeType,fileName:e.name,thirdPartyFileId:e.thirdPartyFileId}})},"file"+t)),t.map((e,t)=>{var s;return(0,a.jsx)(k.P.div,{className:"max-w-full",initial:{opacity:0,translateY:-10},animate:{opacity:1,translateY:0},exit:{opacity:0,translateY:-10},children:(0,a.jsx)(f.u,{asset:e,onRemoveAsset:i?void 0:r,labelClassName:"sm:max-w-full flex-1",hideEdit:!0})},null!=(s=e.assetId)?s:t)})]})}function w(){let{t:e}=(0,p.Bd)("workspace");return(0,a.jsx)("div",{children:(0,a.jsx)(b.S,{icon:(0,a.jsx)(h.XRf,{size:20,strokeWidth:1.5}),title:e("workspace-assets-empty.title","No files yet"),subtitle:e("workspace-assets-empty.text","Start by attaching files to your project. They will be used in all chats in this project.")})})}function v(e){var t;let{workspace:s,placeholder:n}=e,i=null!=(t=s.workspaceId)?t:"",{data:c,isPending:l,isError:p,refetch:u}=(0,g.UL)(i),{SHARED_ASSET_SERVER_URL:h}=(0,r.v)(),f=(0,g.Ch)(i),{mutate:k,error:b}=(0,g.Ep)(i);(0,d.Y)("assets-section:removeAsset",b);let w=(0,m.useMemo)(()=>{var e;let t=null!=(e=null==c?void 0:c.assets)?e:[];return s.isReadonly?t.map(e=>{var t,s;return t=e,s=h,{...t,key:t.workspaceSharingKey?"".concat(s,"/").concat(t.workspaceSharingKey):t.key,previewImageKey:t.workspaceSharingPreviewImageKey?"".concat(s,"/").concat(t.workspaceSharingPreviewImageKey):t.previewImageKey}}):t},[h,null==c?void 0:c.assets,s.isReadonly]);return l?(0,a.jsx)(y,{}):p?(0,a.jsx)(N,{onRefetch:u}):(0,a.jsx)("section",{className:"flex-1 w-full h-full flex flex-col gap-2 relative",children:(0,a.jsx)(o.D,{fadeSize:"md",className:"py-2",children:(0,a.jsx)(x,{workspaceId:i,uploadingFiles:f,assets:w,placeholder:n,onRemoveAsset:e=>{e.assetId&&k(e.assetId)},isReadonly:s.isReadonly})})})}function y(){return(0,a.jsx)(n.P,{children:(0,a.jsxs)("div",{"aria-busy":"true",className:"flex flex-col gap-2 @sm:grid @sm:grid-cols-2 @sm:auto-rows-max",children:[(0,a.jsx)(j,{}),(0,a.jsx)(j,{}),(0,a.jsx)(j,{}),(0,a.jsx)(j,{})]})})}function j(){return(0,a.jsx)(l.E,{className:"bg-warm-gray-100 dark:bg-gray-900 h-10"})}function N(e){let{onRefetch:t}=e,{t:s}=(0,p.Bd)("workspace");return(0,a.jsxs)(c.Zp,{className:"flex flex-col items-center px-8 py-4",variant:"ghost",children:[s("assets-loading-error.title","Unable to load assets"),(0,a.jsx)(i.$n,{variant:"outline",size:"md",onClick:t,children:s("assets-loading-error.cta","Retry")})]})}var C=s(82451),S=s(23232),I=s(75500),T=s(44566),E=s(61312);function R(e){var t;let{workspaceId:s,onFileAddStarted:n,isReadonly:r,className:o}=e,{t:i}=(0,p.Bd)("workspace"),c=(0,S._)(),l=(0,I.Ne)(),{data:u}=(0,g.UL)(s),h=(0,m.useMemo)(()=>{var e;return null!=(e=null==u?void 0:u.assets)?e:[]},[null==u?void 0:u.assets]),f=(0,m.useRef)(null),k=(0,m.useCallback)(()=>{var e;null==(e=f.current)||e.click()},[]),b=(0,T.x)(s),{mutate:x,error:w}=(0,g.Iv)(s);(0,d.Y)("attach-dropdown:upload",w);let{mutate:v,error:y}=(0,g.PQ)(s);(0,d.Y)("attach-dropdown:uploadThirdParty",y);let{mutate:j,error:N}=(0,g.mT)(s);(0,d.Y)("attach-dropdown:attachAsset",N);let R=(0,m.useCallback)(e=>{if(null==n||n(),h.length+e.length>l){b(),c("ws_max_files_alert",void 0,{location:"file-upload"});return}e.forEach(e=>x(e))},[n,h.length,b,c,x,l]),A=(0,m.useCallback)(e=>{e.target.files&&(null==n||n(),R(Array.from(e.target.files)))},[n,R]),_=(0,m.useCallback)(()=>(0,a.jsx)("input",{ref:f,className:"hidden",type:"file",onChange:A,multiple:!0,"data-testid":"file-input"}),[A]),{data:O}=(0,g.qN)(),P=null!=(t=null==O?void 0:O.assets)?t:[];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C.z,{label:i("workspace-assets.attach","Attach"),inlineLabel:!0,handleClickUpload:k,onAttachAsset:e=>{if(e&&(null==n||n(),!h.some(t=>t.assetId===e.assetId))){if(h.length+1>l){b(),c("ws_max_files_alert",void 0,{location:"attach-asset"});return}j(e)}},assets:P,handleUploadThirdParty:(e,t,s,a)=>{if(!h.some(e=>e.thirdPartyFileId===a)){if(h.length+1>l){b(),c("ws_max_files_alert",void 0,{location:"attach-3rd-party"});return}v({name:e,mimeType:t,fileSource:s,thirdPartyFileId:a})}},className:(0,E.cn)("w-auto me-[1px]",o),attachFiles:R,disabled:r,tooltipContent:r&&i("project-asset-button.readonly-tooltip","You don't have permissions to attach files")}),_()]})}},73304:(e,t,s)=>{"use strict";s.d(t,{d:()=>g});var a=s(18921),n=s(95158),r=s(65258),o=s(82509),i=s(17823),c=s(38614);let l={userActiveTasks:[],userInactiveTasks:[],taskUsage:void 0,unreadResults:[],unreadCounts:[],selectedTaskIdForSidePanel:void 0,createDialogIsOpen:!1,toolDocsDialogIsOpen:!1,taskToEdit:void 0,taskPageTabMode:a.RJ.ACTIVE,activeTasksPromise:void 0,inactiveTasksPromise:void 0,initialized:!1};class d{constructor(e,t){this.set=e,this.get=t,this.selectedTaskIdForSidePanel=l.selectedTaskIdForSidePanel,this.createDialogIsOpen=l.createDialogIsOpen,this.toolDocsDialogIsOpen=l.toolDocsDialogIsOpen,this.taskToEdit=l.taskToEdit,this.taskPageTabMode=l.taskPageTabMode,this.userActiveTasks=l.userActiveTasks,this.userInactiveTasks=l.userInactiveTasks,this.taskUsage=l.taskUsage,this.unreadResults=l.unreadResults,this.unreadCounts=l.unreadCounts,this.activeTasksPromise=l.activeTasksPromise,this.inactiveTasksPromise=l.inactiveTasksPromise,this.initialized=l.initialized,this.setSelectedTaskIdForSidePanel=e=>this.set(t=>(e&&c.aP.getState().closeSidePanel(),{...t,selectedTaskIdForSidePanel:e})),this.setCreateDialogIsOpen=e=>this.set(t=>e?(c.aP.getState().closeSidePanel(),{createDialogIsOpen:!0,selectedTaskIdForSidePanel:void 0,taskToEdit:void 0}):{...t,createDialogIsOpen:!1,taskToEdit:void 0}),this.setTaskToEdit=e=>this.set(t=>(e&&c.aP.getState().closeSidePanel(),{...t,taskToEdit:e,createDialogIsOpen:!!e})),this.setTaskPageTabMode=(0,r.kp)(this.set,"taskPageTabMode"),this.setToolDocsDialogIsOpen=(0,r.kp)(this.set,"toolDocsDialogIsOpen"),this.setUserActiveTasks=(0,r.kp)(this.set,"userActiveTasks"),this.setUserInactiveTasks=(0,r.kp)(this.set,"userInactiveTasks"),this.setTaskUsage=(0,r.kp)(this.set,"taskUsage"),this.setUnreadResults=(0,r.kp)(this.set,"unreadResults"),this.setUnreadCounts=(0,r.kp)(this.set,"unreadCounts"),this.setActiveTasksPromise=(0,r.kp)(this.set,"activeTasksPromise"),this.setInactiveTasksPromise=(0,r.kp)(this.set,"inactiveTasksPromise"),this.setInitialized=()=>this.set(()=>({initialized:!0})),this.fetchUserTasks=()=>{let e=this.get();if(e.activeTasksPromise&&e.inactiveTasksPromise)return Promise.all([e.activeTasksPromise,e.inactiveTasksPromise]);let t=n.Cs.grokTasksGetUserTasks().then(e=>{var t,s,a;let n=this.get();return n.setUserActiveTasks(null!=(t=e.tasks)?t:[]),n.setUnreadResults(null!=(s=e.unreadResults)?s:[]),n.setUnreadCounts(null!=(a=e.unreadCounts)?a:[]),n.setTaskUsage(e.taskUsage),e}),s=n.Cs.grokTasksGetInactiveUserTasks().then(e=>{var t;return this.get().setUserInactiveTasks(null!=(t=e.tasks)?t:[]),e});return e.setActiveTasksPromise(t),e.setInactiveTasksPromise(s),t.then(t=>{var s,a,n;e.setUserActiveTasks(null!=(s=t.tasks)?s:[]),e.setUnreadResults(null!=(a=t.unreadResults)?a:[]),e.setUnreadCounts(null!=(n=t.unreadCounts)?n:[]),e.setTaskUsage(t.taskUsage)}).catch(e=>{console.error(e)}).finally(()=>e.setActiveTasksPromise(void 0)),s.then(t=>{var s;e.setUserInactiveTasks(null!=(s=t.tasks)?s:[])}).catch(e=>{console.error(e)}).finally(()=>e.setInactiveTasksPromise(void 0)),Promise.all([t,s])}}}let g=(0,o.v)()((0,i.eh)((e,t)=>new d(e,t)))},73459:(e,t,s)=>{"use strict";s.d(t,{w:()=>a.w});var a=s(19841)},73772:(e,t,s)=>{"use strict";s.d(t,{M5:()=>f,SQ:()=>k,_2:()=>b,dc:()=>m,hO:()=>x,lv:()=>p,mB:()=>w,nV:()=>h,rI:()=>d,ty:()=>g});var a=s(79342),n=s(61312),r=s(19287),o=s(52970),i=s(11750),c=s(88382),l=s(21847);let d=r.bL,g=r.l9;r.YJ;let m=r.ZL,p=r.Pb;r.z6;let u=(0,n.cn)("overflow-auto max-h-[--radix-dropdown-menu-content-available-height] rounded-2xl bg-surface-l4 border border-border-l1 text-primary backdrop-blur-md p-1 shadow-sm shadow-black/5","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[var(--radix-dropdown-menu-content-transform-origin)]"),h=c.forwardRef((e,t)=>{let{className:s,inset:i,children:c,...l}=e;return(0,a.jsxs)(r.ZP,{ref:t,className:(0,n.cn)("flex cursor-pointer select-none items-center rounded-xl px-3 py-2 text-sm outline-none focus:bg-button-ghost-hover data-[state=open]:bg-button-ghost-hover [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",i&&"pl-8",s),...l,children:[c,(0,a.jsx)(o.vKP,{className:"ms-auto text-fg-secondary"})]})});h.displayName=r.ZP.displayName;let f=c.forwardRef((e,t)=>{let{className:s,sideOffset:o=4,...i}=e;return(0,a.jsx)(r.ZL,{children:(0,a.jsx)(r.G5,{ref:t,sideOffset:o,collisionPadding:{top:16,left:16,right:16,bottom:16},className:(0,n.cn)(u,s),...i})})});f.displayName=r.G5.displayName;let k=c.forwardRef((e,t)=>{let{className:s,sideOffset:o=4,...i}=e;return(0,a.jsx)(r.ZL,{children:(0,a.jsx)(r.UC,{ref:t,sideOffset:o,collisionPadding:{top:16,left:16,right:16,bottom:16},className:(0,n.cn)(u,s),...i})})});k.displayName=r.UC.displayName;let b=c.forwardRef((e,t)=>{let{className:s,inset:o,onClick:i,onSelect:d,...g}=e,m=c.useCallback(e=>{console.warn("DropdownMenuItem: Use `onSelect` instead of `onClick` for proper keyboard navigation and accessibility."),null==i||i(e)},[i]);return(0,a.jsx)(r.q7,{ref:t,className:(0,n.cn)("relative flex select-none items-center cursor-pointer px-3 py-2 rounded-xl text-sm outline-none focus:bg-button-ghost-hover aria-disabled:opacity-50 aria-disabled:cursor-not-allowed",o&&"pl-8",s),onSelect:(0,l.m)(d,i&&m),...g})});b.displayName=r.q7.displayName;let x=c.forwardRef((e,t)=>{let{className:s,children:i,checked:c,...l}=e;return(0,a.jsxs)(r.H_,{ref:t,className:(0,n.cn)("relative flex cursor-pointer select-none items-center rounded-xl py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-button-ghost-hover focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:c,...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(r.VF,{children:(0,a.jsx)(o.Srz,{className:"w-4 h-4"})})}),i]})});x.displayName=r.H_.displayName,c.forwardRef((e,t)=>{let{className:s,children:o,...c}=e;return(0,a.jsxs)(r.hN,{ref:t,className:(0,n.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-popover-hover focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...c,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(r.VF,{children:(0,a.jsx)(i.jlt,{className:"w-2 h-2 fill-current"})})}),o]})}).displayName=r.hN.displayName,c.forwardRef((e,t)=>{let{className:s,inset:o,...i}=e;return(0,a.jsx)(r.JU,{ref:t,className:(0,n.cn)("px-2 py-1.5 text-sm font-semibold",o&&"pl-8",s),...i})}).displayName=r.JU.displayName;let w=c.forwardRef((e,t)=>{let{className:s,...o}=e;return(0,a.jsx)(r.wv,{ref:t,className:(0,n.cn)("mx-2 my-1 h-px bg-border-l1",s),...o})});w.displayName=r.wv.displayName},74366:(e,t,s)=>{"use strict";s.d(t,{G7:()=>l,L$:()=>m,h_:()=>p,oI:()=>d,uB:()=>c,xL:()=>g});var a=s(79342);s(13103);var n=s(61312),r=s(52970),o=s(39551),i=s(88382);let c=i.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(o.uB,{ref:t,className:(0,n.cn)("flex w-full flex-col overflow-hidden rounded-xl text-popover-foreground",s),...r})});c.displayName=o.uB.displayName;let l=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,a.jsxs)("div",{className:"flex items-center border-b-2 border-input-border px-3","cmdk-input-wrapper":"",children:[(0,a.jsx)(r.$p$,{className:"me-2 h-4 w-4 shrink-0 opacity-50"}),(0,a.jsx)(o.uB.Input,{ref:t,className:(0,n.cn)("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",s),...i})]})});l.displayName=o.uB.Input.displayName;let d=i.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(o.uB.List,{ref:t,className:(0,n.cn)("overflow-y-auto overflow-x-hidden p-1",s),...r})});d.displayName=o.uB.List.displayName;let g=i.forwardRef((e,t)=>(0,a.jsx)(o.uB.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));g.displayName=o.uB.Empty.displayName;let m=i.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(o.uB.Group,{ref:t,className:(0,n.cn)("overflow-hidden px-2.5 py-2 text-sm text-muted-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",s),...r})});m.displayName=o.uB.Group.displayName,i.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(o.uB.Separator,{ref:t,className:(0,n.cn)("-mx-1 h-px bg-border",s),...r})}).displayName=o.uB.Separator.displayName;let p=i.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(o.uB.Item,{ref:t,className:(0,n.cn)("relative flex cursor-default select-none items-center gap-2 px-3.5 py-3 text-sm outline-none","after:absolute after:inset-1 after:rounded-lg after:transition ease-in-out","focus:after:bg-card-hover","[&[data-selected='true']]:after:bg-card-hover",s),...r})});p.displayName=o.uB.Item.displayName},74933:(e,t,s)=>{"use strict";s.d(t,{p:()=>o});var a=s(79342),n=s(88382),r=s(61312);let o=n.forwardRef((e,t)=>{let{className:s,type:n,...o}=e;return(0,a.jsx)("input",{type:n,className:(0,r.cn)("flex h-9 w-full rounded-md border border-input-border bg-transparent px-3 py-1 text-sm shadow-sm file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...o})});o.displayName="Input"},75036:(e,t,s)=>{"use strict";s.d(t,{h:()=>n});var a=s(88382);let n=(e,t)=>(0,a.useCallback)((s,a,n)=>{let r=Math.abs(s),{divisor:o,suffix:i}=(e?[{limit:1e12,divisor:1e12,suffix:"T"},{limit:1e9,divisor:1e9,suffix:"B"},{limit:1e6,divisor:1e6,suffix:"M"},{limit:1e3,divisor:1e3,suffix:"K"},{limit:0,divisor:1,suffix:""}]:[{limit:0,divisor:1,suffix:""}]).find(e=>r>=e.limit),c=new Intl.NumberFormat(t||"en-US",{minimumFractionDigits:0,maximumFractionDigits:2}).format(r/o);return"".concat(s<0?"-":"").concat(a||"").concat(c).concat(i).concat(n&&"USD"!==n?" ".concat(n):"")},[e,t])},76928:(e,t,s)=>{"use strict";s.d(t,{S:()=>n,z:()=>r});var a=s(88382);function n(e){return(0,a.useMemo)(()=>{if(null!=e)return new Date(e)},[e])}function r(e){let t=n(e);return(0,a.useMemo)(()=>null==t?void 0:t.getTime(),[t])}},77204:(e,t,s)=>{"use strict";s.d(t,{Hj:()=>p,QJ:()=>d,RC:()=>r,Rl:()=>m,c5:()=>i,es:()=>n,g_:()=>o,hM:()=>g,r1:()=>l});let a=/^(\$?)([A-Za-z]+)(\$?)(\d+)$/;function n(e){var t;let s=a.exec(e.trim());if(!s)throw Error('Invalid cell address: "'.concat(e,'"'));let[n,r,o,i,c]=s;if(void 0===o||void 0===c)throw Error('Invalid cell address: "'.concat(e,'"'));return{col:1===(t=o).length?t.toUpperCase().charCodeAt(0)-65:t.split("").reduce((e,t)=>26*e+(t.toUpperCase().charCodeAt(0)-64),0)-1,row:Number(c)-1}}function r(e){let[t,s=t]=e.split(":");if(void 0===t||void 0===s)throw Error('Invalid range: "'.concat(e,'"'));let{col:a,row:r}=n(t),{col:o,row:i}=n(s);return{rowStart:Math.min(r,i),rowEnd:Math.max(r,i),colStart:Math.min(a,o),colEnd:Math.max(a,o),numCols:Math.max(a,o)-Math.min(a,o)+1,numRows:Math.max(r,i)-Math.min(r,i)+1}}function o(e){return String(e+1)}function i(e){let t="";for(;e>=0;)t=String.fromCharCode(e%26+97)+t,e=Math.floor(e/26)-1;return t.toUpperCase()}function c(e){if(!e.ranges||1!==e.ranges.length||!e.cell)return!1;let t=e.ranges[0];if(void 0===t)return!1;let s=e.cell;return 1===t.width&&1===t.height&&t.col===s.col&&t.row===s.row}function l(e){return!!e.cell&&0===e.cols.length&&0===e.rows.length&&(0===e.ranges.length||c(e))}function d(e){return 0===e.cols.length&&0===e.rows.length&&!c(e)}function g(e){return e.cols.length>0&&0===e.rows.length&&(0===e.ranges.length||c(e))}function m(e){return e.rows.length>0&&0===e.cols.length&&(0===e.ranges.length||c(e))}function p(e){if(!e)return{type:"empty",text:"Empty selection",label:""};if(l(e)){let{col:t,row:s}=e.cell,a="".concat(i(t)).concat(o(s));return{text:"".concat(a," (Cell with col ").concat(t," row ").concat(s," has been selected)"),label:a}}if(d(e)&&e.rect){let{colStart:t,rowStart:s,colEnd:a,rowEnd:n}=e.rect,r="".concat(i(t)).concat(o(s)),c="".concat(i(a-1)).concat(o(n-1));return{type:"range",text:"".concat(r,":").concat(c," (Cells from ").concat(r," to ").concat(c," have been selected)"),label:"".concat(r,":").concat(c),rect:e.rect}}if(g(e)&&e.rect){let{colStart:t,colEnd:s}=e.rect,a=i(t),n=i(s);return{type:"col",text:"".concat(a,":").concat(n," (Cols ").concat(t+1,"-").concat(s+1," have been selected)"),label:"".concat(a,":").concat(n),rect:e.rect}}if(m(e)&&e.rect){let{rowStart:t,rowEnd:s}=e.rect,a=o(t),n=o(s);return{type:"row",text:"".concat(a,":").concat(n," (Rows ").concat(t+1,"-").concat(s+1," have been selected)"),label:"".concat(a,":").concat(n),rect:e.rect}}return{type:"empty",text:"Empty selection",label:""}}},77232:(e,t,s)=>{"use strict";s.d(t,{g:()=>n});var a=s(14908);function n(e,t){navigator.clipboard.writeText(e).then(()=>a.oR.success(t)).catch(e=>a.oR.error(e.message))}},79026:(e,t,s)=>{"use strict";s.d(t,{M:()=>S,u:()=>y});var a=s(79342),n=s(10953),r=s(11750),o=s(25859),i=s(69648),c=s(16454),l=s(24429),d=s(17703),g=s(61312),m=s(95158),p=s(58711),u=s(74995),h=s(88382),f=s(65146),k=s(82646),b=s(5790),x=s(2262),w=s(35819),v=s(44347);function y(){let{t:e}=(0,f.Bd)("settings"),{isEnterpriseUser:t,isSuperGrokProUser:s,isSuperGrokUser:i,activeSubscriptions:c}=(0,l.Q2)(),d=(0,b.iV)(u.A("setOpen")),m=(0,p.e3)(u.A("setIsUpselling")),h=(0,p.e3)(u.A("setTargetTier"));return(0,a.jsxs)("div",{className:"flex flex-col w-full h-full gap-4",children:[(0,a.jsxs)("div",{className:"px-3",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center justify-between gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"font-semibold text-md",children:s?(0,a.jsx)(n.dq,{className:"h-6 w-auto"}):e("SuperGrok","SuperGrok")}),(0,a.jsx)("p",{className:(0,g.cn)("text-sm text-fg-secondary font-medium mb-4"),children:i||s?e("Your plan includes:","Your plan includes:"):e("Subscribe to SuperGrok to get:","Subscribe to SuperGrok to get:")})]}),s?null:(0,a.jsx)(o.$n,{variant:"secondary",shape:"pill",size:"sm",className:"text-sm",onClick:()=>{d(!1),h(l.i.SuperGrokPro),m(!0)},children:e("settings-billing.upgrade-to-heavy","Upgrade to Heavy")})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 bg-surface-l2 rounded-2xl p-4 -mx-2",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("div",{className:"text-xs text-secondary",children:e("settings-billing.model","Model")}),s?(0,a.jsx)("div",{className:"flex flex-row justify-between w-full",children:(0,a.jsx)("div",{className:"text-sm",children:e("settings-billing.grok-4-heavy","Grok 4 Heavy")})}):null,(0,a.jsx)("div",{className:"flex flex-row justify-between w-full",children:(0,a.jsx)("div",{className:"text-sm",children:e("settings-billing.grok-4","Grok 4")})}),(0,a.jsx)("div",{className:"flex flex-row justify-between w-full",children:(0,a.jsx)("div",{className:"text-sm",children:e("settings-billing.grok-3","Grok 3")})})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("div",{className:"text-xs text-secondary",children:e("settings-billing.features","Features")}),(0,a.jsx)("div",{className:"flex flex-row justify-between w-full",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(r.FWt,{className:"text-fg-secondary",height:14,width:14}),(0,a.jsx)("span",{className:"text-xs",children:e("settings-billing.free",s?"Everything in SuperGrok":"Everything in Basic")})]})}),s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex flex-row justify-between w-full",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(r.wn_,{className:"text-fg-secondary",height:14,width:14}),(0,a.jsx)("span",{className:"text-xs",children:e("settings-billing.new-features","Early access to new features")})]})}),(0,a.jsxs)("div",{className:"flex flex-row justify-between w-full",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(r.Sxh,{className:"text-fg-secondary",height:14,width:14}),(0,a.jsx)("span",{className:"text-xs",children:e("settings-billing.context","Larger context memory")})]}),(0,a.jsx)("div",{className:"text-xs text-secondary",children:e("settings-billing.context.tokens","{{tokens, number}} tokens",{tokens:256e3})})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-row justify-between w-full",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(r.Sxh,{className:"text-fg-secondary",height:14,width:14}),(0,a.jsx)("span",{className:"text-xs",children:e("settings-billing.context","Larger context memory")})]}),(0,a.jsx)("div",{className:"text-xs text-secondary",children:e("settings-billing.context.tokens","{{tokens, number}} tokens",{tokens:128e3})})]}),(0,a.jsx)("div",{className:"flex flex-row justify-between w-full",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(k.Q5b,{className:"text-fg-secondary",height:14,width:14}),(0,a.jsx)("span",{className:"text-xs",children:e("settings-billing.voice","Voice with vision")})]})})]})]})]})]}),(0,a.jsx)(j,{}),!t&&(0,a.jsx)(N,{subscriptions:c})]})}function j(){let{t:e}=(0,f.Bd)("settings"),t=(0,v.C$)(e=>e.userSettings.preferences.enableEarlyAccessModels),s=(0,v.C$)(e=>e.fetchSetPreference),n=(0,h.useCallback)(e=>{s("enableEarlyAccessModels",e).catch((0,d.HX)("settings-subscription:EarlyAccessModelsSetting"))},[s]);return(0,a.jsx)(x.ic,{action:(0,a.jsx)(w.d,{checked:t,onCheckedChange:n}),children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)(x.mL,{children:e("settings-billing.enable-early-access-models","Enable early access models")}),(0,a.jsx)("div",{className:"text-xs text-secondary",children:e("settings-billing.enable-early-access-models-description","Use this setting to show our early access models.")})]})})}function N(e){let{subscriptions:t}=e,{t:s}=(0,f.Bd)("settings"),n=(0,h.useMemo)(()=>null==t?[]:t.filter(e=>!e.enterprise&&"SUBSCRIPTION_STATUS_ACTIVE"===e.status),[t]),r=n[0];return null==t?null:r?1===n.length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.w,{orientation:"horizontal",className:"my-4"}),(0,a.jsx)(C,{subscription:r,labelOverride:s("Manage your subscription","Manage your subscription")})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.w,{orientation:"horizontal",className:"my-4"}),n.map((e,t)=>(0,a.jsx)(C,{subscription:e},t))]}):(0,a.jsx)(c._,{className:"mt-auto"})}function C(e){let{labelOverride:t,subscription:s}=e,{t:n}=(0,f.Bd)("settings"),[i,c]=(0,h.useState)(!1);if(s.stripe)return(0,a.jsxs)(o.$n,{className:"text-sm",variant:"secondary",shape:"pill",size:"sm",disabled:i,onClick:()=>{c(!0),m.$W.subscriptionsCreateBillingPortalSession({body:{returnUrl:window.location.href}}).then(e=>{window.open(e.url,"_blank")}).catch((0,d.HX)("settings-billing:manage-subscription")).finally(()=>{c(!1)})},children:[null!=t?t:n("Manage your subscription (Stripe)","Manage your subscription (Stripe)"),i?(0,a.jsx)(r.krw,{height:16,width:16,className:"text-neutral-400 animate-spin !duration-1000"}):(0,a.jsx)(r.F1e,{height:16,width:16,className:"text-neutral-400"})]});if(s.x){let e=S(s);return(0,a.jsx)(o.$n,{variant:"secondary",shape:"pill",size:"sm",className:"text-sm",children:(0,a.jsxs)("a",{href:e,target:"_blank",className:"flex items-center gap-2",children:[null!=t?t:n("Manage your subscription (X)","Manage your subscription (\uD835\uDD4F)"),(0,a.jsx)(r.F1e,{height:16,width:16,className:"text-neutral-400"})]})})}if(s.apple){let e=S(s);return(0,a.jsx)(o.$n,{variant:"secondary",shape:"pill",size:"sm",className:"text-sm",children:(0,a.jsxs)("a",{href:e,target:"_blank",className:"flex items-center gap-2",children:[null!=t?t:n("Manage your subscription (Apple)","Manage your subscription (Apple)"),(0,a.jsx)(r.F1e,{height:16,width:16,className:"text-neutral-400"})]})})}if(s.google){let e=S(s);return(0,a.jsx)(o.$n,{variant:"secondary",shape:"pill",size:"sm",className:"text-sm",children:(0,a.jsxs)("a",{href:e,target:"_blank",className:"flex items-center gap-2",children:[null!=t?t:n("Manage your subscription (Google)","Manage your subscription (Google)"),(0,a.jsx)(r.F1e,{height:16,width:16,className:"text-neutral-400"})]})})}return null}function S(e){return e.x?"https://x.com/settings/subscription":e.apple?"https://apps.apple.com/account/subscriptions":e.google?"https://play.google.com/store/account/subscriptions?sku=grok.pro&package=ai.x.grok":void 0}},79208:(e,t,s)=>{"use strict";s.d(t,{U:()=>d});var a=s(79342),n=s(23232),r=s(23054),o=s(88382),i=s(69630),c=s(43317);let l=[];function d(e){let{response:t,isStreaming:s}=e,d=(0,n._)(),{sender:g,thinkingTrace:m,webSearchResults:p,xposts:u,liveThinkingStartTime:h,liveThinkingEndTime:f,progressReport:k,deepsearchPreset:b,thinkingStartTime:x,thinkingEndTime:w}=t,v=s?i.Cn:i.Ad,[y,j]=(0,o.useState)(!1),N=(0,o.useCallback)(e=>{var s,a;d("toggle_thinking_accordion",e?"open":"closed",{location:"thinking-response",responseId:null!=(s=t.responseId)?s:"",conversationId:null!=(a=t.conversationId)?a:""}),j(e)},[d,j,t.responseId,t.conversationId]);(0,o.useEffect)(()=>{f&&j(!1)},[f]);let C=x?new Date(x).getTime():void 0,S=w?new Date(w).getTime():void 0;return(m||h)&&(!h||!f||m)?(0,a.jsx)(c.N,{type:"think",isThinking:!!(h&&!f)&&s,startTime:null!=h?h:C,endTime:null!=f?f:S,open:y,setOpen:N,hasError:"error"===t.state,thinkingTrace:m,progressReport:k,deepsearchPreset:b,children:(0,a.jsx)(r.P.div,{tabIndex:0,initial:{opacity:0},animate:{opacity:1},transition:{duration:.2,ease:"easeIn"},className:"[&>*:first-child]:mt-0 px-5 h-fit overflow-x-auto w-full focus:outline-none focus-within:outline-none",children:(0,a.jsx)(v,{sender:g||"",webSearchResults:p||l,xposts:u||l,isNested:!0,shouldRenderHtml:!0,children:m||""})})}):null}},79339:(e,t,s)=>{"use strict";s.d(t,{Y:()=>r});var a=s(88382);function n(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function r(){let[e,t]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{t(n)},[]),e}},80226:(e,t,s)=>{"use strict";s.d(t,{E:()=>r});var a=s(79342),n=s(61312);function r(e){let{className:t,pulse:s=!0,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)("rounded-md bg-primary/10",s&&"animate-pulse",t),...r})}},80295:(e,t,s)=>{"use strict";s.d(t,{s:()=>r});var a=s(88382),n=s(10731);function r(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,[r,o]=(0,a.useState)(e),i=(0,a.useRef)(t),c=(0,a.useRef)(e),l=(0,a.useRef)(e);return i.current=t,(0,a.useEffect)(()=>{e!==l.current&&(o(e),l.current=e)},[e]),(0,n.A)(()=>{r!==c.current&&(c.current=r,i.current(r))},s,[r]),[r,o]}},80354:(e,t,s)=>{"use strict";function a(e){e.stopPropagation()}s.d(t,{Y:()=>a})},80574:(e,t,s)=>{"use strict";s.d(t,{JH:()=>g,MW:()=>b,OJ:()=>u,RB:()=>m,hg:()=>d,i5:()=>k,lN:()=>p,lo:()=>l,rS:()=>h,xF:()=>f});var a=s(79342),n=s(38614),r=s(88382),o=s(82509),i=s(74995);let c=(0,r.createContext)(null),l=e=>{let{chatStateType:t,optimisticMessageId:s,lastMessageId:a,streamedMessageId:n}=e;return x((0,o.v)()(e=>({chatStateType:t,optimisticMessageId:s,setOptimisticMessageId:t=>e({optimisticMessageId:t}),lastMessageId:a,setLastMessageId:t=>e({lastMessageId:t}),streamedMessageId:n,setStreamedMessageId:t=>e({streamedMessageId:t}),survey:void 0,setSurvey:t=>e({survey:t})})))},d=e=>{let{store:t,children:s}=e;return(0,a.jsx)(c.Provider,{value:t,children:s})},g=()=>{let e=(0,r.useContext)(c);return null!=e?e:void 0},m=()=>{let e=g(),t=(0,n.aP)(i.A("optimisticMessageId")),s=null==e?void 0:e.use.optimisticMessageId();return e?s:t},p=()=>{let e=g(),t=(0,n.aP)(i.A("setOptimisticMessageId")),s=null==e?void 0:e.use.setOptimisticMessageId();return e&&s?s:t},u=()=>{let e=g(),t=(0,n.aP)(i.A("lastMessageId")),s=null==e?void 0:e.use.lastMessageId();return e?s:t},h=()=>{let e=g(),t=(0,n.aP)(i.A("streamedMessageId")),s=null==e?void 0:e.use.streamedMessageId();return e?s:t},f=()=>{let e=g(),t=(0,n.aP)(i.A("setStreamedMessageId")),s=null==e?void 0:e.use.setStreamedMessageId();return e&&s?s:t},k=()=>{let e=g(),t=(0,n.aP)(i.A("survey")),s=null==e?void 0:e.use.survey();return e?s:t},b=()=>{let e=g(),t=(0,n.aP)(i.A("setSurvey")),s=null==e?void 0:e.use.setSurvey();return e&&s?s:t},x=e=>{for(let t of(e.use={},Object.keys(e.getState())))e.use[t]=()=>e(e=>e[t]);return e}},80640:(e,t,s)=>{"use strict";s.d(t,{p:()=>x,S:()=>b});var a=s(23232),n=s(46741),r=s(17703),o=s(83612),i=s(88382),c=s(87992),l=s(75500),d=s(56907);let g=(e,t)=>{var s;let a=(0,l.h)(),{data:r,refetch:o,isError:i,isLoading:c}=(0,d.IT)({queryKey:["get_artifact_by_version_id",e],staleTime:5e3,enabled:a.GET_ARTIFACT_BY_VERSION_ID&&!!e&&!t,queryFn:async()=>{if(a.GET_ARTIFACT_BY_VERSION_ID&&e)return await new Promise(e=>setTimeout(e,1e3)),(0,n.K3)(e)}});return{content:null!=(s=null==r?void 0:r.fullArtifact)?s:"",refetch:o,isLoading:c,isError:i}},m=e=>{let{content:t,refetch:s}=g(e.versionId,e.incomplete),{edits:a}=(0,o.TQ)();return{content:(0,i.useMemo)(()=>{var s,n,r;if(!e||!e.id||!e.versionId)return"";let o=null==(s=a[e.id])?void 0:s[e.versionId];if(o)return o.content;if(!t)return null!=(n=e.content)?n:"";let{content:i}=(0,c.t)(t);return"string"!=typeof i?null!=(r=e.content)?r:"":i},[t,e.id,e.versionId,e.content,a]),refetch:s}};var p=s(38614),u=s(97960);let h="<<<<<<< SEARCH",f=e=>{let{content:t,responseId:s,versions:a,isStreaming:n}=e,r=(0,i.useMemo)(()=>{var e;if(0===a.length||!s)return;let t=a.sort((e,t)=>{let s=0,a=0;return e.createTime&&(s=new Date(e.createTime).valueOf()),t.createTime&&(a=new Date(t.createTime).valueOf()),a-s}),n=u.A3.getState(),r=p.aP.getState(),o=n.byId[s],i=null!=(e=null==o?void 0:o.parentResponseId)?e:r.lastMessageId;return t.filter(e=>{if(!e.responseId)return!1;let t=n.byId[e.responseId];return(null==t?void 0:t.parentResponseId)&&t.parentResponseId!==i})[0]},[a,s]),o=(0,i.useMemo)(()=>{let e;if(!t)return[];let s=t.split("\n"),a=[];return s.forEach(t=>{let s=t.trim();if(s.startsWith(h)){e="search",a.push({searchStr:"",replacementStr:"",isComplete:!1});return}if(0!==a.length){if(s.startsWith("=======")){e="replacement";return}if(s.startsWith(">>>>>>> REPLACE")){e=void 0,a[a.length-1].isComplete=!0;return}if("search"===e){let e=a[a.length-1];e.searchStr+=(e.searchStr?"\n":"")+t;return}if("replacement"===e){let e=a[a.length-1];e.replacementStr+=(e.replacementStr?"\n":"")+t;return}}}),a},[t]);if(!t)return{content:t,isDiff:!1};if(n&&"<<<<<<<"===t.trim())return{content:"",isDiff:!1};if(!t.trim().startsWith(h)||0===a.length||!r||!r.fullArtifact)return{content:t,isDiff:!1};let c=r.fullArtifact;return o.forEach(e=>{e.replacementStr&&(c=c.replaceAll(e.searchStr,e.replacementStr))}),{content:c,isDiff:n&&o.length>0}},k=e=>{let{data:t,refetch:s,isError:a,isLoading:r}=(0,d.IT)({queryKey:["artifact_versions",null==e?void 0:e.id,!!(null==e?void 0:e.incomplete)],staleTime:5e3,enabled:e&&!e.incomplete,queryFn:async()=>{if((null==e?void 0:e.id)&&e.conversationId&&!e.incomplete)return await new Promise(e=>setTimeout(e,1e3)),(0,n.yo)(e.id,e.conversationId)}}),o=(0,i.useMemo)(()=>{var e;return null!=(e=null==t?void 0:t.artifacts)?e:[]},[null==t?void 0:t.artifacts]),c=(0,i.useMemo)(()=>[...o].sort((e,t)=>{let s=0,a=0;return e.createTime&&(s=new Date(e.createTime).valueOf()),e.updateTime&&(s=new Date(e.updateTime).valueOf()),t.createTime&&(a=new Date(t.createTime).valueOf()),t.updateTime&&(a=new Date(t.updateTime).valueOf()),a-s}),[o]);return{versions:(0,i.useMemo)(()=>{let e=u.A3.getState();return c.reduce((t,s)=>{let a=s.responseId;if(!a)return t;let n=e.byId[a];if(!n)return t;let r=null==n?void 0:n.parentResponseId;return t.find(t=>{if(!t.responseId)return!1;let s=e.byId[t.responseId];return(null==s?void 0:s.parentResponseId)===r})?t:[...t,s]},[])},[c]),refetch:s,isLoading:r,isError:a}},b=e=>{let{artifact:t,refetchOnComplete:s}=e,{saveEdit:c}=(0,o.TQ)(),[l,d]=(0,i.useState)(!1),g=(0,a._)(),p=(0,i.useRef)(void 0),{content:u,refetch:h}=m(t),{versions:b,isLoading:w}=k(t),{content:v,isDiff:y}=f({content:u,isStreaming:!!t.incomplete,versions:b,responseId:t.responseId}),j=(0,i.useCallback)((e,t)=>{(null==e?void 0:e.id)&&(null==e?void 0:e.versionId)&&(c(e.id,e.versionId,null!=t?t:""),clearTimeout(p.current),p.current=setTimeout(async()=>{if(e.id&&e.title&&e.versionId&&!e.incomplete&&void 0!==t){var s,a;let o=x({id:e.id,versionId:e.versionId,text:t,contentType:null!=(s=e.contentType)?s:"text/plain",title:e.title});d(!0);try{await (0,n.gI)(e.id,e.versionId,o)}catch(e){(0,r.vV)("save-artifact-call",e)}finally{d(!1)}g("artifact_updated",void 0,{location:"use-artifact:onContentUpdate",contentType:null!=(a=e.contentType)?a:"undefined"})}},2e3))},[c,g]),N=(0,i.useRef)(!1);return(0,i.useEffect)(()=>{s&&(t.incomplete?N.current=!0:(N.current&&setTimeout(()=>h(),1e3),N.current=!1))},[t.incomplete,h,s]),{content:v,versions:b,isDiff:y,isSaving:l,isLoading:w,onContentUpdate:j}},x=e=>{let{text:t,id:s,versionId:a,contentType:n,title:r}=e,o=t.replaceAll("xaiArtifact","xai\xadArtifact");return'<xaiArtifact artifact_id="'.concat(s,'" artifact_version_id="').concat(a,'" title="').concat(r,'" contentType="').concat(n,'">').concat(o,"</xaiArtifact>")}},81754:(e,t,s)=>{"use strict";s.d(t,{H:()=>o});var a=s(42557),n=s(5129),r=s(56907);function o(){let{user:e}=(0,a.wV)();return(0,r.IT)({queryKey:["oauth-connectors"],queryFn:async()=>{var e;let t=await (0,n.MQ)("/api/oauth-connectors",{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error((await t.json()).error);return null!=(e=(await t.json()).oauthConnectors)?e:[]},enabled:!!e,staleTime:6e4})}},82127:(e,t,s)=>{"use strict";s.d(t,{T:()=>o});var a=s(88382);let n={};var r=s(97960);function o(e){let[t]=function(e,t){let s=(0,a.useRef)("function"==typeof t?t():t).current,[r,o]=(0,a.useState)(()=>{try{let t=window.sessionStorage.getItem(e);return t?JSON.parse(t):s}catch(e){return console.error("Error parsing sessionStorage value:",e),s}});return(0,a.useEffect)(()=>{let t=e=>{o(e)};return n[e]||(n[e]=[]),n[e].push(t),()=>{n[e]&&(n[e]=n[e].filter(e=>e!==t))}},[e]),(0,a.useEffect)(()=>{let t=t=>{if(t.key===e&&t.storageArea===window.sessionStorage)if(null!==t.newValue)try{o(JSON.parse(t.newValue))}catch(e){console.error("Error parsing storage event value:",e)}else o(s)};return window.addEventListener("storage",t),()=>{window.removeEventListener("storage",t)}},[e,s]),[r,t=>{try{let s="function"==typeof t?t(r):t;window.sessionStorage.setItem(e,JSON.stringify(s)),o(s),n[e]&&n[e].forEach(e=>e(s))}catch(e){console.error("Error setting sessionStorage value:",e)}}]}("sessionStartTime",()=>String(Date.now())),s=(0,r.A3)(t=>t.byConversationId[e||""]);return{sessionStartTime:t,conversationDepth:(null==s?void 0:s.length)||0}}},82451:(e,t,s)=>{"use strict";s.d(t,{d:()=>Y,z:()=>Q});var a=s(79342),n=s(55493),r=s(38614),o=s(11750),i=s(42557),c=s(56691),l=s(73772),d=s(95739),g=s(75500),m=s(52553),p=s(39489),u=s(88382),h=s(65146),f=s(14908),k=s(21782);let b={pt:"pt-PT","uk-UA":"uk",zh:"zh-CN","zh-TW":"zh-TW"},x=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{GOOGLE_APP_ID:a}=(0,p.v)(),{t:n}=(0,h.Bd)("chat"),o=(0,g.Ne)(),i=(0,r.aP)(e=>e.conversationId)||"no_conversation_id",c=(0,k.f)(),l=b[c]||c,[d,m]=(0,u.useState)(!0),[x,w]=(0,u.useState)(null);return(0,u.useEffect)(()=>{(async()=>{let e=document.createElement("script");e.src="https://apis.google.com/js/api.js",e.async=!0,e.onload=()=>{window.gapi.load("picker",()=>m(!1))},document.body.append(e)})().catch(f.oR.error)},[]),(0,u.useEffect)(()=>{var r;if(d||!e||!(null==(r=window.google)?void 0:r.picker))return;let c=new window.google.picker.DocsView(s?window.google.picker.ViewId.DOCS_IMAGES:window.google.picker.ViewId.DOCS).setMode(window.google.picker.DocsViewMode.LIST).setIncludeFolders(!0).setLabel(n("google-drive-picker.file-tab.all","All")),g=new window.google.picker.DocsView(s?window.google.picker.ViewId.DOCS_IMAGES:window.google.picker.ViewId.DOCS).setMode(window.google.picker.DocsViewMode.LIST).setIncludeFolders(!0).setOwnedByMe(!0).setLabel(n("google-drive-picker.file-tab.owned-by-me","Owned by Me")),m=new window.google.picker.PickerBuilder().addView(c).addView(g).hideTitleBar().setOAuthToken(e).setAppId(a).setLocale(l).setMaxItems(o).setCallback(async e=>{var s;"picked"===e.action&&(null==(s=e.docs)?void 0:s.length)&&await Promise.all(e.docs.map(e=>{var s,a;return t(null!=(s=e.name)?s:"Untitled document",null!=(a=e.mimeType)?a:"application/vnd.google-apps.document","GOOGLE_DRIVE_FILE_SOURCE",e.id,i)}))});s?m.disableFeature(window.google.picker.Feature.MULTISELECT_ENABLED):m.enableFeature(window.google.picker.Feature.MULTISELECT_ENABLED),w(m.build())},[d,e,a,l,t,i,n,o,s]),{setIsPickerOpen:(0,u.useCallback)(e=>{x&&x.setVisible(e)},[x]),isLoading:d}};var w=s(23232),v=s(41320),y=s(81754),j=s(17703),N=s(48429),C=s(56907),S=s(61312),I=s(86822),T=s(70888),E=s(98272),R=s(23054),A=s(74995),_=s(42165),O=s(37469),P=s(67591),M=s(59996),L=s(5663),D=s(33231),B=s(84852),z=s(69304),F=s(63174),U=s(96499),V=s(24994);let H=e=>{let{open:t,setOpen:s,onTextContentUpload:n}=e,{t:r}=(0,h.Bd)("base"),[i,l]=(0,u.useState)(!1),{register:d,handleSubmit:g,formState:{errors:m},reset:p}=(0,z.mN)({defaultValues:{textValue:""}}),f=async e=>{l(!0);try{let t=r("add-text-content-form.filename-placeholder","pasted-text.txt");n(t,e.textValue),p(),s(!1)}catch(e){(0,j.vV)("add-text-content-form.handleTextContentUpload",e)}finally{l(!1)}};return(0,D.v)(L.Bq,()=>{g(f)().catch(e=>{(0,j.vV)("add-text-content-form.handleTextContentUpload",e)})},[g,f]),(0,a.jsx)(V.R,{open:t,setOpen:s,contentClassName:(0,S.cn)("focus:outline-0 focus-within:outline-0 gap-2","bg-background rounded-3xl","w-full md:w-5/6 lg:w-3/5 max-w-3xl","flex flex-col","md:overflow-hidden","px-6 py-6"),titleClassName:"flex justify-between text-lg",title:(0,a.jsxs)(a.Fragment,{children:[r("add-text-content-form.text-label","Add text content"),(0,a.jsx)(c.$n,{className:"-mt-2 -mr-2",variant:"ghost",size:"icon","aria-label":r("add-text-content-form.close.label","Close"),onClick:()=>s(!1),tabIndex:-1,children:(0,a.jsx)(o.uv5,{size:18,className:"text-secondary"})})]}),children:(0,a.jsxs)("form",{className:"flex flex-col gap-4 p-1 min-w-80",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)(B.s,{children:(0,a.jsx)(U.J,{htmlFor:"textValue",className:"text-xs ps-2",children:r("add-text-content-form.text-label","Add text content")})}),(0,a.jsx)(F.A,{id:"textValue",className:(0,S.cn)("w-full p-3 text-sm align-bottom bg-transparent focus:outline-none text-primary rounded-xl","border border-toggle-border focus-visible:ring-1 focus-visible:ring-ring"),...d("textValue",{required:r("add-text-content-form.text-required","Text content is required"),maxLength:{value:3e5,message:r("add-text-content-form.text-max-length","Text content must be less than {{maxLength}} characters",{maxLength:3e5})}}),style:{resize:"none"},minRows:4,maxRows:8})]}),(0,a.jsxs)("div",{className:"flex flex-row justify-between gap-2 px-0 min-h-10",children:[(0,a.jsx)("div",{className:(0,S.cn)("flex flex-row items-center gap-1 text-xs ps-2",m.textValue?"text-red-500":"opacity-0"),children:m.textValue&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"flex flex-row items-center gap-1",children:(0,a.jsx)(o.lW3,{className:"size-4 shrink-0"})}),(0,a.jsx)("span",{children:m.textValue.message})]})}),(0,a.jsx)(c.$n,{type:"button",variant:"outline",className:"bg-transparent text-primary shadow-none rounded-xl hover:bg-button-ghost-hover m-[1px]",disabled:i,onClick:e=>{e.preventDefault(),g(f)()},children:r("add-text-content-form.submit","Add")})]})]})})};var W=s(3683),G=s(58939),K=s(84499),q=s(2700),X=s.n(q);function Y(e){var t,s;let{label:n,disabled:o=!1,queryBarExpanded:c=!0,totalFileCount:l,handleClickUpload:d,onWorkspaceAttached:p,imageAttachmentsOnly:k=!1}=e,b=(0,r.aP)(A.A("conversationId")),x=(0,r.aP)(A.A("sidePanelContent")),v=(null==x?void 0:x.type)==="messageThread"?x.data.parentResponseId:void 0,y=(v&&b?"".concat(b,"_thread_").concat(v):b)||"no_conversation_id",{t:N}=(0,h.Bd)("base"),C=(0,w._)(),S=(0,T.x)(A.A("listByConversationId")),E=(0,T.x)(A.A("attachListByConversationId")),R=(0,T.x)(A.A("lisertAttachByConversationId")),_=S[y]||[],O=E[y]||[],P=(0,I.d)(A.A("listByReq")),M=(0,T.x)(A.A("delistAttachByConversationId")),L=(0,I.d)(A.A("fetchDeleteAssetMetadata")),D=(0,T.x)(e=>e.fetchAttachThirdPartyFile),{attachFiles:B}=(0,m.S)(),z=(0,i.wV)();(0,u.useEffect)(()=>{if(z.user){let{fetchListAssets:e}=I.d.getState();e({pageSize:9,orderBy:"ORDER_BY_LAST_USE_TIME",mimeTypes:k?["image/jpeg","image/jpg","image/png","image/webp"]:void 0}).catch((0,j.HX)("attach-dropdown.fetchListAssets"))}},[z.user,k]);let F=Object.values(P),U=(0,g.Ne)(),V=null!=(s=null==(t=F[0])?void 0:t.assets)?s:[],H=(0,u.useCallback)(e=>{if(!(!e||O.some(t=>t.assetId===e.assetId)))if(_.length+O.length+1<=U){var t,s,a;R(e,y),C("attach-dropdown-asset-clicked",e.assetId,{location:"attach-dropdown:onAttachAsset",assetId:e.assetId,assetName:e.name,assetSize:null!=(s=null==(t=e.sizeBytes)?void 0:t.toString())?s:"",assetType:null!=(a=e.mimeType)?a:"unknown"})}else f.oR.error(N("query-files-limit-error","Max number of files allowed is {{maxNumberOfFiles}}",{maxNumberOfFiles:U}))},[R,y,_,O,C,N,U]),W=(0,u.useCallback)(async e=>{e&&(await L({assetId:e}).catch(e=>(0,j.vV)("attach-dropdown:handleDeleteAsset",e)),M(y,e))},[y,M,L]);return(0,a.jsx)(Q,{label:n,disabled:o,queryBarExpanded:c,totalFileCount:l,inlineLabel:!1,handleClickUpload:d,onAttachAsset:H,assets:V,deleteAsset:W,handleUploadThirdParty:D,attachFiles:B,onWorkspaceAttached:p,imageAttachmentsOnly:k})}function Q(e){var t,s;let{label:i,disabled:p=!1,queryBarExpanded:f=!0,totalFileCount:k,tooltipContent:b,inlineLabel:I,handleClickUpload:T,onAttachAsset:A,assets:L,deleteAsset:D,handleUploadThirdParty:B,className:z,attachFiles:F,onWorkspaceAttached:U,imageAttachmentsOnly:V=!1}=e,{t:q}=(0,h.Bd)("base"),Y=(0,w._)(),Q=(0,v.Di)(),{data:$}=(0,y.H)(),Z=null==$||null==(t=$.find(e=>"GOOGLE_DRIVE"===e.provider))?void 0:t.accessToken,J=null==$||null==(s=$.find(e=>"MICROSOFT_ONEDRIVE"===e.provider))?void 0:s.accessToken,ee=(0,g.h)(),[et,es]=(0,u.useState)(!1),[ea,en]=(0,u.useState)(!1),er=(0,C.n_)({mutationFn:async()=>{let e=window.location.host,t="".concat(e.startsWith("localhost")?"http://":"https://").concat(e).concat(d.WU),s=await (0,n.E)(t,"GOOGLE_DRIVE",window.location.href);window.open(s||d.CJ,"_blank","noopener noreferrer")},onError:e=>{(0,j.vV)("attach-dropdown.connect-google-drive",e),window.open(d.CJ,"_blank","noopener noreferrer")}}),eo=async()=>{Y("attach-dropdown-connect-google-drive-clicked",void 0,{location:"attach-dropdown:handleConnectGoogleDrive"}),er.mutate()},{setIsPickerOpen:ei}=x(Z,B,V),ec=(0,u.useCallback)(()=>{Y("attach-dropdown-google-drive-picker-opened",void 0,{location:"attach-dropdown:handleOpenGooglePicker"}),ei(!0)},[ei,Y]),{connectOneDrive:el,openOneDrivePicker:ed}=function(e){let{uploadThirdPartyFile:t,accessToken:s,imageAttachmentsOnly:a=!1}=e,o=(0,r.aP)(e=>e.conversationId)||"no_conversation_id",[i,c]=(0,u.useState)(null),l=(0,w._)(),g=(0,C.n_)({mutationFn:async()=>{let e=window.location.host,t="".concat(e.startsWith("localhost")?"http://":"https://").concat(e).concat(d.WU),s=await (0,n.E)(t,"MICROSOFT_ONEDRIVE",window.location.href);window.open(s||d.CJ,"_blank","noopener noreferrer")},onError:e=>{(0,j.vV)("attach-dropdown.connect-one-drive",e),window.open(d.CJ,"_blank","noopener noreferrer")}}),p=async()=>{l("attach-dropdown-connect-one-drive-clicked",void 0,{location:"use-one-drive-picker"}),g.mutate()};(0,u.useEffect)(()=>()=>{i&&i.close()},[i]);let h=(0,u.useCallback)(()=>{if(!s)return;if(i&&!i.closed)return void i.focus();let e={sdk:"8.0",entry:{oneDrive:{}},authentication:{},messaging:{origin:window.location.origin,channelId:27},typesAndSources:{mode:"files",pivots:{oneDrive:!0,recent:!0},filters:a?["photo"]:void 0},selection:{mode:a?"single":"multiple"}},n=new URLSearchParams({filePicker:JSON.stringify(e)}),r=window.open("","Picker","width=1080,height=680");if(c(r),r){let a,i=r.document.createElement("form");i.setAttribute("action","https://onedrive.live.com/picker?".concat(n)),i.setAttribute("method","POST");let d=r.document.createElement("input");async function l(e){let n=e.data;switch(n.type){case"notification":n.data.notification;break;case"command":{a.postMessage({type:"acknowledge",id:e.data.id});let i=n.data;switch(i.command){case"authenticate":try{if(!s)throw Error("Unable to obtain a token.");a.postMessage({type:"result",id:e.data.id,data:{result:"token",token:s}})}catch(e){r&&r.close()}break;case"close":r&&r.close(),c(null);break;case"pick":try{await Promise.all(i.items.map(e=>{let s=e.name.match(/\.([^.]+)$/);if(!s||!s[1])return;let a=s[1];return t(e.name,(0,m.g)(a),N.r1.OneDriveFileSource,e.id,o)})),a.postMessage({type:"result",id:e.data.id,data:{result:"success"}})}catch(t){a.postMessage({type:"result",id:e.data.id,data:{result:"error",error:{code:"unusableItem",message:t instanceof Error?t.message:"Unknown error"}}})}r&&r.close(),c(null);break;default:a.postMessage({type:"result",id:e.data.id,data:{result:"error",error:{code:"unsupportedCommand",message:i.command}}})}}}}d.setAttribute("type","hidden"),d.setAttribute("name","access_token"),d.setAttribute("value",s),i.appendChild(d),r.document.body.append(i),i.submit(),window.addEventListener("message",function(t){if(t.source&&t.source===r){let s=t.data;"initialize"===s.type&&s.channelId===e.messaging.channelId&&t.ports[0]&&((a=t.ports[0]).addEventListener("message",l),a.start(),a.postMessage({type:"activate"}))}})}},[s,o,i,t,a]);return{openOneDrivePicker:(0,u.useCallback)(()=>{l("attach-dropdown-onedrive-picker-opened",void 0,{location:"use-one-drive-picker"}),h()},[h,l]),connectOneDrive:p}}({accessToken:J,uploadThirdPartyFile:B}),eg=()=>(0,a.jsxs)(l._2,{className:"flex flex-row pr-3 py-2.5 gap-2",onSelect:Z?ec:eo,children:[(0,a.jsx)(E.A,{size:16,className:"opacity-70"}),Z?q("attach-dropdown.google-drive","Add from Google Drive"):q("attach-dropdown.connect-google-drive","Connect Google Drive")]}),em=()=>(0,a.jsxs)(l._2,{className:"flex flex-row pr-3 py-2.5 gap-2",onSelect:J?ed:el,children:[(0,a.jsx)(_.nUC,{size:16,className:"opacity-70"}),J?q("attach-dropdown.one-drive","Add from Microsoft OneDrive"):q("attach-dropdown.connect-one-drive","Connect Microsoft OneDrive")]}),ep=(0,u.useCallback)(async(e,t)=>{let s=new File([new Blob([t],{type:"text/plain"})],e,{type:"text/plain"});await F([s]),Y("upload_file",void 0,{location:"add-text-content-upload",fileLength:t.length.toString()})},[F,Y]),eu=e=>{null==U||U(e),Y("ws_selector_pick",e,{location:"attach-dropdown"})},eh=(0,u.useCallback)(async e=>{await F([e]),Y("upload_file",void 0,{location:"add-image-content-upload",fileLength:e.size.toString()})},[F,Y]),ef=(0,u.useCallback)(()=>{Y("attach-dropdown-text-content-modal-opened",void 0,{location:"attach-dropdown:handleOpenTextContentModal"}),en(!0)},[en,Y]),ek=(0,u.useCallback)(()=>{Y("attach-dropdown-sketchpad-opened",void 0,{location:"attach-dropdown:handleOpenSketchpad"}),es(!0)},[es,Y]),eb=()=>L.length>0?L.map(e=>(0,a.jsx)(l._2,{className:"flex items-center ps-1.5 py-0 h-10",onSelect:()=>A(e),children:(0,a.jsx)(R.P.div,{initial:{opacity:1},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"w-full max-w-64",children:(0,a.jsx)(P.V,{asset:e,fileName:e.name,metadata:(0,O.B)(e),onClick:X(),variant:"list-item"})})},e.assetId)):(0,a.jsx)(l._2,{className:"text-secondary cursor-default",disabled:!0,children:q("no-recent-files","No recent files")}),ex=(0,W._)(),ew=ex.map(e=>(0,a.jsx)(l._2,{className:"",onSelect:()=>eu(e.workspaceId),children:(0,a.jsxs)(R.P.div,{initial:{opacity:1},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"w-full max-w-64 truncate flex items-center flex-row gap-2",children:[(0,a.jsx)(G.Oh,{icon:e.icon}),e.name]})},e.workspaceId)),{route:ev}=(0,K.wK)(),ey=(0,a.jsxs)(l.SQ,{align:"start",className:"z-[200]",children:[(0,a.jsxs)(l._2,{className:"flex flex-row pr-3 py-2.5 gap-2",onSelect:T,children:[(0,a.jsx)(o.sjq,{size:16,className:"opacity-70"}),q("attach-dropdown.local","Upload a file")]}),ee.ENABLE_ADD_TEXT_CONTENT&&!V&&(0,a.jsxs)(l._2,{className:"flex flex-row pr-3 py-2.5 gap-2",onSelect:ef,children:[(0,a.jsx)(o.gHP,{size:16,className:"opacity-70"}),q("attach-dropdown.text-file","Add text content")]}),ee.ENABLE_SKETCHPAD&&(0,a.jsxs)(l._2,{className:"flex flex-row pr-3 py-2.5 gap-2",onSelect:ek,children:[(0,a.jsx)(o.v9l,{size:16,className:"opacity-70"}),q("attach-dropdown.draw","Draw a sketch")]}),ee.ENABLE_GOOGLE_DRIVE&&(0,a.jsx)(eg,{}),ee.ENABLE_MICROSOFT_ONEDRIVE&&(0,a.jsx)(em,{}),(0,a.jsxs)(l.lv,{children:[(0,a.jsxs)(l.nV,{className:"flex flex-row pr-3 py-2.5 gap-2",children:[(0,a.jsx)(o.pyG,{size:16,className:"opacity-70"}),q("attach-dropdown.recent","Recent")]}),(0,a.jsx)(l.dc,{children:(0,a.jsx)(l.M5,{sideOffset:8,className:"space-y-1 z-[200]",children:(0,a.jsx)(eb,{})})})]}),ex.length>0&&"main"===ev.page?(0,a.jsxs)(l.lv,{children:[(0,a.jsxs)(l.nV,{className:"flex flex-row pr-3 py-2.5 gap-2",children:[(0,a.jsx)(G.Oh,{size:16,className:"opacity-70"}),q("attach-dropdown.projects","Projects")]}),(0,a.jsx)(l.dc,{children:(0,a.jsx)(l.M5,{sideOffset:8,className:"space-y-1 z-[200]",children:ew})})]}):null]});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l.rI,{children:[(0,a.jsx)(l.ty,{asChild:!0,disabled:p,children:(0,a.jsxs)(c.gx,{type:"button",variant:"outline","aria-label":i,disabled:p,size:I?"md":"iconMd",rounded:!0,className:(0,S.cn)("group/attach-button",I&&"w-full",z),tooltipProps:{disableHoverableContent:!0,delayDuration:p?100:600},tooltipContentProps:{side:"bottom",className:"bg-fg-primary text-background"},tooltipContent:b||(I?void 0:i),tabIndex:0,children:[!f&&!!k&&(0,a.jsx)("span",{className:"absolute size-4 text-[11px] flex justify-center items-center font-medium rounded-full -right-1 -top-1 bg-primary text-background",children:k}),(0,a.jsx)(o.PtA,{className:"text-primary transition-colors duration-100",size:18}),I&&i]})}),Q?(0,a.jsx)(()=>{let[e,t]=(0,u.useState)("main");return"main"===e?(0,a.jsxs)(l.SQ,{align:"start",className:"w-64",children:[(0,a.jsxs)(l._2,{className:"flex flex-row px-3 py-2.5 gap-2",onSelect:T,children:[(0,a.jsx)(o.sjq,{size:16,className:"opacity-70"}),q("attach-dropdown.local","Upload a file")]}),ee.ENABLE_ADD_TEXT_CONTENT&&!V&&(0,a.jsxs)(l._2,{className:"flex flex-row px-3 py-2.5 gap-2",onSelect:ef,children:[(0,a.jsx)(o.gHP,{size:16,className:"opacity-70"}),q("attach-dropdown.text-file","Add text content")]}),ee.ENABLE_SKETCHPAD&&(0,a.jsxs)(l._2,{className:"flex flex-row px-3 py-2.5 gap-2",onSelect:ek,children:[(0,a.jsx)(o.v9l,{size:16,className:"opacity-70"}),q("attach-dropdown.draw","Draw a sketch")]}),ee.ENABLE_GOOGLE_DRIVE&&(0,a.jsx)(eg,{}),ee.ENABLE_MICROSOFT_ONEDRIVE&&(0,a.jsx)(em,{}),(0,a.jsxs)(l._2,{className:"flex flex-row px-3 py-2.5 gap-2",onSelect:e=>{e.preventDefault(),t("recent")},children:[(0,a.jsx)(o.dsF,{size:16,className:"opacity-70"}),q("attach-dropdown.recent","Recent")]}),ex.length>0&&"main"===ev.page&&(0,a.jsxs)(l._2,{className:"flex flex-row px-3 py-2.5 gap-2",onSelect:e=>{e.preventDefault(),t("projects")},children:[(0,a.jsx)(G.Oh,{size:16,className:"opacity-70"}),q("attach-dropdown.projects","Projects")]})]}):"projects"===e?(0,a.jsxs)(l.SQ,{align:"start",className:"w-64",children:[(0,a.jsxs)(l._2,{className:"flex flex-row px-3 py-2.5 gap-2",onSelect:e=>{e.preventDefault(),t("main")},children:[(0,a.jsx)(o.JGc,{size:16}),q("back","Back")]}),ew]}):(0,a.jsxs)(l.SQ,{align:"start",className:"w-64",children:[(0,a.jsxs)(l._2,{className:"flex flex-row px-3 py-2.5 gap-2",onSelect:e=>{e.preventDefault(),t("main")},children:[(0,a.jsx)(o.JGc,{size:16}),q("back","Back")]}),(0,a.jsx)(eb,{})]})},{}):ey]}),(0,a.jsx)(M.A,{open:et,setOpen:es,onAttach:eh}),(0,a.jsx)(H,{open:ea,setOpen:en,onTextContentUpload:ep})]})}},82591:(e,t,s)=>{"use strict";s.d(t,{t:()=>r});var a=s(17703);s(88382);var n=s(60234);class r extends n.tH{componentDidCatch(e,t){var s;super.componentDidCatch(e,t),(0,a.vV)("error-boundary",e.message,{componentStack:null!=(s=t.componentStack)?s:"no stack info"})}constructor(e){super(e)}}},82767:(e,t,s)=>{"use strict";s.d(t,{Q:()=>a});let a="max-w-breakout"},83245:()=>{},83522:(e,t,s)=>{"use strict";s.d(t,{Jn:()=>c,_7:()=>i,qw:()=>m});var a=s(71540),n=s(25603);let r=["#3b82f6","#ef4444","#a855f7","#16a34a","#db2777","#f97316","#14b8a6"],o=a.sj.define({combine:e=>e.length&&e[0]?e[0]:r}),i=(new a.xx,a.sj.define({combine:e=>e.flat().sort((e,t)=>e.from-t.from)})),c=a.sj.define({combine:e=>e.flat().sort((e,t)=>e.from-t.from)}),l=c.compute([i,o],e=>{let t=e.facet(i),s=e.facet(o),a=new Map,n=[];return t.forEach(e=>{var t;let{selection:r}=e,o=r.rangeId,i=null!=(t=a.get(o))?t:s[a.size%s.length];i&&(a.set(o,i),n.push({...e,color:i,range:r.rect}))}),n});class d{update(e){(e.docChanged||e.state.facet(c)!==e.startState.facet(c))&&(this.decorations=this.computeDecos(e.view))}computeDecos(e){let t=new a.vB;return e.state.facet(c).forEach(e=>{let{color:s,from:a,to:r}=e;t.add(a,r,n.NZ.mark({class:"cm-cell-reference",attributes:{style:"color: ".concat(s)}}))}),t.finish()}constructor(e){this.decorations=this.computeDecos(e)}}let g=n.Z9.fromClass(d,{decorations:e=>e.decorations}),m=[l,a.Nb.highest(g)]},83612:(e,t,s)=>{"use strict";s.d(t,{D4:()=>i,TQ:()=>l,sf:()=>c});var a=s(38541),n=s.n(a),r=s(82509),o=s(17823);let i=(0,r.v)(e=>({mode:"code",setMode:t=>e({mode:t}),artifactsByConversationId:{},isRefreshing:!1,refresh:()=>{e({isRefreshing:!0}),setTimeout(()=>e({isRefreshing:!1}),100)},upsertArtifact:(t,s)=>{t.id&&t.timestamp&&e(e=>{var a,r,o;return{artifactsByConversationId:{...e.artifactsByConversationId,[s]:{...null!=(r=e.artifactsByConversationId[s])?r:{},[t.id]:n().orderBy(n().uniqBy([t,...null!=(o=null==(a=e.artifactsByConversationId[s])?void 0:a[t.id])?o:[]],"identifier"),"timestamp","asc")}}}})}})),c=(0,r.v)()((0,o.Zr)(e=>({inlineSettings:{},setInlineSetting:(t,s)=>{e(e=>({inlineSettings:{...e.inlineSettings,[t]:{updateTime:Date.now(),isInline:s}}}))}}),{name:"inline-artifacts"})),l=(0,r.v)()((0,o.Zr)(e=>({edits:{},saveEdit:(t,s,a)=>{e(e=>{var n,r,o,i;let c=null!=(o=null==(r=e.edits[t])||null==(n=r[s])?void 0:n.lastSyncTime)?o:0,l={editTime:Date.now(),lastSyncTime:c,content:a};return{edits:{...e.edits,[t]:{...null!=(i=e.edits[t])?i:{},[s]:l}}}})},updateLastSyncTime:(t,s)=>{e(e=>{var a,n;let r=null==(a=e.edits[t])?void 0:a[s];if(!r)return{};let o={...r,lastSynctime:Date.now()};return{edits:{...e.edits,[t]:{...null!=(n=e.edits[t])?n:{},[s]:o}}}})}}),{name:"artifacts-edits"}))},83638:(e,t,s)=>{"use strict";s.d(t,{B:()=>n});var a=s(88382);function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{threshold:.1},s=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let a=new IntersectionObserver(t=>{let s=t[0];s&&s.isIntersecting&&e()},t),n=s.current;if(n)return a.observe(n),()=>{a.unobserve(n)}},[e,t]),s}},85710:(e,t,s)=>{"use strict";s.d(t,{$:()=>m,G:()=>g});var a=s(79342),n=s(76928),r=s(23232),o=s(61312),i=s(84969),c=s(23054),l=s(88382),d=s(9037);function g(e){let{response:t,isStreaming:s,isOptimistic:g,centerTitle:m}=e,p=(0,l.useRef)(null),[u,h]=(0,l.useState)(!1),f=!!(t.liveThinkingStartTime&&!t.liveThinkingEndTime||t.searchingStartTime&&!t.searchingEndTime)&&s,[k,b]=(0,l.useState)(!0);(0,l.useLayoutEffect)(()=>{var e;!k&&(null==(e=p.current)?void 0:e.el)&&p.current.el.scrollTo({top:p.current.el.scrollHeight,behavior:"smooth"})},[k]);let x=(0,r._)(),w=(0,l.useCallback)(e=>{h(u||!e)},[u,h]),v=(0,n.z)(t.thinkingStartTime),y=(0,l.useRef)(void 0);y.current=v;let j=(0,l.useCallback)(()=>{h(!0),b(!k),x("thinkbox_toggle",k?"click when closed":"click when opened",{location:"think-box:onToggle",wasMinimized:String(k),currentThinkingTime:y.current?String(new Date().getTime()-y.current):""})},[x,k]);return((0,l.useEffect)(()=>{f||u||k||b(!0)},[f,u,k]),t.hasImages||"human"===t.sender)?null:(0,a.jsx)("div",{className:(0,o.cn)("think-box","relative","mb-2 @md/mainview:-mx-4","prose-p:!my-0 prose-li:!m-0"),children:(0,a.jsxs)(i.N,{mode:"sync",children:[(0,a.jsx)(c.P.div,{className:"z-10 w-full",variants:{inside:{height:0,position:"absolute",top:0,left:0},outside:{height:"auto",position:"relative"}},animate:f?"inside":"outside",transition:{ease:"easeInOut",duration:.2},children:(0,a.jsx)(d.nD,{response:t,onToggle:j,isMinimized:k,isOptimistic:g,isStreaming:s,isStreamingThink:f,centerTitle:m})}),!k&&(0,a.jsx)(c.P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{height:{ease:"easeInOut",duration:.2},opacity:{ease:"easeInOut",duration:.15}},className:"max-h-[50vh] relative",children:(0,a.jsx)(d.dg,{ref:p,response:t,onAutoscrollUpdate:w,isStreamingThink:f})},"teleprompter"),k&&(f||g)&&(0,a.jsx)(c.P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{height:{ease:"easeInOut",duration:.2},opacity:{ease:"easeInOut",duration:.15}},className:"max-h-[50vh] relative",children:(0,a.jsx)(d._d,{response:t})},"miniprompter")]})})}function m(e){return(!e.searchingStartTime||"closed"===e.state||"error"===e.state)&&(!e.steps||0===e.steps.length)&&(!e.traceSteps||0===e.traceSteps.length)&&!e.liveThinkingStartTime&&!e.thinkingTrace}},85937:(e,t,s)=>{"use strict";s.d(t,{T:()=>o});var a=s(79342),n=s(88382),r=s(61312);let o=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("textarea",{className:(0,r.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...n})});o.displayName="Textarea"},86565:(e,t,s)=>{"use strict";s.d(t,{Bc:()=>f,KR:()=>b,cC:()=>p,qW:()=>k});var a=s(11750),n=s(6063),r=s(29729),o=s(98918),i=s(39878),c=s(49087),l=s(96501),d=s(88382),g=s(65146);let m=["cpp","csharp","go","html","java","javascript","markdown","python","ruby","rust","typescript","spreadsheet","csv","image"],p=["cpp","csharp","go","html","java","javascript","python","ruby","rust","typescript"],u=[{id:"markdown",name:"Document",category:"markdown",Icon:a.pyG,newFileName:"document.md",extensions:["md","markdown"],mime:["text/markdown"]},{id:"csv",name:"CSV",category:"csv",Icon:a.KbA,newFileName:"table.csv",extensions:["csv"],mime:n.Ig},{id:"spreadsheet",name:"Spreadsheet",category:"spreadsheet",Icon:a.KbA,newFileName:"Untitled.xlsx",extensions:["xls","xlsx"],mime:n.f9},{id:"image",name:"Image",category:"image",Icon:a.XGR,newFileName:"",extensions:["png","jpg","jpeg","gif","bmp","ico","webp"],mime:/^image\//},{id:"html",name:"HTML",category:"code",Icon:a.loI,newFileName:"index.html",extensions:["html","htm"]},{id:"python",name:"Python",category:"code",Icon:r.A,newFileName:"script.py",extensions:["py"]},{id:"javascript",name:"JavaScript",category:"code",Icon:o.A,newFileName:"script.js",extensions:["js","jsx","mjs","cjs","json","txt"],mime:["application/json","text/plain"]},{id:"typescript",name:"TypeScript",category:"code",Icon:i.A,newFileName:"script.ts",extensions:["ts","tsx"]},{id:"java",name:"Java",category:"code",Icon:a.loI,newFileName:"Main.java",extensions:["java"]},{id:"csharp",name:"C#",category:"code",Icon:a.loI,newFileName:"Program.cs",extensions:["cs"]},{id:"cpp",name:"C++",category:"code",Icon:a.gGA,newFileName:"main.cpp",extensions:["cpp","cc","cxx","hpp","h++","hh","hxx"]},{id:"go",name:"Go",category:"code",Icon:a.loI,newFileName:"main.go",extensions:["go"]},{id:"ruby",name:"Ruby",category:"code",Icon:c.A,newFileName:"script.rb",extensions:["rb"]},{id:"rust",name:"Rust",category:"code",Icon:l.A,newFileName:"main.rs",extensions:["rs"]},{id:"code",name:"Code",category:"code",Icon:a.loI,newFileName:"file.txt",extensions:[],mime:/^text\//}];function h(e){if(e.name){let t=function(e,t){let s=/\.([^.]+)$/.exec(t.toLowerCase());if(s&&s[1]){for(let t of e)if(t.extensions.indexOf(s[1])>-1)return t}return null}(u,e.name);if(t)return t}if(e.mimeType){let t=function(e,t){for(let s of(t=t.toLowerCase(),e))if(s.mime&&(Array.isArray(s.mime)&&s.mime.indexOf(t)>-1||s.mime instanceof RegExp&&s.mime.test(t)||"function"==typeof s.mime&&s.mime(t)))return s;return null}(u,e.mimeType);if(t)return t}return null}function f(e){let t=h(e);return t&&m.includes(t.id)?t.id:null}function k(e){var t,s;return null!=(s=null==(t=h(e))?void 0:t.category)?s:"unknown"}function b(){let{t:e}=(0,g.Bd)("files");return(0,d.useMemo)(()=>{let t={};return u.forEach(s=>{t[s.id]={Icon:s.Icon,category:s.category,name:e("files.type.".concat(s.id),s.name),newFileName:e("new-file-name.type.".concat(s.id),s.newFileName)}}),t},[e])}},86822:(e,t,s)=>{"use strict";s.d(t,{d:()=>l});var a=s(65258),n=s(95158),r=s(38541),o=s.n(r);let i={byId:{},promiseById:{},listByReq:{},promiseListByReq:{}};class c{constructor(e,t){this.set=e,this.get=t,this.byId=i.byId,this.promiseById=i.promiseById,this.listByReq=i.listByReq,this.promiseListByReq=i.promiseListByReq,this.upsertAsset=(0,a.el)(this.set,"byId","assetId"),this.appendAssets=(0,a.BC)(this.set,"byId","assetId"),this.removeAsset=(0,a.TF)(this.set,"byId"),this.idsertPromise=(0,a.q5)(this.set,"promiseById"),this.removePromise=(0,a.TF)(this.set,"promiseById"),this.idsertList=(0,a.q5)(this.set,"listByReq"),this.idsertPromiseList=(0,a.q5)(this.set,"promiseListByReq"),this.clear=()=>{this.set(i)},this.fetchCreateAsset=e=>{let t=this.get(),s=n.l_.assetRepositoryCreateAsset({body:e}).then(e=>e);return s.then(e=>{t.idsertPromise(s,e.assetId),t.upsertAsset(e),t.set(t=>({...t,listByReq:o().mapValues(t.listByReq,t=>{let s=t.assets.some(t=>t.assetId===e.assetId);return{...t,assets:s?t.assets:[e,...t.assets]}})}))}),s},this.fetchDeleteAsset=e=>{let t=this.get(),s=n.l_.assetRepositoryDeleteAsset(e);return t.removePromise(e.assetId),t.removeAsset(e.assetId),t.set(t=>({...t,listByReq:o().mapValues(t.listByReq,t=>({...t,assets:t.assets.filter(t=>t.assetId!==e.assetId)}))})),s},this.fetchDeleteAssetMetadata=e=>{let t=this.get(),s=t.byId[e.assetId],a=t.listByReq,r=t=>o().mapValues(t,t=>({...t,assets:t.assets.filter(t=>t.assetId!==e.assetId)}));t.removeAsset(e.assetId),t.set(e=>({...e,listByReq:r(e.listByReq)}));let i=n.l_.assetRepositorySoftDeleteAssetMetadata(e);return i.catch(e=>{s&&t.upsertAsset(s),t.set(e=>({...e,listByReq:a})),console.error(e)}),i},this.fetchGetAsset=e=>{let t=this.get();if(e.assetId in t.byId)return Promise.resolve(t.byId[e.assetId]);if(e.assetId in t.promiseById)return t.promiseById[e.assetId];let s=n.l_.assetRepositoryGetAssetMetadata(e).then(e=>e);return t.idsertPromise(s,e.assetId),s.then(t.upsertAsset),s},this.fetchListAssets=e=>{let t=this.get(),s=o().sortBy(o().entries(o().omit(e,["pageToken","pageSize"]))).toString(),a=t.listByReq[s];if(a&&a.nextPageToken!==e.pageToken)return Promise.resolve(a);let r=o().sortBy(o().entries(o().omit(e,["pageSize"]))).toString(),i=t.promiseListByReq[r];if(i)return i;let c=n.l_.assetRepositoryListAssetMetadata(e).then(e=>e).then(e=>{if(!e.assets)throw Error("No assets returned");t.appendAssets(e.assets);let s={};return e.assets.map(e=>{s[e.assetId]=Promise.resolve(e)}),t.set(e=>({promiseById:{...e.promiseById,...s}})),{assets:((null==a?void 0:a.assets)||[]).concat(e.assets),nextPageToken:e.nextPageToken}});return t.idsertPromiseList(c,r),c.then(e=>t.idsertList(e,s)),c},this.fetchSearchAssets=e=>{let t=this.get();return n.l_.assetRepositorySearchAssetMetadata(e).then(e=>{var s;return null==(s=e.matches)||s.forEach(e=>{e.assetMetadata&&t.upsertAsset(e.assetMetadata)}),e})},this.fetchListAllAssetVersions=e=>{let t=this.get();return n.l_.assetRepositoryListAllAssetVersions(e).then(e=>{var s;return null==(s=e.assets)||s.forEach(e=>t.upsertAsset(e)),e})},this.fetchUpdateAsset=e=>{let t=this.get(),s=n.l_.assetRepositoryUpdateAsset(e).then(e=>e);return s.then(e=>{t.upsertAsset(e),t.set(t=>({...t,listByReq:o().mapValues(t.listByReq,t=>({...t,assets:t.assets.map(t=>t.assetId===e.assetId?e:t)}))}))}),s},this.fetchResetAssetConversation=e=>n.l_.assetRepositoryResetAssetConversation(e),this.fetchShareAsset=e=>{let t=this.get();return n.l_.assetRepositoryShareAsset(e).then(e=>(t.upsertAsset(e),t.set(t=>({...t,listByReq:o().mapValues(t.listByReq,t=>({...t,assets:t.assets.map(t=>t.assetId===e.assetId?e:t)}))})),e))},this.fetchCloneAsset=e=>{let t=this.get();return n.l_.assetRepositoryCloneAsset(e).then(e=>(t.upsertAsset(e),t.set(t=>({...t,listByReq:o().mapValues(t.listByReq,t=>{let s=t.assets.some(t=>t.assetId===e.assetId);return{...t,assets:s?t.assets:[e,...t.assets]}})})),e))}}}let l=(0,a.y$)(c,"useAssetStore")},86979:(e,t,s)=>{"use strict";s.d(t,{M:()=>r});var a=s(38614),n=s(17703);function r(e,t){let s=a.aP.getState();s.conversationId&&s.sendResponse({message:e,parentResponseId:s.lastMessageId,conversationId:s.conversationId,fileAttachmentIds:[],webpageUrls:[],setOpimisticUserResponse:!0,setUserResponse:!0,ff:t}).catch((0,n.HX)("sendSimpleResponse"))}},87206:(e,t,s)=>{"use strict";function a(e){return e.charAt(0).toUpperCase()+e.slice(1)}s.d(t,{B:()=>a})},87833:(e,t,s)=>{"use strict";s.d(t,{We:()=>d,uP:()=>l});var a=s(75500),n=s(97960),r=s(44347),o=s(88382),i=s(6132);let c=i.z.object({enabled:i.z.boolean(),maxConcurrentRequests:i.z.number()});function l(e){let t=(0,n.A3)(e=>e.byConversationId),s=(0,n.A3)(e=>e.byId),{sortedResponses:a,asyncResponses:r}=(0,o.useMemo)(()=>{var a;let n=null!=(a=t[e])?a:[];return{sortedResponses:n.filter(e=>{var t,s;return!(null==(t=e.responseId)?void 0:t.startsWith("optimistic_"))&&!(null==(s=e.responseId)?void 0:s.startsWith("streaming_in_progress_"))}).filter(e=>{if(!e.parentResponseId)return!0;let t=s[e.parentResponseId];return"streaming"!==e.state||"human"===e.sender||!t||"human"===t.sender}).sort((e,t)=>{if(e.parentResponseId===t.responseId)return 1;if(t.parentResponseId===e.responseId)return -1;let s="streaming"===e.state||"reconnecting"===e.state,a="streaming"===t.state||"reconnecting"===t.state;return s&&!a?1:!s&&a?-1:new Date(e.createTime).getTime()-new Date(t.createTime).getTime()}),asyncResponses:n.filter(e=>{var t;return(null==(t=e.uiLayout)?void 0:t.reasoningUiLayout)==="UNIFIED"&&"streaming"===e.state&&"human"!==e.sender})}},[t,s,e]);return{sortedResponses:a,asyncResponses:r}}function d(){let e=(0,a.h)(),{userSettings:t}=(0,r.C$)(),s=(0,o.useMemo)(()=>{let t=c.safeParse(e.BACKGROUND_THINKING.value);return t.success?t.data:null},[e.BACKGROUND_THINKING]);return{isBackgroundThinking:t.preferences.isAsyncChat&&(null==s?void 0:s.enabled),isBackgroundThinkingAvailable:null==s?void 0:s.enabled}}},87853:(e,t,s)=>{"use strict";s.d(t,{s1:()=>N,Hj:()=>S});var a=s(79342),n=s(93192),r=s(11750),o=s(37469),i=s(25859),c=s(43086),l=s(50672),d=s(65146),g=s(42143),m=s(48756),p=s(35501),u=s(62454),h=s(30964),f=s(42419),k=s(39489),b=s(23232),x=s(4878),w=s(52265),v=s(88382),y=s(14908);let j=e=>{let{file:t,content:s}=e,a=(0,b._)(),{t:n}=(0,d.Bd)("files"),{ASSET_SERVER_URL:r}=(0,k.v)(),o=(0,x.sU)(r,t.fileUri);return{handleCopy:(0,v.useCallback)(async()=>{a("file_content_copy_click",void 0,{location:"csv-workbench:useFileActions:handleCopy",contentType:t.fileMimeType}),s&&(await (0,f.L)(s),y.oR.success(n("files.content.copied","Copied")))},[s,a,n,t.fileMimeType]),handleDownload:(0,v.useCallback)(()=>{if(o||s)if(a("file_content_download_click",void 0,{location:"csv-workbench:useFileActions:handleDownload",contentType:t.fileMimeType}),s){let e=new Blob([s],{type:t.fileMimeType});(0,w.W)(e,t.fileName)}else o&&(0,w.z)(o,t.fileName)},[a,o,s,t.fileName,t.fileMimeType])}};function N(e){let{asset:t}=e,{t:s}=(0,d.Bd)("files"),f=(0,o.B)(t),{content:k,setContent:b,error:x,refetch:w}=(0,l.W)(t,!1),{handleCopy:v,handleDownload:y}=j({file:f,content:null!=k?k:""}),{activeArtifact:N,onSetActiveArtifact:S}=(0,u.a)({content:null!=k?k:void 0});return null==k?(0,a.jsx)("div",{className:"flex w-full h-full items-center justify-center",children:(0,a.jsx)(c.y,{size:"default"})}):x?(0,a.jsx)(p.f,{onRetryRequested:w}):(0,a.jsx)(h.U,{editor:(0,a.jsx)(n.t2,{editable:!1,content:null!=k?k:"",className:"h-full p-6 pt-0",onContentUpdate:b}),editorHeader:(0,a.jsx)(g.F,{asset:t}),assetId:t.assetId,conversationId:t.currentConversationId,headerButtons:[(0,a.jsx)(i.gx,{tooltipContent:s("Copy Contents","Copy Contents"),tooltipContentProps:{className:"text-xs"},tooltipProps:{delayDuration:300},onClick:v,shape:"square",variant:"tertiary",size:"sm","aria-label":s("Copy Contents","Copy Contents"),children:(0,a.jsx)(r.TdU,{...C,size:18})},"copy-button"),(0,a.jsx)(i.gx,{tooltipContent:s("Download to file","Download to file"),tooltipContentProps:{className:"text-xs"},tooltipProps:{delayDuration:300},onClick:y,shape:"square",variant:"tertiary",size:"sm","aria-label":s("Download to file","Download to file"),children:(0,a.jsx)(r.s3U,{...C,size:18})},"download-button")],chat:(0,a.jsx)(m.s,{asset:t,activeArtifact:N,onArtifactSelected:S})})}let C={size:18,strokeWidth:2};function S(e,t){let s=e.read(t,{type:"string",dense:!0});return function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=t.SheetNames[s];if(!a)throw Error("Sheet name is required");let n=t.Sheets[a];if(!n)throw Error("Sheet is required");let r=n["!data"],o=n["!ref"];if(!r)throw Error("Workbook must be in dense mode");if(!o)return{data:[[]],rowCount:0,colCount:0};let{r:i,c:c}=e.utils.decode_range(o).e;return{data:e.utils.sheet_to_json(n,{header:1,raw:!1}),rowCount:i+1,colCount:c+1}}(e,s)}},87891:(e,t,s)=>{"use strict";s.d(t,{F7:()=>v,R:()=>w,Z0:()=>y,fh:()=>j});var a=s(79342),n=s(55765),r=s(56521),o=s(17703),i=s(65258),c=s(86822),l=s(92554),d=s(38541),g=s.n(d),m=s(88382),p=s(65146),u=s(14908),h=s(51182),f=s(86530).hp;let k={image:["image/jpeg","image/png","image/gif","image/webp"],document:["text/plain","text/markdown"],pdf:["application/pdf"],code:["text/javascript","text/x-python","text/python","text/x-python-script","application/json",...Object.keys(n.$).filter(e=>e.startsWith("text/"))],spreadsheet:["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","application/vnd.oasis.opendocument.spreadsheet","text/csv"]},b={assetsById:{},contentById:{},searchHighlight:{},searchFileType:null,orderBy:"ORDER_BY_LAST_USE_TIME",source:"SOURCE_ANY",list:[],listStatus:"initial",listPageToken:"",creationRequests:[],currentVersion:{},debouncedSearchQuery:"",isLoadingOwnAssets:!1,isFileExplorerCollapsed:!1};class x{destroy(){this.dispose.forEach(e=>e()),this.dispose=[]}getContent(e,t){var s;let a=null!=(s=this.get().contentById[e])?s:null;return"binary"===t?a instanceof ArrayBuffer?a:null:"string"===t?"string"==typeof a?a:null:a}constructor(e,t){var s=this;this.set=e,this.get=t,this.assetsById=b.assetsById,this.contentById=b.contentById,this.searchHighlight=b.searchHighlight,this.searchFileType=b.searchFileType,this.orderBy=b.orderBy,this.source=b.source,this.list=b.list,this.listStatus=b.listStatus,this.listPageToken=b.listPageToken,this.creationRequests=b.creationRequests,this.currentVersion=b.currentVersion,this.debouncedSearchQuery=b.debouncedSearchQuery,this.isLoadingOwnAssets=b.isLoadingOwnAssets,this.isFileExplorerCollapsed=b.isFileExplorerCollapsed,this.dispose=[],this.clear=()=>{this.set({...b,isLoadingOwnAssets:!1})},this.setIsFileExplorerCollapsed=e=>{this.set({isFileExplorerCollapsed:e})},this._setQueryDebounced=g().debounce(e=>{this.set({debouncedSearchQuery:e}),this.loadFirstPage()},500),this._upsertAsset=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s.set(s=>{var a,n,r,o;s.assetsById[e.assetId]=(0,i.ok)(e);let c=null!=(r=e.rootAssetId)?r:e.assetId,l=s.currentVersion[c];if(!l){s.currentVersion[c]=e.assetId;return}let d=null==(n=s.assetsById[l])||null==(a=n.data)?void 0:a.createTime;if(!d){s.currentVersion[c]=e.assetId;return}let g=new Date(d);if(new Date(null!=(o=e.createTime)?o:"")>g&&!t){s.currentVersion[c]=e.assetId;return}})},this._addHighlights=(e,t)=>{this.set(s=>{s.searchHighlight[e]=t})},this._shouldShowNewAssetInList=e=>{let{debouncedSearchQuery:t,source:s,searchFileType:a}=this.get();if("SOURCE_ANY"!==s&&(e.source||(e.isModelGenerated?"SOURCE_GENERATED":"SOURCE_UPLOADED"))!==s)return!1;if(t){let s=t.toLowerCase();if(!(e.name||"").toLowerCase().includes(s))return!1}return(!a||!!e.mimeType&&!!k[a].includes(e.mimeType))&&!0},this._loadPage=async e=>{let{searchFileType:t,debouncedSearchQuery:s,listStatus:a,listPageToken:n,orderBy:r,source:o}=this.get();if("loading"!==a){this.set({listStatus:"loading",isLoadingOwnAssets:!0});try{var i,l;let a,d,g=c.d.getState();if(s){let e=await g.fetchSearchAssets({query:s,pageSize:50,pageToken:n,source:o,mimeTypes:t?k[t]:void 0});a=e.nextPageToken,d=[];let r={};null==e||null==(i=e.matches)||i.forEach(e=>{var t,s;d.push(e.assetMetadata),r[null==(t=e.assetMetadata)?void 0:t.assetId]=null!=(s=e.highlight)?s:""}),this._addHighlights(s,r)}else{let e=await g.fetchListAssets({query:s,mimeTypes:t?k[t]:void 0,pageSize:50,orderBy:r,source:o,pageToken:n,isLatest:!0});a=e.nextPageToken,d=null!=(l=e.assets)?l:[]}let m=[],p={};null==d||d.forEach(e=>{var t;let s=N(e);this._upsertAsset(s),m.push(null!=(t=s.rootAssetId)?t:s.assetId);let a=s.rootAssetId||s.assetId;p[a]||(p[a]=s.assetId)}),this.set(t=>{let s=e?[]:t.list,n=new Set(s),r=[...s];if(m.forEach(e=>{n.has(e)||(r.push(e),n.add(e))}),e){let e=t.creationRequests.filter(e=>{var s;return e.assetId&&(null==(s=t.assetsById[e.assetId])?void 0:s.data)}).map(e=>e.assetId).filter(e=>{var s;let a=null==(s=t.assetsById[e])?void 0:s.data;return a&&this._shouldShowNewAssetInList(a)}),s=new Set(m),a=t.list.filter(e=>!s.has(e)).filter(e=>{var s;let a=t.currentVersion[e];if(!a)return!1;let n=null==(s=t.assetsById[a])?void 0:s.data;if(!n)return!1;let r=new Date(n.createTime||0);return new Date().getTime()-r.getTime()<3e4&&this._shouldShowNewAssetInList(n)});e.forEach(e=>{var s,a;let o=null==(s=t.assetsById[e])?void 0:s.data;if(o){let e=null!=(a=o.rootAssetId)?a:o.assetId;n.has(e)||(r.unshift(e),n.add(e))}}),a.forEach(e=>{n.has(e)||(r.unshift(e),n.add(e))})}return{list:r,listStatus:"ready",listPageToken:a||"",currentVersion:{...t.currentVersion,...p},isLoadingOwnAssets:!1}})}catch(e){this.set({listStatus:"error",isLoadingOwnAssets:!1})}}},this._createAsset=async(e,t)=>{this.set(t=>{t.creationRequests.push(e),t.isLoadingOwnAssets=!0});try{var s,n;let a=c.d.getState(),r=await a.fetchCreateAsset(e),o=N(r);this._upsertAsset(o);let i=null!=(s=o.rootAssetId)?s:o.assetId;this._shouldShowNewAssetInList(o)&&this.set(e=>{e.list.includes(i)||e.list.unshift(i)}),this.set(t=>{let s=t.creationRequests.find(t=>(0,l.c2)(t)===e);s&&(s.assetId=o.assetId)}),await new Promise(e=>setTimeout(e,1)),this.set(e=>{e.creationRequests=e.creationRequests.filter(e=>e.assetId!==o.assetId),e.isLoadingOwnAssets=!1}),null==t||t(null!=(n=o.rootAssetId)?n:o.assetId)}catch(t){this.set(t=>{t.creationRequests=t.creationRequests.filter(t=>(0,l.c2)(t)!==e),t.isLoadingOwnAssets=!1}),u.oR.error((0,a.jsx)(p.x6,{ns:"files",i18nKey:"file-store-upload.error",defaults:"Error when uploading file"}))}},this.loadFirstPage=async function(){var e,t,a,n;let{sort:r,fileType:o,createdBy:i,search:c}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.set({orderBy:(e=r)&&null!=(t=({name:"ORDER_BY_NAME",size:"ORDER_BY_CONTENT_SIZE",used:"ORDER_BY_LAST_USE_TIME",created:"ORDER_BY_CREATE_TIME"})[e])?t:"ORDER_BY_LAST_USE_TIME",searchFileType:o,source:(a=i)&&null!=(n=({grok:"SOURCE_GENERATED",user:"SOURCE_UPLOADED"})[a])?n:"SOURCE_ANY",listPageToken:void 0,debouncedSearchQuery:c}),await s._loadPage(!0)},this.loadNextPage=async()=>{await this._loadPage()},this.loadRecent=async()=>{try{var e;this.set(e=>{e.isLoadingOwnAssets=!0});let t=c.d.getState();((null==(e=(await t.fetchListAssets({pageSize:20,orderBy:"ORDER_BY_CREATE_TIME",isLatest:!0})).assets)?void 0:e.map(N))||[]).forEach(e=>{this._upsertAsset(e)}),this.set(e=>{e.isLoadingOwnAssets=!1})}catch(e){(0,o.vV)("files-page-store:loadRecent",e),this.set(e=>{e.isLoadingOwnAssets=!1})}},this.fetchVersions=async e=>{this.set(t=>{t.assetsById[e]?(t.assetsById[e].status="loading",t.assetsById[e].error=null):t.assetsById[e]={status:"loading",data:null,error:null}});try{var t,s;let a=c.d.getState(),n=await a.fetchListAllAssetVersions({rootAssetId:e});if((null==(t=n.assets)?void 0:t.length)===0)this.set(t=>{t.assetsById[e]&&(t.assetsById[e]=(0,i.ok)(null))});else{let e=(null==(s=n.assets)?void 0:s.map(N))||[];this.set(e=>{e.isLoadingOwnAssets=!0}),e.forEach(e=>{this._upsertAsset(e)}),this.set(e=>{e.isLoadingOwnAssets=!1})}}catch(t){this.set(s=>{s.assetsById[e]&&(s.assetsById[e]=(0,i._q)(t)),s.isLoadingOwnAssets=!1})}},this.createAsset=(e,t)=>{let s=e.endsWith(".md")?S("# "):void 0;this._createAsset({name:e,content:s},t)},this.uploadAsset=async(e,t)=>{let s=await C(e);this._createAsset(s,t)},this.deleteAsset=async e=>{var t;let{assetsById:s}=this.get();if(null==(t=s[e])?void 0:t.data)try{let t=c.d.getState();await t.fetchDeleteAssetMetadata({assetId:e})}catch(e){u.oR.error((0,a.jsx)(p.x6,{ns:"files",i18nKey:"file-store-delete.error",defaults:"Error when deleting file"}))}},this._debouncedUpdateAssetContent=g().debounce(async(e,t)=>{try{let s=c.d.getState(),a=await s.fetchUpdateAsset({assetId:e,body:{content:S(t),makeNewVersion:!1}});this._upsertAsset(N(a))}catch(e){(0,o.vV)("files-page-store:updateAssetContent",e),u.oR.error((0,a.jsx)(p.x6,{ns:"files",i18nKey:"file-store-update.error",defaults:"Error when saving file"}))}},2e3),this.setAssetContent=async(e,t,s)=>{this.set(s=>{s.contentById[e]=t}),s||("string"==typeof t?this._debouncedUpdateAssetContent(e,t):this._debouncedUpdateBinaryAssetContent(e,t))},this.updateAssetContent=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=s.get().contentById[e];n||s.set(s=>{s.contentById[e]=t});try{let a=c.d.getState(),r=await a.fetchUpdateAsset({assetId:e,body:{content:S(t),makeNewVersion:n}});s._upsertAsset(N(r))}catch(t){n||s.set(t=>{r&&(t.contentById[e]=r)}),(0,o.vV)("files-page-store:updateAssetContent",t),u.oR.error((0,a.jsx)(p.x6,{ns:"files",i18nKey:"file-store-update.error",defaults:"Error when saving file"}))}},this.renameAsset=async(e,t)=>{var s;let n=null==(s=this.get().assetsById[e])?void 0:s.data;if(t&&n&&n.name!==t){this.set(s=>{s.assetsById[e]&&(s.assetsById[e].data=n,s.assetsById[e].data={...n,name:t})});try{let s=c.d.getState(),a=await s.fetchUpdateAsset({assetId:e,body:{name:t}});this._upsertAsset(N(a))}catch(e){this._upsertAsset(n),u.oR.error((0,a.jsx)(p.x6,{ns:"files",i18nKey:"file-store-rename.error",defaults:"Error when renaming file"}))}}},this.fetchContent=async(e,t)=>{var s;let a=null==(s=this.get().assetsById[e])?void 0:s.data;if(!a)throw Error("Asset not found");let n="".concat(t,"/").concat(null==a?void 0:a.key),o=await (0,r.h)(n,{credentials:"include"});if(!o.ok)throw Error("Error when downloading file content");let i=await o.text();this.set(t=>{t.contentById[e]=i})},this.resetConversation=async e=>{try{let t=c.d.getState();await t.fetchResetAssetConversation({assetId:e,body:{}}),this.set(t=>{var s;(null==(s=t.assetsById[e])?void 0:s.data)&&(t.assetsById[e].data.currentConversationId=void 0)})}catch(e){(0,o.vV)("files-page-store:resetConversation",e),u.oR.error((0,a.jsx)(p.x6,{ns:"files",i18nKey:"file-store-reset-conversation.error",defaults:"Error when resetting conversation"}))}},this.fetchBinaryContent=async(e,t)=>{var s;let a=null==(s=this.get().assetsById[e])?void 0:s.data;if(!a)throw Error("Asset not found");let n="".concat(t,"/").concat(a.key),o=await (0,r.h)(n,{credentials:"include"});if(!o.ok)throw Error("Error when downloading file content");let i=await o.arrayBuffer();this.set(t=>{t.contentById[e]=i})},this._debouncedUpdateBinaryAssetContent=g().debounce(async(e,t)=>{try{let s=c.d.getState(),a=await s.fetchUpdateAsset({assetId:e,body:{content:f.from(t).toString("base64"),makeNewVersion:!1}});this._upsertAsset(N(a))}catch(e){(0,o.vV)("files-page-store:updateBinaryAssetContent",e),u.oR.error((0,a.jsx)(p.x6,{ns:"files",i18nKey:"file-store-update.error",defaults:"Error when saving file"}))}},2e3),this.fetchSharedContent=async(e,t)=>{let s="".concat(t,"/").concat(null==e?void 0:e.key),a=await (0,r.h)(s,{credentials:"include"});if(!a.ok)throw Error("Error when downloading file content");return a.text()},this.getAssetMeatadata=async e=>{let t=c.d.getState(),s=await t.fetchGetAsset({assetId:e});if(!s)throw Error("Asset not found");return s},this.setCurrentVersion=(e,t)=>{this.set(s=>{s.currentVersion[e]=t})},this.createVersion=async e=>{let t=this.get().contentById[e];if(null==t)return;let s=c.d.getState(),a=await s.fetchUpdateAsset({assetId:e,body:{content:"string"==typeof t?S(t):f.from(t).toString("base64"),makeNewVersion:!0}}),n=N(a);return this._upsertAsset(n),this.set(s=>{s.contentById[e]=t,s.currentVersion[n.rootAssetId||n.assetId]=n.assetId}),a},this.shareAsset=async e=>{let t=c.d.getState();return await t.fetchShareAsset({assetId:e})},this.cloneAsset=async e=>{let t=c.d.getState();return await t.fetchCloneAsset({assetId:e})},this.handleArtifactSelect=e=>{let t=e.id,s=e.versionId;if(!t||!s)return void console.warn("Artifact has no assetId and no rootAssetId");this.set(a=>{var n,r,o;if(!a.assetsById[s]){let o=a.currentVersion[t],c={...(o?null==(n=a.assetsById[o])?void 0:n.data:void 0)||{createTime:void 0},assetId:s,rootAssetId:t,createTime:new Date().toISOString()};a.currentVersion[t]=c.assetId,a.contentById[s]=null!=(r=e.content)?r:"",a.assetsById[s]=(0,i.ok)(c);return}a.currentVersion[t]=s,a.contentById[s]=null!=(o=e.content)?o:""}),e.incomplete||setTimeout(()=>{this.fetchVersions(t)},1e3)},this.dispose.push(c.d.subscribe(e=>e.byId,(e,t)=>{t&&this.set(s=>{Object.values(e).forEach(e=>{var a;let n=null!=(a=e.rootAssetId)?a:e.assetId,r=s.creationRequests.some(t=>t.name===e.name),o=s.list.includes(n),c=s.assetsById[e.assetId],l=!(e.assetId in(t||{})),d=l&&!s.isLoadingOwnAssets;(r||o||c||l)&&(s.assetsById[e.assetId]=(0,i.ok)(e),s.currentVersion[n]||(s.currentVersion[n]=e.assetId),d&&!o&&this._shouldShowNewAssetInList(e)&&!s.list.includes(n)&&s.list.unshift(n))}),Object.keys(t).forEach(a=>{if(!(a in e)&&s.assetsById[a]){var n,r;delete s.assetsById[a];let e=null!=(r=null==(n=t[a])?void 0:n.rootAssetId)?r:a;s.list=s.list.filter(t=>t!==e),s.currentVersion[e]===a&&delete s.currentVersion[e]}})})},{fireImmediately:!0}))}}let w=(0,i.MQ)(x,"useFilesPageStore");function v(e){return w((0,h.k)(t=>{var s;let a=t.currentVersion[e];if(a)return null==(s=t.assetsById[a])?void 0:s.data}))}function y(){let e=w((0,h.k)(e=>e.list)),t=w((0,h.k)(e=>e.assetsById));return(0,m.useMemo)(()=>e.map(e=>{var s;return null==(s=t[e])?void 0:s.data}).filter(I),[e,t])}function j(e,t){return w(s=>{let a=s.contentById[e];switch(t){case"binary":return a instanceof ArrayBuffer?a:void 0;case"string":return"string"==typeof a?a:void 0;default:return a}})}function N(e){if(!e.assetId)throw Error("Asset ID is required but was not provided");return e}async function C(e){let t=await e.arrayBuffer();return{name:e.name,mimeType:e.type,content:f.from(t).toString("base64")}}function S(e){return btoa(String.fromCharCode(...new TextEncoder().encode(e)))}function I(e){return null!=e}},87906:(e,t,s)=>{"use strict";s.d(t,{m:()=>h});var a=s(79342),n=s(39489),r=s(66408),o=s(23232),i=s(4878),c=s(59075),l=s(97960),d=s(38541),g=s.n(d),m=s(74995),p=s(88382),u=s(98046);function h(e){let{response:t,isStreaming:s,numImages:d,readOnly:h,disableImageClick:f}=e,{ASSET_SERVER_URL:k}=(0,n.v)(),b=(0,l.A3)(m.A("imageIdByUrl")),x=(0,c.j)(m.A("open")),w=(0,o._)(),{generatedImageUrls:v,streamingImageById:y,hasImages:j}=t,N=(0,p.useMemo)(()=>{let e={};return y&&Object.keys(y).forEach(t=>{var s;Object.keys(null!=(s=y[t])?s:{}).forEach(s=>{var a,n;let r=parseInt(s),o=null==(n=y[t])||null==(a=n[r])?void 0:a.imageUrl;e[t]||(e[t]={}),o&&(e[t][r]=o)})}),v&&v.forEach(t=>{let s=b[t]||t;e[s]||(e[s]={}),e[s][100]=t}),e},[y,v,b]),C=(0,p.useMemo)(()=>t.generatedImageWidth&&t.generatedImageHeight?t.generatedImageWidth/t.generatedImageHeight:void 0,[t.generatedImageWidth,t.generatedImageHeight]),S=(0,p.useMemo)(()=>!h&&!s,[h,s]),I=(0,p.useMemo)(()=>{let e=Object.keys(N).map(e=>{var t,a,n,r;let o=Math.max(...Object.keys(null!=(n=N[e])?n:{}).map(e=>parseInt(e))),c=null==(t=N[e])?void 0:t[o],l=!s&&!(null==(a=N[e])?void 0:a[100]),d=g().compact(Object.keys(null!=(r=N[e])?r:{}).map(t=>{var s;let a=parseInt(t),n=(0,i.sU)(k,null==(s=N[e])?void 0:s[a]);return n?{progress:a/100,imageUrl:n}:void 0}));return{imageKey:e,url:(0,i.sU)(k,c),isModerated:l,intermediateResults:d}}),t=e.length<d?Array.from({length:d-e.length},(e,t)=>({imageKey:"image-".concat(t),isModerated:!s,intermediateResults:[]})):[];return[...e,...t].slice(0,d)},[N,s,k,d]),T=(0,p.useCallback)(e=>{if(f||e.isModerated)return!1;if(S){var t;let s=e.url&&null!=(t=(0,i.B)(e.url))?t:e.imageKey;return x({key:s,progress:100,assetKey:s,url:e.url,isModerated:e.isModerated}),w("image_editor_open",(0,r.r)(s),{location:"response-image"}),!1}return!0},[f,S,x,w]);return j||v&&v.length?(0,a.jsx)(u.a,{images:I,onImageClick:T,ariaLabel:t.message,statsigLocation:"response-images",aspectRatio:C,disableImageClick:f,align:"CENTER",size:"LARGE"}):null}},87992:(e,t,s)=>{"use strict";s.d(t,{t:()=>n});var a=s(84448);let n=e=>{let t=e;-1===t.indexOf("</xaiArtifact>")?t+="</xaiArtifact>":t=t.substring(0,t.indexOf("</xaiArtifact>")+14);let s=t.indexOf(">")+1,n=t.lastIndexOf("<"),r=t.substring(0,s)+t.substring(n),o=t.substring(s,n),i=new a.vf({ignoreAttributes:!1,alwaysCreateTextNode:!0,attributeNamePrefix:"xai_"}),c="",l="",d="",g="",m="",p=!0;try{let e=i.parse(r).xaiArtifact;c=null==e?void 0:e.xai_artifact_id,l=null==e?void 0:e.xai_artifact_version_id,d=null==e?void 0:e.xai_title,g=null==e?void 0:e.xai_language,m=null==e?void 0:e.xai_contentType,p=(null==e?void 0:e.xai_autoOpen)!=="false"}catch(e){}return{title:d,id:c,versionId:l,language:g,contentType:m,content:o.trim(),autoOpen:p}}},88119:(e,t,s)=>{"use strict";s.d(t,{M:()=>p,Uk:()=>m,zG:()=>g});var a=s(79342),n=s(56691),r=s(61884),o=s(61312),i=s(40251),c=s(11750),l=s(16506);s(88382);var d=s(65146);let g={light:{icon:c.bd5,label:"Light"},dark:{icon:c.UtH,label:"Dark"},system:{icon:c.w2g,label:"System"}};function m(){let{t:e}=(0,d.Bd)("base"),{setTheme:t,theme:s}=(0,l.D)(),c={light:e("Light","Light"),dark:e("Dark","Dark"),system:e("System","System")};return(0,a.jsx)("div",{className:"w-full px-1 pt-1 pb-1",children:(0,a.jsx)("div",{className:"flex items-stretch w-full gap-2 justify-stretch",children:Object.entries(g).map(e=>{let[l,{icon:d}]=e;return(0,a.jsxs)(r.m_,{disableHoverableContent:!0,children:[(0,a.jsx)(i.k$,{asChild:!0,children:(0,a.jsx)(n.$n,{className:(0,o.cn)("w-full rounded-lg",{"bg-button-ghost-hover":s===l}),size:"icon",variant:"ghost",onClick:()=>t(l),value:l,children:(0,a.jsx)(d,{size:16})})}),(0,a.jsx)(r.ZI,{side:"bottom",children:(0,a.jsx)("p",{children:c[l]})})]},l)})})})}function p(){let{t:e}=(0,d.Bd)("base"),{setTheme:t,theme:s}=(0,l.D)(),r={light:e("Light","Light"),dark:e("Dark","Dark"),system:e("System","System")};return(0,a.jsx)("div",{className:"w-full px-1 pb-1",children:(0,a.jsx)("div",{className:"flex items-stretch w-full gap-2 justify-stretch",children:Object.entries(g).map(e=>{let[i,{icon:c}]=e;return(0,a.jsxs)(n.$n,{className:(0,o.cn)(s===i&&"bg-button-ghost-hover","w-full rounded-2xl flex-col p-3 group","ring-1 ring-inset ring-toggle-border hover:ring-card-border-focus hover:bg-card-hover text-primary"),variant:"none",size:"none",onClick:()=>t(i),value:i,children:[(0,a.jsx)(c,{className:(0,o.cn)("group-hover:text-primary",s===i?"text-primary":"text-secondary"),size:20}),(0,a.jsx)("p",{children:r[i]})]},i)})})})}},88261:(e,t,s)=>{"use strict";s.d(t,{$M:()=>p,BA:()=>g,HM:()=>l,l3:()=>c,lk:()=>d,oJ:()=>m,uI:()=>i});var a=s(79342),n=s(88382),r=s(38614);let o=(0,n.createContext)({artifact:{onOpen:()=>{},onClear:()=>{},active:void 0,isSidebar:!0,isShowInlineOption:!0},image:{viewedAssetId:void 0,responseImagesView:"image-viewer",onResponseImagesOpen:void 0},isShowFileAttachments:!0,lastMessageScrollPadding:70}),i=e=>{let{children:t,artifact:{onOpen:s,onClear:r,active:i,isSidebar:c,isShowInlineOption:l},image:d,isShowFileAttachments:g=!0,lastMessageScrollPadding:m=70}=e,p=(0,n.useMemo)(()=>({artifact:{onOpen:s,onClear:r,active:i,isSidebar:c,isShowInlineOption:l},image:{viewedAssetId:null==d?void 0:d.viewedAssetId,responseImagesView:(null==d?void 0:d.responseImagesView)||"image-viewer",onResponseImagesOpen:null==d?void 0:d.onResponseImagesOpen},isShowFileAttachments:g,lastMessageScrollPadding:m}),[s,r,i,c,g,l,m,d]);return(0,a.jsx)(o.Provider,{value:p,children:t})},c=()=>{let e=(0,n.useContext)(o),{setSidePanelContent:t,sidePanelContent:s}=(0,r.aP)(),a=(0,n.useCallback)(e=>{let{artifact:s,readOnly:a}=e;t({type:"artifact",data:{artifact:s,readOnly:a}})},[t]),i=(0,n.useCallback)(()=>{t(void 0)},[t]);return e.artifact.isSidebar?{artifact:{onOpen:a,onClear:i,active:(null==s?void 0:s.type)==="artifact"?s.data.artifact:void 0,isSidebar:!0,isShowInlineOption:!0},image:e.image,isShowFileAttachments:!0}:{artifact:e.artifact,image:e.image,isShowFileAttachments:e.isShowFileAttachments,lastMessageScrollPadding:e.lastMessageScrollPadding}},l=()=>(0,n.useContext)(o).isShowFileAttachments,d=()=>(0,n.useContext)(o).artifact.isShowInlineOption,g=()=>(0,n.useContext)(o).image.responseImagesView,m=()=>(0,n.useContext)(o).image.onResponseImagesOpen,p=()=>(0,n.useContext)(o).lastMessageScrollPadding},88844:(e,t,s)=>{"use strict";s.d(t,{w:()=>c});var a=s(79342),n=s(61312),r=s(84969),o=s(23054),i=s(88382);function c(e){let{children:t,isVisible:s,minWidth:c,maxWidth:l,initialWidth:d,className:g}=e,[m,p]=(0,i.useState)(!1),[u,h]=(0,i.useState)(d);(0,i.useRef)(u).current=u;let f=(0,i.useRef)(null),k=(0,i.useRef)(document.body.clientWidth);(0,i.useEffect)(()=>{h(d)},[d]);let b=(0,i.useCallback)(e=>{e.preventDefault(),p(!0)},[]),x=(0,i.useCallback)(()=>{p(!1)},[]),w=(0,i.useCallback)(e=>{m&&f.current&&h(Math.max(c,Math.min(l,document.body.clientWidth-e.clientX)))},[m,c,l]),v=(0,i.useCallback)(()=>{h(Math.max(c,Math.min(l,d/k.current*document.body.clientWidth)))},[c,l,d]);return(0,i.useEffect)(()=>(window.addEventListener("mousemove",w),()=>window.removeEventListener("mousemove",w)),[w]),(0,i.useEffect)(()=>(window.addEventListener("mouseup",x),()=>window.removeEventListener("mouseup",x)),[x]),(0,i.useEffect)(()=>(window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)),[v]),(0,a.jsx)(r.N,{children:s&&(0,a.jsx)(o.P.div,{initial:{x:u,opacity:0,width:0},animate:{x:0,opacity:1,width:u},exit:{x:u,opacity:0,width:0},transition:m?{duration:0}:{type:"ease",ease:"easeInOut",duration:.3},className:(0,n.cn)("h-dvh flex-shrink-0",g),children:(0,a.jsxs)("div",{ref:f,className:"relative h-full w-full",children:[(0,a.jsx)("div",{className:(0,n.cn)("absolute start-0 top-0 bottom-0 w-2 cursor-col-resize border-l border-input-border hover:bg-card-hover z-50",m&&"bg-card-hover"),onMouseDown:b}),(0,a.jsxs)("div",{className:"h-full p-0",children:[t,m&&(0,a.jsx)("div",{className:"absolute inset-0 bg-transparent z-50"})]})]})})})}},89482:(e,t,s)=>{"use strict";s.d(t,{M4:()=>g,Tr:()=>m,Uq:()=>p});var a=s(79342),n=s(11750),r=s(98272),o=s(76520),i=s(11957),c=s(6892),l=s(65146),d=s(42165);let g=e=>{let{t}=(0,l.Bd)("base");switch(e){case"GOOGLE_DRIVE":return t("oauth-provider.google-drive","Google Drive");case"MICROSOFT_ONEDRIVE":return t("oauth-provider.microsoft-onedrive","Microsoft OneDrive");case"SLACK":return t("oauth-provider.slack","Slack");case"GOOGLE_CALENDAR":return t("oauth-provider.google-calendar","Google Calendar");case"GOOGLE_GMAIL":return t("oauth-provider.google-gmail","Gmail");case"NOTION":return t("oauth-provider.notion","Notion");default:return e}},m=e=>{switch(e){case"GOOGLE_DRIVE":return r.A;case"MICROSOFT_ONEDRIVE":return d.nUC;case"SLACK":return n.keQ;case"GOOGLE_CALENDAR":return o.A;case"GOOGLE_GMAIL":return i.A;case"NOTION":return c.A;default:return null}},p=e=>{switch(e){case"GOOGLE_DRIVE":return(0,a.jsx)(l.x6,{ns:"base",i18nKey:"oauth-provider.google-drive-description",defaults:"Share files online with secure cloud storage."});case"MICROSOFT_ONEDRIVE":return(0,a.jsx)(l.x6,{ns:"base",i18nKey:"oauth-provider.microsoft-onedrive-description",defaults:"Keep your files, photos, and videos automatically backed up and available on all your devices."});case"SLACK":return(0,a.jsx)(l.x6,{ns:"base",i18nKey:"oauth-provider.slack-description",defaults:"Manage projects and move work forward faster. Prioritize tasks, share ideas, and stay aligned."});case"GOOGLE_CALENDAR":return(0,a.jsx)(l.x6,{ns:"base",i18nKey:"oauth-provider.google-calendar-description",defaults:"Easier time management, appointments, and scheduling."});case"GOOGLE_GMAIL":return(0,a.jsx)(l.x6,{ns:"base",i18nKey:"oauth-provider.google-gmail-description",defaults:"Access your Gmail account to read and send emails."});case"NOTION":return(0,a.jsx)(l.x6,{ns:"base",i18nKey:"oauth-provider.notion-description",defaults:"Access your Notion account to read and write to your Notion pages."});default:return e}}},90210:(e,t,s)=>{"use strict";s.d(t,{X:()=>o});var a=s(79342),n=s(61312),r=s(91631);function o(e){let{className:t}=e;return(0,a.jsx)(r.TW,{className:(0,n.cn)("border-l transition-colors border-input-border data-[resize-handle-state=hover]:border-border-l3 z-50",t)})}},90662:(e,t,s)=>{"use strict";s.r(t),s.d(t,{FormulaTextEditor:()=>en,default:()=>ei,formulaEditorProvider:()=>eo});var a=s(79342),n=s(90829),r=s(71540),o=s(25603),i=s(88382),c=s(61312),l=s(36889),d=s(39919),g=s(36210),m=s(22207);let p=[r.$t.transactionFilter.of(e=>e.newDoc.lines>1?[e,{changes:{from:0,to:e.newDoc.length,insert:e.newDoc.sliceString(0,void 0," ").trim()},sequential:!0}]:[e])];(0,o.$K)(),(0,o.dz)(),(0,o.Wu)(),(0,g.Lv)();let u=[{key:"Tab",run:d.$w,stopPropagation:!0},{key:"Enter",run:d.$w,stopPropagation:!0},{key:"Escape",run:d.N,stopPropagation:!0}],h=[(0,n.b6)(),(0,o.N$)(),(0,o.VH)(),(0,o.A)(),r.$t.allowMultipleSelections.of(!0),(0,g.WD)(),(0,g.y9)(g.Zt,{fallback:!0}),(0,g.SG)(),(0,d.wm)(),(0,d.yU)({icons:!1}),(0,o.D4)(),(0,o.HJ)(),o.w4.of([...d.Bc,...n.pw.filter(e=>"Enter"!==e.key),...n.cL,...g.f7,...d.OO,...u,...m.$w])];o.Lz.updateListener.of(e=>{let{docChanged:t,view:s,state:a}=e,n=(t||s.hasFocus)&&!(0,d.DH)(a);!a.doc.length&&n&&(0,d.rB)(s)});let f=o.Lz.theme({"& .cm-scroller":{fontFamily:"var(--cm-sans-font, inherit) !important"}}),k=o.Lz.theme({"& .cm-scroller":{fontFamily:"var(--cm-mono-font, inherit) !important"}});var b=s(36928),x=s(32568),w=s(13132),v=s(79093),y=s(91986);let j=new Set([9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288]),N=e=>e>=65&&e<=90||e>=97&&e<=122,C=e=>e>=48&&e<=57,S=e=>j.has(e),I=new v.Lu(e=>{let{next:t}=e;if(!S(t))return;let s=e.peek(-1);if(C(s)||N(s)||41===s||92===s||95===s||46===s||63===s||8364===s){do t=e.advance();while(S(t));if(N(t)||C(t)||40===t||92===t||95===t)return e.acceptToken(48)}},{contextual:!0}),T={".":46,",":44};function E(e){return new v.Lu(t=>{if(t.next===T[e])return t.acceptToken(49,1)})}let R={".":44,",":59};function A(e){return new v.Lu(t=>{if(t.next===R[e])return t.acceptToken(1,1)})}let _={".":",",",":"\\"};function O(e){return t=>t===_[e]?50:-1}let P=E("."),M=A("."),L=O("."),D=function(e){return t=>e.refError.includes(t.toUpperCase())?3:e.error.includes(t.toUpperCase())?4:-1}(y),B=e=>y.bool.includes(e.toUpperCase())?5:-1,z=e=>y.formulas[e.toUpperCase()]?2:-1,F=v.U1.deserialize({version:14,states:"0nO!dQ[OOOOQR'#Cf'#CfO#uQcO'#CfO$wQaO'#CdOOQR'#Ck'#CkO%UQ[O'#CdOOQO'#Dg'#DgO%`QpO'#DgOOQR'#Ce'#CeO%hQWO'#CeOOQU'#DX'#DXO&hQdO'#CvO&xQWO'#CvOOQQ'#Cu'#CuO'iQ`O'#DcO'pQ`O'#CxO%XQ[O'#CxOOQQ'#Cx'#CxO(dQ[O'#DSOOQQ'#Cd'#CdO(kQ[O'#CcOOQO'#Dc'#DcQOQWOOO(uQWO,59WO(uQWO,59VOOQR,59V,59VO)dQcO,59PO)nQWO,59VO)sQ`O,59OO'uQ[O'#DSOOQQ,59O,59OOOQO,5:R,5:ROOQR,59P,59POOQU-E7V-E7VO*iQ`O,59bOOQQ,59b,59bOOQS'#C}'#C}OOQS'#DO'#DOOOQS'#DP'#DPOOQS'#DQ'#DQO%XQ[O,59hO%XQ[O,59hO%XQ[O,59hO%XQ[O,59hO%XQ[O,59hOOQQ,59d,59dO*vQ!hO'#CzO,^Q`O,59dO,kQ[O'#CvOOQS'#Dv'#DvOOQO'#DV'#DVO,|Q[O'#DVO-UQWO'#DUO-aQWO'#DTO-iQWO,59nO%XQ[O,5:eO-nQ`O,58}OOQR1G.r1G.rO-uQWO'#CkO/XQcO1G.qO-uQWO'#DWO/iQYO,59YOOQR1G.k1G.kOOQR1G.q1G.qOOQQ1G.j1G.jO0`Q`O1G.|O1_Q`O1G/SO2TQ`O1G/SO2_Q`O1G/SO3WQ`O1G/SO3_Q`O1G/SO3fQ#wO'#CfO3mQ#wO'#CdO4hQ#zO'#CvO5aQ#vO'#C{O5kQ!dO,59fO5sQWO,59bOOQO,59q,59qO'uQ[O'#DZO6RQWO,59pO6^QWO,59oO'uQ[O'#D[OOQQ1G/Y1G/YO6fQ`O1G0PO6mQZO'#CfO7_QZO,59PO7pQZO,59rOOQQ-E7U-E7UO8RQ#vO,59bO*vQ!hO'#DYO8]Q!dO1G/QOOQQ1G/Q1G/QO8eQ#vO,59dO8oQWO1G.|OOQO,59u,59uOOQO-E7X-E7XOOQO-E7Y-E7YOOQO,59v,59vOOQO7+%k7+%kO8}Q#wO1G.qO9XQ#vO1G.|O:QQ#vO1G/SO:sQ#vO1G/SO:}Q#vO1G/SO;sQ#vO1G/SO;zQ#vO1G/SOOQQ,59t,59tOOQQ-E7W-E7WOOQQ7+$l7+$lO<RQZO1G.qO<dQ[O'#CxO=tQWO,59WO-uQWO,59WO=tQWO,59VO-uQWO,59VO<dQ[O,59hO<dQ[O,59hO<dQ[O,59hO<dQ[O,59hO<dQ[O,59h",stateData:">v~O!UOS~OQ_ORQOS]OT]OZPO[PO]PO^POaTOdUOeVOgUOk]Om_O!R[O![YO!_`O!``O!a`O~O!WdO!ibO~PVOR!ZXZ!ZX[!ZX]!ZX^!ZXuYX!QYX!XYX!YYX!bYX!cYX!dYX!eYX!fYX!gYX!hYXPYX~O!PYXcYX!lYX~P!nO!QhO!XgO!YiOuWX!bWX!cWX!dWX!eWX!fWX!gWX!hWX~O!PWXcWX!lWX~P$SOcnO!imO~PVOfoOhoO~ORPOZPO[PO]PO^PO~O![YOujX!bjX!cjX!djX!ejX!fjX!gjX!hjX~O!RrO!PjXcjX!ljX~P%yO![sO~Ou|O!b}O!ctO!duO!euO!fvO!gvO!hwO~O!P!VX~P&}O!]!OO~OR!SOS]OT]Ok]O!R[O![YO!_!RO!`!RO!a!RO~O!W!XO~P'uO!imO!PVX~PVORQOZPO[PO]PO^POa![OdUOeVOgUO~OP!^Oc!`O~P$SOc!aO~Oc!bO~P&}O![YOuja!bja!cja!dja!eja!fja!gja!hja~O!Pjacja!lja~P)zOQ_OR!iOS]OT]OZPO[PO]PO^POaTOdUOeVOgUOk]Om_O!R[O![YO!_#bO!`#bO!a#bO!imOPoP!^oP~O!Placla!lla~P&}O!R!nO![YO!SjX!kjX!ljX~O!R[O![YO~O!S!pO!kxX!lxX~O!k!sO!lwX~O!l!tO~O!PVa~P&}OR!vOZPO[PO]PO^POa![OdUOeVOgUO~Ou_i!Q_i!Y_i!b_i!c_i!d_i!e_i!f_i!g_i!h_iP_i~O!XgO!P_ic_i!l_i~P.dOP!^Ocba~O![YOuji!bji!cji!dji!eji!fji!gji!hji~O!Pjicji!lji~P/qO!b}Oupi!Ppi!dpi!epi!fpi!gpi!hpicpi!lpi~O!cpi~P0mO!b}O!ctOupi!Ppi!dpi!epi!hpicpi!lpi~O!fvO!gvO~P1fO!ctO~P0mO!b}O!ctO!duO!euO!fvO!gvOupi!Ppicpi!lpi~O!hpi~P2fO!hwO~P2fO!^YX~P!nO!Q#eO!X#cO!YiOPWXuWX!^WX!bWX!cWX!dWX!eWX!fWX!gWX!hWX~O!R!zOPjX!^jX~P%yOu#kO!b}O!ctO!duO!euO!fvO!gvO!hwO~OPoX!^oX~P4uOP!{O!^!}O~O![YO!Sja!kja!lja~O!S!pO!kxa!lxa~O!k!sO!lwa~O!l#UO~P&}OPYXR!ZXZ!ZX[!ZX]!ZX^!ZXcYX!QYX!XYX!YYX~OP!^Oc!`O!Q#fO!X#dO!YiO~O!Q#fO!X#dO!YiOPzacza~OPja!^ja~P)zOP!{O!^#`O~OPla!^la~P4uO![YO!Sji!kji!lji~O!X#cO!^_i~P.dOPji!^ji~P/qO!b}OPpiupi!^pi!dpi!epi!fpi!gpi!hpi~O!cpi~P9cO!b}O!ctOPpiupi!^pi!dpi!epi!hpi~O!fvO!gvO~P:XO!ctO~P9cO!b}O!ctO!duO!euO!fvO!gvOPpiupi!^pi~O!hpi~P;UO!hwO~P;UO!X#dOP_ic_i!Q_i!Y_i~OQ_OR!iOS]OT]OZPO[PO]PO^POaTOdUOeVOgUOk]Om_O!R[O![YO!_#bO!`#bO!a#bO!imO~OR!iOZPO[PO]PO^POa![OdUOeVOgUO~O^hfgkd![]Z!nm[!o!Y!a!_!UZ~",goto:"-W!nPPPPPPP!o!r#x$vPPPP%g&TP&qPPPPPP&u'aP'|P(b(e(k)P)d)s*UP'|*c*g*n*v*}+},T,ZPPPPPP,aPPP,dPPPPPPPPPPPPPP-QPP!oReOQ^OQlTQ!P`Q!YdQ!dxQ!eyQ!fzQ!g{Q!h|S!l!O!{Q!u!XQ#O#bQ#X#gQ#Y#hQ#Z#iQ#[#jR#]#kbRO`dxyz{|!XQjTU!Zg#c#dQ!]h`!j!O!{#b#g#h#i#j#kQ!w![Q!x!^Q#V#eR#a#f!UWOT`dghxyz{|!O!X![!^!{#b#c#d#e#f#g#h#i#j#kRpX!VWOT`dghxyz{|!O!X![!^!{#b#c#d#e#f#g#h#i#j#k!VSOT`dghxyz{|!O!X![!^!{#b#c#d#e#f#g#h#i#j#kTkT![tcOT`dxyz{|!O!X!{#b#g#h#i#j#kX!Sbm!p!s|]OT`bdmxyz{|!O!X!p!s!{#b#g#h#i#j#kR!o!TucOT`dxyz{|!O!X!{#b#g#h#i#j#kR}_Q!m!OR#^!{uaOT`dxyz{|!O!X!{#b#g#h#i#j#kbx^l!P!Y!e!f!g!h!u]#g!l#O#Y#Z#[#]^y^l!P!Y!g!h!uX#h!l#O#[#]`z^l!P!Y!e!g!h!uZ#i!l#O#Y#[#][{^l!P!Y!h!uV#j!l#O#]T!WbmS!VbmR#T!sU!Ubm!sR#Q!pS!_j!wR!y!_dZOT`dxyz{|!X[qZ!Q!c!k#P#WY!Qbm!T!p!sQ!cr`!k!O!{#b#g#h#i#j#kQ#P!nR#W!zQ!|!mR#_!|Q!q!UR#R!qQ!r!VR#S!rRfO!VXOT`dghxyz{|!O!X![!^!{#b#c#d#e#f#g#h#i#j#kX!Tbm!p!s",nodeNames:"⚠ Separator BuiltInFunctionName RefErrorToken ErrorToken BoolToken Script FormulaWithEq Formula Reference ReferenceItem CellToken NameToken ColRangeToken RowRangeToken ReferenceFunctionCall RangeToken OpenParen Union CloseParen SheetToken Quote SheetQuotedToken MultipleSheetsToken MultipleSheetsQuotedToken Constant Number TextToken FunctionCall FunctionName ArgList Argument FormulaInfixOp ArithOp ArithOp ArithOp ArithOp CompareOp ConstantArray ArrayColumns ArrayRows ArrayConstant",maxTerm:77,nodeProps:[["closedBy",17,"CloseParen"],["openedBy",19,"OpenParen"]],skippedNodes:[0],repeatNodeCount:5,tokenData:"#(W~RyOX#rXY/XYZ/XZ]#r]^/X^p#rpq1Xqr#rrs2fstHetuK_uv!6[vw!7Swx!7zxy!8Syz!8|z{!9v{|!9{|}!;n}!O!<f!O!P#r!P!Q!=`!Q![!=e![!]!?U!]!^!?Z!^!_!@R!_!`!Aw!`!a!Bq!b!c!Co!c!}!E`#O#P#%P#Q#R#%p#R#S!Gh#S#T#r#T#o!E`#o#p#&h#p#q#r#q#r#'`#r;'S#r;'S;=`/R<%lO#r]#uhOp#rpq%aqr(krs#rst%atu#ruw%awx&Vxz%a{|#r|!O%a!O!P#r!Q![#r![!]*[!]!a%a!b!}#r#Q#R%a#R#o#r#o#p%a#p#q#r#q#r%a#r;'S#r;'S;=`/R<%lO#rS%dZOw%awx&Vxz%a{!P%a!Q![%a![!]&e!]!a%a!b!}%a#Q;'S%a;'S;=`(e<%lO%aS&YQqr&`wx%aS&eOfSS&hYOw'Wwx(_xz'W{!P'W!Q!['W!]!a'W!b!}'W#Q;'S'W;'S;=`(X<%lO'WS'ZYOw'Wwx'yxz'W{!P'W!Q!['W!]!a'W!b!}'W#Q;'S'W;'S;=`(X<%lO'WS'|Qqr(Swx'WS(XOhSS([P;=`<%l'WS(bPwx'WS(hP;=`<%l%a](phdXOp#rpq%aqr(krs#rst%atu#ruw%awx&Vxz%a{|#r|!O%a!O!P#r!Q![#r![!]*[!]!a%a!b!}#r#Q#R%a#R#o#r#o#p%a#p#q#r#q#r%a#r;'S#r;'S;=`/R<%lO#r]*_fOp+spq'Wqs+sst'Wtu+suw'Wwx(_xz'W{|+s|!O'W!O!P+s!Q![+s!]!a'W!b!}+s#Q#R'W#R#o+s#o#p'W#p#q+s#q#r'W#r;'S+s;'S;=`.{<%lO+s]+vgOp+spq'Wqr-_rs+sst'Wtu+suw'Wwx'yxz'W{|+s|!O'W!O!P+s!Q![+s!]!a'W!b!}+s#Q#R'W#R#o+s#o#p'W#p#q+s#q#r'W#r;'S+s;'S;=`.{<%lO+s]-dggXOp+spq'Wqr-_rs+sst'Wtu+suw'Wwx'yxz'W{|+s|!O'W!O!P+s!Q![+s!]!a'W!b!}+s#Q#R'W#R#o+s#o#p'W#p#q+s#q#r'W#r;'S+s;'S;=`.{<%lO+s]/OP;=`<%l+s]/UP;=`<%l#r~/^m!U~OX#rXY/XYZ/XZ]#r]^/X^p#rpq1Xqr(krs#rst%atu#ruw%awx&Vxz%a{|#r|!O%a!O!P#r!Q![#r![!]*[!]!a%a!b!}#r#Q#R%a#R#o#r#o#p%a#p#q#r#q#r%a#r;'S#r;'S;=`/R<%lO#r~1^b!U~OX%aXY1XYZ1XZ]%a]^1X^p%apq1Xqw%awx&Vxz%a{!P%a!Q![%a![!]&e!]!a%a!b!}%a#Q;'S%a;'S;=`(e<%lO%a~2ilOp2fpq4aqr=[rs?Xst4atu2fuw4awx6gxz4az{7S{|2f|!O4a!O!P2f!P!Q7S!Q![2f![!]@x!]!a4a!a!b7S!b!}2f!}#Q7S#Q#R4a#R#o2f#o#p4a#p#q2f#q#r4a#r;'S2f;'S;=`H_<%lO2f~4daOr4ars5isw4awx6gxz4az{7S{!P4a!P!Q7S!Q![4a![!]8Y!]!a4a!a!b7S!b!}4a!}#Q7S#Q;'S4a;'S;=`=U<%lO4a~5n]k~Or%ars4asw%awx&Vxz%a{!P%a!Q![%a![!]&e!]!a%a!b!}%a#Q;'S%a;'S;=`(e<%lO%a~6jWOq7Sqr7trs7fsw7Swx4ax;'S7S;'S;=`7n<%lO7S~7VTOr7Srs7fs;'S7S;'S;=`7n<%lO7S~7kPk~rs7S~7qP;=`<%l7S~7yTfSOr7Srs7fs;'S7S;'S;=`7n<%lO7S~8]aOr9brs:jsw9bwx<lxz9bz{7S{!P9b!P!Q7S!Q![9b![!]7S!]!a9b!a!b7S!b!}9b!}#Q7S#Q;'S9b;'S;=`<f<%lO9b~9eaOr9brs:jsw9bwx;exz9bz{7S{!P9b!P!Q7S!Q![9b![!]7S!]!a9b!a!b7S!b!}9b!}#Q7S#Q;'S9b;'S;=`<f<%lO9b~:o[k~Or'Wrs9bsw'Wwx'yxz'W{!P'W!Q!['W!]!a'W!b!}'W#Q;'S'W;'S;=`(X<%lO'W~;hWOq7Sqr<Qrs7fsw7Swx9bx;'S7S;'S;=`7n<%lO7S~<VThSOr7Srs7fs;'S7S;'S;=`7n<%lO7S~<iP;=`<%l9b~<oVOr7Srs7fsw7Swx9bx;'S7S;'S;=`7n<%lO7S~=XP;=`<%l4a~=aldXOp2fpq4aqr=[rs?Xst4atu2fuw4awx6gxz4az{7S{|2f|!O4a!O!P2f!P!Q7S!Q![2f![!]@x!]!a4a!a!b7S!b!}2f!}#Q7S#Q#R4a#R#o2f#o#p4a#p#q2f#q#r4a#r;'S2f;'S;=`H_<%lO2f~?^hk~Op#rpq%aqr(krs2fst%atu#ruw%awx&Vxz%a{|#r|!O%a!O!P#r!Q![#r![!]*[!]!a%a!b!}#r#Q#R%a#R#o#r#o#p%a#p#q#r#q#r%a#r;'S#r;'S;=`/R<%lO#r~@{lOpBspq9bqrBsrsFkst9btuBsuw9bwx<lxz9bz{7S{|Bs|!O9b!O!PBs!P!Q7S!Q![Bs![!]7S!]!a9b!a!b7S!b!}Bs!}#Q7S#Q#R9b#R#oBs#o#p9b#p#qBs#q#r9b#r;'SBs;'S;=`HX<%lOBs~BvlOpBspq9bqrDnrsFkst9btuBsuw9bwx;exz9bz{7S{|Bs|!O9b!O!PBs!P!Q7S!Q![Bs![!]7S!]!a9b!a!b7S!b!}Bs!}#Q7S#Q#R9b#R#oBs#o#p9b#p#qBs#q#r9b#r;'SBs;'S;=`HX<%lOBs~DslgXOpBspq9bqrDnrsFkst9btuBsuw9bwx;exz9bz{7S{|Bs|!O9b!O!PBs!P!Q7S!Q![Bs![!]7S!]!a9b!a!b7S!b!}Bs!}#Q7S#Q#R9b#R#oBs#o#p9b#p#qBs#q#r9b#r;'SBs;'S;=`HX<%lOBs~Fpgk~Op+spq'Wqr-_rsBsst'Wtu+suw'Wwx'yxz'W{|+s|!O'W!O!P+s!Q![+s!]!a'W!b!}+s#Q#R'W#R#o+s#o#p'W#p#q+s#q#r'W#r;'S+s;'S;=`.{<%lO+s~H[P;=`<%lBs~HbP;=`<%l2f~Hj[!Y~Ow%awx&Vxz%a{!P%a!Q![%a![!]&e!]!a%a!b!c%a!c!}I`#Q;'S%a;'S;=`(e<%lO%a~Ied!o~Oq%aqrI`rw%awx&Vxz%a{!P%a!P!QJs!Q![I`![!]&e!]!a%a!a!bJs!b!c%a!c!}I`#Q#R%a#R#SI`#S%r%a%r%sI`%s;'S%a;'S;=`(e<%lO%a~JxV!o~qrJs!P!QJs!Q![Js!a!bJs!c!}Js#R#SJs%r%sJs~KbjOp#rpq%aqr(krs#rst%atu#ruw%awx&Vxz%a{|#r|!O%a!O!P#r!Q![MS![!]*[!]!a%a!b!c#r!c!}!%b#Q#R%a#R#T#r#T#o!%b#o#p%a#p#q#r#q#r%a#r;'S#r;'S;=`/R<%lO#r~MVhOp#rpq%aqr(krs#rst%atu#ruw%awx&Vxz%a{|#r|!O%a!O!P#r!Q![MS![!]Nq!]!a%a!b!}#r#Q#R%a#R#o#r#o#p%a#p#q#r#q#r%a#r;'S#r;'S;=`/R<%lO#r~NtfOp+spq'Wqs+sst'Wtu!!Yuw'Wwx(_xz'W{|+s|!O'W!O!P+s!Q![!#t!]!a'W!b!}+s#Q#R'W#R#o+s#o#p'W#p#q+s#q#r'W#r;'S+s;'S;=`.{<%lO+s~!!]gOp+spq'Wqr-_rs+sst'Wtu+suw'Wwx'yxz'W{|+s|!O'W!O!P+s!Q![!#t!]!a'W!b!}+s#Q#R'W#R#o+s#o#p'W#p#q+s#q#r'W#r;'S+s;'S;=`.{<%lO+s~!#yg^~Op+spq'Wqr-_rs+sst'Wtu+suw'Wwx'yxz'W{|+s|!O'W!O!P+s!Q![!#t!]!a'W!b!}+s#Q#R'W#R#o+s#o#p'W#p#q+s#q#r'W#r;'S+s;'S;=`.{<%lO+s~!%ejOp#rpq%aqr(krs#rst%atu!'Vuw%awx&Vxz%a{|#r|!O%a!O!P#r!Q![!(t![!]!*e!]!a%a!b!c#r!c!}!2x#Q#R%a#R#T#r#T#o!2x#o#p%a#p#q#r#q#r%a#r;'S#r;'S;=`/R<%lO#r~!'YhOp#rpq%aqr(krs#rst%atu#ruw%awx&Vxz%a{|#r|!O%a!O!P#r!Q![!(t![!]*[!]!a%a!b!}#r#Q#R%a#R#o#r#o#p%a#p#q#r#q#r%a#r;'S#r;'S;=`/R<%lO#r~!(yhZ~Op#rpq%aqr(krs#rst%atu#ruw%awx&Vxz%a{|#r|!O%a!O!P#r!Q![!(t![!]*[!]!a%a!b!}#r#Q#R%a#R#o#r#o#p%a#p#q#r#q#r%a#r;'S#r;'S;=`/R<%lO#r~!*hhOp+spq'Wqs+sst'Wtu!,Suw'Wwx(_xz'W{|+s|!O'W!O!P+s!Q![+s!]!a'W!b!c+s!c!}!-t#Q#R'W#R#T+s#T#o!-t#o#p'W#p#q+s#q#r'W#r;'S+s;'S;=`.{<%lO+s~!,ViOp+spq'Wqr-_rs+sst'Wtu+suw'Wwx'yxz'W{|+s|!O'W!O!P+s!Q![+s!]!a'W!b!c+s!c!}!-t#Q#R'W#R#T+s#T#o!-t#o#p'W#p#q+s#q#r'W#r;'S+s;'S;=`.{<%lO+s~!-yi]~Op+spq'Wqr-_rs+sst'Wtu+suw'Wwx'yxz'W{|+s|!O'W!O!P+s!Q![+s!]!a'W!b!c+s!c!}!/h#Q#R'W#R#T+s#T#o!/h#o#p'W#p#q+s#q#r'W#r;'S+s;'S;=`.{<%lO+s~!/mi]~Op+spq'Wqr-_rs+sst'Wtu+suw'Wwx'yxz'W{|+s|!O'W!O!P+s!Q![+s!]!a'W!b!c+s!c!}!1[#Q#R'W#R#T+s#T#o!1[#o#p'W#p#q+s#q#r'W#r;'S+s;'S;=`.{<%lO+s~!1ag]~Op+spq'Wqr-_rs+sst'Wtu+suw'Wwx'yxz'W{|+s|!O'W!O!P+s!Q![+s!]!a'W!b!}+s#Q#R'W#R#o+s#o#p'W#p#q+s#q#r'W#r;'S+s;'S;=`.{<%lO+s~!2{jOp#rpq%aqr(krs#rst%atu!'Vuw%awx&Vxz%a{|#r|!O%a!O!P#r!Q![!(t![!]!*e!]!a%a!b!c#r!c!}!4m#Q#R%a#R#T#r#T#o!4m#o#p%a#p#q#r#q#r%a#r;'S#r;'S;=`/R<%lO#r~!4phOp#rpq%aqr(krs#rst%atu!'Vuw%awx&Vxz%a{|#r|!O%a!O!P#r!Q![!(t![!]!*e!]!a%a!b!}#r#Q#R%a#R#o#r#o#p%a#p#q#r#q#r%a#r;'S#r;'S;=`/R<%lO#rf!6aZ!bbOw%awx&Vxz%a{!P%a!Q![%a![!]&e!]!a%a!b!}%a#Q;'S%a;'S;=`(e<%lO%af!7XZ!hbOw%awx&Vxz%a{!P%a!Q![%a![!]&e!]!a%a!b!}%a#Q;'S%a;'S;=`(e<%lO%a]!8PPeXwx%a_!8ZZ!]QaXOw%awx&Vxz%a{!P%a!Q![%a![!]&e!]!a%a!b!}%a#Q;'S%a;'S;=`(e<%lO%ao!9TZ!^hcROw%awx&Vxz%a{!P%a!Q![%a![!]&e!]!a%a!b!}%a#Q;'S%a;'S;=`(e<%lO%a~!9{O!f~o!:Sh!db!_XOp#rpq%aqr(krs#rst%atu#ruw%awx&Vxz%a{|#r|!O%a!O!P#r!Q![#r![!]*[!]!a%a!b!}#r#Q#R%a#R#o#r#o#p%a#p#q#r#q#r%a#r;'S#r;'S;=`/R<%lO#r~!;sZ!n~Ow%awx&Vxz%a{!P%a!Q![%a![!]&e!]!a%a!b!}%a#Q;'S%a;'S;=`(e<%lO%ao!<mZ!eb!`XOw%awx&Vxz%a{!P%a!Q![%a![!]&e!]!a%a!b!}%a#Q;'S%a;'S;=`(e<%lO%a~!=eO!g~~!=jh![~Op#rpq%aqr(krs#rst%atu#ruw%awx&Vxz%a{|#r|!O%a!O!P#r!Q![!=e![!]Nq!]!a%a!b!}#r#Q#R%a#R#o#r#o#p%a#p#q#r#q#r%a#r;'S#r;'S;=`/R<%lO#r~!?ZO!X~T!?`Z!kPOw%awx&Vxz%a{!P%a!Q![%a![!]&e!]!a%a!b!}%a#Q;'S%a;'S;=`(e<%lO%af!@W]ubOw%awx&Vxz%a{!P%a!Q![%a![!]&e!]!_%a!_!`!AP!`!a!AP!b!}%a#Q;'S%a;'S;=`(e<%lO%af!AUZubOw%awx&Vxz%a{!P%a!Q![%a![!]&e!]!a%a!b!}%a#Q;'S%a;'S;=`(e<%lO%ag!BOZub!WPOw%awx&Vxz%a{!P%a!Q![%a![!]&e!]!a%a!b!}%a#Q;'S%a;'S;=`(e<%lO%af!Bv]ubOw%awx&Vxz%a{!P%a!Q![%a![!]&e!]!_%a!_!`!AP!`!a%a!b!}%a#Q;'S%a;'S;=`(e<%lO%a~!Cth!a~Op#rpq%aqr(krs#rst%atu#ruw%awx&Vxz%a{|#r|!O%a!O!P#r!Q![#r![!]*[!]!a%a!b!}#r#Q#R%a#R#o#r#o#p%a#p#q#r#q#r%a#r;'S#r;'S;=`/R<%lO#r~!Egom~[~Op#rpq%aqr(krs#rst%atu!'Vuw%awx&Vxz%a{|#r|!O%a!O!P!Gh!Q![!Le![!]!*e!]!a%a!a!b!Ip!b!c#r!c!}!No#O#P!Ip#Q#R%a#R#S!Gh#S#T#r#T#o!No#o#p%a#p#q#r#q#r%a#r$Lv#r$Lv$Lw!J_$Lw;'S#r;'S;=`/R<%lO#r~!Goom~[~Op#rpq%aqr(krs#rst%atu#ruw%awx&Vxz%a{|#r|!O%a!O!P!Gh!Q![!Gh![!]*[!]!a%a!a!b!Ip!b!c#r!c!}!Gh#O#P!Ip#Q#R%a#R#S!Gh#S#T#r#T#o!Gh#o#p%a#p#q#r#q#r%a#r$Lv#r$Lv$Lw!J_$Lw;'S#r;'S;=`/R<%lO#r~!IuW[~!O!P!Ip!Q![!Ip!a!b!Ip!c!}!Ip#O#P!Ip#R#S!Ip#T#o!Ip$Lv$Lw!Ip~!Jdo[~Op#rpq%aqr(krs#rst%atu#ruw%awx&Vxz%a{|#r|!O%a!O!P!J_!Q![!J_![!]*[!]!a%a!a!b!Ip!b!c#r!c!}!J_#O#P!Ip#Q#R%a#R#S!J_#S#T#r#T#o!J_#o#p%a#p#q#r#q#r%a#r$Lv#r$Lv$Lw!J_$Lw;'S#r;'S;=`/R<%lO#r~!LnoZ~m~[~Op#rpq%aqr(krs#rst%atu#ruw%awx&Vxz%a{|#r|!O%a!O!P!Gh!Q![!Le![!]*[!]!a%a!a!b!Ip!b!c#r!c!}!Gh#O#P!Ip#Q#R%a#R#S!Gh#S#T#r#T#o!Gh#o#p%a#p#q#r#q#r%a#r$Lv#r$Lv$Lw!J_$Lw;'S#r;'S;=`/R<%lO#r~!Nvom~[~Op#rpq%aqr(krs#rst%atu!'Vuw%awx&Vxz%a{|#r|!O%a!O!P!Gh!Q![!Le![!]!*e!]!a%a!a!b!Ip!b!c#r!c!}#!w#O#P!Ip#Q#R%a#R#S!Gh#S#T#r#T#o#!w#o#p%a#p#q#r#q#r%a#r$Lv#r$Lv$Lw!J_$Lw;'S#r;'S;=`/R<%lO#r~##Oom~[~Op#rpq%aqr(krs#rst%atu!'Vuw%awx&Vxz%a{|#r|!O%a!O!P!Gh!Q![!Le![!]!*e!]!a%a!a!b!Ip!b!c#r!c!}!Gh#O#P!Ip#Q#R%a#R#S!Gh#S#T#r#T#o!Gh#o#p%a#p#q#r#q#r%a#r$Lv#r$Lv$Lw!J_$Lw;'S#r;'S;=`/R<%lO#r~#%WW!n~[~!O!P!Ip!Q![!Ip!a!b!Ip!c!}!Ip#O#P!Ip#R#S!Ip#T#o!Ip$Lv$Lw!Ipf#%uZ!cbOw%awx&Vxz%a{!P%a!Q![%a![!]&e!]!a%a!b!}%a#Q;'S%a;'S;=`(e<%lO%a]#&mZ!iXOw%awx&Vxz%a{!P%a!Q![%a![!]&e!]!a%a!b!}%a#Q;'S%a;'S;=`(e<%lO%aV#'eZ!lROw%awx&Vxz%a{!P%a!Q![%a![!]&e!]!a%a!b!}%a#Q;'S%a;'S;=`(e<%lO%a",tokenizers:[I,M,P,0,1,2,3,4],topRules:{Script:[0,6]},specialized:[{term:76,get:(e,t)=>L(e,t)<<1,external:L},{term:29,get:(e,t)=>z(e,t)<<1|1,external:z,extend:!0},{term:77,get:(e,t)=>D(e,t)<<1,external:D},{term:12,get:(e,t)=>B(e,t)<<1,external:B}],tokenPrec:1353});var U=s(40764),V=s(4778);let H=r.Pe.define(),W={"en-US":()=>Promise.resolve().then(s.t.bind(s,91986,19))};async function G(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en-US",s=null!=(e=W[t])?e:W["en-US"];return s?(await s()).default.formulas:{}}async function K(e,t){let s=(0,g.mv)(e).resolveInner(t).enterUnfinishedNodesBefore(t);if("ArgList"!==s.name||!s.parent)return null;let a=s.parent.getChild("BuiltInFunctionName")||s.parent.getChild("FunctionName");if(!a)return null;let n=await X(a,e.doc);if(!n)return null;let r=0;for(let e=t;;){let t=s.childBefore(e);if(!t)break;t.type.is("Separator")&&r++,e=t.from}return()=>(function(e,t){let s=document.createElement("div");for(let a of(s.className="cm-argumentHints",[e.parameters.map(q)])){let n=document.createElement("span");for(let e=0;e<a.length;e++){let s=a[e];if(void 0!==s){if(e===t||e<t&&s.startsWith("...")){let e=document.createElement("span");e.className="cm-activeArg",n.appendChild(e).appendChild(document.createTextNode(s))}else n.appendChild(document.createTextNode(s));e<a.length-1&&n.appendChild(document.createTextNode(", "))}}let r=s.appendChild(document.createElement("div"));r.className="source-code",r.appendChild(document.createTextNode(e.id)),r.appendChild(document.createTextNode("(")),r.appendChild(n),r.appendChild(document.createTextNode(")"))}let a=s.appendChild(document.createElement("div"));return a.className="cm-description",a.appendChild(document.createTextNode(e.description||"")),a.append(),{dom:s}})(n,r)}let q=e=>(e.repeating?"...".concat(e.name):e.optional?"[".concat(e.name,"]"):e.name)+(e.type?": ".concat(e.type):"");async function X(e,t){var s;let a=t.sliceString(e.from,e.to);return null!=(s=(await G("en-US"))[a])?s:null}var Y=s(83522),Q=s(6753);function $(e){let t=[];return(0,g.mv)(e).iterate({enter:s=>{if("Reference"===s.name){let a=e.doc.sliceString(s.from,s.to),n=(0,Q.tf)(a);return void 0===n||(t.push({from:s.from,to:s.to,selection:new x.rn(n.anchor,n.head)}),!1)}}}),t}let Z=r.sU.define({create:e=>$(e),update:(e,t)=>t.docChanged?$(t.state):e,provide:e=>Y._7.from(e)}),J=F.configure({props:[g.Oh.add({Application:(0,g.Ay)({closing:")",align:!1})}),g.b_.add({Application:g.yd}),(0,w.pn)({"Reference/...":w._A.color,"RangeToken!":w._A.tagName,CellToken:w._A.tagName,ColRangeToken:w._A.tagName,RowRangeToken:w._A.tagName,RefErrorToken:w._A.invalid,BoolToken:w._A.bool,ErrorToken:w._A.invalid,NumberToken:w._A.number,TextToken:w._A.string,FunctionName:w._A.function(w._A.name),BuiltInFunctionName:w._A.function(w._A.name),"( )":w._A.paren,"[ ]":w._A.squareBracket,"{ }":w._A.brace})]});function ee(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return/^[=+-]/.test(e)?[function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=function(e){let{locale:t="en-US",decimalSeparator:s="."}=e;return g.bj.define({name:"spreadsheet",parser:J.configure({tokenizers:[{from:s,to:E(s)},{from:M,to:A(s)},{from:L,to:O(s)}]}),languageData:{autocomplete:async function(e){let s=Object.values(await G(t));if(!s)return null;let a=(0,g.mv)(e.state).resolveInner(e.pos,-1);if("FunctionName"!==a.name&&"BuiltInFunctionName"!==a.name&&"NameToken"!==a.name)return null;let n=e.matchBefore(/\w*/);return n&&n.from==n.to&&!e.explicit?null:{from:n.from,options:s.map(e=>(0,d.Gw)("".concat(e.id,"(#{1})"),{label:e.id,type:"function",apply:"".concat(e.id),info:e.description}))}}}})}(t),a=null!=(e=t.readOnly)&&e;return new g.Yy(s,[k,Z,Y.qw,...a?[]:[function(e){var t,s;let a=r.Pe.define();return[r.sU.define({create:()=>null,update(e,t){if(t.selection&&(e=null),e&&!t.changes.empty){let s=t.changes.mapPos(e.pos,-1,r.iR.TrackDel);e=null===s?null:{pos:s,create:e.create,above:!0}}for(let s of t.effects)s.is(a)?e={pos:t.state.selection.main.from,create:s.value,above:!0}:s.is(H)&&(e=null);return e},provide:e=>o.DK.from(e)}),o.Z9.fromClass((t=new WeakSet,s=new WeakSet,class{update(e){this.updateID++,e.transactions.some(e=>e.selection)&&e.state.selection.main.empty&&(0,U._)(this,t,n).call(this,e.view)}constructor(){(0,V._)(this,t),(0,V._)(this,s),this.pending=-1,this.updateID=0}}))];function n(e){this.pending>-1&&clearTimeout(this.pending),this.pending=window.setTimeout(()=>(0,U._)(this,s,i).call(this,e),50)}function i(s){this.pending=-1;let{main:r}=s.state.selection;if(r.empty){let{updateID:o}=this;e(s.state,r.from).then(e=>{this.updateID!==o?this.pending<0&&(0,U._)(this,t,n).call(this,s):e?s.dispatch({effects:a.of(e)}):s.dispatch({effects:H.of(null)})})}}}(K)]])}({readOnly:t}),(0,x.Qc)()]:[]}var et=s(65312);let es=o.Lz.theme({"& .cm-scroller":{fontFamily:"var(--cm-mono-font, inherit)"},"&":{backgroundColor:"var(--gdg-bg-cell)",color:"var(--gdg-text-dark)"},"& .cm-cursor, & .cm-dropCursor":{borderLeftColor:"var(--gdg-text-dark)"},"&.cm-focused":{outline:"none"},"&.cm-focused .cm-selectionBackground, ::selection":{backgroundColor:"color-mix(in srgb, var(--gdg-accent-color), transparent 66%) !important"},"& .cm-line":{padding:"0 1px"},".cm-tooltip":{backgroundColor:"var(--gdg-bg-cell)",color:"var(--gdg-text-dark)",border:"0px solid var(--gdg-border-color)",boxShadow:"0 0 0 1px var(--gdg-border-color)",borderRadius:"2px",textAlign:"initial"},".cm-tooltip.cm-tooltip-autocomplete":{padding:"0"},".cm-tooltip.cm-tooltip-autocomplete .cm-completionDetail":{color:"var(--gdg-text-header)",fontStyle:"normal"},".cm-tooltip.cm-tooltip-autocomplete > ul":{fontFamily:"var(--cm-mono-font, inherit)"},".cm-completionIcon":{paddingRight:"0.125rem"},".cm-completionMatchedText":{textDecoration:"initial"},".cm-tooltip.cm-tooltip-autocomplete > ul > li":{padding:"0.25rem 0.50rem"},".cm-tooltip.cm-tooltip-autocomplete > ul > li[aria-selected]":{backgroundColor:"color-mix(in srgb, var(--gdg-accent-color), transparent 66%) !important",color:"var(--gdg-text-dark)"},".cm-argumentHints":{display:"flex",flexDirection:"column",padding:"0.25rem 0.50rem",pointerEvents:"none",whiteSpace:"nowrap",lineHeight:"20px",marginBottom:"4px",width:"fit-content"},".cm-argumentHints .source-code":{fontFamily:"var(--cm-mono-font, inherit)",textWrap:"nowrap"},".cm-argumentHints .cm-activeArg":{backgroundColor:"color-mix(in srgb, var(--gdg-accent-color), transparent 66%) !important"},".cm-description":{color:"var(--gdg-text-header)",textWrap:"pretty"},".cm-tooltip.cm-completionInfo":{color:"var(--gdg-text-header)"},".cm-tooltip.cm-completionInfo.cm-completionInfo-right, .cm-tooltip.cm-completionInfo.cm-completionInfo-left":{margin:"0px 1px"},".cm-cell-range-marker":{color:"var(--gdg-text-light)"},".cm-underline .cm-cell-reference":{textDecoration:"underline"}}),ea=i.memo(function(e){let{className:t="",editable:s=!0,readOnly:d=!1,selectAllAtStart:g=!1,autoFocus:m=!1,initialValue:u="",placeholder:k="Empty",onChange:x=()=>null,onHighlightRegions:w=()=>{},cell:v}=e,y=(0,l.wk)(!1),j=i.useRef(null),N=i.useRef(null);return i.useEffect(()=>{if(!N.current)return;let e=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.state.facet(Y.Jn);(e.hasFocus||!(t.length>0))&&(null==w||w(t.map(e=>{let{color:t,range:s}=e;return{color:t+"40",range:s}})))},t=o.Lz.updateListener.of(t=>{t.docChanged&&(x(t.state.doc.toString()),e(t.view))}),a=new o.Lz({state:r.$t.create({doc:u,extensions:[es,t,h,p,(0,o.qf)(k),r.Nb.low(f),r.$t.readOnly.of(d),o.Lz.editable.of(s),o.Lz.contentAttributes.of({tabindex:"0"}),function(e){let{initialDoc:t="",readOnly:s=!1}=e,a=new r.xx;return[a.of(ee(t,s)),r.$t.transactionExtender.of(e=>{if(!e.docChanged||!e.changes.touchesRange(0))return null;let t=e.state.facet(r.$t.readOnly)&&!e.state.facet(o.Lz.editable);return{effects:a.reconfigure(ee(e.newDoc.sliceString(0,1),t))}})]}({initialDoc:u,readOnly:d}),et.L_.of(et.aT.of({...et.Rs})),et.L8.of(et.YF.of({cellFromPointer:e=>{var t,s;let a=null==(s=e.target)||null==(t=s.closest("[data-sheet-id]"))?void 0:t.dataset.sheetId;if(!a)return;let n=null==y?void 0:y.gridRefs[Number(a)],r=null==n?void 0:n.getMouseArgsForPosition(e.clientX,e.clientY,e);if(!r||"cell"!=r.kind&&"header"!=r.kind)return;let[o,i]=r.location;return{col:o,row:i,sheet:Number(a)}},scrollToCell:e=>{let t=null==y?void 0:y.gridRefs[e.sheet];null==t||t.scrollTo(e.col,e.row)}})),Y.qw,o.Lz.domEventHandlers({focus(t,s){e(s)},blur(t,s){e(s,[])}})]}),parent:N.current});m&&a.focus(),g?(0,n.Ub)(a):(0,n.aS)(a),(0,et.z8)({cell:v})(a);let i=e=>(0,b.my)(e,a),c=a.win;return c.addEventListener("pointerdown",i,!0),j.current=a,y&&(y.editor=a),()=>{a.destroy(),j.current=null,c.removeEventListener("pointerdown",i,!0),y&&y.editor===a&&(y.editor=void 0)}},[]),i.useEffect(function(){j.current&&(0,et.z8)({cell:v})(j.current)},[v]),(0,a.jsx)("div",{className:(0,c.cn)("data-grid-editor",t),ref:N,style:{margin:"auto 0"},id:"formula-editor"})});function en(e){let{initialValue:t="",onSubmit:s,onCancel:n,...r}=e,[o,c]=i.useState(t),l=i.useCallback(e=>{let t=[0,0],a=!1;switch(e.key){case"Escape":e.preventDefault(),e.stopPropagation(),t=[0,0];break;case"Enter":e.preventDefault(),e.stopPropagation(),t=[0,e.shiftKey?-1:1],a=!0;break;case"Tab":e.preventDefault(),e.stopPropagation(),t=[e.shiftKey?-1:1,0],a=!0;break;default:return}a?s(o,t):n()},[o,s,n]);return(0,a.jsx)("div",{className:"contents",onKeyDown:l,style:{"--gdg-bg-cell":"var(--surface-l1)","--gdg-text-dark":"hsl(var(--fg-primary))","--gdg-text-header":"hsl(var(--fg-primary))","--gdg-border-color":"var(--border-l1)","--gdg-accent-color":"#0ea5e9"},children:(0,a.jsx)(ea,{...r,onChange:c,initialValue:t})})}let er=i.memo(function(e){let{onFinishedEditing:t,value:s,isHighlighted:n}=e,r=(0,l.wk)(),o=r.editingCell,c=i.useRef(s);c.current=s;let d=i.useCallback((e,s)=>t({...c.current,data:e},s),[t]);return(0,a.jsx)(en,{editable:!0!==s.readonly,readOnly:!0===s.readonly,autoFocus:!0,selectAllAtStart:n&&!1,initialValue:s.data,cell:o,onSubmit:d,onCancel:()=>t(void 0),onHighlightRegions:e=>r.setNodeProps({highlights:e})})}),eo=e=>({editor:er,styleOverride:{textAlign:e.contentAlign,padding:"0 calc(var(--gdg-cell-horizontal-padding) - 0.5px)",display:"flex",justifyItems:"center"},disablePadding:!0}),ei=eo},91102:(e,t,s)=>{"use strict";s.d(t,{c:()=>o});var a=s(88382);function n(e){return/(Macintosh)|(MacIntel)|(MacPPC)|(Mac68K)/i.test(e)}function r(){let{userAgent:e}=window.navigator;return/(iPhone)|(iPad)|(iPod)/i.test(e)||n(e)&&"ontouchend"in document?"ios":n(e)?"macos":/(Win32)|(Win64)|(Windows)|(WinCE)/i.test(e)?"windows":/Android/i.test(e)?"android":/Linux/i.test(e)?"linux":"undetermined"}function o(){let[e,t]=(0,a.useState)("undetermined");(0,a.useEffect)(()=>{t(r)},[]);let s=function(e){switch(e){case"macos":return"⌘";case"windows":case"linux":return"Ctrl+";default:return null}}(e);return{os:e,commandPrefix:s}}},91623:(e,t,s)=>{"use strict";s.d(t,{t:()=>o});var a=s(79342),n=s(88382),r=s(67591);function o(e){let{metadata:t,onRemoveFile:s,file:o,allowCompact:i=!1}=e,c=t instanceof Error,l=(0,n.useMemo)(()=>t&&!c?t.fileName||"":o?o.name:"Unknown",[t,c,o]),d=(0,n.useCallback)(()=>{o&&s&&s(o)},[o,s]);return(0,a.jsx)(r.V,{allowCompact:i,fileName:l,localFile:o,metadata:t,onRemove:d})}},91772:(e,t,s)=>{"use strict";s.d(t,{S:()=>i});var a=s(79342),n=s(61312),r=s(76123),o=s(52970);let i=s(88382).forwardRef((e,t)=>{let{className:s,...i}=e;return(0,a.jsx)(r.bL,{ref:t,className:(0,n.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground","align-middle",s),...i,children:(0,a.jsx)(r.C1,{className:(0,n.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(o.Srz,{className:"h-4 w-4"})})})});i.displayName=r.bL.displayName},91986:e=>{"use strict";e.exports=JSON.parse('{"locale":"en-US","bool":["TRUE","FALSE"],"refError":["#REF!"],"error":["#REF!","#NULL!","#DIV/0!","#VALUE!","#NAME?","#NUM!","#N/A","#GETTING_DATA","#SPILL!"],"formulas":{"AND":{"id":"AND","description":"Returns TRUE if all arguments are TRUE; returns FALSE if any argument is FALSE.","parameters":[{"name":"logical1","description":"The first condition or logical value to evaluate.","type":"boolean","dimensionality":"scalar"},{"name":"logical2","description":"Additional conditions or logical values to evaluate.","type":"boolean","dimensionality":"scalar","optional":true,"repeating":true}]},"FALSE":{"id":"FALSE","description":"Returns the logical value FALSE.","parameters":[]},"IF":{"id":"IF","description":"Returns one value if a condition you specify evaluates to TRUE and another value if it evaluates to FALSE.","parameters":[{"name":"logical_test","description":"Condition to evaluate.","type":"boolean"},{"name":"value_if_true","description":"Value returned if logical_test is TRUE.","type":"any"},{"name":"value_if_false","description":"Value returned if logical_test is FALSE.","type":"any","optional":true}]},"IFERROR":{"id":"IFERROR","description":"Returns value_if_error if expression is an error; otherwise returns the expression.","parameters":[{"name":"value","description":"Expression to check for an error.","type":"any"},{"name":"value_if_error","description":"Value returned if the first argument evaluates to an error.","type":"any"}]},"IFNA":{"id":"IFNA","description":"Returns value_if_na if expression resolves to #N/A; otherwise returns the expression.","parameters":[{"name":"value","description":"Expression to check for #N/A.","type":"any"},{"name":"value_if_na","description":"Value returned if the first argument evaluates to #N/A.","type":"any"}]},"IFS":{"id":"IFS","description":"Checks whether one or more conditions are met and returns a value corresponding to the first TRUE condition.","parameters":[{"name":"logical_test1","description":"First condition to evaluate.","type":"boolean"},{"name":"value_if_true1","description":"Value returned if logical_test1 is TRUE.","type":"any"},{"name":"logical_test2","description":"Additional conditions.","type":"boolean","optional":true,"repeating":true},{"name":"value_if_true2","description":"Value returned if the paired logical_test is TRUE.","type":"any","optional":true,"repeating":true}]},"NOT":{"id":"NOT","description":"Reverses the logic of its argument.","parameters":[{"name":"logical","description":"Value or expression to negate.","type":"boolean"}]},"OR":{"id":"OR","description":"Returns TRUE if any argument evaluates to TRUE.","parameters":[{"name":"logical1","description":"First condition to test.","type":"boolean"},{"name":"logical2","description":"Additional conditions.","type":"boolean","optional":true,"repeating":true}]},"SWITCH":{"id":"SWITCH","description":"Evaluates an expression against a list of values and returns the result corresponding to the first matching value.","parameters":[{"name":"expression","description":"Value or expression to compare.","type":"any"},{"name":"value1","description":"First value to compare with expression.","type":"any"},{"name":"result1","description":"Value returned if expression equals value1.","type":"any"},{"name":"value2","description":"Additional values to compare.","type":"any","optional":true,"repeating":true},{"name":"result2","description":"Result corresponding to each comparison value.","type":"any","optional":true,"repeating":true},{"name":"default","description":"Value returned if no match is found.","type":"any","optional":true}]},"TRUE":{"id":"TRUE","description":"Returns the logical value TRUE.","parameters":[]},"XOR":{"id":"XOR","description":"Returns a logical exclusive OR of all arguments.","parameters":[{"name":"logical1","description":"First logical value.","type":"boolean"},{"name":"logical2","description":"Additional logical values.","type":"boolean","optional":true,"repeating":true}]},"ABS":{"id":"ABS","description":"Returns the absolute value of a number.","parameters":[{"name":"number","description":"The real number for which to return the absolute value.","type":"number","dimensionality":"scalar"}]},"ACOS":{"id":"ACOS","description":"Returns the arccosine of a number.","parameters":[{"name":"number","type":"number"}]},"ACOSH":{"id":"ACOSH","description":"Returns the inverse hyperbolic cosine of a number.","parameters":[{"name":"number","type":"number"}]},"ASIN":{"id":"ASIN","description":"Returns the arcsine of a number.","parameters":[{"name":"number","type":"number"}]},"ASINH":{"id":"ASINH","description":"Returns the inverse hyperbolic sine of a number.","parameters":[{"name":"number","type":"number"}]},"ATAN":{"id":"ATAN","description":"Returns the arctangent of a number.","parameters":[{"name":"number","type":"number"}]},"ATAN2":{"id":"ATAN2","description":"Returns the arctangent of the two specified numbers.","parameters":[{"name":"x_num","type":"number"},{"name":"y_num","type":"number"}]},"ATANH":{"id":"ATANH","description":"Returns the inverse hyperbolic tangent of a number.","parameters":[{"name":"number","type":"number"}]},"CHOOSE":{"id":"CHOOSE","description":"Returns a value from the list of value arguments based on the given index number.","parameters":[{"name":"index","description":"The position (1-based) of the value to return from the list.","type":"number","dimensionality":"scalar"},{"name":"value1","description":"The first possible value to return.","type":"any","dimensionality":"scalar"},{"name":"value2","description":"Additional values from which to choose.","type":"any","dimensionality":"scalar","optional":true,"repeating":true}]},"COLUMN":{"id":"COLUMN","description":"Returns the column number of a reference.","parameters":[{"name":"reference","description":"The cell or range for which to return the column number. If omitted, the column of the cell containing the formula is used.","type":"any","dimensionality":"scalar","optional":true}]},"COLUMNS":{"id":"COLUMNS","description":"Returns the number of columns in a reference or array.","parameters":[{"name":"array","description":"The array or reference for which to count the columns.","type":"any","dimensionality":"matrix"}]},"COS":{"id":"COS","description":"Returns the cosine of the given angle.","parameters":[{"name":"number","type":"number"}]},"COSH":{"id":"COSH","description":"Returns the hyperbolic cosine of a number.","parameters":[{"name":"number","type":"number"}]},"MAX":{"id":"MAX","description":"Returns the largest number in a set of values.","parameters":[{"name":"number1","type":"number"},{"name":"number2","type":"number","optional":true,"repeating":true}]},"MIN":{"id":"MIN","description":"Returns the smallest number in a set of values.","parameters":[{"name":"number1","type":"number"},{"name":"number2","type":"number","optional":true,"repeating":true}]},"PI":{"id":"PI","description":"Returns the value of pi (π).","parameters":[]},"POWER":{"id":"POWER","description":"Returns the result of a number raised to a power.","parameters":[{"name":"number","type":"number"},{"name":"power","type":"number"}]},"PRODUCT":{"id":"PRODUCT","description":"Multiplies all the numbers given as arguments.","parameters":[{"name":"number1","type":"number"},{"name":"number2","type":"number","optional":true,"repeating":true}]},"RAND":{"id":"RAND","description":"Returns a random number between 0 and 1.","parameters":[]},"RANDBETWEEN":{"id":"RANDBETWEEN","description":"Returns a random integer between the numbers you specify.","parameters":[{"name":"bottom","type":"number","description":"Smallest integer."},{"name":"top","type":"number","description":"Largest integer."}]},"ROUND":{"id":"ROUND","description":"Rounds a number to a specified number of digits.","parameters":[{"name":"number","type":"number"},{"name":"num_digits","type":"number"}]},"ROUNDDOWN":{"id":"ROUNDDOWN","description":"Rounds a number toward zero.","parameters":[{"name":"number","type":"number"},{"name":"num_digits","type":"number"}]},"ROUNDUP":{"id":"ROUNDUP","description":"Rounds a number away from zero.","parameters":[{"name":"number","type":"number"},{"name":"num_digits","type":"number"}]},"SIN":{"id":"SIN","description":"Returns the sine of an angle.","parameters":[{"name":"number","type":"number"}]},"SINH":{"id":"SINH","description":"Returns the hyperbolic sine of a number.","parameters":[{"name":"number","type":"number"}]},"SQRT":{"id":"SQRT","description":"Returns the square root of a number.","parameters":[{"name":"number","type":"number"}]},"SQRTPI":{"id":"SQRTPI","description":"Returns the square root of (number \xd7 π).","parameters":[{"name":"number","type":"number"}]},"SUM":{"id":"SUM","description":"Adds all the numbers in a range of cells.","parameters":[{"name":"value1","description":"The first number or range to add together.","type":"number","dimensionality":"scalar"},{"name":"value2","description":"Additional numbers or ranges to add together.","type":"number","dimensionality":"scalar","optional":true,"repeating":true}]},"SUMIF":{"id":"SUMIF","description":"Sums the cells specified by a given condition or criteria.","parameters":[{"name":"range","description":"The range of cells that you want evaluated by criteria.","type":"any","dimensionality":"scalar"},{"name":"criteria","description":"The condition that determines which cells will be summed (e.g., \\">10\\", \\"<=5\\", \\"apples\\").","type":"any","dimensionality":"scalar"},{"name":"sum_range","description":"The cells to sum if you want to sum cells other than those specified in range.","type":"number","dimensionality":"scalar","optional":true}]},"SUMIFS":{"id":"SUMIFS","description":"Adds the cells in a range that meet multiple criteria.","parameters":[{"name":"sum_range","description":"The range of cells to sum.","type":"number","dimensionality":"scalar"},{"name":"criteria_range1","description":"The first range in which to evaluate the associated criteria.","type":"any","dimensionality":"scalar"},{"name":"criteria1","description":"The first condition to apply to criteria_range1.","type":"any","dimensionality":"scalar"},{"name":"criteria_range2","description":"Additional ranges in which to evaluate the associated criteria.","type":"any","dimensionality":"scalar","optional":true,"repeating":true},{"name":"criteria2","description":"Additional conditions to apply to the corresponding criteria ranges.","type":"any","dimensionality":"scalar","optional":true,"repeating":true}]},"TAN":{"id":"TAN","description":"Returns the tangent of an angle.","parameters":[{"name":"number","type":"number"}]},"TANH":{"id":"TANH","description":"Returns the hyperbolic tangent of a number.","parameters":[{"name":"number","type":"number"}]},"ERROR.TYPE":{"id":"ERROR.TYPE","description":"Returns a number corresponding to an error type.","parameters":[{"name":"error_val","type":"any"}]},"FORMULATEXT":{"id":"FORMULATEXT","description":"Returns the formula at the given reference as text.","parameters":[{"name":"reference","type":"any"}]},"ISBLANK":{"id":"ISBLANK","description":"Returns TRUE if the reference is to an empty cell.","parameters":[{"name":"value","type":"any"}]},"ISERR":{"id":"ISERR","description":"Returns TRUE if the value is any error except #N/A.","parameters":[{"name":"value","type":"any"}]},"ISERROR":{"id":"ISERROR","description":"Returns TRUE if the value is any error.","parameters":[{"name":"value","type":"any"}]},"ISEVEN":{"id":"ISEVEN","description":"Returns TRUE if the number is even.","parameters":[{"name":"number","type":"number"}]},"ISFORMULA":{"id":"ISFORMULA","description":"Returns TRUE if the reference is to a cell containing a formula.","parameters":[{"name":"reference","type":"any"}]},"ISLOGICAL":{"id":"ISLOGICAL","description":"Returns TRUE if the value is logical TRUE or FALSE.","parameters":[{"name":"value","type":"any"}]},"ISNA":{"id":"ISNA","description":"Returns TRUE if the value is the #N/A error.","parameters":[{"name":"value","type":"any"}]},"ISNONTEXT":{"id":"ISNONTEXT","description":"Returns TRUE if the value is not text.","parameters":[{"name":"value","type":"any"}]},"ISNUMBER":{"id":"ISNUMBER","description":"Returns TRUE if the value is a number.","parameters":[{"name":"value","type":"any"}]},"ISODD":{"id":"ISODD","description":"Returns TRUE if the number is odd.","parameters":[{"name":"number","type":"number"}]},"ISREF":{"id":"ISREF","description":"Returns TRUE if the value is a reference.","parameters":[{"name":"value","type":"any"}]},"ISTEXT":{"id":"ISTEXT","description":"Returns TRUE if the value is text.","parameters":[{"name":"value","type":"any"}]},"NA":{"id":"NA","description":"Returns the #N/A error value.","parameters":[]},"SHEET":{"id":"SHEET","description":"Returns the sheet number of the referenced sheet.","parameters":[{"name":"value","type":"any","optional":true}]},"TYPE":{"id":"TYPE","description":"Returns a number indicating the data type of a value.","parameters":[{"name":"value","type":"any"}]},"AVERAGE":{"id":"AVERAGE","description":"Returns the average (arithmetic mean) of its arguments.","parameters":[{"name":"number1","description":"The first number, cell reference, or range for which you want the average.","type":"number","dimensionality":"scalar"},{"name":"number2","description":"Additional numbers, references, or ranges for which you want the average.","type":"number","dimensionality":"scalar","optional":true,"repeating":true}]},"AVERAGEIF":{"id":"AVERAGEIF","description":"Returns the average (arithmetic mean) of all the cells in a range that meet a given criteria.","parameters":[{"name":"range","description":"The range of cells that you want evaluated.","type":"number","dimensionality":"scalar"},{"name":"criteria","description":"The condition that determines which cells to average.","type":"any","dimensionality":"scalar"},{"name":"average_range","description":"The actual set of cells to average, if you want to average cells other than those specified in range.","type":"number","dimensionality":"scalar","optional":true}]},"AVERAGEIFS":{"id":"AVERAGEIFS","description":"Returns the average (arithmetic mean) of all cells that meet multiple criteria.","parameters":[{"name":"average_range","description":"The range of cells to average.","type":"number","dimensionality":"scalar"},{"name":"criteria_range1","description":"The first range in which to evaluate the associated criteria.","type":"any","dimensionality":"scalar"},{"name":"criteria1","description":"The first condition to apply to criteria_range1.","type":"any","dimensionality":"scalar"},{"name":"criteria_range2","description":"Additional ranges in which to evaluate the associated criteria.","type":"any","dimensionality":"scalar","optional":true,"repeating":true},{"name":"criteria2","description":"Additional conditions to apply to the corresponding criteria ranges.","type":"any","dimensionality":"scalar","optional":true,"repeating":true}]},"COUNT":{"id":"COUNT","description":"Counts the number of cells that contain numbers, and counts numbers in the list of arguments.","parameters":[{"name":"value1","description":"The first item, cell reference, or range within which you want to count numbers.","type":"any","dimensionality":"scalar"},{"name":"value2","description":"Additional items, cell references, or ranges within which you want to count numbers.","type":"any","dimensionality":"scalar","optional":true,"repeating":true}]},"COUNTA":{"id":"COUNTA","description":"Counts the number of cells that are not empty, and the values in the list of arguments.","parameters":[{"name":"value1","description":"The first item, cell reference, or range to count.","type":"any","dimensionality":"scalar"},{"name":"value2","description":"Additional items, cell references, or ranges to count.","type":"any","dimensionality":"scalar","optional":true,"repeating":true}]},"HLOOKUP":{"id":"HLOOKUP","description":"Looks in the top row of a table or array and returns the value in the same column from a row you specify.","parameters":[{"name":"lookup_value","description":"The value to search for in the first row of the table.","type":"any","dimensionality":"scalar"},{"name":"table_array","description":"The table of information in which data is looked up.","type":"any","dimensionality":"matrix"},{"name":"row_index_num","description":"The row number in table_array from which the matching value should be returned.","type":"number","dimensionality":"scalar"},{"name":"range_lookup","description":"TRUE for approximate match or FALSE for exact match. Defaults to TRUE.","type":"boolean","dimensionality":"scalar","optional":true}]},"INDEX":{"id":"INDEX","description":"Returns the value of an element in a table or array, selected by the row and column number indexes.","parameters":[{"name":"array","description":"A range of cells or an array constant.","type":"any","dimensionality":"matrix"},{"name":"row_num","description":"Selects the row in array from which to return a value.","type":"number","dimensionality":"scalar"},{"name":"column_num","description":"Selects the column in array from which to return a value.","type":"number","dimensionality":"scalar","optional":true}]},"INDIRECT":{"id":"INDIRECT","description":"Returns the reference specified by a text string.","parameters":[{"name":"ref_text","description":"A reference supplied as text.","type":"string","dimensionality":"scalar"},{"name":"a1","description":"TRUE if ref_text is in A1 notation; FALSE if it is in R1C1 notation.","type":"boolean","dimensionality":"scalar","optional":true}]},"LOOKUP":{"id":"LOOKUP","description":"Looks up a value either from a one-row or one-column range or from an array.","parameters":[{"name":"lookup_value","description":"The value to search for.","type":"any","dimensionality":"scalar"},{"name":"lookup_vector","description":"A single row or single column range to be searched.","type":"any","dimensionality":"vector"},{"name":"result_vector","description":"A range that contains only one row or one column and is the same size as lookup_vector.","type":"any","dimensionality":"vector","optional":true}]},"MATCH":{"id":"MATCH","description":"Returns the relative position of an item in an array that matches a specified value.","parameters":[{"name":"lookup_value","description":"The value you want to match in lookup_array.","type":"any","dimensionality":"scalar"},{"name":"lookup_array","description":"A contiguous range of cells containing possible lookup values.","type":"any","dimensionality":"vector"},{"name":"match_type","description":"1 for less than, 0 for exact match, -1 for greater than. Defaults to 1.","type":"number","dimensionality":"scalar","optional":true}]},"OFFSET":{"id":"OFFSET","description":"Returns a reference to a range that is a given number of rows and columns from a given reference.","parameters":[{"name":"reference","description":"The starting point for the offset.","type":"any","dimensionality":"scalar"},{"name":"rows","description":"The number of rows up or down you want to move.","type":"number","dimensionality":"scalar"},{"name":"cols","description":"The number of columns left or right you want to move.","type":"number","dimensionality":"scalar"},{"name":"height","description":"The height, in number of rows, that you want the returned reference to be.","type":"number","dimensionality":"scalar","optional":true},{"name":"width","description":"The width, in number of columns, that you want the returned reference to be.","type":"number","dimensionality":"scalar","optional":true}]},"ROW":{"id":"ROW","description":"Returns the row number of a reference.","parameters":[{"name":"reference","description":"The cell or range for which to return the row number. If omitted, returns the row of the formula cell.","type":"any","dimensionality":"scalar","optional":true}]},"ROWS":{"id":"ROWS","description":"Returns the number of rows in a reference or array.","parameters":[{"name":"array","description":"An array or range of cells for which to count the rows.","type":"any","dimensionality":"matrix"}]},"VLOOKUP":{"id":"VLOOKUP","description":"Looks for a value in the first column of a table and returns a value in the same row from a column you specify.","parameters":[{"name":"lookup_value","description":"The value to search for in the first column of the table.","type":"any","dimensionality":"scalar"},{"name":"table_array","description":"The table of information in which data is looked up.","type":"any","dimensionality":"matrix"},{"name":"col_index_num","description":"The column number in table_array from which the matching value should be returned.","type":"number","dimensionality":"scalar"},{"name":"range_lookup","description":"TRUE for approximate match or FALSE for exact match. Defaults to TRUE.","type":"boolean","dimensionality":"scalar","optional":true}]},"XLOOKUP":{"id":"XLOOKUP","description":"Searches a range or array and returns an item corresponding to the first match it finds.","parameters":[{"name":"lookup_value","description":"The value to search for.","type":"any","dimensionality":"scalar"},{"name":"lookup_array","description":"The array or range to search.","type":"any","dimensionality":"vector"},{"name":"return_array","description":"The array or range to return.","type":"any","dimensionality":"vector"},{"name":"if_not_found","description":"Value to return if no match is found.","type":"any","dimensionality":"scalar","optional":true},{"name":"match_mode","description":"0 = exact match (default), -1 = exact or next smaller, 1 = exact or next larger, 2 = wildcard match.","type":"number","dimensionality":"scalar","optional":true},{"name":"search_mode","description":"1 = search first-to-last (default), -1 = last-to-first, 2 = binary ascending, -2 = binary descending.","type":"number","dimensionality":"scalar","optional":true}]},"CONCAT":{"id":"CONCAT","description":"Combines text from multiple ranges and/or strings.","parameters":[{"name":"text1","description":"The first text item to concatenate.","type":"string","dimensionality":"scalar"},{"name":"text2","description":"Additional text items to concatenate.","type":"string","dimensionality":"scalar","optional":true,"repeating":true}]},"CONCATENATE":{"id":"CONCATENATE","description":"Joins several text strings into one string (legacy version of CONCAT).","parameters":[{"name":"text1","description":"The first text item to join.","type":"string","dimensionality":"scalar"},{"name":"text2","description":"Additional text items to join.","type":"string","dimensionality":"scalar","optional":true,"repeating":true}]},"EXACT":{"id":"EXACT","description":"Returns TRUE if two text strings are exactly the same, FALSE otherwise.","parameters":[{"name":"text1","description":"The first text string.","type":"string","dimensionality":"scalar"},{"name":"text2","description":"The second text string.","type":"string","dimensionality":"scalar"}]},"FIND":{"id":"FIND","description":"Finds one text string within another (case-sensitive) and returns the position of the first character.","parameters":[{"name":"find_text","description":"Text you want to find.","type":"string","dimensionality":"scalar"},{"name":"within_text","description":"Text containing the text you want to find.","type":"string","dimensionality":"scalar"},{"name":"start_num","description":"The character position to start the search (default 1).","type":"number","dimensionality":"scalar","optional":true}]},"LEFT":{"id":"LEFT","description":"Returns the specified number of characters from the start of a text string.","parameters":[{"name":"text","description":"The text string containing the characters to extract.","type":"string","dimensionality":"scalar"},{"name":"num_chars","description":"The number of characters to extract (default 1).","type":"number","dimensionality":"scalar","optional":true}]},"LEN":{"id":"LEN","description":"Returns the number of characters in a text string.","parameters":[{"name":"text","description":"The text string whose length is to be found.","type":"string","dimensionality":"scalar"}]},"LOWER":{"id":"LOWER","description":"Converts all characters in a text string to lowercase.","parameters":[{"name":"text","description":"The text to convert to lowercase.","type":"string","dimensionality":"scalar"}]},"MID":{"id":"MID","description":"Returns a specific number of characters from a text string, starting at the position you specify.","parameters":[{"name":"text","description":"The text string from which to extract characters.","type":"string","dimensionality":"scalar"},{"name":"start_num","description":"The position of the first character to extract (1-based).","type":"number","dimensionality":"scalar"},{"name":"num_chars","description":"The number of characters to extract.","type":"number","dimensionality":"scalar"}]},"REPT":{"id":"REPT","description":"Repeats text a given number of times.","parameters":[{"name":"text","description":"The text to repeat.","type":"string","dimensionality":"scalar"},{"name":"number_times","description":"The number of times to repeat text.","type":"number","dimensionality":"scalar"}]},"RIGHT":{"id":"RIGHT","description":"Returns the specified number of characters from the end of a text string.","parameters":[{"name":"text","description":"The text string containing the characters to extract.","type":"string","dimensionality":"scalar"},{"name":"num_chars","description":"The number of characters to extract (default 1).","type":"number","dimensionality":"scalar","optional":true}]},"SEARCH":{"id":"SEARCH","description":"Finds one text string within another (case-insensitive) and returns the position of the first character.","parameters":[{"name":"find_text","description":"Text you want to find.","type":"string","dimensionality":"scalar"},{"name":"within_text","description":"Text containing the text you want to find.","type":"string","dimensionality":"scalar"},{"name":"start_num","description":"The character position to start the search (default 1).","type":"number","dimensionality":"scalar","optional":true}]},"SUBSTITUTE":{"id":"SUBSTITUTE","description":"Substitutes new text for old text in a string.","parameters":[{"name":"text","description":"The text or cell reference containing text to be replaced.","type":"string","dimensionality":"scalar"},{"name":"old_text","description":"The text you want to replace.","type":"string","dimensionality":"scalar"},{"name":"new_text","description":"The text you want to replace old_text with.","type":"string","dimensionality":"scalar"},{"name":"instance_num","description":"Specifies which occurrence of old_text to replace (default replaces all).","type":"number","dimensionality":"scalar","optional":true}]},"T":{"id":"T","description":"Returns the text referred to by a value, or empty text if the value is not text.","parameters":[{"name":"value","description":"The value you want to test.","type":"any","dimensionality":"scalar"}]},"TEXT":{"id":"TEXT","description":"Formats a number and converts it to text.","parameters":[{"name":"value","description":"The numeric value to format.","type":"any","dimensionality":"scalar"},{"name":"format_text","description":"The format you want to apply.","type":"string","dimensionality":"scalar"}]},"TEXTAFTER":{"id":"TEXTAFTER","description":"Returns text that occurs after a given delimiter.","parameters":[{"name":"text","description":"The text string containing the delimiter.","type":"string","dimensionality":"scalar"},{"name":"delimiter","description":"The text that marks the point after which you want to extract.","type":"string","dimensionality":"scalar"},{"name":"instance_num","description":"Specifies which occurrence of the delimiter to use (default 1).","type":"number","dimensionality":"scalar","optional":true}]},"TEXTBEFORE":{"id":"TEXTBEFORE","description":"Returns text that occurs before a given delimiter.","parameters":[{"name":"text","description":"The text string containing the delimiter.","type":"string","dimensionality":"scalar"},{"name":"delimiter","description":"The text that marks the point before which you want to extract.","type":"string","dimensionality":"scalar"},{"name":"instance_num","description":"Specifies which occurrence of the delimiter to use (default 1).","type":"number","dimensionality":"scalar","optional":true}]},"TEXTJOIN":{"id":"TEXTJOIN","description":"Combines text from multiple ranges and/or strings, with a delimiter that you specify.","parameters":[{"name":"delimiter","description":"The text to use between each text item.","type":"string","dimensionality":"scalar"},{"name":"ignore_empty","description":"TRUE to ignore empty cells; FALSE to include them.","type":"boolean","dimensionality":"scalar"},{"name":"text1","description":"The first text item to join.","type":"string","dimensionality":"scalar"},{"name":"text2","description":"Additional text items to join.","type":"string","dimensionality":"scalar","optional":true,"repeating":true}]},"TRIM":{"id":"TRIM","description":"Removes all spaces from text except for single spaces between words.","parameters":[{"name":"text","description":"The text from which to remove extra spaces.","type":"string","dimensionality":"scalar"}]},"UNICODE":{"id":"UNICODE","description":"Returns the number (code point) corresponding to the first character of the text.","parameters":[{"name":"text","description":"The text for which you want the Unicode code point of the first character.","type":"string","dimensionality":"scalar"}]},"UPPER":{"id":"UPPER","description":"Converts all characters in a text string to uppercase.","parameters":[{"name":"text","description":"The text to convert to uppercase.","type":"string","dimensionality":"scalar"}]},"VALUE":{"id":"VALUE","description":"Converts a text string that represents a number to a number.","parameters":[{"name":"text","description":"The text to convert into a number.","type":"string","dimensionality":"scalar"}]},"VALUETOTEXT":{"id":"VALUETOTEXT","description":"Converts a value to text, preserving the formatting.","parameters":[{"name":"value","description":"The value to convert to text.","type":"any","dimensionality":"scalar"}]},"COUNTBLANK":{"id":"COUNTBLANK","description":"Counts empty cells in a specified range of cells.","parameters":[{"name":"range","description":"The range in which to count blank cells.","type":"any","dimensionality":"matrix"}]},"COUNTIF":{"id":"COUNTIF","description":"Counts the number of cells within a range that meet a single condition.","parameters":[{"name":"range","description":"The range of cells to evaluate.","type":"any","dimensionality":"matrix"},{"name":"criteria","description":"The condition that determines which cells to count.","type":"any","dimensionality":"scalar"}]},"COUNTIFS":{"id":"COUNTIFS","description":"Counts the number of cells that meet multiple criteria.","parameters":[{"name":"criteria_range1","description":"The first range in which to evaluate the associated criteria.","type":"any","dimensionality":"matrix"},{"name":"criteria1","description":"The first condition that determines which cells to count.","type":"any","dimensionality":"scalar"},{"name":"criteria_range2","description":"Additional ranges in which to evaluate the associated criteria.","type":"any","dimensionality":"matrix","optional":true,"repeating":true},{"name":"criteria2","description":"Additional conditions for the corresponding criteria ranges.","type":"any","dimensionality":"scalar","optional":true,"repeating":true}]},"MAXIFS":{"id":"MAXIFS","description":"Returns the maximum value among cells specified by multiple criteria.","parameters":[{"name":"max_range","description":"The actual range of cells from which the maximum is determined.","type":"number","dimensionality":"matrix"},{"name":"criteria_range1","description":"The first range in which to evaluate the associated criteria.","type":"any","dimensionality":"matrix"},{"name":"criteria1","description":"The first condition that determines which cells to evaluate.","type":"any","dimensionality":"scalar"},{"name":"criteria_range2","description":"Additional ranges in which to evaluate the associated criteria.","type":"any","dimensionality":"matrix","optional":true,"repeating":true},{"name":"criteria2","description":"Additional conditions for the corresponding criteria ranges.","type":"any","dimensionality":"scalar","optional":true,"repeating":true}]},"MINIFS":{"id":"MINIFS","description":"Returns the minimum value among cells specified by multiple criteria.","parameters":[{"name":"min_range","description":"The actual range of cells from which the minimum is determined.","type":"number","dimensionality":"matrix"},{"name":"criteria_range1","description":"The first range in which to evaluate the associated criteria.","type":"any","dimensionality":"matrix"},{"name":"criteria1","description":"The first condition that determines which cells to evaluate.","type":"any","dimensionality":"scalar"},{"name":"criteria_range2","description":"Additional ranges in which to evaluate the associated criteria.","type":"any","dimensionality":"matrix","optional":true,"repeating":true},{"name":"criteria2","description":"Additional conditions for the corresponding criteria ranges.","type":"any","dimensionality":"scalar","optional":true,"repeating":true}]},"GEOMEAN":{"id":"GEOMEAN","description":"Returns the geometric mean of an array or range of positive data.","parameters":[{"name":"number1","description":"The first positive number or range of numbers.","type":"number","dimensionality":"scalar"},{"name":"number2","description":"Additional positive numbers or ranges.","type":"number","dimensionality":"scalar","optional":true,"repeating":true}]},"DATE":{"id":"DATE","description":"Returns the serial number of a particular date.","parameters":[{"name":"year","description":"The year component of the date.","type":"number","dimensionality":"scalar"},{"name":"month","description":"The month component of the date.","type":"number","dimensionality":"scalar"},{"name":"day","description":"The day component of the date.","type":"number","dimensionality":"scalar"}]},"DAY":{"id":"DAY","description":"Converts a serial number to a day of the month.","parameters":[{"name":"serial_number","description":"The date of the day you are trying to find.","type":"any","dimensionality":"scalar"}]},"EDATE":{"id":"EDATE","description":"Returns the serial number of the date that is the indicated number of months before or after the start_date.","parameters":[{"name":"start_date","description":"A valid Excel date that represents the start date.","type":"any","dimensionality":"scalar"},{"name":"months","description":"The number of months before or after start_date.","type":"number","dimensionality":"scalar"}]},"EOMONTH":{"id":"EOMONTH","description":"Returns the serial number for the last day of the month that is the indicated number of months before or after start_date.","parameters":[{"name":"start_date","description":"A valid Excel date that represents the start date.","type":"any","dimensionality":"scalar"},{"name":"months","description":"The number of months before or after start_date.","type":"number","dimensionality":"scalar"}]},"MONTH":{"id":"MONTH","description":"Converts a serial number to a month.","parameters":[{"name":"serial_number","description":"The date of the month you are trying to find.","type":"any","dimensionality":"scalar"}]},"NOW":{"id":"NOW","description":"Returns the current date and time.","parameters":[]},"TODAY":{"id":"TODAY","description":"Returns the current date.","parameters":[]},"YEAR":{"id":"YEAR","description":"Converts a serial number to a year.","parameters":[{"name":"serial_number","description":"The date of the year you are trying to find.","type":"any","dimensionality":"scalar"}]},"PMT":{"id":"PMT","description":"Calculates the payment for a loan based on constant payments and a constant interest rate.","parameters":[{"name":"rate","description":"The interest rate per period.","type":"number","dimensionality":"scalar"},{"name":"nper","description":"Total number of payment periods.","type":"number","dimensionality":"scalar"},{"name":"pv","description":"Present value—the total amount that a series of future payments is worth now.","type":"number","dimensionality":"scalar"},{"name":"fv","description":"Future value, or a cash balance you want to attain after last payment (defaults 0).","type":"number","dimensionality":"scalar","optional":true},{"name":"type","description":"Timing of payment: 0 = end of period; 1 = beginning.","type":"number","dimensionality":"scalar","optional":true}]},"PV":{"id":"PV","description":"Returns the present value of an investment.","parameters":[{"name":"rate","description":"The interest rate per period.","type":"number","dimensionality":"scalar"},{"name":"nper","description":"Total number of payment periods.","type":"number","dimensionality":"scalar"},{"name":"pmt","description":"Payment made each period.","type":"number","dimensionality":"scalar"},{"name":"fv","description":"Future value, or cash balance you want after the last payment.","type":"number","dimensionality":"scalar","optional":true},{"name":"type","description":"Timing of payment: 0 = end of period; 1 = beginning.","type":"number","dimensionality":"scalar","optional":true}]},"RATE":{"id":"RATE","description":"Returns the interest rate per period of an annuity.","parameters":[{"name":"nper","description":"Total number of payment periods.","type":"number","dimensionality":"scalar"},{"name":"pmt","description":"Payment made each period.","type":"number","dimensionality":"scalar"},{"name":"pv","description":"Present value—the total amount that a series of future payments is worth now.","type":"number","dimensionality":"scalar"},{"name":"fv","description":"Future value you want to attain.","type":"number","dimensionality":"scalar","optional":true},{"name":"type","description":"Timing of payment: 0 = end of period; 1 = beginning.","type":"number","dimensionality":"scalar","optional":true},{"name":"guess","description":"Your guess for the rate (default 0.1).","type":"number","dimensionality":"scalar","optional":true}]},"NPER":{"id":"NPER","description":"Returns the number of periods for an investment.","parameters":[{"name":"rate","description":"The interest rate per period.","type":"number","dimensionality":"scalar"},{"name":"pmt","description":"Payment made each period.","type":"number","dimensionality":"scalar"},{"name":"pv","description":"Present value.","type":"number","dimensionality":"scalar"},{"name":"fv","description":"Future value.","type":"number","dimensionality":"scalar","optional":true},{"name":"type","description":"Timing of payment.","type":"number","dimensionality":"scalar","optional":true}]},"FV":{"id":"FV","description":"Returns the future value of an investment based on periodic, constant payments and a constant interest rate.","parameters":[{"name":"rate","description":"The interest rate per period.","type":"number","dimensionality":"scalar"},{"name":"nper","description":"Total number of payment periods.","type":"number","dimensionality":"scalar"},{"name":"pmt","description":"Payment made each period.","type":"number","dimensionality":"scalar"},{"name":"pv","description":"Present value or lump-sum amount.","type":"number","dimensionality":"scalar","optional":true},{"name":"type","description":"Timing of payment.","type":"number","dimensionality":"scalar","optional":true}]},"CUMIPMT":{"id":"CUMIPMT","description":"Returns the cumulative interest paid between two periods.","parameters":[{"name":"rate","description":"Interest rate per period.","type":"number","dimensionality":"scalar"},{"name":"nper","description":"Total number of payment periods.","type":"number","dimensionality":"scalar"},{"name":"pv","description":"Present value of the loan.","type":"number","dimensionality":"scalar"},{"name":"start_period","description":"First period in the calculation (1-based).","type":"number","dimensionality":"scalar"},{"name":"end_period","description":"Last period in the calculation.","type":"number","dimensionality":"scalar"},{"name":"type","description":"Timing of payment: 0 = end of period; 1 = beginning.","type":"number","dimensionality":"scalar"}]},"CUMPRINC":{"id":"CUMPRINC","description":"Returns the cumulative principal paid on a loan between two periods.","parameters":[{"name":"rate","description":"Interest rate per period.","type":"number","dimensionality":"scalar"},{"name":"nper","description":"Total number of payment periods.","type":"number","dimensionality":"scalar"},{"name":"pv","description":"Present value of the loan.","type":"number","dimensionality":"scalar"},{"name":"start_period","description":"First period in the calculation (1-based).","type":"number","dimensionality":"scalar"},{"name":"end_period","description":"Last period in the calculation.","type":"number","dimensionality":"scalar"},{"name":"type","description":"Timing of payment.","type":"number","dimensionality":"scalar"}]},"DB":{"id":"DB","description":"Returns the depreciation of an asset for a specified period using the fixed-declining balance method.","parameters":[{"name":"cost","description":"Initial cost of the asset.","type":"number","dimensionality":"scalar"},{"name":"salvage","description":"Value at the end of depreciation.","type":"number","dimensionality":"scalar"},{"name":"life","description":"Number of periods over which the asset is depreciated.","type":"number","dimensionality":"scalar"},{"name":"period","description":"The period for which to calculate the depreciation.","type":"number","dimensionality":"scalar"},{"name":"month","description":"Number of months in the first year (defaults 12).","type":"number","dimensionality":"scalar","optional":true}]},"DDB":{"id":"DDB","description":"Returns the depreciation of an asset for a specified period using the double-declining balance method or another method you specify.","parameters":[{"name":"cost","description":"Initial cost of the asset.","type":"number","dimensionality":"scalar"},{"name":"salvage","description":"Value at the end of depreciation.","type":"number","dimensionality":"scalar"},{"name":"life","description":"Number of periods over which the asset is depreciated.","type":"number","dimensionality":"scalar"},{"name":"period","description":"The period for which to calculate the depreciation.","type":"number","dimensionality":"scalar"},{"name":"factor","description":"Multiplier for the depreciation rate (defaults 2).","type":"number","dimensionality":"scalar","optional":true}]},"DOLLARDE":{"id":"DOLLARDE","description":"Converts a dollar price expressed as a fraction to a decimal.","parameters":[{"name":"fractional_dollar","description":"Price expressed as a fraction.","type":"number","dimensionality":"scalar"},{"name":"fraction","description":"Denominator to use in the fraction.","type":"number","dimensionality":"scalar"}]},"DOLLARFR":{"id":"DOLLARFR","description":"Converts a dollar price expressed as a decimal to a fraction.","parameters":[{"name":"decimal_dollar","description":"Price expressed as a decimal.","type":"number","dimensionality":"scalar"},{"name":"fraction","description":"Denominator to use in the fraction.","type":"number","dimensionality":"scalar"}]},"EFFECT":{"id":"EFFECT","description":"Returns the effective annual interest rate.","parameters":[{"name":"nominal_rate","description":"The nominal interest rate.","type":"number","dimensionality":"scalar"},{"name":"npery","description":"Number of compounding periods per year.","type":"number","dimensionality":"scalar"}]},"IPMT":{"id":"IPMT","description":"Returns the interest payment for a given period of an investment.","parameters":[{"name":"rate","description":"The interest rate per period.","type":"number","dimensionality":"scalar"},{"name":"per","description":"The period for which to find the interest and must be between 1 and nper.","type":"number","dimensionality":"scalar"},{"name":"nper","description":"Total number of payment periods.","type":"number","dimensionality":"scalar"},{"name":"pv","description":"Present value.","type":"number","dimensionality":"scalar"},{"name":"fv","description":"Future value.","type":"number","dimensionality":"scalar","optional":true},{"name":"type","description":"Timing of payment.","type":"number","dimensionality":"scalar","optional":true}]},"IRR":{"id":"IRR","description":"Returns the internal rate of return for a series of cash flows.","parameters":[{"name":"values","description":"Array or reference to cells that contain numbers for which you want to calculate the internal rate of return.","type":"number","dimensionality":"vector"},{"name":"guess","description":"Your guess for what the IRR will be (default 0.1).","type":"number","dimensionality":"scalar","optional":true}]},"ISPMT":{"id":"ISPMT","description":"Calculates the interest paid during a specific period of an investment.","parameters":[{"name":"rate","description":"Interest rate for the investment.","type":"number","dimensionality":"scalar"},{"name":"per","description":"Period to calculate interest for.","type":"number","dimensionality":"scalar"},{"name":"nper","description":"Total number of payment periods.","type":"number","dimensionality":"scalar"},{"name":"pv","description":"Present value of the investment.","type":"number","dimensionality":"scalar"}]},"MIRR":{"id":"MIRR","description":"Returns the modified internal rate of return for a series of periodic cash flows.","parameters":[{"name":"values","description":"Array or reference to cells that contain numbers.","type":"number","dimensionality":"vector"},{"name":"finance_rate","description":"Interest rate you pay on the money used in the cash flows.","type":"number","dimensionality":"scalar"},{"name":"reinvest_rate","description":"Interest rate you receive on the cash flows as you reinvest them.","type":"number","dimensionality":"scalar"}]},"NOMINAL":{"id":"NOMINAL","description":"Returns the nominal annual interest rate.","parameters":[{"name":"effect_rate","description":"The effective annual interest rate.","type":"number","dimensionality":"scalar"},{"name":"npery","description":"Number of compounding periods per year.","type":"number","dimensionality":"scalar"}]},"NPV":{"id":"NPV","description":"Returns the net present value of an investment based on a discount rate and a series of future payments (negative values) and income (positive values).","parameters":[{"name":"rate","description":"The discount rate over one period.","type":"number","dimensionality":"scalar"},{"name":"value1","description":"First future cash flow.","type":"number","dimensionality":"scalar"},{"name":"value2","description":"Additional cash flows.","type":"number","dimensionality":"scalar","optional":true,"repeating":true}]},"PDURATION":{"id":"PDURATION","description":"Returns the number of periods required for an investment to reach a specified value.","parameters":[{"name":"rate","description":"Interest rate per period.","type":"number","dimensionality":"scalar"},{"name":"pv","description":"Present value.","type":"number","dimensionality":"scalar"},{"name":"fv","description":"Future value.","type":"number","dimensionality":"scalar"}]},"PPMT":{"id":"PPMT","description":"Returns the payment on the principal for a given period of an investment.","parameters":[{"name":"rate","description":"Interest rate per period.","type":"number","dimensionality":"scalar"},{"name":"per","description":"Period to calculate principal payment for.","type":"number","dimensionality":"scalar"},{"name":"nper","description":"Total number of payment periods.","type":"number","dimensionality":"scalar"},{"name":"pv","description":"Present value.","type":"number","dimensionality":"scalar"},{"name":"fv","description":"Future value.","type":"number","dimensionality":"scalar","optional":true},{"name":"type","description":"Timing of payment.","type":"number","dimensionality":"scalar","optional":true}]},"RRI":{"id":"RRI","description":"Returns an equivalent interest rate for the growth of an investment.","parameters":[{"name":"nper","description":"Number of periods for the investment.","type":"number","dimensionality":"scalar"},{"name":"pv","description":"Present value.","type":"number","dimensionality":"scalar"},{"name":"fv","description":"Future value.","type":"number","dimensionality":"scalar"}]},"SLN":{"id":"SLN","description":"Returns the straight-line depreciation of an asset for one period.","parameters":[{"name":"cost","description":"Initial cost of the asset.","type":"number","dimensionality":"scalar"},{"name":"salvage","description":"Value at the end of depreciation.","type":"number","dimensionality":"scalar"},{"name":"life","description":"Number of periods over which the asset is depreciated.","type":"number","dimensionality":"scalar"}]},"SYD":{"id":"SYD","description":"Returns the sum-of-years\' digits depreciation of an asset for a specified period.","parameters":[{"name":"cost","description":"Initial cost of the asset.","type":"number","dimensionality":"scalar"},{"name":"salvage","description":"Value at the end of depreciation.","type":"number","dimensionality":"scalar"},{"name":"life","description":"Number of periods over which the asset is depreciated.","type":"number","dimensionality":"scalar"},{"name":"period","description":"The period for which to calculate the depreciation.","type":"number","dimensionality":"scalar"}]},"TBILLEQ":{"id":"TBILLEQ","description":"Returns the bond-equivalent yield for a Treasury bill.","parameters":[{"name":"settlement","description":"The Treasury bill\'s settlement date.","type":"any","dimensionality":"scalar"},{"name":"maturity","description":"The Treasury bill\'s maturity date.","type":"any","dimensionality":"scalar"},{"name":"discount","description":"The Treasury bill\'s discount rate.","type":"number","dimensionality":"scalar"}]},"TBILLPRICE":{"id":"TBILLPRICE","description":"Returns the price per $100 face value for a Treasury bill.","parameters":[{"name":"settlement","description":"The Treasury bill\'s settlement date.","type":"any","dimensionality":"scalar"},{"name":"maturity","description":"The Treasury bill\'s maturity date.","type":"any","dimensionality":"scalar"},{"name":"discount","description":"The Treasury bill\'s discount rate.","type":"number","dimensionality":"scalar"}]},"TBILLYIELD":{"id":"TBILLYIELD","description":"Returns the yield for a Treasury bill.","parameters":[{"name":"settlement","description":"The Treasury bill\'s settlement date.","type":"any","dimensionality":"scalar"},{"name":"maturity","description":"The Treasury bill\'s maturity date.","type":"any","dimensionality":"scalar"},{"name":"price","description":"The Treasury bill\'s price.","type":"number","dimensionality":"scalar"}]},"XIRR":{"id":"XIRR","description":"Returns the internal rate of return for a schedule of cash flows that is not necessarily periodic.","parameters":[{"name":"values","description":"Series of cash flows that corresponds to a schedule of payment dates.","type":"number","dimensionality":"vector"},{"name":"dates","description":"Schedule of payment dates that corresponds to the cash flow payments.","type":"any","dimensionality":"vector"},{"name":"guess","description":"Your guess for what the XIRR will be (default 0.1).","type":"number","dimensionality":"scalar","optional":true}]},"XNPV":{"id":"XNPV","description":"Returns the net present value for a schedule of cash flows that is not necessarily periodic.","parameters":[{"name":"rate","description":"Discount rate to apply to the cash flows.","type":"number","dimensionality":"scalar"},{"name":"values","description":"Series of cash flows that corresponds to a schedule of payment dates.","type":"number","dimensionality":"vector"},{"name":"dates","description":"Schedule of payment dates that corresponds to the cash flow payments.","type":"any","dimensionality":"vector"}]},"BESSELI":{"id":"BESSELI","description":"Returns the modified Bessel function In(x).","parameters":[{"name":"x","description":"The value at which to evaluate the function.","type":"number","dimensionality":"scalar"},{"name":"n","description":"The order of the Bessel function.","type":"number","dimensionality":"scalar"}]},"BESSELJ":{"id":"BESSELJ","description":"Returns the Bessel function Jn(x).","parameters":[{"name":"x","type":"number","dimensionality":"scalar"},{"name":"n","type":"number","dimensionality":"scalar"}]},"BESSELK":{"id":"BESSELK","description":"Returns the modified Bessel function Kn(x).","parameters":[{"name":"x","type":"number","dimensionality":"scalar"},{"name":"n","type":"number","dimensionality":"scalar"}]},"BESSELY":{"id":"BESSELY","description":"Returns the Bessel function Yn(x).","parameters":[{"name":"x","type":"number","dimensionality":"scalar"},{"name":"n","type":"number","dimensionality":"scalar"}]},"ERF":{"id":"ERF","description":"Returns the error function integrated between lower_limit and upper_limit.","parameters":[{"name":"lower_limit","type":"number","dimensionality":"scalar"},{"name":"upper_limit","type":"number","dimensionality":"scalar","optional":true}]},"ERF.PRECISE":{"id":"ERF.PRECISE","description":"Returns the error function integrated between 0 and x.","parameters":[{"name":"x","type":"number","dimensionality":"scalar"}]},"ERFC":{"id":"ERFC","description":"Returns the complementary ERF function integrated between x and infinity.","parameters":[{"name":"x","type":"number","dimensionality":"scalar"}]},"ERFC.PRECISE":{"id":"ERFC.PRECISE","description":"Returns the complementary ERF function integrated between x and infinity (precise version).","parameters":[{"name":"x","type":"number","dimensionality":"scalar"}]},"BIN2DEC":{"id":"BIN2DEC","description":"Converts a binary number to decimal.","parameters":[{"name":"number","type":"string","dimensionality":"scalar"}]},"BIN2HEX":{"id":"BIN2HEX","description":"Converts a binary number to hexadecimal.","parameters":[{"name":"number","type":"string","dimensionality":"scalar"},{"name":"places","type":"number","dimensionality":"scalar","optional":true}]},"BIN2OCT":{"id":"BIN2OCT","description":"Converts a binary number to octal.","parameters":[{"name":"number","type":"string","dimensionality":"scalar"},{"name":"places","type":"number","dimensionality":"scalar","optional":true}]},"DEC2BIN":{"id":"DEC2BIN","description":"Converts a decimal number to binary.","parameters":[{"name":"number","type":"number","dimensionality":"scalar"},{"name":"places","type":"number","dimensionality":"scalar","optional":true}]},"DEC2HEX":{"id":"DEC2HEX","description":"Converts a decimal number to hexadecimal.","parameters":[{"name":"number","type":"number","dimensionality":"scalar"},{"name":"places","type":"number","dimensionality":"scalar","optional":true}]},"DEC2OCT":{"id":"DEC2OCT","description":"Converts a decimal number to octal.","parameters":[{"name":"number","type":"number","dimensionality":"scalar"},{"name":"places","type":"number","dimensionality":"scalar","optional":true}]},"HEX2BIN":{"id":"HEX2BIN","description":"Converts a hexadecimal number to binary.","parameters":[{"name":"number","type":"string","dimensionality":"scalar"},{"name":"places","type":"number","dimensionality":"scalar","optional":true}]},"HEX2DEC":{"id":"HEX2DEC","description":"Converts a hexadecimal number to decimal.","parameters":[{"name":"number","type":"string","dimensionality":"scalar"}]},"HEX2OCT":{"id":"HEX2OCT","description":"Converts a hexadecimal number to octal.","parameters":[{"name":"number","type":"string","dimensionality":"scalar"},{"name":"places","type":"number","dimensionality":"scalar","optional":true}]},"OCT2BIN":{"id":"OCT2BIN","description":"Converts an octal number to binary.","parameters":[{"name":"number","type":"string","dimensionality":"scalar"},{"name":"places","type":"number","dimensionality":"scalar","optional":true}]},"OCT2DEC":{"id":"OCT2DEC","description":"Converts an octal number to decimal.","parameters":[{"name":"number","type":"string","dimensionality":"scalar"}]},"OCT2HEX":{"id":"OCT2HEX","description":"Converts an octal number to hexadecimal.","parameters":[{"name":"number","type":"string","dimensionality":"scalar"},{"name":"places","type":"number","dimensionality":"scalar","optional":true}]},"BITAND":{"id":"BITAND","description":"Returns a bitwise AND of two numbers.","parameters":[{"name":"number1","type":"number","dimensionality":"scalar"},{"name":"number2","type":"number","dimensionality":"scalar"}]},"BITLSHIFT":{"id":"BITLSHIFT","description":"Returns a value number shifted left by shift_amount bits.","parameters":[{"name":"number","type":"number","dimensionality":"scalar"},{"name":"shift_amount","type":"number","dimensionality":"scalar"}]},"BITOR":{"id":"BITOR","description":"Returns a bitwise OR of two numbers.","parameters":[{"name":"number1","type":"number","dimensionality":"scalar"},{"name":"number2","type":"number","dimensionality":"scalar"}]},"BITRSHIFT":{"id":"BITRSHIFT","description":"Returns a value number shifted right by shift_amount bits.","parameters":[{"name":"number","type":"number","dimensionality":"scalar"},{"name":"shift_amount","type":"number","dimensionality":"scalar"}]},"BITXOR":{"id":"BITXOR","description":"Returns a bitwise XOR of two numbers.","parameters":[{"name":"number1","type":"number","dimensionality":"scalar"},{"name":"number2","type":"number","dimensionality":"scalar"}]},"COMPLEX":{"id":"COMPLEX","description":"Converts real and imaginary coefficients into a complex number.","parameters":[{"name":"real_num","type":"number","dimensionality":"scalar"},{"name":"i_num","type":"number","dimensionality":"scalar"},{"name":"suffix","description":"Suffix for the imaginary component (default \\"i\\").","type":"string","dimensionality":"scalar","optional":true}]},"IMABS":{"id":"IMABS","description":"Returns the absolute value (modulus) of a complex number.","parameters":[{"name":"inumber","type":"string","dimensionality":"scalar"}]},"IMAGINARY":{"id":"IMAGINARY","description":"Returns the imaginary coefficient of a complex number.","parameters":[{"name":"inumber","type":"string","dimensionality":"scalar"}]},"IMARGUMENT":{"id":"IMARGUMENT","description":"Returns the argument (theta) of a complex number.","parameters":[{"name":"inumber","type":"string","dimensionality":"scalar"}]},"IMCONJUGATE":{"id":"IMCONJUGATE","description":"Returns the complex conjugate of a complex number.","parameters":[{"name":"inumber","type":"string","dimensionality":"scalar"}]},"IMCOS":{"id":"IMCOS","description":"Returns the cosine of a complex number.","parameters":[{"name":"inumber","type":"string","dimensionality":"scalar"}]},"IMCOSH":{"id":"IMCOSH","description":"Returns the hyperbolic cosine of a complex number.","parameters":[{"name":"inumber","type":"string","dimensionality":"scalar"}]},"IMCOT":{"id":"IMCOT","description":"Returns the cotangent of a complex number.","parameters":[{"name":"inumber","type":"string","dimensionality":"scalar"}]},"IMCSC":{"id":"IMCSC","description":"Returns the cosecant of a complex number.","parameters":[{"name":"inumber","type":"string","dimensionality":"scalar"}]},"IMCSCH":{"id":"IMCSCH","description":"Returns the hyperbolic cosecant of a complex number.","parameters":[{"name":"inumber","type":"string","dimensionality":"scalar"}]},"IMDIV":{"id":"IMDIV","description":"Returns the quotient of two complex numbers.","parameters":[{"name":"inumber1","type":"string","dimensionality":"scalar"},{"name":"inumber2","type":"string","dimensionality":"scalar"}]},"IMEXP":{"id":"IMEXP","description":"Returns the exponential of a complex number.","parameters":[{"name":"inumber","type":"string","dimensionality":"scalar"}]},"IMLN":{"id":"IMLN","description":"Returns the natural logarithm of a complex number.","parameters":[{"name":"inumber","type":"string","dimensionality":"scalar"}]},"IMLOG10":{"id":"IMLOG10","description":"Returns the base-10 logarithm of a complex number.","parameters":[{"name":"inumber","type":"string","dimensionality":"scalar"}]},"IMLOG2":{"id":"IMLOG2","description":"Returns the base-2 logarithm of a complex number.","parameters":[{"name":"inumber","type":"string","dimensionality":"scalar"}]},"IMPOWER":{"id":"IMPOWER","description":"Returns a complex number raised to a power.","parameters":[{"name":"inumber","type":"string","dimensionality":"scalar"},{"name":"number","type":"number","dimensionality":"scalar"}]},"IMPRODUCT":{"id":"IMPRODUCT","description":"Returns the product of 1 to 255 complex numbers.","parameters":[{"name":"inumber1","type":"string","dimensionality":"scalar"},{"name":"inumber2","type":"string","dimensionality":"scalar","optional":true,"repeating":true}]},"IMREAL":{"id":"IMREAL","description":"Returns the real coefficient of a complex number.","parameters":[{"name":"inumber","type":"string","dimensionality":"scalar"}]},"IMSEC":{"id":"IMSEC","description":"Returns the secant of a complex number.","parameters":[{"name":"inumber","type":"string","dimensionality":"scalar"}]},"IMSECH":{"id":"IMSECH","description":"Returns the hyperbolic secant of a complex number.","parameters":[{"name":"inumber","type":"string","dimensionality":"scalar"}]},"IMSIN":{"id":"IMSIN","description":"Returns the sine of a complex number.","parameters":[{"name":"inumber","type":"string","dimensionality":"scalar"}]},"IMSINH":{"id":"IMSINH","description":"Returns the hyperbolic sine of a complex number.","parameters":[{"name":"inumber","type":"string","dimensionality":"scalar"}]},"IMSQRT":{"id":"IMSQRT","description":"Returns the square root of a complex number.","parameters":[{"name":"inumber","type":"string","dimensionality":"scalar"}]},"IMSUB":{"id":"IMSUB","description":"Returns the difference between two complex numbers.","parameters":[{"name":"inumber1","type":"string","dimensionality":"scalar"},{"name":"inumber2","type":"string","dimensionality":"scalar"}]},"IMSUM":{"id":"IMSUM","description":"Returns the sum of complex numbers.","parameters":[{"name":"inumber1","type":"string","dimensionality":"scalar"},{"name":"inumber2","type":"string","dimensionality":"scalar","optional":true,"repeating":true}]},"IMTAN":{"id":"IMTAN","description":"Returns the tangent of a complex number.","parameters":[{"name":"inumber","type":"string","dimensionality":"scalar"}]},"CONVERT":{"id":"CONVERT","description":"Converts a number from one measurement system to another.","parameters":[{"name":"number","type":"number","dimensionality":"scalar"},{"name":"from_unit","type":"string","dimensionality":"scalar"},{"name":"to_unit","type":"string","dimensionality":"scalar"}]},"DELTA":{"id":"DELTA","description":"Tests whether two values are equal. Returns 1 if equal, 0 otherwise.","parameters":[{"name":"number1","type":"number","dimensionality":"scalar"},{"name":"number2","type":"number","dimensionality":"scalar","optional":true}]},"GESTEP":{"id":"GESTEP","description":"Tests whether a number is greater than a threshold.","parameters":[{"name":"number","type":"number","dimensionality":"scalar"},{"name":"step","type":"number","dimensionality":"scalar","optional":true}]},"SUBTOTAL":{"id":"SUBTOTAL","description":"Returns a subtotal in a list or database.","parameters":[{"name":"function_num","type":"number","dimensionality":"scalar"},{"name":"ref1","type":"any","dimensionality":"matrix"},{"name":"ref2","type":"any","dimensionality":"matrix","optional":true,"repeating":true}]}}}')},92181:(e,t,s)=>{"use strict";s.d(t,{Pi:()=>f,YC:()=>b,bS:()=>x});var a=s(11396),n=s(77204),r=s(6132);let o={name:"createSheet",description:"Create a new sheet in the spreadsheet. Throws error if name is already exists or is invalid. Returns id of the new sheet.",args:r.z.object({name:r.z.string()}),descriptor:e=>"Create sheet ".concat(e.name),execute:e=>{let{name:t}=e;return e=>e.calcEngine.createSheet(t)}},i={name:"deleteSheet",description:"Delete a sheet in the spreadsheet. Throws error if sheet is invalid. Returns void.",args:r.z.object({sheet:r.z.number()}),descriptor:e=>"Delete sheet ".concat(e.sheet),execute:e=>{let{sheet:t}=e;return e=>e.deleteSheet(t)}},c={name:"renameSheet",description:"Rename a sheet in the spreadsheet. Throws error if sheet is invalid. Returns void.",args:r.z.object({sheet:r.z.number(),name:r.z.string()}),descriptor:e=>"Rename sheet ".concat(e.sheet," to ").concat(e.name),execute:e=>{let{sheet:t,name:s}=e;return e=>e.renameSheet(t,s)}},l={name:"setCellsInRange",description:"Set the values of a range of cells in the spreadsheet. Throws error if range is invalid. Returns void.",args:r.z.object({sheet:r.z.number(),addressRange:r.z.string(),values:r.z.array(r.z.array(r.z.string()))}),descriptor:e=>"Set cells in range ".concat(e.addressRange," to ").concat(e.values),execute:e=>{let{sheet:t,addressRange:s,values:a}=e;return e=>{let{rowStart:r,colStart:o}=(0,n.RC)(s);return e.calcEngine.setCellsInRange(t,r,o,a)}}},d={name:"setCellValue",description:"Set the value of a cell in the spreadsheet. Throws error if cell is invalid. Returns void.",args:r.z.object({sheet:r.z.number(),address:r.z.string(),value:r.z.string()}),descriptor:e=>"Set cell ".concat(e.address," to ").concat(e.value),execute:e=>{let{sheet:t,address:s,value:a}=e;return e=>{let{col:r,row:o}=(0,n.es)(s);return e.calcEngine.setCellValue(t,o,r,a)}}},g={name:"setCellValues",description:"Set the values of a range of cells in the spreadsheet. Throws error if range is invalid. Returns void.",args:r.z.object({sheet:r.z.number(),values:r.z.array(r.z.object({address:r.z.string(),value:r.z.string()}))}),descriptor:e=>"Set cells ".concat(e.values.map(e=>"".concat(e.address,": ").concat(e.value)).join(", ")),execute:e=>{let{sheet:t,values:s}=e;return e=>{let a=s.map(e=>{let{address:t,value:s}=e;return{value:s,...(0,n.es)(t)}});return e.calcEngine.setCellValues(t,a)}}},m={name:"insertRows",description:"Insert rows in the spreadsheet. Throws error if rows are invalid. Returns void.",args:r.z.object({sheet:r.z.number(),row:r.z.number(),insertCount:r.z.number()}),descriptor:e=>"Insert ".concat(e.insertCount," rows at row ").concat(e.row),execute:e=>{let{sheet:t,row:s,insertCount:a}=e;return e=>e.calcEngine.insertRows(t,s,a)}},p={name:"insertCols",description:"Insert cols in the spreadsheet. Throws error if cols are invalid. Returns void.",args:r.z.object({sheet:r.z.number(),col:r.z.number(),insertCount:r.z.number()}),descriptor:e=>"Insert ".concat(e.insertCount," cols at col ").concat(e.col),execute:e=>{let{sheet:t,col:s,insertCount:a}=e;return e=>e.calcEngine.insertCols(t,s,a)}},u={name:"deleteRows",description:"Delete rows in the spreadsheet. Throws error if rows are invalid. Returns void.",args:r.z.object({sheet:r.z.number(),row:r.z.number(),deleteCount:r.z.number()}),descriptor:e=>"Delete ".concat(e.deleteCount," rows at row ").concat(e.row),execute:e=>{let{sheet:t,row:s,deleteCount:a}=e;return e=>e.calcEngine.deleteRows(t,s,a)}},h={name:"deleteCols",description:"Delete cols in the spreadsheet. Throws error if cols are invalid. Returns void.",args:r.z.object({sheet:r.z.number(),col:r.z.number(),deleteCount:r.z.number()}),descriptor:e=>"Delete ".concat(e.deleteCount," cols at col ").concat(e.col),execute:e=>{let{sheet:t,col:s,deleteCount:a}=e;return e=>e.calcEngine.deleteCols(t,s,a)}},f={createSheet:o,deleteSheet:i,renameSheet:c,setCellsInRange:l,setCellValue:d,setCellValues:g,fillRange:{name:"fillRange",description:"Fill a range of cells in the spreadsheet. Throws error if range is invalid. Returns void.",args:a.uj,descriptor:e=>"Fill range ".concat(e.sourceRange," to ").concat(e.targetRange," in direction ").concat(e.direction),execute:e=>t=>(0,a.l5)(t.calcEngine,e.sheet,{source:(0,n.RC)(e.sourceRange),target:(0,n.RC)(e.targetRange),direction:e.direction})},insertRows:m,insertCols:p,deleteRows:u,deleteCols:h},k=r.z.object({row:r.z.number(),col:r.z.number(),value:r.z.string(),serialized:r.z.string(),format:r.z.string()});function b(e){let t=[];function s(e){if(!e)return;if(Array.isArray(e))return void e.forEach(s);let a=k.safeParse(e);if(a.success){let e=a.data;(e.value.includes("#N/IMPL")||e.serialized.includes("#N/IMPL"))&&t.push(e);return}"object"==typeof e&&Object.values(e).forEach(s)}if(e&&"object"==typeof e){let t=e.result,a=e.changes;s(t),s(a)}return t}let x=new Set(["setCellsInRange","setCellValue","setCellValues"])},92207:(e,t,s)=>{"use strict";s.d(t,{H0:()=>l,Jo:()=>r,P1:()=>i,kX:()=>n,kw:()=>o});var a=s(65258);function n(e){switch(e.type){case"conversation":return e.conversationId;case"home-action":return e.homeActionId;case"item-action":return e.itemActionId;case"model":return e.modelId;case"theme":return e.themeId;case"language":return e.languageId;case"move-to-workspace":return e.workspaceId;case"action":return e.value}}function r(e){return"".concat(e.type,":").concat(n(e))}function o(e){if(!e)return;let[t,s]=e.split(":");return void 0!==t&&void 0!==s?i(t,s):void 0}function i(e,t){switch(e){case"conversation":return{type:e,conversationId:t};case"home-action":return{type:e,homeActionId:t};case"item-action":return{type:e,itemActionId:t};case"model":return{type:e,modelId:t};case"theme":return{type:e,themeId:t};case"language":return{type:e,languageId:t};case"move-to-workspace":return{type:e,workspaceId:t};case"action":return{type:e,value:t};default:throw Error("Unknown selection type: ".concat(e))}}class c{constructor(e,t){this.set=e,this.get=t,this.open=!1,this.selectedItem=void 0,this.pages=[{id:"root",isSearchEnabled:!0,searchQuery:""}],this.onSearchQueryChange=e=>{let t=this.get().pages[this.get().pages.length-1];t&&this.set({pages:[...this.get().pages.slice(0,-1),{...t,searchQuery:e}]})},this.openMenu=()=>{this.set({open:!0})},this.goBack=()=>{if(1===this.get().pages.length){this.onSearchQueryChange(""),this.set({open:!1}),this.setSelectedItem(void 0);return}this.setSelectedItem(void 0),this.set({pages:this.get().pages.slice(0,-1)})},this.closeMenu=()=>{let e=this.get().pages[0];e&&this.set({open:!1,selectedItem:void 0,pages:[{...e,searchQuery:""}]})},this.setSelectedItem=(0,a.kp)(this.set,"selectedItem"),this.addPage=e=>{this.setSelectedItem(void 0),this.set({pages:[...this.get().pages,e]})}}}let l=(0,a.y$)(c,"useCommandMenuStore")},92294:(e,t,s)=>{"use strict";s.d(t,{t:()=>r});var a=s(79339),n=s(88382);function r(e){let t=(0,a.Y)(),s=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{var a,n;if(!t||!e.current)return;let r=()=>{s.current=!0},o=()=>{setTimeout(()=>{s.current=!1},50)},i=e.current;return null==(a=i.addEventListener)||a.call(i,"compositionstart",r),null==(n=i.addEventListener)||n.call(i,"compositionend",o),()=>{var e,t;null==(e=i.removeEventListener)||e.call(i,"compositionstart",r),null==(t=i.removeEventListener)||t.call(i,"compositionend",o)}},[e,t]),s}},92437:(e,t,s)=>{"use strict";s.d(t,{u:()=>c,t:()=>g});var a=s(79342),n=s(39729),r=s(61312),o=s(11750),i=s(88382);let c=(0,i.forwardRef)((e,t)=>{let{dragState:s,title:i,subtitle:c,className:l}=e,d=(0,r.cn)("absolute inset-0 flex flex-col items-center justify-center gap-1 border justify-center rounded-3xl bg-surface-l1","transition-opacity duration-300 ease-in-out","none"===s?"opacity-0 pointer-events-none":"opacity-100","hover"===s&&"bg-surface-l4-hover dark:bg-surface-l2",l),g="hover"===s;return(0,a.jsxs)(n.Zp,{variant:"ghost",className:(0,r.cn)(d),ref:t,children:[(0,a.jsxs)("div",{className:"flex items-center justify-center w-8 h-8",children:[(0,a.jsx)(o.ipY,{size:24,strokeWidth:1.5,className:(0,r.cn)("absolute transition-all duration-300 ease-in-out",g?"opacity-100 scale-100":"opacity-0 scale-75")}),(0,a.jsx)(o.sv7,{size:24,strokeWidth:1.5,className:(0,r.cn)("absolute transition-all duration-300 ease-in-out",g?"opacity-0 scale-75":"opacity-100 scale-100")})]}),(0,a.jsx)("span",{className:(0,r.cn)("font-semibold"),children:i}),c&&(0,a.jsx)("span",{className:(0,r.cn)("text-secondary"),children:c})]})});var l=s(91526),d=s(25030);function g(e,t){let{ref:s,onDrop:a,canDrop:n}=e,r=(0,i.useRef)(!1);(0,i.useEffect)(()=>{let e=e=>{e.target instanceof HTMLImageElement&&(r.current=!0)},t=()=>{r.current=!1};return document.addEventListener("dragstart",e),document.addEventListener("dragend",t),()=>{document.removeEventListener("dragstart",e),document.removeEventListener("dragend",t)}},[]);let[o,c]=(0,l.H)(()=>({accept:[d.FILE],canDrop:null!=n?n:e=>!0,drop(e){let{files:t,dataTransfer:s}=e;a(t,s)},collect:e=>r.current?"none":e.isOver()?"hover":e.getItemType()===d.FILE?"in-page":"none"}),[a,...null!=t?t:[]]);return c(s),o}},93154:(e,t,s)=>{"use strict";function a(e){let t=e.lastIndexOf(".");return -1===t?[e,""]:[e.slice(0,t),e.slice(t+1)]}s.d(t,{s:()=>a})},93192:(e,t,s)=>{"use strict";s.d(t,{fE:()=>k,t2:()=>b});var a=s(79342),n=s(72137),r=s(48521),o=s(87853),i=s(28513),c=s(88382);function l(e){let[{ClientSideRowModelModule:t},{AgGridReact:s}]=(0,i._)("ag-grid-community","ag-grid-react");return(0,a.jsx)(s,{...e,modules:[t]})}function d(e){let{fallback:t,...s}=e;return(0,a.jsx)(c.Suspense,{fallback:null!=t?t:(0,a.jsx)("div",{}),children:(0,a.jsx)(l,{...s})})}var g=s(75500),m=s(56521),p=s(61312),u=s(56907),h=s(16506),f=s(65146);function k(e){let{assetUrl:t,className:s}=e,{t:n}=(0,f.Bd)("chat"),{isLoading:r,error:o,data:i}=(0,u.IT)({queryKey:["text-asset",t],queryFn:async()=>{if(!t)throw Error("Asset URL is required");let e=await (0,m.h)(t,{method:"GET",credentials:"include"});if(!e.ok)throw Error("Failed to fetch: ".concat(e.statusText));return e.text()},enabled:!!t});return r?(0,a.jsx)("div",{className:"p-4",children:n("Loading text…","Loading text…")}):o?(0,a.jsx)("div",{className:"p-4",children:n("errorMessage","Error: {{error}}",{error:o.message})}):i?(0,a.jsx)(b,{editable:!1,content:i,className:s}):(0,a.jsx)("div",{className:"p-4",children:n("No text content available.","No text content available.")})}function b(e){return(0,a.jsx)(c.Suspense,{fallback:(0,a.jsx)("div",{}),children:(0,a.jsx)(x,{...e})})}function x(e){return(0,g.h)().ENABLE_DATA_GRID_CSV_COMPONENT?(0,a.jsx)(v,{...e}):(0,a.jsx)(w,{...e})}function w(e){let{content:t,editable:s,onContentUpdate:n,className:r}=e,{resolvedTheme:o}=(0,h.D)(),l="dark"===o,[{read:g,utils:m}]=(0,i._)("xlsx");(0,c.useEffect)(()=>{document.body.dataset.agThemeMode=l?"dark":"light"},[l]);let u=(0,c.useMemo)(()=>{let e=g(t,{type:"string"}),s=e.SheetNames[0];if(!s)throw Error("First sheet name is required");let a=e.Sheets[s];if(!a)throw Error("Worksheet is required");return m.sheet_to_json(a).map((e,t)=>({...e,__internal_calc_id:"calc_idx_".concat(t)}))},[t,g,m]),f=(0,c.useMemo)(()=>0===u.length?[]:Object.keys(u[0]).filter(e=>!e.startsWith("__EMPTY")).filter(e=>!e.startsWith("__internal_calc_id")).map(e=>({field:e,flex:1,editable:s,onCellValueChanged:e=>{null!==e.node.rowIndex&&n&&n(m.sheet_to_csv(m.json_to_sheet(u)))}})),[s,n,u,m]),k=(0,c.useCallback)(e=>String(e.data.__internal_calc_id),[]),b=(0,c.useMemo)(()=>{let e=window.innerHeight;return 42*u.length<.8*e},[u.length]),x=(0,p.cn)("w-full h-[80vh]",r);return(0,a.jsx)("div",{className:x,children:(0,a.jsx)(d,{rowHeight:42,rowData:u,columnDefs:f,defaultColDef:{resizable:!0},suppressFieldDotNotation:!0,autoSizeStrategy:{type:"fitGridWidth",defaultMinWidth:200},domLayout:b?"autoHeight":"normal",getRowId:k})})}function v(e){let{content:t,editable:s=!1,className:l,onContentUpdate:d}=e,{resolvedTheme:g}=(0,h.D)(),m="dark"===g,u=(0,p.cn)("w-full h-[80vh]",l),[f]=(0,i._)("xlsx"),k=(0,c.useMemo)(()=>m?r.R6:r.b,[m]),{data:[b,...x],colCount:w,rowCount:v}=(0,c.useMemo)(()=>(0,o.Hj)(f,t),[t,f]),y=(0,c.useCallback)(function(e){if(!s||!d)return!1;let t=x.map(e=>[...e]);e.forEach(e=>{let{row:s,col:a,value:n}=e;t[s]&&t[s][a]&&(t[s][a]=n)});let a=(null==b?void 0:b.map(e=>String(null!=e?e:"")))||[];return d(f.utils.sheet_to_csv(f.utils.aoa_to_sheet([a,...t]))),!0},[s,d,b,x,f]);return(0,a.jsx)("div",{className:u,children:(0,a.jsx)("div",{className:"rounded-lg border border-border-l2 overflow-hidden size-full overscroll-contain",children:(0,a.jsx)(n.b,{width:"full",height:"full",theme:k,headers:b,rows:x,editable:s,rowCount:v-1,colCount:w,colGrow:!0,onCellsEdited:y})})})}},93436:(e,t,s)=>{"use strict";s.d(t,{P:()=>r});var a=s(65258);class n{constructor(e,t){this.set=e,this.get=t,this.reportDialogIsOpen=!1,this.setReportDialogIsOpen=(0,a.kp)(this.set,"reportDialogIsOpen"),this.setReportResponseId=(0,a.kp)(this.set,"reportResponseId"),this.setReportModelId=(0,a.kp)(this.set,"reportModelId"),this.setForcedReportType=(0,a.kp)(this.set,"forcedReportType"),this.openReportDialog=e=>{let{responseId:t,modelId:s,type:a}=e;this.setReportDialogIsOpen(!0),this.setReportResponseId(t),this.setReportModelId(s),this.setForcedReportType(a)},this.closeReportDialog=()=>{this.setReportDialogIsOpen(!1),this.setReportResponseId(void 0),this.setReportModelId(void 0),this.setForcedReportType(void 0)}}}let r=(0,a.y$)(n,"useReportStore")},93649:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var a=s(61683),n=s(94652),r=s(65146),o=s(26067),i=s(53601);a.Ay.use(i.A).use(r.r9).use((0,n.A)((e,t)=>s(52334)("./".concat(e,"/").concat(t,".json")))).init({fallbackLng:"en",supportedLngs:o.SR.map(e=>e[0]),debug:!1,detection:{lookupLocalStorage:"i18nextLng",lookupCookie:"i18nextLng",order:["localStorage","cookie","navigator"],caches:["localStorage","cookie"],cookieMinutes:525600},partialBundledLanguages:!0,nonExplicitSupportedLngs:!1,react:{bindI18n:"loaded languageChanged",bindI18nStore:"added",useSuspense:!0},interpolation:{escapeValue:!1}});let c=a.Ay},95739:(e,t,s)=>{"use strict";s.d(t,{CJ:()=>a,WU:()=>n,il:()=>r,mQ:()=>i,td:()=>o});let a="/connect-oauth-error",n="/api/exchange-token/",r="oauth_provider",o="https://redirectmeto.com/",i="OAUTH_SUCCESS"},96499:(e,t,s)=>{"use strict";s.d(t,{J:()=>l});var a=s(79342),n=s(50596),r=s(17338),o=s(88382),i=s(61312);let c=(0,r.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=o.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.b,{ref:t,className:(0,i.cn)(c(),s),...r})});l.displayName=n.b.displayName},96534:(e,t,s)=>{"use strict";s.d(t,{S:()=>d});var a=s(79342),n=s(61884),r=s(61312),o=s(32829),i=s(62163),c=s(10795),l=s(84810);function d(e){let{date:t,className:s,noTooltip:d=!1}=e,{compact:g,full:m}=function(e){let t=new Date,s=(0,o.o)(t,e),a=(0,i.M)(t,e),n=(0,c.V)(t,e);return{compact:s<1?"<1m":a<1?"".concat(s,"m"):a<24?"".concat(a,"h"):n>=1?(0,l.GP)(e,"MMM d, yyyy"):(0,l.GP)(e,"MMM d"),full:(0,l.GP)(e,"h:mm a \xb7 MMM d, yyyy")}}(t);return d?(0,a.jsx)("span",{className:(0,r.cn)("text-secondary",s),children:g}):(0,a.jsxs)(n.m_,{children:[(0,a.jsx)(n.k$,{asChild:!0,children:(0,a.jsx)("span",{className:(0,r.cn)("hover:underline cursor-default text-secondary",s),children:g})}),(0,a.jsx)(n.ZI,{className:"bg-popover text-primary",children:m})]})}},96784:(e,t,s)=>{"use strict";s.d(t,{a:()=>a});let a=(0,s(61312).cn)("[--content-max-width:32rem]","@[32rem]:[--content-max-width:40rem]","@[64rem]:[--content-max-width:48rem]","[--content-gutter:1rem]","[--thead-sticky-top:3rem]","@xl/mainview:[--thead-sticky-top:0px]","breakout")},97141:(e,t,s)=>{"use strict";s.d(t,{i:()=>r});var a=s(79342),n=s(61312);let r=(0,s(88382).forwardRef)((e,t)=>{let{isUser:s,children:r,className:o,id:i}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("relative group flex flex-col justify-center w-full max-w-[var(--content-max-width)] pb-0.5",s?"items-end":"items-start",o),style:{scrollMarginTop:"var(--scroll-margin-top, 0px)"},id:i,children:r})})},97225:(e,t,s)=>{"use strict";s.d(t,{Bx:()=>O,CG:()=>D,CP:()=>H,Cn:()=>z,FX:()=>U,G:()=>W,Gh:()=>L,SidebarProvider:()=>_,Uj:()=>V,Yv:()=>B,Zr:()=>w,b:()=>N,cL:()=>A,hV:()=>C,jy:()=>I,mI:()=>v,vd:()=>T,vu:()=>y,wZ:()=>F,x2:()=>P,y$:()=>j});var a=s(79342),n=s(7287),r=s(88382),o=s(5083),i=s(65146),c=s(56691),l=s(74933),d=s(69648),g=s(80226),m=s(61884),p=s(41320),u=s(80354),h=s(61312),f=s(69643),k=s(11750),b=s(84969),x=s(23054);let w="h-[36px]",v="group/sidebar-menu-item pl-3 pr-1.5 h-8 text-sm w-full flex flex-row items-center gap-2 text-primary focus:outline-none",y="w-[1.75rem] h-[1.75rem]",j="px-[0.5rem]",N="h-[2.5rem]",C="mx-[.125rem]",S="mx-1",I="p-[0.375rem]",T="start-[.5rem]",{jH:E}=o,R=r.createContext(null);function A(){let e=r.useContext(R);if(!e)throw Error("useSidebar must be used within a SidebarProvider.");return e}let _=r.forwardRef((e,t)=>{let{defaultOpen:s=!0,open:n,onOpenChange:o,className:i,style:c,children:l,...d}=e,g=(0,p.Di)(0),[u,k]=r.useState(!1),[b,x]=(0,f.M)("sidebarOpen",s),w=null!=n?n:b,v=r.useCallback(e=>{if(o)return null==o?void 0:o("function"==typeof e?e(w):e);x(e)},[o,x,w]),y=r.useCallback(()=>g?k(e=>!e):v(e=>!e),[g,v,k]),j=w?"expanded":"collapsed",N=r.useMemo(()=>({state:j,open:w,setOpen:v,isMobile:g,openMobile:u,setOpenMobile:k,toggleSidebar:y,contentWidthClass:"w-[calc(100%-var(--sidebar-width))]"}),[j,w,v,g,u,k,y]);return(0,a.jsx)(R.Provider,{value:N,children:(0,a.jsx)(m.Bc,{delayDuration:0,children:(0,a.jsx)("div",{style:{"--sidebar-width":"16rem","--sidebar-width-icon":"3.5rem",...c},className:(0,h.cn)("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar","isolate",i),ref:t,...d,children:l})})})});_.displayName="SidebarProvider";let O=r.forwardRef((e,t)=>{let{side:s="left",variant:n="sidebar",collapsible:r="offcanvas",className:o,children:c,...l}=e,{state:d,openMobile:g,setOpenMobile:m,toggleSidebar:u}=A(),f=(0,p.Di)(),{t:k}=(0,i.Bd)("base");return"none"===r?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:(0,h.cn)("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground","print:hidden",o),ref:t,...l,children:c})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.N,{children:f&&"expanded"===d&&(0,a.jsx)(M,{onClick:u})}),(0,a.jsx)("div",{ref:t,className:(0,h.cn)("group peer md:block text-sidebar-foreground z-[40]","print:hidden"),"data-state":d,"data-collapsible":"collapsed"===d?r:"","data-variant":n,"data-side":s,children:(0,a.jsx)("div",{className:(0,h.cn)("duration-200 inset-y-0 z-10 h-svh w-[--sidebar-width] box-content transition-[left,right,width] ease-linear md:flex","floating"===n?"absolute":"block","floating"===n||"inset"===n?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]","left"===s?"start-0 group-data-[collapsible=offcanvas]:start-[calc(var(--sidebar-width)*-1)]":"end-0 group-data-[collapsible=offcanvas]:end-[calc(var(--sidebar-width)*-1)]",o),...l,children:(0,a.jsx)("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-xl",children:c})})})]})});O.displayName="Sidebar";let P=r.forwardRef((e,t)=>{let{className:s,onClick:n,iconSize:o=20,...l}=e,{toggleSidebar:d,open:g}=A(),{t:m}=(0,i.Bd)("base"),p=(0,r.useCallback)(e=>{null==n||n(e),d()},[d]),u="rtl"===E();return(0,a.jsx)("div",{className:(0,h.cn)(g?"cursor-w-resize":"cursor-e-resize","grow"),onClick:p,children:(0,a.jsxs)(c.$n,{ref:t,"data-sidebar":"trigger",variant:"ghostSecondary",size:"icon",rounded:!0,className:(0,h.cn)(s),...l,children:[(0,a.jsx)(k.hIh,{className:(0,h.cn)(g!==u&&"rotate-180","transition-transform duration-200"),size:o}),(0,a.jsx)("span",{className:"sr-only",children:m("Toggle Sidebar","Toggle Sidebar")})]})})});P.displayName="SidebarTrigger",r.forwardRef((e,t)=>{let{className:s,...n}=e,{toggleSidebar:r}=A();return(0,a.jsx)("button",{ref:t,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:(0,h.cn)("absolute top-0 left-0 h-full",s),style:{width:"var(--sidebar-width-icon)"}})}).displayName="SidebarRail";let M=e=>{let{className:t,onClick:s}=e;return(0,a.jsx)(x.P.div,{className:(0,h.cn)("fixed inset-0 z-[30] bg-overlay",t),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:s},"sidebar-overlay")};M.displayName="SidebarOverlay",r.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("main",{ref:t,className:(0,h.cn)("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",s),...n})}).displayName="SidebarInset",r.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(l.p,{ref:t,"data-sidebar":"input",className:(0,h.cn)("h-8 w-full bg-background shadow-none focus-visible:ring-1 focus-visible:ring-sidebar-ring",s),...n})}).displayName="SidebarInput";let L=r.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,"data-sidebar":"header",className:(0,h.cn)("flex flex-col gap-2",s),...n})});L.displayName="SidebarHeader";let D=r.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,"data-sidebar":"footer",className:(0,h.cn)("flex flex-col gap-2 mt-auto",s),...n})});D.displayName="SidebarFooter",r.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(d.w,{ref:t,"data-sidebar":"separator",className:(0,h.cn)("mx-2 w-auto bg-sidebar-border",s),...n})}).displayName="SidebarSeparator";let B=r.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,"data-sidebar":"content",className:(0,h.cn)("flex min-h-0 flex-col overflow-auto group-data-[collapsible=icon]:overflow-hidden grow",s),...n})});B.displayName="SidebarContent";let z=r.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,"data-sidebar":"group",className:(0,h.cn)("relative flex w-full min-w-0 flex-col","px-1.5","py-[2px]","shrink-0","transition-[width,transform,opacity] duration-200",s),...n})});z.displayName="SidebarGroup",r.forwardRef((e,t)=>{let{className:s,asChild:r=!1,...o}=e,i=r?n.DX:"div";return(0,a.jsx)(i,{ref:t,"data-sidebar":"group-label",className:(0,h.cn)("duration-200 flex h-8 shrink-0 items-center rounded-xl px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-1  [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",s),...o})}).displayName="SidebarGroupLabel",r.forwardRef((e,t)=>{let{className:s,asChild:r=!1,...o}=e,i=r?n.DX:"button";return(0,a.jsx)(i,{ref:t,"data-sidebar":"group-action",className:(0,h.cn)("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-xl p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-1  [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",s),...o})}).displayName="SidebarGroupAction",r.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,"data-sidebar":"group-content",className:(0,h.cn)("w-full text-sm",s),...n})}).displayName="SidebarGroupContent";let F=r.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("ul",{ref:t,"data-sidebar":"menu",className:(0,h.cn)("flex w-full min-w-0 flex-col cursor-default gap-px",s),onClick:u.Y,...n})});F.displayName="SidebarMenu";let U=r.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("li",{ref:t,"data-sidebar":"menu-item",className:(0,h.cn)("group/menu-item relative whitespace-nowrap font-semibold",S,s),...n})});U.displayName="SidebarMenuItem";let V=r.forwardRef((e,t)=>{let{asChild:s=!1,isActive:r=!1,allowActive:o=!0,tooltip:i,highlighted:c=!1,className:l,heightClassName:d=w,safeArea:g=!1,...p}=e,u=s?n.DX:"button",{isMobile:f,state:k}=A(),b="collapsed"===k,x=(0,a.jsx)(u,{ref:t,"data-sidebar":"menu-button","data-active":r,tabIndex:-1,className:(0,h.cn)("peer/menu-button flex items-center gap-2 overflow-hidden rounded-xl text-left","text-sm outline-none ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-1","group-has-[[data-sidebar=menu-action]]/menu-item:pr-8","[&>span:last-child]:truncate [&>svg]:shrink-0","hover:bg-button-ghost-hover hover:text-primary","text-sm",g&&b&&'before:content-[""] before:absolute before:-inset-x-2.5 before:-inset-y-0.5 before:rounded-xl',d,c?"bg-button-ghost-hover border-border-l1":"border-transparent","hover:bg-button-ghost-hover","data-[state=open]:hover:bg-button-ghost-hover",o&&"active:bg-button-ghost-active",o&&"data-[active=true]:bg-button-ghost-active","aria-expanded:bg-button-ghost-hover",l),...p});return i?("string"==typeof i&&(i={children:i}),(0,a.jsxs)(m.m_,{children:[(0,a.jsx)(m.k$,{asChild:!0,children:x}),(0,a.jsx)(m.ZI,{side:"right",align:"center",hidden:!b||f,container:document.getElementById("tooltip-portal"),...i})]})):x});V.displayName="SidebarMenuButton",r.forwardRef((e,t)=>{let{className:s,asChild:r=!1,showOnHover:o=!1,...i}=e,c=r?n.DX:"button";return(0,a.jsx)(c,{ref:t,"data-sidebar":"menu-action",className:(0,h.cn)("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-xl p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-1 peer-hover/menu-button:text-sidebar-accent-foreground  [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",o&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",s),...i})}).displayName="SidebarMenuAction",r.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,"data-sidebar":"menu-badge",className:(0,h.cn)("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-xl px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",s),...n})}).displayName="SidebarMenuBadge",r.forwardRef((e,t)=>{let{className:s,showIcon:n=!1,...o}=e,i=r.useMemo(()=>"".concat(Math.floor(40*Math.random())+50,"%"),[]);return(0,a.jsxs)("div",{ref:t,"data-sidebar":"menu-skeleton",className:(0,h.cn)("rounded-xl h-8 flex gap-2 px-2 items-center",s),...o,children:[n&&(0,a.jsx)(g.E,{className:"rounded-xl size-4","data-sidebar":"menu-skeleton-icon"}),(0,a.jsx)(g.E,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})}).displayName="SidebarMenuSkeleton",r.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("ul",{ref:t,"data-sidebar":"menu-sub",className:(0,h.cn)("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",s),...n})}).displayName="SidebarMenuSub",r.forwardRef((e,t)=>{let{...s}=e;return(0,a.jsx)("li",{ref:t,...s})}).displayName="SidebarMenuSubItem",r.forwardRef((e,t)=>{let{asChild:s=!1,size:r="md",isActive:o,className:i,...c}=e,l=s?n.DX:"a";return(0,a.jsx)(l,{ref:t,"data-sidebar":"menu-sub-button","data-size":r,"data-active":o,className:(0,h.cn)("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-xl px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-1 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate  [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground","sm"===r&&"text-xs","md"===r&&"text-sm","group-data-[collapsible=icon]:hidden",i),...c})}).displayName="SidebarMenuSubButton";let H=r.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,"data-sidebar":"icon",className:(0,h.cn)("size-6","flex items-center justify-center shrink-0",s),...n})});function W(e){let{children:t,onClickIndent:s}=e;return(0,a.jsxs)("div",{className:(0,h.cn)("flex flex-row gap-px",S),children:[(0,a.jsx)("div",{className:"cursor-pointer ms-[8px] me-[2px] py-1",onClick:s,children:(0,a.jsx)("div",{className:"border-l border-border-l1 h-full ms-[10px] me-[4px]"})}),(0,a.jsx)("div",{className:"flex flex-col gap-px w-full min-w-0",children:t})]})}H.displayName="SidebarIcon"},98046:(e,t,s)=>{"use strict";s.d(t,{a:()=>E});var a=s(79342),n=s(63278),r=s(11750),o=s(56691),i=s(25859),c=s(61312),l=s(52970),d=s(949),g=s(88382),m=s(65146);let p=g.createContext(null);function u(){let e=g.useContext(p);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}let h=g.forwardRef((e,t)=>{let{orientation:s="horizontal",opts:n,setApi:r,plugins:o,className:i,children:l,...m}=e,[u,h]=(0,d.A)({...n,axis:"horizontal"===s?"x":"y"},o),[f,k]=g.useState(!1),[b,x]=g.useState(!1),w=g.useCallback(e=>{e&&(k(e.canScrollPrev()),x(e.canScrollNext()))},[]),v=g.useCallback(()=>{null==h||h.scrollPrev()},[h]),y=g.useCallback(()=>{null==h||h.scrollNext()},[h]),j=g.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),v()):"ArrowRight"===e.key&&(e.preventDefault(),y())},[v,y]);return g.useEffect(()=>{h&&r&&r(h)},[h,r]),g.useEffect(()=>{if(h)return w(h),h.on("reInit",w),h.on("select",w),()=>{null==h||h.off("select",w)}},[h,w]),(0,a.jsx)(p.Provider,{value:{carouselRef:u,api:h,opts:n,orientation:s||((null==n?void 0:n.axis)==="y"?"vertical":"horizontal"),scrollPrev:v,scrollNext:y,canScrollPrev:f,canScrollNext:b},children:(0,a.jsx)("div",{ref:t,onKeyDownCapture:j,className:(0,c.cn)("relative",i),role:"region","aria-roledescription":"carousel",...m,children:l})})});h.displayName="Carousel";let f=g.forwardRef((e,t)=>{let{className:s,...n}=e,{carouselRef:r,orientation:o}=u();return(0,a.jsx)("div",{ref:r,className:"overflow-hidden max-w-[100vw]",children:(0,a.jsx)("div",{ref:t,className:(0,c.cn)("flex max-w-100","horizontal"===o?"-ml-4":"-mt-4 flex-col",s),...n})})});f.displayName="CarouselContent";let k=g.forwardRef((e,t)=>{let{className:s,...n}=e,{orientation:r}=u();return(0,a.jsx)("div",{ref:t,role:"group","aria-roledescription":"slide",className:(0,c.cn)("min-w-0 shrink-0 grow-0 basis-full","horizontal"===r?"pl-4":"pt-4",s),...n})});k.displayName="CarouselItem",g.forwardRef((e,t)=>{let{className:s,variant:n="outline",size:r="icon",...i}=e,{orientation:d,scrollPrev:g,canScrollPrev:p}=u(),{t:h}=(0,m.Bd)("base");return(0,a.jsxs)(o.$n,{ref:t,variant:n,size:r,className:(0,c.cn)("absolute  h-8 w-8 rounded-full","horizontal"===d?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",s),disabled:!p,onClick:g,...i,children:[(0,a.jsx)(l.A60,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:h("Previous slide","Previous slide")})]})}).displayName="CarouselPrevious",g.forwardRef((e,t)=>{let{className:s,variant:n="outline",size:r="icon",...i}=e,{orientation:d,scrollNext:g,canScrollNext:p}=u(),{t:h}=(0,m.Bd)("base");return(0,a.jsxs)(o.$n,{ref:t,variant:n,size:r,className:(0,c.cn)("absolute h-8 w-8 rounded-full","horizontal"===d?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",s),disabled:!p,onClick:g,...i,children:[(0,a.jsx)(l.flY,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:h("Next slide","Next slide")})]})}).displayName="CarouselNext";var b=s(13103),x=s(43086),w=s(23232),v=s(41320),y=s(4295),j=s(12220),N=s(17703),C=s(77232),S=s(57896),I=s(28951);let T=e=>{var t;return e.url?e.url:(null==(t=e.intermediateResults)?void 0:t.length)?e.intermediateResults.reduce((e,t)=>t.progress>e.progress?t:e).imageUrl:void 0};function E(e){let{images:t,onImageClick:s,ariaLabel:n,statsigLocation:i,aspectRatio:l,disableImageClick:d=!1,canDownload:p=!0,align:u="CENTER",size:x="SMALL",caption:y}=e,{t:C}=(0,m.Bd)("chat"),S=(0,w._)(),I=(0,v.Di)(),[E,O]=(0,g.useState)(null),[P,M]=(0,g.useState)(!1),[L,D]=(0,g.useState)([]),B=(0,g.useRef)(void 0),z=(0,g.useMemo)(()=>"LARGE"===x&&I&&"CENTER"!==u?"CENTER":u,[x,I,u]),F=(0,g.useMemo)(()=>t.map(e=>({...e,progress:e.intermediateResults?Math.max(...e.intermediateResults.map(e=>e.progress)):+!!e.url})),[t]),U=(0,g.useCallback)(e=>{let a=t[e];a&&(S("image_clicked",void 0,{location:i,imageIndex:e.toString()}),(!s||s(a,e))&&(O(e),M(!0)))},[t,s,i,S]),V=(0,g.useCallback)(e=>{let t=T(e);!t||L.includes(e.imageKey)||(S("save_image",void 0,{location:i}),D(t=>[...t,e.imageKey]),(0,j.G)(t,"".concat(e.imageKey.split("/").pop()||"image",".jpg")).catch((0,N.HX)("image-viewer:handleDownload")).finally(()=>{D(t=>t.filter(t=>t!==e.imageKey))}))},[L,i,S]),H=(0,g.useCallback)(e=>{e.link&&(window.open(e.link,"_blank"),S("view_source",e.link,{location:i}))},[i,S]),W=(0,g.useCallback)(()=>{var e;if(null===E)return;let s=(E-1+t.length)%t.length;null==(e=B.current)||e.scrollTo(s),O(s)},[E,t.length]),G=(0,g.useCallback)(()=>{var e;if(null===E)return;let s=(E+1)%t.length;null==(e=B.current)||e.scrollTo(s),O(s)},[E,t.length]);(0,g.useEffect)(()=>{if(!P)return;let e=e=>{switch(e.key){case"ArrowLeft":W();break;case"ArrowRight":G();break;case"Escape":M(!1)}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[P,W,G]),(0,g.useEffect)(()=>{if(P&&null!==E){var e;null==(e=B.current)||e.scrollTo(E,!1)}},[P,E]);let K=(0,g.useMemo)(()=>{if(null!==E)return t[E]},[E,t]);return(0,a.jsxs)("div",{"aria-label":n,className:(0,c.cn)("flex flex-col gap-2 items-center clear-both",t.length<=1&&"CENTER"===z&&"justify-center","CENTER"!==z&&"mt-2 mb-2","LEFT"===z&&"float-left me-4 @sm/chat:me-8 ","RIGHT"===z&&"float-right ms-4 @sm/chat:ms-8 ","CENTER"!==z&&"SMALL"===x&&"max-w-32 @sm/chat:max-w-72","CENTER"!==z&&"SMALL"!==x&&"max-w-48 @sm/chat:max-w-96"),"data-testid":"image-viewer",children:[t.length>0&&(0,a.jsx)("div",{className:(0,c.cn)("grid max-w-2xl not-prose mt-2 w-full",t.length>1&&"grid-cols-2 gap-2 sm:gap-4",t.length>2&&"md:grid-cols-4"),children:F.slice(0,"CENTER"===z?4:1).map((e,s)=>(0,a.jsx)(R,{image:e,index:s,handleImageClick:U,disableImageClick:d,aspectRatio:l,canDownload:p,isDownloading:L.includes(e.imageKey),handleDownload:V,numImages:t.length,isCappedHeight:"CENTER"===z&&"SMALL"===x},e.imageKey))}),t[0]&&t[0].link&&1===t.length&&(y||t[0].title)&&(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"text-xs text-fg-tertiary text-center lg:pt-1 lg:pb-2",children:y||t[0].title})}),(0,a.jsx)(b.lG,{open:null!==E,onOpenChange:()=>O(null),children:(0,a.jsxs)(b.Cf,{className:"bg-transparent h-full w-full flex items-center justify-center",children:[(0,a.jsx)("div",{className:"flex flex-col items-center justify-center w-full h-full",onClick:()=>O(null),children:t.length>1?(0,a.jsx)(h,{setApi:e=>{B.current=e,null==e||e.on("select",e=>O(e.selectedScrollSnap())),null!==E&&(null==e||e.scrollTo(E,!0))},opts:{duration:20,loop:!0},children:(0,a.jsx)(f,{children:t.map(e=>(0,a.jsx)(k,{className:"flex items-center justify-center",children:(0,a.jsx)(_,{image:e})},e.imageKey))})}):K&&(0,a.jsx)(_,{image:K})}),null!==E&&(0,a.jsx)("div",{className:"absolute flex justify-center bottom-3 inset-x-3",children:(0,a.jsxs)("div",{className:"bg-popover p-1.5 rounded-xl flex flex-row gap-1.5 items-center shadow-xl",children:[K&&T(K)&&!K.isModerated&&(0,a.jsxs)(a.Fragment,{children:[p&&(0,a.jsxs)(o.$n,{variant:"ghost",size:"sm",onClick:e=>{e.stopPropagation(),V(K)},children:[(0,a.jsx)(r.s3U,{size:16})," ",C("download image","Save")]}),(0,a.jsx)(A,{image:K,statsigLocation:i})]}),K&&K.link&&(0,a.jsxs)(o.$n,{variant:"ghost",size:"sm",onClick:e=>{e.stopPropagation(),H(K)},children:[(0,a.jsx)(r.GrD,{size:16})," ",C("image-viewer.view-source","View Source")]})]})}),(0,a.jsx)(o.$n,{variant:"ghost",size:"iconXl",className:"absolute top-3 right-3",onClick:()=>O(null),children:(0,a.jsx)(r.uv5,{className:"size-5"})})]})})]})}let R=e=>{let{image:t,handleImageClick:s,disableImageClick:n,aspectRatio:i,canDownload:l,isDownloading:d,handleDownload:p,index:u,numImages:h,isCappedHeight:f}=e,{t:k}=(0,m.Bd)("chat"),b=(0,y.c)(),w=!t.isModerated&&!n&&t.progress>=1,[v,j]=(0,g.useState)(!1);return v?(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"w-full h-32 md:h-48 bg-surface-l1 rounded-lg flex flex-col items-center justify-center",children:[(0,a.jsx)("p",{className:"text-fg-secondary px-4 text-center",children:k("image-viewer.error","Failed to load image")}),t.url&&(0,a.jsx)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-fg-secondary/50",children:k("image-viewer.view-link","View link")})]})}):(0,a.jsxs)("div",{className:(0,c.cn)("relative group/image",w&&"cursor-pointer",f&&"max-h-72 mx-auto"),onClick:()=>{w&&s(u)},children:[t.intermediateResults?(0,a.jsx)(I.L,{isModerated:t.isModerated,status:t.progress<1&&!t.isModerated?"streaming":"finished",intermediateResults:t.intermediateResults,aspectRatio:i}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(O,{src:T(t)||t.thumbnail,fallback:t.thumbnail,alt:t.title||k("image-viewer.image","Image"),className:(0,c.cn)("object-cover rounded-lg",f?"max-h-72":"w-full"),onError:()=>{j(!0)}}),t.link&&!b&&(0,a.jsx)("div",{className:"absolute bottom-1 right-1 opacity-0 group-hover/image:opacity-100",children:(0,a.jsxs)("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"bg-black/50 text-white/80 text-[12px] px-2 py-1 rounded-3xl hover:bg-black/70",onClick:e=>{e.stopPropagation()},children:[(0,a.jsx)("span",{children:(0,S.TG)(t.link)}),3===u&&h>4&&(0,a.jsxs)("span",{children:["+ ",h-4]})]})})]}),T(t)&&!t.isModerated&&t.progress>=1&&l&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.$n,{"aria-label":k("download image","Save"),size:"iconSm",rounded:!0,variant:"card",disabled:d,onClick:e=>{e.stopPropagation(),p(t)},className:(0,c.cn)("absolute right-2 top-2 transform bg-background transition-transform duration-200 ease-in-out hover:bg-background-secondary",!b&&!d&&"scale-75 opacity-0","group-hover/image:scale-100 group-hover/image:opacity-100"),children:d?(0,a.jsx)(x.y,{size:"xs"}):(0,a.jsx)(r.s3U,{className:"group-hover:text-primary transition-colors"})}),w&&(0,a.jsx)(P,{image:t,isMobileUa:b})]})]})},A=e=>{let{image:t,statsigLocation:s}=e,{t:n}=(0,m.Bd)("chat"),i=(0,w._)(),c=(0,g.useCallback)((e,t)=>{let a=T(e);a&&((0,C.g)(a,t?n("image-viewer.copied-image","Copied image to clipboard!"):n("image-viewer.copied-link","Copied image link to clipboard!")),i("copy_image",t?"base64":"link",{location:s}))},[n,s,i]),l=T(t);if(!l)return null;let d=l.startsWith("data:");return(0,a.jsx)(o.$n,{variant:"ghost",size:"sm",onClick:e=>{e.stopPropagation(),c(t,d)},children:d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.TdU,{size:16})," ",n("image-viewer.copy-image","Copy")]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.qYV,{size:16})," ",n("copy url for image","Copy link")]})})},_=e=>{let{image:t}=e,{t:s}=(0,m.Bd)("chat");return(0,a.jsx)("div",{className:"flex items-center justify-center",children:t.isModerated?(0,a.jsxs)("div",{className:"flex flex-col gap-4 justify-center items-center h-[768px]",children:[(0,a.jsx)(r.aRK,{size:60,className:"opacity-20"}),s("image-viewer.image-not-available","Image not available")]}):(0,a.jsx)(O,{src:T(t)||t.thumbnail,fallback:t.thumbnail,alt:t.title||s("image-viewer.image","Image"),className:"rounded-xl max-w-[90vw] max-h-[80vh] object-contain"})})};function O(e){let{src:t,fallback:s,onError:n,...r}=e,[o,i]=(0,g.useState)(!1),c=(0,g.useCallback)(()=>{i(!0),null==n||n()},[n]);return(0,a.jsx)("img",{src:o?s:t,onError:c,...r})}function P(e){let{image:t,isMobileUa:s}=e,{t:o}=(0,m.Bd)("chat"),l=(0,n.S)(),d=(0,g.useCallback)(e=>{e.stopPropagation(),l(t.url||"").catch(e=>{(0,N.vV)("image-viewer:handleMakeVideo",e)})},[l,t.url]);return(0,a.jsx)(i.bJ,{"aria-label":o("button.make-video","Make video"),tooltipContent:o("button.make-video","Make video"),size:"sm",shape:"circle",variant:"secondary",onClick:d,className:(0,c.cn)("absolute right-2 bottom-2 transform bg-background transition-transform duration-200 ease-in-out hover:bg-background-secondary",!s&&"scale-75 opacity-0","group-hover/image:scale-100 group-hover/image:opacity-100"),children:(0,a.jsx)(r.jGG,{fill:"currentColor",strokeWidth:0,className:"group-hover:text-primary transition-colors size-4"})})}},98579:(e,t,s)=>{"use strict";s.d(t,{o:()=>r});var a=s(88382),n=s(75500);function r(){let{USE_SHORT_SHARE_LINKS:e=!1}=(0,n.h)(),t=e?"/s/":"/share/";return(0,a.useCallback)(e=>t+e,[t])}},99667:(e,t,s)=>{"use strict";s.d(t,{q:()=>p});var a=s(79342),n=s(25859),r=s(5663),o=s(75500),i=s(33231),c=s(61312),l=s(11750),d=s(88382),g=s(65146),m=s(63174);function p(e){let{value:t,onChange:s,isDirty:p,placeholder:u,onSave:h,onReset:f,disabled:k,textareaId:b,minRows:x=4,maxRows:w=8,autoFocus:v,formAddition:y}=e,j=(0,d.useRef)(null),{t:N}=(0,g.Bd)("settings"),C=(0,d.useCallback)(e=>{s(e.target.value)},[s]),S=(0,d.useRef)(t);S.current=t;let I=(0,d.useCallback)(()=>{h(S.current)},[h]);(0,i.v)(r.Bq,()=>{I()},[I]);let T=(0,d.useCallback)(()=>{f()},[f]);(0,d.useEffect)(()=>{j.current&&!k&&v&&j.current.focus()},[v,k]);let E=(0,o.h)(),R=(0,d.useMemo)(()=>Number(E.MAX_CUSTOM_INSTRUCTIONS_LENGTH.value.maxLength),[E]),A=(0,d.useMemo)(()=>t.length>R,[t,R]),_=(0,d.useMemo)(()=>{let e=Number(E.MAX_CUSTOM_INSTRUCTIONS_LENGTH.value.maxLength);return!!e&&t.length>Math.floor(.8*e)},[t,E]);return(0,a.jsxs)("div",{className:"relative flex flex-col gap-3",children:[(0,a.jsx)("div",{className:(0,c.cn)("w-full transition ease-in-out rounded-xl","border border-border-l2",k&&"opacity-50"),children:(0,a.jsx)(m.A,{ref:j,className:(0,c.cn)("w-full p-3 text-sm align-bottom bg-transparent focus:outline-none text-primary rounded-xl"),value:t,onChange:C,placeholder:u,style:{resize:"none"},minRows:x,maxRows:w,disabled:k,id:b})}),y,(0,a.jsxs)("div",{className:"flex flex-row justify-between gap-2 px-0 min-h-10",children:[(0,a.jsxs)("div",{className:(0,c.cn)("flex flex-row items-center gap-1 text-xs px-3 w-full",A?"text-fg-danger":_?"text-secondary opacity-100":"opacity-0"),children:[(0,a.jsxs)("span",{children:[t.length," / ",R]}),A&&(0,a.jsx)("span",{className:"flex flex-row items-center gap-1",children:(0,a.jsx)(l.lW3,{className:"size-4 shrink-0"})})]}),(0,a.jsxs)("div",{className:(0,c.cn)("flex flex-row justify-end gap-2",k&&"hidden"),children:[(0,a.jsx)(n.$n,{variant:"secondary",size:"md",shape:"rectangle",disabled:!p,onClick:T,children:N("Discard","Discard")}),(0,a.jsx)(n.$n,{variant:"primary",size:"md",shape:"rectangle",disabled:!p,onClick:I,children:N("Save","Save")})]})]})]})}}}]);